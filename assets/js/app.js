/*
 AngularJS v1.6.4
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(x){'use strict';function L(a,b){b=b||Error;return function(){var d=arguments[0],c;c="["+(a?a+":":"")+d+"] http://errors.angularjs.org/1.6.4/"+(a?a+"/":"")+d;for(d=1;d<arguments.length;d++){c=c+(1==d?"?":"&")+"p"+(d-1)+"=";var e=encodeURIComponent,f;f=arguments[d];f="function"==typeof f?f.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof f?"undefined":"string"!=typeof f?JSON.stringify(f):f;c+=e(f)}return new b(c)}}function me(a){if(C(a))u(a.objectMaxDepth)&&(Ic.objectMaxDepth=Sb(a.objectMaxDepth)?
a.objectMaxDepth:NaN);else return Ic}function Sb(a){return ba(a)&&0<a}function qa(a){if(null==a||Wa(a))return!1;if(H(a)||F(a)||B&&a instanceof B)return!0;var b="length"in Object(a)&&a.length;return ba(b)&&(0<=b&&(b-1 in a||a instanceof Array)||"function"===typeof a.item)}function q(a,b,d){var c,e;if(a)if(D(a))for(c in a)"prototype"!==c&&"length"!==c&&"name"!==c&&a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else if(H(a)||qa(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,
a[c],c,a)}else if(a.forEach&&a.forEach!==q)a.forEach(b,d,a);else if(Jc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)ua.call(a,c)&&b.call(d,a[c],c,a);return a}function Kc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Lc(a){return function(b,d){a(d,b)}}function ne(){return++qb}function Tb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];
if(C(g)||D(g))for(var h=Object.keys(g),k=0,l=h.length;k<l;k++){var m=h[k],n=g[m];d&&C(n)?ga(n)?a[m]=new Date(n.valueOf()):Xa(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):Ub(n)?a[m]=n.clone():(C(a[m])||(a[m]=H(n)?[]:{}),Tb(a[m],[n],!0)):a[m]=n}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function S(a){return Tb(a,va.call(arguments,1),!1)}function oe(a){return Tb(a,va.call(arguments,1),!0)}function Z(a){return parseInt(a,10)}function Vb(a,b){return S(Object.create(a),b)}function z(){}function Ya(a){return a}
function la(a){return function(){return a}}function Wb(a){return D(a.toString)&&a.toString!==ma}function w(a){return"undefined"===typeof a}function u(a){return"undefined"!==typeof a}function C(a){return null!==a&&"object"===typeof a}function Jc(a){return null!==a&&"object"===typeof a&&!Mc(a)}function F(a){return"string"===typeof a}function ba(a){return"number"===typeof a}function ga(a){return"[object Date]"===ma.call(a)}function D(a){return"function"===typeof a}function Xa(a){return"[object RegExp]"===
ma.call(a)}function Wa(a){return a&&a.window===a}function Za(a){return a&&a.$evalAsync&&a.$watch}function Ha(a){return"boolean"===typeof a}function pe(a){return a&&ba(a.length)&&qe.test(ma.call(a))}function Ub(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function re(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function wa(a){return Q(a.nodeName||a[0]&&a[0].nodeName)}function $a(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function ra(a,b,d){function c(a,
b,c){c--;if(0>c)return"...";var d=b.$$hashKey,f;if(H(a)){f=0;for(var g=a.length;f<g;f++)b.push(e(a[f],c))}else if(Jc(a))for(f in a)b[f]=e(a[f],c);else if(a&&"function"===typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&(b[f]=e(a[f],c));else for(f in a)ua.call(a,f)&&(b[f]=e(a[f],c));d?b.$$hashKey=d:delete b.$$hashKey;return b}function e(a,b){if(!C(a))return a;var d=g.indexOf(a);if(-1!==d)return h[d];if(Wa(a)||Za(a))throw Fa("cpws");var d=!1,e=f(a);void 0===e&&(e=H(a)?[]:Object.create(Mc(a)),
d=!0);g.push(a);h.push(e);return d?c(a,e,b):e}function f(a){switch(ma.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(e(a.buffer),a.byteOffset,a.length);case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));
return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(D(a.cloneNode))return a.cloneNode(!0)}var g=[],h=[];d=Sb(d)?d:NaN;if(b){if(pe(b)||"[object ArrayBuffer]"===ma.call(b))throw Fa("cpta");if(a===b)throw Fa("cpi");H(b)?b.length=
0:q(b,function(a,c){"$$hashKey"!==c&&delete b[c]});g.push(a);h.push(b);return c(a,b,d)}return e(a,d)}function Xb(a,b){return a===b||a!==a&&b!==b}function sa(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&"object"===d)if(H(a)){if(!H(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!sa(a[c],b[c]))return!1;return!0}}else{if(ga(a))return ga(b)?Xb(a.getTime(),b.getTime()):!1;if(Xa(a))return Xa(b)?a.toString()===b.toString():!1;
if(Za(a)||Za(b)||Wa(a)||Wa(b)||H(b)||ga(b)||Xa(b))return!1;d=V();for(c in a)if("$"!==c.charAt(0)&&!D(a[c])){if(!sa(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&u(b[c])&&!D(b[c]))return!1;return!0}return!1}function ab(a,b,d){return a.concat(va.call(b,d))}function bb(a,b){var d=2<arguments.length?va.call(arguments,2):[];return!D(b)||b instanceof RegExp?b:d.length?function(){return arguments.length?b.apply(a,ab(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?
b.apply(a,arguments):b.call(a)}}function Nc(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:Wa(b)?d="$WINDOW":b&&x.document===b?d="$DOCUMENT":Za(b)&&(d="$SCOPE");return d}function cb(a,b){if(!w(a))return ba(b)||(b=b?2:null),JSON.stringify(a,Nc,b)}function Oc(a){return F(a)?JSON.parse(a):a}function Pc(a,b){a=a.replace(se,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+a)/6E4;return da(d)?b:d}function Yb(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=Pc(b,c);d*=b-c;a=new Date(a.getTime());
a.setMinutes(a.getMinutes()+d);return a}function xa(a){a=B(a).clone();try{a.empty()}catch(b){}var d=B("<div>").append(a).html();try{return a[0].nodeType===Ia?Q(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+Q(b)})}catch(c){return Q(d)}}function Qc(a){try{return decodeURIComponent(a)}catch(b){}}function Rc(a){var b={};q((a||"").split("&"),function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=Qc(e),u(e)&&(f=
u(f)?Qc(f):!0,ua.call(b,e)?H(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function Zb(a){var b=[];q(a,function(a,c){H(a)?q(a,function(a){b.push($(c,!0)+(!0===a?"":"="+$(a,!0)))}):b.push($(c,!0)+(!0===a?"":"="+$(a,!0)))});return b.length?b.join("&"):""}function db(a){return $(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function $(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,
b?"%20":"+")}function te(a,b){var d,c,e=Ja.length;for(c=0;c<e;++c)if(d=Ja[c]+b,F(d=a.getAttribute(d)))return d;return null}function ue(a,b){var d,c,e={};q(Ja,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});q(Ja,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))});d&&(ve?(e.strictDi=null!==te(d,"strict-di"),b(d,c?[c]:[],e)):x.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}
function Sc(a,b,d){C(d)||(d={});d=S({strictDi:!1},d);var c=function(){a=B(a);if(a.injector()){var c=a[0]===x.document?"document":xa(a);throw Fa("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=eb(b,d.strictDi);c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",
d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;x&&e.test(x.name)&&(d.debugInfoEnabled=!0,x.name=x.name.replace(e,""));if(x&&!f.test(x.name))return c();x.name=x.name.replace(f,"");ea.resumeBootstrap=function(a){q(a,function(a){b.push(a)});return c()};D(ea.resumeDeferredBootstrap)&&ea.resumeDeferredBootstrap()}function we(){x.name="NG_ENABLE_DEBUG_INFO!"+x.name;x.location.reload()}function xe(a){a=ea.element(a).injector();if(!a)throw Fa("test");return a.get("$$testability")}
function Tc(a,b){b=b||"_";return a.replace(ye,function(a,c){return(c?b:"")+a.toLowerCase()})}function ze(){var a;if(!Uc){var b=rb();(na=w(b)?x.jQuery:b?x[b]:void 0)&&na.fn.on?(B=na,S(na.fn,{scope:Na.scope,isolateScope:Na.isolateScope,controller:Na.controller,injector:Na.injector,inheritedData:Na.inheritedData}),a=na.cleanData,na.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=na._data(f,"events"))&&c.$destroy&&na(f).triggerHandler("$destroy");a(b)}):B=W;ea.element=B;Uc=!0}}function fb(a,
b,d){if(!a)throw Fa("areq",b||"?",d||"required");return a}function sb(a,b,d){d&&H(a)&&(a=a[a.length-1]);fb(D(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Ka(a,b){if("hasOwnProperty"===a)throw Fa("badname",b);}function Vc(a,b,d){if(!b)return a;b=b.split(".");for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&D(a)?bb(e,a):a}function tb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==
b)c||(c=B(va.call(a,0,e))),c.push(b);return c||a}function V(){return Object.create(null)}function $b(a){if(null==a)return"";switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=!Wb(a)||H(a)||ga(a)?cb(a):a.toString()}return a}function Ae(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=L("$injector"),c=L("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||L;return b(a,"module",function(){var a={};return function(f,g,h){var k={};if("hasOwnProperty"===f)throw c("badname","module");
g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,c,d,f){f||(f=e);return function(){f[d||"push"]([b,c,arguments]);return v}}function b(a,c,d){d||(d=e);return function(b,e){e&&D(e)&&(e.$$moduleName=f);d.push([a,c,arguments]);return v}}if(!g)throw d("nomod",f);var e=[],p=[],r=[],J=a("$injector","invoke","push",p),v={_invokeQueue:e,_configBlocks:p,_runBlocks:r,info:function(a){if(u(a)){if(!C(a))throw c("aobj","value");k=a;return this}return k},requires:g,name:f,provider:b("$provide",
"provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",p),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:J,run:function(a){r.push(a);return this}};h&&J(h);return v})}})}function pa(a,b){if(H(a)){b=
b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(C(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function Be(a,b){var d=[];Sb(b)&&(a=ra(a,null,b));return JSON.stringify(a,function(a,b){b=Nc(a,b);if(C(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}function Ce(a){S(a,{errorHandlingConfig:me,bootstrap:Sc,copy:ra,extend:S,merge:oe,equals:sa,element:B,forEach:q,injector:eb,noop:z,bind:bb,toJson:cb,fromJson:Oc,identity:Ya,isUndefined:w,isDefined:u,isString:F,
isFunction:D,isObject:C,isNumber:ba,isElement:Ub,isArray:H,version:De,isDate:ga,lowercase:Q,uppercase:ub,callbacks:{$$counter:0},getTestability:xe,reloadWithDebugInfo:we,$$minErr:L,$$csp:Ga,$$encodeUriSegment:db,$$encodeUriQuery:$,$$stringify:$b});ac=Ae(x);ac("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Ee});a.provider("$compile",Wc).directive({a:Fe,input:Xc,textarea:Xc,form:Ge,script:He,select:Ie,option:Je,ngBind:Ke,ngBindHtml:Le,ngBindTemplate:Me,ngClass:Ne,ngClassEven:Oe,
ngClassOdd:Pe,ngCloak:Qe,ngController:Re,ngForm:Se,ngHide:Te,ngIf:Ue,ngInclude:Ve,ngInit:We,ngNonBindable:Xe,ngPluralize:Ye,ngRepeat:Ze,ngShow:$e,ngStyle:af,ngSwitch:bf,ngSwitchWhen:cf,ngSwitchDefault:df,ngOptions:ef,ngTransclude:ff,ngModel:gf,ngList:hf,ngChange:jf,pattern:Yc,ngPattern:Yc,required:Zc,ngRequired:Zc,minlength:$c,ngMinlength:$c,maxlength:ad,ngMaxlength:ad,ngValue:kf,ngModelOptions:lf}).directive({ngInclude:mf}).directive(vb).directive(bd);a.provider({$anchorScroll:nf,$animate:of,$animateCss:pf,
$$animateJs:qf,$$animateQueue:rf,$$AnimateRunner:sf,$$animateAsyncRun:tf,$browser:uf,$cacheFactory:vf,$controller:wf,$document:xf,$$isDocumentHidden:yf,$exceptionHandler:zf,$filter:cd,$$forceReflow:Af,$interpolate:Bf,$interval:Cf,$http:Df,$httpParamSerializer:Ef,$httpParamSerializerJQLike:Ff,$httpBackend:Gf,$xhrFactory:Hf,$jsonpCallbacks:If,$location:Jf,$log:Kf,$parse:Lf,$rootScope:Mf,$q:Nf,$$q:Of,$sce:Pf,$sceDelegate:Qf,$sniffer:Rf,$templateCache:Sf,$templateRequest:Tf,$$testability:Uf,$timeout:Vf,
$window:Wf,$$rAF:Xf,$$jqLite:Yf,$$Map:Zf,$$cookieReader:$f})}]).info({angularVersion:"1.6.4"})}function gb(a,b){return b.toUpperCase()}function wb(a){return a.replace(ag,gb)}function bc(a){a=a.nodeType;return 1===a||!a||9===a}function dd(a,b){var d,c,e=b.createDocumentFragment(),f=[];if(cc.test(a)){d=e.appendChild(b.createElement("div"));c=(bg.exec(a)||["",""])[1].toLowerCase();c=ha[c]||ha._default;d.innerHTML=c[1]+a.replace(cg,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=ab(f,d.childNodes);
d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";q(f,function(a){e.appendChild(a)});return e}function W(a){if(a instanceof W)return a;var b;F(a)&&(a=T(a),b=!0);if(!(this instanceof W)){if(b&&"<"!==a.charAt(0))throw dc("nosel");return new W(a)}if(b){b=x.document;var d;a=(d=dg.exec(a))?[b.createElement(d[1])]:(d=dd(a,b))?d.childNodes:[];ec(this,a)}else D(a)?ed(a):ec(this,a)}function fc(a){return a.cloneNode(!0)}function xb(a,b){!b&&bc(a)&&B.cleanData([a]);
a.querySelectorAll&&B.cleanData(a.querySelectorAll("*"))}function fd(a,b,d,c){if(u(c))throw dc("offargs");var e=(c=yb(a))&&c.events,f=c&&c.handle;if(f)if(b){var g=function(b){var c=e[b];u(d)&&$a(c||[],d);u(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};q(b.split(" "),function(a){g(a);zb[a]&&g(zb[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b]}function gc(a,b){var d=a.ng339,c=d&&hb[d];c&&(b?delete c.data[b]:(c.handle&&(c.events.$destroy&&c.handle({},"$destroy"),
fd(a)),delete hb[d],a.ng339=void 0))}function yb(a,b){var d=a.ng339,d=d&&hb[d];b&&!d&&(a.ng339=d=++eg,d=hb[d]={events:{},data:{},handle:void 0});return d}function hc(a,b,d){if(bc(a)){var c,e=u(d),f=!e&&b&&!C(b),g=!b;a=(a=yb(a,!f))&&a.data;if(e)a[wb(b)]=d;else{if(g)return a;if(f)return a&&a[wb(b)];for(c in b)a[wb(c)]=b[c]}}}function Ab(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Bb(a,b){b&&a.setAttribute&&q(b.split(" "),
function(b){a.setAttribute("class",T((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+T(b)+" "," ")))})}function Cb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");q(b.split(" "),function(a){a=T(a);-1===d.indexOf(" "+a+" ")&&(d+=a+" ")});a.setAttribute("class",T(d))}}function ec(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=
b}}function gd(a,b){return Db(a,"$"+(b||"ngController")+"Controller")}function Db(a,b,d){9===a.nodeType&&(a=a.documentElement);for(b=H(b)?b:[b];a;){for(var c=0,e=b.length;c<e;c++)if(u(d=B.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function hd(a){for(xb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Eb(a,b){b||xb(a);var d=a.parentNode;d&&d.removeChild(a)}function fg(a,b){b=b||x;if("complete"===b.document.readyState)b.setTimeout(a);else B(b).on("load",a)}function ed(a){function b(){x.document.removeEventListener("DOMContentLoaded",
b);x.removeEventListener("load",b);a()}"complete"===x.document.readyState?x.setTimeout(a):(x.document.addEventListener("DOMContentLoaded",b),x.addEventListener("load",b))}function id(a,b){var d=Fb[b.toLowerCase()];return d&&jd[wa(a)]&&d}function gg(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(w(c.immediatePropagationStopped)){var h=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=
!0;c.stopPropagation&&c.stopPropagation();h&&h.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};var k=f.specialHandlerWrapper||hg;1<g&&(f=pa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||k(a,c,f[l])}};d.elem=a;return d}function hg(a,b,d){d.call(a,b)}function ig(a,b,d){var c=b.relatedTarget;c&&(c===a||jg.call(a,c))||d.call(a,b)}function Yf(){this.$get=function(){return S(W,{hasClass:function(a,b){a.attr&&(a=a[0]);return Ab(a,b)},addClass:function(a,
b){a.attr&&(a=a[0]);return Cb(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)}})}}function Pa(a,b){var d=a&&a.$$hashKey;if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||ne)():d+":"+a}function kd(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}function ld(a){a=Function.prototype.toString.call(a).replace(kg,"");return a.match(lg)||a.match(mg)}function ng(a){return(a=ld(a))?"function("+
(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function eb(a,b){function d(a){return function(b,c){if(C(b))q(b,Lc(a));else return a(b,c)}}function c(a,b){Ka(a,"service");if(D(b)||H(b))b=p.instantiate(b);if(!b.$get)throw ya("pget",a);return n[a+"Provider"]=b}function e(a,b){return function(){var c=v.invoke(b,this);if(w(c))throw ya("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){fb(w(a)||H(a),"modulesToLoad","not an array");var b=[],c;q(a,function(a){function d(a){var b,
c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=p.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.set(a,!0);try{F(a)?(c=ac(a),v.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):D(a)?b.push(p.invoke(a)):H(a)?b.push(p.invoke(a)):sb(a,"module")}catch(e){throw H(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),ya("modulerr",a,e.stack||e.message||e);}}});return b}function h(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===
k)throw ya("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=k,a[b]=c(b,e),a[b]}catch(f){throw a[b]===k&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=eb.$$annotate(a,b,f);for(var k=0,h=a.length;k<h;k++){var l=a[k];if("string"!==typeof l)throw ya("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);H(a)&&(a=a[a.length-1]);d=a;if(za||"function"!==typeof d)d=!1;else{var f=d.$$ngIsClass;
Ha(f)||(f=d.$$ngIsClass=/^(?:class\b|constructor\()/.test(Function.prototype.toString.call(d)));d=f}return d?(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=H(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:eb.$$annotate,has:function(b){return n.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var k={},l=[],m=new Gb,n={$provide:{provider:d(c),factory:d(f),service:d(function(a,
b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,la(b),!1)}),constant:d(function(a,b){Ka(a,"constant");n[a]=b;r[a]=b}),decorator:function(a,b){var c=p.get(a+"Provider"),d=c.$get;c.$get=function(){var a=v.invoke(d,c);return v.invoke(b,null,{$delegate:a})}}}},p=n.$injector=h(n,function(a,b){ea.isString(b)&&l.push(b);throw ya("unpr",l.join(" <- "));}),r={},J=h(r,function(a,b){var c=p.get(a+"Provider",b);return v.invoke(c.$get,c,void 0,a)}),v=J;n.$injectorProvider=
{$get:la(J)};v.modules=p.modules=V();var t=g(a),v=J.get("$injector");v.strictDi=b;q(t,function(a){a&&v.invoke(a)});return v}function nf(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===wa(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;D(c)?c=c():Ub(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):
ba(c)||(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=F(a)?a:ba(a)?a.toString():d.hash();var b;a?(b=h.getElementById(a))?f(b):(b=e(h.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var h=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||fg(function(){c.$evalAsync(g)})});return g}]}function ib(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;H(a)&&(a=a.join(" "));H(b)&&(b=b.join(" "));return a+" "+b}function og(a){F(a)&&
(a=a.split(" "));var b=V();q(a,function(a){a.length&&(b[a]=!0)});return b}function ia(a){return C(a)?a:{}}function pg(a,b,d,c){function e(a){try{a.apply(null,va.call(arguments,1))}finally{if(J--,0===J)for(;v.length;)try{v.pop()()}catch(b){d.error(b)}}}function f(){Oa=null;h()}function g(){t=I();t=w(t)?null:t;sa(t,G)&&(t=G);M=G=t}function h(){var a=M;g();if(N!==k.url()||a!==t)N=k.url(),M=t,q(K,function(a){a(k.url(),t)})}var k=this,l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,r={};k.isMock=
!1;var J=0,v=[];k.$$completeOutstandingRequest=e;k.$$incOutstandingRequestCount=function(){J++};k.notifyWhenNoOutstandingRequests=function(a){0===J?a():v.push(a)};var t,M,N=l.href,A=b.find("base"),Oa=null,I=c.history?function(){try{return m.state}catch(a){}}:z;g();k.url=function(b,d,e){w(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=M===e;if(N===b&&(!c.history||f))return k;var h=N&&Aa(N)===Aa(b);N=b;M=e;!c.history||h&&f?(h||(Oa=b),d?l.replace(b):h?(d=l,e=b.indexOf("#"),
e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(Oa=b)):(m[d?"replaceState":"pushState"](e,"",b),g());Oa&&(Oa=b);return k}return Oa||l.href.replace(/%27/g,"'")};k.state=function(){return t};var K=[],E=!1,G=null;k.onUrlChange=function(b){if(!E){if(c.history)B(a).on("popstate",f);B(a).on("hashchange",f);E=!0}K.push(b);return b};k.$$applicationDestroyed=function(){B(a).off("hashchange popstate",f)};k.$$checkUrlChange=h;k.baseHref=function(){var a=A.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,
""):""};k.defer=function(a,b){var c;J++;c=n(function(){delete r[c];e(a)},b||0);r[c]=!0;return c};k.defer.cancel=function(a){return r[a]?(delete r[a],p(a),e(z),!0):!1}}function uf(){this.$get=["$window","$log","$sniffer","$document",function(a,b,d,c){return new pg(a,c,b,d)}]}function vf(){this.$get=function(){function a(a,c){function e(a){a!==n&&(p?p===a&&(p=a.n):p=a,f(a.n,a.p),f(a,n),n=a,n.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw L("$cacheFactory")("iid",a);var g=0,h=
S({},c,{id:a}),k=V(),l=c&&c.capacity||Number.MAX_VALUE,m=V(),n=null,p=null;return b[a]={put:function(a,b){if(!w(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in k||g++;k[a]=b;g>l&&this.remove(p.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return k[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===n&&(n=b.p);b===p&&(p=b.n);f(b.n,b.p);delete m[a]}a in k&&(delete k[a],g--)},removeAll:function(){k=V();g=0;m=V();n=p=null},destroy:function(){m=
h=k=null;delete b[a]},info:function(){return S({},h,{size:g})}}}var b={};a.info=function(){var a={};q(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Sf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Wc(a,b){function d(a,b,c){var d=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,e=V();q(a,function(a,f){if(a in n)e[f]=n[a];else{var g=a.match(d);if(!g)throw fa("iscp",b,f,a,c?"controller bindings definition":"isolate scope definition");
e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(n[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==Q(b))throw fa("baddir",a);if(a!==a.trim())throw fa("baddir",a);}function e(a){var b=a.require||a.controller&&a.name;!H(b)&&C(b)&&q(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,h=/(([\w-]+)(?::([^;]+))?;?)/,k=re("ngSrc,ngSrcset,src,srcset"),l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,
m=/^(on[a-z]+|formaction)$/,n=V();this.directive=function N(b,d){fb(b,"name");Ka(b,"directive");F(b)?(c(b),fb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];q(f[b],function(f,g){try{var h=a.invoke(f);D(h)?h={compile:la(h)}:!h.compile&&h.link&&(h.compile=la(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=e(h);var k=h,l=h.restrict;if(l&&(!F(l)||!/[EACM]/.test(l)))throw fa("badrestrict",l,b);k.restrict=
l||"EA";h.$$moduleName=f.$$moduleName;d.push(h)}catch(m){c(m)}});return d}])),f[b].push(d)):q(b,Lc(N));return this};this.component=function(a,b){function c(a){function e(b){return D(b)||H(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:qg(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require};
q(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)});return g}var d=b.controller||function(){};q(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,D(d)&&(d[b]=a))});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return u(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};var p=!0;this.debugInfoEnabled=function(a){return u(a)?
(p=a,this):p};var r=!1;this.preAssignBindingsEnabled=function(a){return u(a)?(r=a,this):r};var J=10;this.onChangesTtl=function(a){return arguments.length?(J=a,this):J};var v=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(v=a,this):v};var t=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(t=a,this):t};this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,
b,c,e,n,E,G,y,O,X){function P(){try{if(!--ya)throw ia=void 0,fa("infchng",J);G.$apply(function(){for(var a=[],b=0,c=ia.length;b<c;++b)try{ia[b]()}catch(d){a.push(d)}ia=void 0;if(a.length)throw a;})}finally{ya++}}function s(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function R(a,b,c){ta.innerHTML="<span "+b+">";b=ta.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function La(a,
b){try{a.addClass(b)}catch(c){}}function ca(a,b,c,d,e){a instanceof B||(a=B(a));var f=Ma(a,b,a,c,d,e);ca.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw fa("multilink");fb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var h=d.parentBoundTranscludeFn,k=d.transcludeControllers;d=d.futureParentElement;h&&h.$$boundTransclude&&(h=h.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==wa(d)&&ma.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==g?B(ha(g,B("<div>").append(a).html())):
c?Na.clone.call(a):a;if(k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);ca.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,h);c||(a=f=null);return d}}function Ma(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,n,p,r;if(K)for(r=Array(c.length),m=0;m<h.length;m+=3)f=h[m],r[f]=c[f];else r=c;m=0;for(n=h.length;m<n;)k=r[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),ca.$$addScopeInfo(B(k),l)):l=a,p=c.transcludeOnThisElement?ja(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ja(a,b):null,c(f,l,
k,d,p)):f&&f(a,k.childNodes,void 0,e)}for(var h=[],k=H(a)||a instanceof B,l,m,n,p,K,r=0;r<a.length;r++){l=new s;11===za&&L(a,r,k);m=jc(a[r],[],l,0===r?d:void 0,e);(f=m.length?W(m,a[r],l,b,c,null,[],[],f):null)&&f.scope&&ca.$$addScopeClass(l.$$element);l=f&&f.terminal||!(n=a[r].childNodes)||!n.length?null:Ma(n,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||l)h.push(r,f,l),p=!0,K=K||f;f=null}return p?g:null}function L(a,b,c){var d=a[b],e=d.parentNode,f;if(d.nodeType===
Ia)for(;;){f=e?d.nextSibling:a[b+1];if(!f||f.nodeType!==Ia)break;d.nodeValue+=f.nodeValue;f.parentNode&&f.parentNode.removeChild(f);c&&f===a[b+1]&&a.splice(b+1,1)}}function ja(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=V(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?ja(a,b.$$slots[f],c):null;return d}function jc(a,b,c,d,e){var f=c.$attr,g;switch(a.nodeType){case 1:g=wa(a);Y(b,
Ba(g),"E",d,e);for(var k,l,m,n,p=a.attributes,K=0,r=p&&p.length;K<r;K++){var G=!1,E=!1;k=p[K];l=k.name;m=k.value;k=Ba(l);(n=Ja.test(k))&&(l=l.replace(md,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));(k=k.match(Ka))&&Z(k[1])&&(G=l,E=l.substr(0,l.length-5)+"end",l=l.substr(0,l.length-6));k=Ba(l.toLowerCase());f[k]=l;if(n||!c.hasOwnProperty(k))c[k]=m,id(a,k)&&(c[k]=!0);pa(a,b,m,k,n);Y(b,k,"A",d,e,G,E)}"input"===g&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete",
"off");if(!Ga)break;f=a.className;C(f)&&(f=f.animVal);if(F(f)&&""!==f)for(;a=h.exec(f);)k=Ba(a[2]),Y(b,k,"C",d,e)&&(c[k]=T(a[3])),f=f.substr(a.index+a[0].length);break;case Ia:la(b,a.nodeValue);break;case 8:if(!Fa)break;jb(a,b,c,d,e)}b.sort(ea);return b}function jb(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=Ba(f[1]);Y(b,h,"M",d,e)&&(c[h]=T(f[2]))}}catch(k){}}function nd(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw fa("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&
e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return B(d)}function od(a,b,c){return function(d,e,f,g,h){e=nd(e[0],b,c);return a(d,e,f,g,h)}}function kc(a,b,c,d,e,f){var g;return a?ca(b,c,d,e,f):function(){g||(g=ca(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function W(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&(a=od(a,c,d));a.require=y.require;a.directiveName=P;if(E===y||y.$$isolateScope)a=qa(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=od(b,c,d));b.require=
y.require;b.directiveName=P;if(E===y||y.$$isolateScope)b=qa(b,{isolateScope:!0});k.push(b)}}function n(a,e,f,g,l){function m(a,b,c,d){var e;Za(a)||(d=c,c=b,b=a,a=void 0);X&&(e=O);c||(c=X?P.parent():P);if(d){var f=l.$$slots[d];if(f)return f(a,b,e,c,R);if(w(f))throw fa("noslot",d,xa(P));}else return l(a,b,e,c,R)}var p,y,t,v,J,O,N,P;b===f?(g=d,P=d.$$element):(P=B(f),g=new s(P,d));J=e;E?v=e.$new(!0):K&&(J=e.$parent);l&&(N=m,N.$$boundTransclude=l,N.isSlotFilled=function(a){return!!l.$$slots[a]});G&&(O=
ba(P,g,N,G,v,e,E));E&&(ca.$$addScopeInfo(P,v,!0,!(I&&(I===E||I===E.$$originalDirective))),ca.$$addScopeClass(P,!0),v.$$isolateBindings=E.$$isolateBindings,y=na(e,g,v,v.$$isolateBindings,E),y.removeWatches&&v.$on("$destroy",y.removeWatches));for(p in O){y=G[p];t=O[p];var Hb=y.$$bindings.bindToController;if(r){t.bindingInfo=Hb?na(J,g,t.instance,Hb,y):{};var A=t();A!==t.instance&&(t.instance=A,P.data("$"+y.name+"Controller",A),t.bindingInfo.removeWatches&&t.bindingInfo.removeWatches(),t.bindingInfo=
na(J,g,t.instance,Hb,y))}else t.instance=t(),P.data("$"+y.name+"Controller",t.instance),t.bindingInfo=na(J,g,t.instance,Hb,y)}q(G,function(a,b){var c=a.require;a.bindToController&&!H(c)&&C(c)&&S(O[b].instance,U(b,c,P,O))});q(O,function(a){var b=a.instance;if(D(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(D(b.$onInit))try{b.$onInit()}catch(e){c(e)}D(b.$doCheck)&&(J.$watch(function(){b.$doCheck()}),b.$doCheck());D(b.$onDestroy)&&J.$on("$destroy",function(){b.$onDestroy()})});
p=0;for(y=h.length;p<y;p++)t=h[p],ra(t,t.isolateScope?v:e,P,g,t.require&&U(t.directiveName,t.require,P,O),N);var R=e;E&&(E.template||null===E.templateUrl)&&(R=v);a&&a(R,f.childNodes,void 0,l);for(p=k.length-1;0<=p;p--)t=k[p],ra(t,t.isolateScope?v:e,P,g,t.require&&U(t.directiveName,t.require,P,O),N);q(O,function(a){a=a.instance;D(a.$postLink)&&a.$postLink()})}l=l||{};for(var p=-Number.MAX_VALUE,K=l.newScopeDirective,G=l.controllerDirectives,E=l.newIsolateScopeDirective,I=l.templateDirective,t=l.nonTlbTranscludeDirective,
J=!1,O=!1,X=l.hasElementTranscludeDirective,v=d.$$element=B(b),y,P,N,A=e,R,u=!1,La=!1,x,z=0,F=a.length;z<F;z++){y=a[z];var Ma=y.$$start,L=y.$$end;Ma&&(v=nd(b,Ma,L));N=void 0;if(p>y.priority)break;if(x=y.scope)y.templateUrl||(C(x)?($("new/isolated scope",E||K,y,v),E=y):$("new/isolated scope",E,y,v)),K=K||y;P=y.name;if(!u&&(y.replace&&(y.templateUrl||y.template)||y.transclude&&!y.$$tlb)){for(x=z+1;u=a[x++];)if(u.transclude&&!u.$$tlb||u.replace&&(u.templateUrl||u.template)){La=!0;break}u=!0}!y.templateUrl&&
y.controller&&(G=G||V(),$("'"+P+"' controller",G[P],y,v),G[P]=y);if(x=y.transclude)if(J=!0,y.$$tlb||($("transclusion",t,y,v),t=y),"element"===x)X=!0,p=y.priority,N=v,v=d.$$element=B(ca.$$createComment(P,d[P])),b=v[0],ka(f,va.call(N,0),b),N[0].$$parentNode=N[0].parentNode,A=kc(La,N,e,p,g&&g.name,{nonTlbTranscludeDirective:t});else{var ja=V();if(C(x)){N=[];var Q=V(),jb=V();q(x,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Q[a]=b;ja[b]=null;jb[b]=c});q(v.contents(),function(a){var b=Q[Ba(wa(a))];
b?(jb[b]=!0,ja[b]=ja[b]||[],ja[b].push(a)):N.push(a)});q(jb,function(a,b){if(!a)throw fa("reqslot",b);});for(var ic in ja)ja[ic]&&(ja[ic]=kc(La,ja[ic],e))}else N=B(fc(b)).contents();v.empty();A=kc(La,N,e,void 0,void 0,{needsNewScope:y.$$isolateScope||y.$$newScope});A.$$slots=ja}if(y.template)if(O=!0,$("template",I,y,v),I=y,x=D(y.template)?y.template(v,d):y.template,x=Ea(x),y.replace){g=y;N=cc.test(x)?pd(ha(y.templateNamespace,T(x))):[];b=N[0];if(1!==N.length||1!==b.nodeType)throw fa("tplrt",P,"");
ka(f,v,b);F={$attr:{}};x=jc(b,[],F);var Y=a.splice(z+1,a.length-(z+1));(E||K)&&aa(x,E,K);a=a.concat(x).concat(Y);da(d,F);F=a.length}else v.html(x);if(y.templateUrl)O=!0,$("template",I,y,v),I=y,y.replace&&(g=y),n=ga(a.splice(z,a.length-z),v,d,f,J&&A,h,k,{controllerDirectives:G,newScopeDirective:K!==y&&K,newIsolateScopeDirective:E,templateDirective:I,nonTlbTranscludeDirective:t}),F=a.length;else if(y.compile)try{R=y.compile(v,d,A);var Z=y.$$originalDirective||y;D(R)?m(null,bb(Z,R),Ma,L):R&&m(bb(Z,R.pre),
bb(Z,R.post),Ma,L)}catch(ea){c(ea,xa(v))}y.terminal&&(n.terminal=!0,p=Math.max(p,y.priority))}n.scope=K&&!0===K.scope;n.transcludeOnThisElement=J;n.templateOnThisElement=O;n.transclude=A;l.hasElementTranscludeDirective=X;return n}function U(a,b,c,d){var e;if(F(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e=g?c.inheritedData(h):c.data(h)}if(!e&&!f)throw fa("ctreq",b,a);}else if(H(b))for(e=
[],g=0,f=b.length;g<f;g++)e[g]=U(a,b[g],c,d);else C(b)&&(e={},q(b,function(b,f){e[f]=U(a,b,c,d)}));return e||null}function ba(a,b,c,d,e,f,g){var h=V(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"===n&&(n=b[l.name]);m=E(n,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}function aa(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=Vb(a[d],{$$isolateScope:b,$$newScope:c})}function Y(b,c,e,g,h,k,l){if(c===
h)return null;var m=null;if(f.hasOwnProperty(c)){h=a.get(c+"Directive");for(var n=0,p=h.length;n<p;n++)if(c=h[n],(w(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){k&&(c=Vb(c,{$$start:k,$$end:l}));if(!c.$$bindings){var K=m=c,r=c.name,t={isolateScope:null,bindToController:null};C(K.scope)&&(!0===K.bindToController?(t.bindToController=d(K.scope,r,!0),t.isolateScope={}):t.isolateScope=d(K.scope,r,!1));C(K.bindToController)&&(t.bindToController=d(K.bindToController,r,!0));if(t.bindToController&&!K.controller)throw fa("noctrl",
r);m=m.$$bindings=t;C(m.isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c);m=c}}return m}function Z(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function da(a,b){var c=b.$attr,d=a.$attr;q(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+(("style"===e?";":" ")+b[e]):b[e]),a.$set(e,d,!0,c[e]))});q(b,function(b,e){a.hasOwnProperty(e)||"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}
function ga(a,b,d,f,g,h,k,l){var m=[],n,p,K=b[0],r=a.shift(),t=Vb(r,{templateUrl:null,transclude:null,replace:null,$$originalDirective:r}),y=D(r.templateUrl)?r.templateUrl(b,d):r.templateUrl,E=r.templateNamespace;b.empty();e(y).then(function(c){var e,G;c=Ea(c);if(r.replace){c=cc.test(c)?pd(ha(E,T(c))):[];e=c[0];if(1!==c.length||1!==e.nodeType)throw fa("tplrt",r.name,y);c={$attr:{}};ka(f,b,e);var I=jc(e,[],c);C(r.scope)&&aa(I,!0);a=I.concat(a);da(d,c)}else e=K,b.html(c);a.unshift(t);n=W(a,e,d,g,b,
r,h,k,l);q(f,function(a,c){a===e&&(f[c]=b[0])});for(p=Ma(b[0].childNodes,g);m.length;){c=m.shift();G=m.shift();var v=m.shift(),J=m.shift(),I=b[0];if(!c.$$destroyed){if(G!==K){var O=G.className;l.hasElementTranscludeDirective&&r.replace||(I=fc(e));ka(v,B(G),I);La(B(I),O)}G=n.transcludeOnThisElement?ja(c,n.transclude,J):J;n(p,c,I,f,G)}}m=null}).catch(function(a){a instanceof Error&&c(a)});return function(a,b,c,d,e){a=e;b.$$destroyed||(m?m.push(b,c,d,a):(n.transcludeOnThisElement&&(a=ja(b,n.transclude,
e)),n(p,b,c,d,a)))}}function ea(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function $(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw fa("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,xa(d));}function la(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&ca.$$addBindingClass(a);return function(a,c){var e=c.parent();b||ca.$$addBindingClass(e);ca.$$addBindingInfo(e,d.expressions);
a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ha(a,b){a=Q(a||"html");switch(a){case "svg":case "math":var c=x.document.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function oa(a,b){if("srcdoc"===b)return y.HTML;var c=wa(a);if("src"===b||"ngSrc"===b){if(-1===["img","video","audio","source","track"].indexOf(c))return y.RESOURCE_URL}else if("xlinkHref"===b||"form"===c&&"action"===b||"link"===c&&"href"===b)return y.RESOURCE_URL}function pa(a,
c,d,e,f){var g=oa(a,e),h=k[e]||f,l=b(d,!f,g,h);if(l){if("multiple"===e&&"select"===wa(a))throw fa("selmulti",xa(a));if(m.test(e))throw fa("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=V());var k=f[e];k!==d&&(l=k&&b(k,!0,g,h),d=k);l&&(f[e]=l(a),(c[e]||(c[e]=[])).$$inter=!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(l,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function ka(a,b,c){var d=b[0],e=
b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]===d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=x.document.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);B.hasData(d)&&(B.data(c,B.data(d)),B(d).off("$destroy"));B.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function qa(a,b){return S(function(){return a.apply(null,arguments)},
a,b)}function ra(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,xa(d))}}function na(a,c,d,e,f){function g(b,c,e){D(d.$onChanges)&&!Xb(c,e)&&(ia||(a.$$postDigest(P),ia=[]),m||(m={},ia.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Ib(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;q(e,function(e,h){var m=e.attrName,p=e.optional,r,t,y,G;switch(e.mode){case "@":p||ua.call(c,m)||(d[h]=c[m]=void 0);p=c.$observe(m,function(a){if(F(a)||Ha(a))g(h,a,d[h]),d[h]=a});c.$$observers[m].$$scope=a;r=c[m];
F(r)?d[h]=b(r)(a):Ha(r)&&(d[h]=r);l[h]=new Ib(lc,d[h]);k.push(p);break;case "=":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;t=n(c[m]);G=t.literal?sa:Xb;y=t.assign||function(){r=d[h]=t(a);throw fa("nonassign",c[m],m,f.name);};r=d[h]=t(a);p=function(b){G(b,d[h])||(G(b,r)?y(a,b=d[h]):d[h]=b);return r=b};p.$stateful=!0;p=e.collection?a.$watchCollection(c[m],p):a.$watch(n(c[m],p),null,t.literal);k.push(p);break;case "<":if(!ua.call(c,m)){if(p)break;c[m]=void 0}if(p&&!c[m])break;t=n(c[m]);
var E=t.literal,I=d[h]=t(a);l[h]=new Ib(lc,d[h]);p=a.$watch(t,function(a,b){if(b===a){if(b===I||E&&sa(b,I))return;b=I}g(h,a,b);d[h]=a},E);k.push(p);break;case "&":t=c.hasOwnProperty(m)?n(c[m]):z;if(t===z&&p)break;d[h]=function(b){return t(a,b)}}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var Ca=/^\w/,ta=x.document.createElement("div"),Fa=v,Ga=t,ya=J,ia;s.prototype={$normalize:Ba,$addClass:function(a){a&&0<a.length&&O.addClass(this.$$element,
a)},$removeClass:function(a){a&&0<a.length&&O.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=qd(a,b);c&&c.length&&O.addClass(this.$$element,c);(c=qd(b,a))&&c.length&&O.removeClass(this.$$element,c)},$set:function(a,b,d,e){var f=id(this.$$element[0],a),g=rd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Tc(a,"-"));f=wa(this.$$element);if("a"===f&&("href"===a||"xlinkHref"===a)||"img"===f&&"src"===a)this[a]=
b=X(b,"src"===a);else if("img"===f&&"srcset"===a&&u(b)){for(var f="",g=T(b),k=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,k=/\s/.test(g)?k:/(,)/,g=g.split(k),k=Math.floor(g.length/2),l=0;l<k;l++)var m=2*l,f=f+X(T(g[m]),!0),f=f+(" "+T(g[m+1]));g=T(g[2*l]).split(/\s/);f+=X(T(g[0]),!0);2===g.length&&(f+=" "+T(g[1]));this[a]=b=f}!1!==d&&(null===b||w(b)?this.$$element.removeAttr(e):Ca.test(e)?this.$$element.attr(e,b):R(this.$$element[0],e,b));(a=this.$$observers)&&q(a[h],function(a){try{a(b)}catch(d){c(d)}})},
$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=V()),e=d[a]||(d[a]=[]);e.push(b);G.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||w(c[a])||b(c[a])});return function(){$a(e,b)}}};var Aa=b.startSymbol(),Da=b.endSymbol(),Ea="{{"===Aa&&"}}"===Da?Ya:function(a){return a.replace(/\{\{/g,Aa).replace(/}}/g,Da)},Ja=/^ngAttr[A-Z]/,Ka=/^(.+)Start$/;ca.$$addBindingInfo=p?function(a,b){var c=a.data("$binding")||[];H(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:z;ca.$$addBindingClass=
p?function(a){La(a,"ng-binding")}:z;ca.$$addScopeInfo=p?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:z;ca.$$addScopeClass=p?function(a,b){La(a,b?"ng-isolate-scope":"ng-scope")}:z;ca.$$createComment=function(a,b){var c="";p&&(c=" "+(a||"")+": ",b&&(c+=b+" "));return x.document.createComment(c)};return ca}]}function Ib(a,b){this.previousValue=a;this.currentValue=b}function Ba(a){return a.replace(md,"").replace(rg,gb)}function qd(a,b){var d="",c=a.split(/\s+/),
e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],h=0;h<e.length;h++)if(g===e[h])continue a;d+=(0<d.length?" ":"")+g}return d}function pd(a){a=B(a);var b=a.length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Ia&&""===d.nodeValue.trim())&&sg.call(a,b,1)}return a}function qg(a,b){if(b&&F(b))return b;if(F(a)){var d=sd.exec(a);if(d)return d[3]}}function wf(){var a={},b=!1;this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,c){Ka(b,"controller");C(b)?
S(a,b):a[b]=c};this.allowGlobals=function(){b=!0};this.$get=["$injector","$window",function(d,c){function e(a,b,c,d){if(!a||!C(a.$scope))throw L("$controller")("noscp",d,b);a.$scope[b]=c}return function(f,g,h,k){var l,m,n;h=!0===h;k&&F(k)&&(n=k);if(F(f)){k=f.match(sd);if(!k)throw td("ctrlfmt",f);m=k[1];n=n||k[3];f=a.hasOwnProperty(m)?a[m]:Vc(g.$scope,m,!0)||(b?Vc(c,m,!0):void 0);if(!f)throw td("ctrlreg",m);sb(f,m,!0)}if(h)return h=(H(f)?f[f.length-1]:f).prototype,l=Object.create(h||null),n&&e(g,n,
l,m||f.name),S(function(){var a=d.invoke(f,l,g,m);a!==l&&(C(a)||D(a))&&(l=a,n&&e(g,n,l,m||f.name));return l},{instance:l,identifier:n});l=d.instantiate(f,g,m);n&&e(g,n,l,m||f.name);return l}}]}function xf(){this.$get=["$window",function(a){return B(a.document)}]}function yf(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;a.on("visibilitychange",d);b.$on("$destroy",function(){a.off("visibilitychange",d)});return function(){return e}}]}function zf(){this.$get=
["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}function mc(a){return C(a)?ga(a)?a.toISOString():cb(a):a}function Ef(){this.$get=function(){return function(a){if(!a)return"";var b=[];Kc(a,function(a,c){null===a||w(a)||(H(a)?q(a,function(a){b.push($(c)+"="+$(mc(a)))}):b.push($(c)+"="+$(mc(a))))});return b.join("&")}}}function Ff(){this.$get=function(){return function(a){function b(a,e,f){null===a||w(a)||(H(a)?q(a,function(a,c){b(a,e+"["+(C(a)?c:"")+"]")}):C(a)&&!ga(a)?Kc(a,function(a,
c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):d.push($(e)+"="+$(mc(a))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function nc(a,b){if(F(a)){var d=a.replace(tg,"").trim();if(d){var c=b("Content-Type");(c=c&&0===c.indexOf(ud))||(c=(c=d.match(ug))&&vg[c[0]].test(d));if(c)try{a=Oc(d)}catch(e){throw oc("baddata",a,e);}}}return a}function vd(a){var b=V(),d;F(a)?q(a.split("\n"),function(a){d=a.indexOf(":");var e=Q(T(a.substr(0,d)));a=T(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):C(a)&&q(a,function(a,
d){var f=Q(d),g=T(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function wd(a){var b;return function(d){b||(b=vd(a));return d?(d=b[Q(d)],void 0===d&&(d=null),d):b}}function xd(a,b,d,c){if(D(c))return c(a,b,d);q(c,function(c){a=c(a,b,d)});return a}function Df(){var a=this.defaults={transformResponse:[nc],transformRequest:[function(a){return C(a)&&"[object File]"!==ma.call(a)&&"[object Blob]"!==ma.call(a)&&"[object FormData]"!==ma.call(a)?cb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},
post:pa(pc),put:pa(pc),patch:pa(pc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var d=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(c,e,f,g,h,k,l,m){function n(b){function d(a,b){for(var c=0,e=b.length;c<e;){var f=b[c++],g=b[c++];a=a.then(f,g)}b.length=0;return a}
function e(a,b){var c,d={};q(a,function(a,e){D(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a});return d}function f(a){var b=S({},a);b.data=xd(a.data,a.headers,a.status,g.transformResponse);a=a.status;return 200<=a&&300>a?b:k.reject(b)}if(!C(b))throw L("$http")("badreq",b);if(!F(m.valueOf(b.url)))throw L("$http")("badreq",b.url);var g=S({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},b);g.headers=
function(b){var c=a.headers,d=S({},b.headers),f,g,h,c=S({},c.common,c[Q(b.method)]);a:for(f in c){g=Q(f);for(h in d)if(Q(h)===g)continue a;d[f]=c[f]}return e(d,pa(b))}(b);g.method=ub(g.method);g.paramSerializer=F(g.paramSerializer)?l.get(g.paramSerializer):g.paramSerializer;c.$$incOutstandingRequestCount();var h=[],n=[];b=k.resolve(g);q(t,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError);(a.response||a.responseError)&&n.push(a.response,a.responseError)});b=d(b,h);b=b.then(function(b){var c=
b.headers,d=xd(b.data,wd(c),void 0,b.transformRequest);w(d)&&q(c,function(a,b){"content-type"===Q(b)&&delete c[b]});w(b.withCredentials)&&!w(a.withCredentials)&&(b.withCredentials=a.withCredentials);return p(b,d).then(f,f)});b=d(b,n);return b=b.finally(function(){c.$$completeOutstandingRequest(z)})}function p(c,d){function g(a){if(a){var c={};q(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}});return c}}function l(a,c,d,e){function f(){p(c,a,d,e)}O&&
(200<=a&&300>a?O.put(R,[a,c,vd(d),e]):O.remove(R));b?h.$applyAsync(f):(f(),h.$$phase||h.$apply())}function p(a,b,d,e){b=-1<=b?b:0;(200<=b&&300>b?G.resolve:G.reject)({data:a,status:b,headers:wd(d),config:c,statusText:e})}function K(a){p(a.data,a.status,pa(a.headers()),a.statusText)}function t(){var a=n.pendingRequests.indexOf(c);-1!==a&&n.pendingRequests.splice(a,1)}var G=k.defer(),y=G.promise,O,X,P=c.headers,s="jsonp"===Q(c.method),R=c.url;s?R=m.getTrustedResourceUrl(R):F(R)||(R=m.valueOf(R));R=r(R,
c.paramSerializer(c.params));s&&(R=J(R,c.jsonpCallbackParam));n.pendingRequests.push(c);y.then(t,t);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(O=C(c.cache)?c.cache:C(a.cache)?a.cache:v);O&&(X=O.get(R),u(X)?X&&D(X.then)?X.then(K,K):H(X)?p(X[1],X[0],pa(X[2]),X[3]):p(X,200,{},"OK"):O.put(R,y));w(X)&&((X=yd(c.url)?f()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(P[c.xsrfHeaderName||a.xsrfHeaderName]=X),e(c.method,R,d,l,P,c.timeout,c.withCredentials,c.responseType,g(c.eventHandlers),
g(c.uploadEventHandlers)));return y}function r(a,b){0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}function J(a,b){if(/[&?][^=]+=JSON_CALLBACK/.test(a))throw oc("badjsonp",a);if((new RegExp("[&?]"+b+"=")).test(a))throw oc("badjsonp",b,a);return a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var v=g("$http");a.paramSerializer=F(a.paramSerializer)?l.get(a.paramSerializer):a.paramSerializer;var t=[];q(d,function(a){t.unshift(F(a)?l.get(a):l.invoke(a))});n.pendingRequests=[];(function(a){q(arguments,
function(a){n[a]=function(b,c){return n(S({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){q(arguments,function(a){n[a]=function(b,c,d){return n(S({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");n.defaults=a;return n}]}function Hf(){this.$get=function(){return function(){return new x.XMLHttpRequest}}}function Gf(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return wg(a,c,a.defer,b,d[0])}]}function wg(a,b,d,c,e){function f(a,
b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m);f.removeEventListener("error",m);e.body.removeChild(f);f=null;var g=-1,r="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),r=a.type,g="error"===a.type?404:200);d&&d(g,r)};f.addEventListener("load",m);f.addEventListener("error",m);e.body.appendChild(f);return m}return function(e,h,k,l,m,n,p,r,J,v){function t(){N&&N();A&&
A.abort()}h=h||a.url();if("jsonp"===Q(e))var M=c.createCallback(h),N=f(h,M,function(a,b){var e=200===a&&c.getResponse(M);u(I)&&d.cancel(I);N=A=null;l(a,e,"",b);c.removeCallback(M)});else{var A=b(e,h);A.open(e,h,!0);q(m,function(a,b){u(a)&&A.setRequestHeader(b,a)});A.onload=function(){var a=A.statusText||"",b="response"in A?A.response:A.responseText,c=1223===A.status?204:A.status;0===c&&(c=b?200:"file"===Ca(h).protocol?404:0);var e=A.getAllResponseHeaders();u(I)&&d.cancel(I);N=A=null;l(c,b,e,a)};e=
function(){u(I)&&d.cancel(I);N=A=null;l(-1,null,null,"")};A.onerror=e;A.onabort=e;A.ontimeout=e;q(J,function(a,b){A.addEventListener(b,a)});q(v,function(a,b){A.upload.addEventListener(b,a)});p&&(A.withCredentials=!0);if(r)try{A.responseType=r}catch(s){if("json"!==r)throw s;}A.send(w(k)?null:k)}if(0<n)var I=d(t,n);else n&&D(n.then)&&n.then(t)}}function Bf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler",
"$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(p,b)}function h(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function k(f,k,n,p){function M(a){try{var b=a;a=n?e.getTrusted(n,b):e.valueOf(b);return p&&!u(a)?a:$b(a)}catch(d){c(Da.interr(f,d))}}if(!f.length||-1===f.indexOf(a)){var q;k||(k=g(f),q=la(k),q.exp=f,q.expressions=[],q.$$watchDelegate=h);return q}p=!!p;var A,s,I=0,K=[],E=[];q=f.length;for(var G=[],y=[];I<q;)if(-1!==(A=f.indexOf(a,
I))&&-1!==(s=f.indexOf(b,A+l)))I!==A&&G.push(g(f.substring(I,A))),I=f.substring(A+l,s),K.push(I),E.push(d(I,M)),I=s+m,y.push(G.length),G.push("");else{I!==q&&G.push(g(f.substring(I)));break}n&&1<G.length&&Da.throwNoconcat(f);if(!k||K.length){var O=function(a){for(var b=0,c=K.length;b<c;b++){if(p&&w(a[b]))return;G[y[b]]=a[b]}return G.join("")};return S(function(a){var b=0,d=K.length,e=Array(d);try{for(;b<d;b++)e[b]=E[b](a);return O(e)}catch(g){c(Da.interr(f,g))}},{exp:f,expressions:K,$$watchDelegate:function(a,
b){var c;return a.$watchGroup(E,function(d,e){var f=O(d);D(b)&&b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),p=new RegExp(b.replace(/./g,f),"g");k.startSymbol=function(){return a};k.endSymbol=function(){return b};return k}]}function Cf(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,d,c,e){function f(f,k,l,m){function n(){p?f.apply(null,r):f(t)}var p=4<arguments.length,r=p?va.call(arguments,4):[],J=b.setInterval,v=b.clearInterval,
t=0,M=u(m)&&!m,q=(M?c:d).defer(),A=q.promise;l=u(l)?l:0;A.$$intervalId=J(function(){M?e.defer(n):a.$evalAsync(n);q.notify(t++);0<l&&t>=l&&(q.resolve(t),v(A.$$intervalId),delete g[A.$$intervalId]);M||a.$apply()},k);g[A.$$intervalId]=q;return A}var g={};f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].promise.catch(z),g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1};return f}]}function qc(a){a=a.split("/");for(var b=a.length;b--;)a[b]=
db(a[b]);return a.join("/")}function zd(a,b){var d=Ca(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=Z(d.port)||xg[d.protocol]||null}function Ad(a,b){if(yg.test(a))throw kb("badpath",a);var d="/"!==a.charAt(0);d&&(a="/"+a);var c=Ca(a);b.$$path=decodeURIComponent(d&&"/"===c.pathname.charAt(0)?c.pathname.substring(1):c.pathname);b.$$search=Rc(c.search);b.$$hash=decodeURIComponent(c.hash);b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function rc(a,b){return a.slice(0,b.length)===
b}function ka(a,b){if(rc(b,a))return b.substr(a.length)}function Aa(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function lb(a){return a.replace(/(#.+)|#$/,"$1")}function sc(a,b,d){this.$$html5=!0;d=d||"";zd(a,this);this.$$parse=function(a){var d=ka(b,a);if(!F(d))throw kb("ipthprfx",a,b);Ad(d,this);this.$$path||(this.$$path="/");this.$$compose()};this.$$compose=function(){var a=Zb(this.$$search),d=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(a?"?"+a:"")+d;this.$$absUrl=b+
this.$$url.substr(1);this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;u(f=ka(a,c))?(g=f,g=d&&u(f=ka(d,f))?b+(ka("/",f)||f):a+g):u(f=ka(b,c))?g=b+f:b===c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function tc(a,b,d){zd(a,this);this.$$parse=function(c){var e=ka(a,c)||ka(b,c),f;w(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",w(e)&&(a=c,this.replace())):(f=ka(d,e),w(f)&&(f=e));Ad(f,this);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;rc(f,
e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};this.$$compose=function(){var b=Zb(this.$$search),e=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+(this.$$url?d+this.$$url:"");this.$$urlUpdatedByLocation=!0};this.$$parseLinkUrl=function(b,d){return Aa(a)===Aa(b)?(this.$$parse(b),!0):!1}}function Bd(a,b,d){this.$$html5=!0;tc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),
!0;var f,g;a===Aa(c)?f=c:(g=ka(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$compose=function(){var b=Zb(this.$$search),e=this.$$hash?"#"+db(this.$$hash):"";this.$$url=qc(this.$$path)+(b?"?"+b:"")+e;this.$$absUrl=a+d+this.$$url;this.$$urlUpdatedByLocation=!0}}function Jb(a){return function(){return this[a]}}function Cd(a,b){return function(d){if(w(d))return this[a];this[a]=b(d);this.$$compose();return this}}function Jf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};
this.hashPrefix=function(b){return u(b)?(a=b,this):a};this.html5Mode=function(a){if(Ha(a))return b.enabled=a,this;if(C(a)){Ha(a.enabled)&&(b.enabled=a.enabled);Ha(a.requireBase)&&(b.requireBase=a.requireBase);if(Ha(a.rewriteLinks)||F(a.rewriteLinks))b.rewriteLinks=a.rewriteLinks;return this}return b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,f,g){function h(a,b,d){var e=l.url(),f=l.$$state;try{c.url(a,b,d),l.$$state=c.state()}catch(g){throw l.url(e),l.$$state=
f,g;}}function k(a,b){d.$broadcast("$locationChangeSuccess",l.absUrl(),a,l.$$state,b)}var l,m;m=c.baseHref();var n=c.url(),p;if(b.enabled){if(!m&&b.requireBase)throw kb("nobase");p=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(m||"/");m=e.history?sc:Bd}else p=Aa(n),m=tc;var r=p.substr(0,Aa(p).lastIndexOf("/")+1);l=new m(p,r,"#"+a);l.$$parseLinkUrl(n,n);l.$$state=c.state();var J=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&
2!==a.which&&2!==a.button){for(var h=B(a.target);"a"!==wa(h[0]);)if(h[0]===f[0]||!(h=h.parent())[0])return;if(!F(e)||!w(h.attr(e))){var e=h.prop("href"),k=h.attr("href")||h.attr("xlink:href");C(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=Ca(e.animVal).href);J.test(e)||!e||h.attr("target")||a.isDefaultPrevented()||!l.$$parseLinkUrl(e,k)||(a.preventDefault(),l.absUrl()!==c.url()&&(d.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}});lb(l.absUrl())!==lb(n)&&c.url(l.absUrl(),!0);var v=!0;
c.onUrlChange(function(a,b){rc(a,r)?(d.$evalAsync(function(){var c=l.absUrl(),e=l.$$state,f;a=lb(a);l.$$parse(a);l.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;l.absUrl()===a&&(f?(l.$$parse(c),l.$$state=e,h(c,!1,e)):(v=!1,k(c,e)))}),d.$$phase||d.$digest()):g.location.href=a});d.$watch(function(){if(v||l.$$urlUpdatedByLocation){l.$$urlUpdatedByLocation=!1;var a=lb(c.url()),b=lb(l.absUrl()),f=c.state(),g=l.$$replace,m=a!==b||l.$$html5&&e.history&&f!==l.$$state;if(v||m)v=
!1,d.$evalAsync(function(){var b=l.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,l.$$state,f).defaultPrevented;l.absUrl()===b&&(c?(l.$$parse(a),l.$$state=f):(m&&h(b,g,f===l.$$state?null:l.$$state),k(a,f)))})}l.$$replace=!1});return l}]}function Kf(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){a instanceof Error&&(a.stack&&f?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&
(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||z;a=!1;try{a=!!e.apply}catch(f){}return a?function(){var a=[];q(arguments,function(b){a.push(c(b))});return e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}var f=za||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function zg(a){return a+""}function Ag(a,
b){return"undefined"!==typeof a?a:b}function Dd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function U(a,b){var d,c,e;switch(a.type){case s.Program:d=!0;q(a.body,function(a){U(a.expression,b);d=d&&a.expression.constant});a.constant=d;break;case s.Literal:a.constant=!0;a.toWatch=[];break;case s.UnaryExpression:U(a.argument,b);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case s.BinaryExpression:U(a.left,b);U(a.right,b);a.constant=a.left.constant&&a.right.constant;
a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case s.LogicalExpression:U(a.left,b);U(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case s.ConditionalExpression:U(a.test,b);U(a.alternate,b);U(a.consequent,b);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case s.Identifier:a.constant=!1;a.toWatch=[a];break;case s.MemberExpression:U(a.object,b);a.computed&&U(a.property,b);a.constant=a.object.constant&&
(!a.computed||a.property.constant);a.toWatch=[a];break;case s.CallExpression:d=e=a.filter?!b(a.callee.name).$stateful:!1;c=[];q(a.arguments,function(a){U(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=d;a.toWatch=e?c:[a];break;case s.AssignmentExpression:U(a.left,b);U(a.right,b);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case s.ArrayExpression:d=!0;c=[];q(a.elements,function(a){U(a,b);d=d&&a.constant;a.constant||c.push.apply(c,a.toWatch)});a.constant=
d;a.toWatch=c;break;case s.ObjectExpression:d=!0;c=[];q(a.properties,function(a){U(a.value,b);d=d&&a.value.constant&&!a.computed;a.value.constant||c.push.apply(c,a.value.toWatch);a.computed&&(U(a.key,b),a.key.constant||c.push.apply(c,a.key.toWatch))});a.constant=d;a.toWatch=c;break;case s.ThisExpression:a.constant=!1;a.toWatch=[];break;case s.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Ed(a){if(1===a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Fd(a){return a.type===
s.Identifier||a.type===s.MemberExpression}function Gd(a){if(1===a.body.length&&Fd(a.body[0].expression))return{type:s.AssignmentExpression,left:a.body[0].expression,right:{type:s.NGValueParameter},operator:"="}}function Hd(a){this.$filter=a}function Id(a){this.$filter=a}function uc(a,b,d){this.ast=new s(a,d);this.astCompiler=d.csp?new Id(b):new Hd(b)}function vc(a){return D(a.valueOf)?a.valueOf():Bg.call(a)}function Lf(){var a=V(),b={"true":!0,"false":!1,"null":null,undefined:void 0},d,c;this.addLiteral=
function(a,c){b[a]=c};this.setIdentifierFns=function(a,b){d=a;c=b;return this};this.$get=["$filter",function(e){function f(a,b,c){return null==a||null==b?a===b:"object"!==typeof a||(a=vc(a),"object"!==typeof a||c)?a===b||a!==a&&b!==b:!1}function g(a,b,c,d,e){var g=d.inputs,h;if(1===g.length){var k=f,g=g[0];return a.$watch(function(a){var b=g(a);f(b,k,d.literal)||(h=d(a,void 0,void 0,[b]),k=b&&vc(b));return h},b,c,e)}for(var l=[],m=[],n=0,E=g.length;n<E;n++)l[n]=f,m[n]=null;return a.$watch(function(a){for(var b=
!1,c=0,e=g.length;c<e;c++){var k=g[c](a);if(b||(b=!f(k,l[c],d.literal)))m[c]=k,l[c]=k&&vc(k)}b&&(h=d(a,void 0,void 0,m));return h},b,c,e)}function h(a,b,c,d,e){function f(a){return d(a)}function h(a,c,d){n=a;D(b)&&b(a,c,d);l(a)&&d.$$postDigest(function(){l(n)&&m()})}var l=d.literal?k:u,m,n;return m=d.inputs?g(a,h,c,d,e):a.$watch(f,h,c)}function k(a){var b=!0;q(a,function(a){u(a)||(b=!1)});return b}function l(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function m(a,b){function c(d,
e,g,h){g=f&&h?h[0]:a(d,e,g,h);return b(g,d,e)}function d(c,e,g,k){g=f&&k?k[0]:a(c,e,g,k);c=b(g,c,e);return h(g)?c:g}if(!b)return a;var e=a.$$watchDelegate,f=!1,h=a.literal?k:u,l=a.oneTime?d:c;l.literal=a.literal;l.oneTime=a.oneTime;f=!a.inputs;e&&e!==g?(l.$$watchDelegate=e,l.inputs=a.inputs):b.$stateful||(l.$$watchDelegate=g,l.inputs=a.inputs?a.inputs:[a]);return l}var n={csp:Ga().noUnsafeEval,literals:ra(b),isIdentifierStart:D(d)&&d,isIdentifierContinue:D(c)&&c};return function(b,c){var d,f,k;switch(typeof b){case "string":return k=
b=b.trim(),d=a[k],d||(":"===b.charAt(0)&&":"===b.charAt(1)&&(f=!0,b=b.substring(2)),d=new wc(n),d=(new uc(d,e,n)).parse(b),d.constant?d.$$watchDelegate=l:f?(d.oneTime=!0,d.$$watchDelegate=h):d.inputs&&(d.$$watchDelegate=g),a[k]=d),m(d,c);case "function":return m(b,c);default:return m(z,c)}}}]}function Nf(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Jd(function(a){b.$evalAsync(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Of(){var a=
!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Jd(function(a){b.defer(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return u(b)?(a=b,this):a}}function Jd(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){k(a,b)};this.reject=function(b){m(a,b)};this.notify=function(b){p(a,b)}}function f(){this.$$state={status:0}}function g(){for(;!s&&A.length;){var a=A.shift();if(!a.pur){a.pur=!0;var c=a.value,c="Possibly unhandled rejection: "+
("function"===typeof c?c.toString().replace(/ \{[\s\S]*$/,""):w(c)?"undefined":"string"!==typeof c?Be(c,void 0):c);a.value instanceof Error?b(a.value,c):b(c)}}}function h(b){!d||b.pending||2!==b.status||b.pur||(0===s&&0===A.length&&a(g),A.push(b));!b.processScheduled&&b.pending&&(b.processScheduled=!0,++s,a(function(){var c,e,f;f=b.pending;b.processScheduled=!1;b.pending=void 0;try{for(var h=0,l=f.length;h<l;++h){b.pur=!0;e=f[h][0];c=f[h][b.status];try{D(c)?k(e,c(b.value)):1===b.status?k(e,b.value):
m(e,b.value)}catch(n){m(e,n)}}}finally{--s,d&&0===s&&a(g)}}))}function k(a,b){a.$$state.status||(b===a?n(a,M("qcycle",b)):l(a,b))}function l(a,b){function c(b){g||(g=!0,l(a,b))}function d(b){g||(g=!0,n(a,b))}function e(b){p(a,b)}var f,g=!1;try{if(C(b)||D(b))f=b.then;D(f)?(a.$$state.status=-1,f.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,h(a.$$state))}catch(k){d(k)}}function m(a,b){a.$$state.status||n(a,b)}function n(a,b){a.$$state.value=b;a.$$state.status=2;h(a.$$state)}function p(c,d){var e=
c.$$state.pending;0>=c.$$state.status&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;f<g;f++){c=e[f][0];a=e[f][3];try{p(c,D(a)?a(d):d)}catch(h){b(h)}}})}function r(a){var b=new f;m(b,a);return b}function J(a,b,c){var d=null;try{D(c)&&(d=c())}catch(e){return r(e)}return d&&D(d.then)?d.then(function(){return b(a)},r):b(a)}function v(a,b,c,d){var e=new f;k(e,a);return e.then(b,c,d)}function t(a){if(!D(a))throw M("norslvr",a);var b=new f;a(function(a){k(b,a)},function(a){m(b,a)});return b}var M=
L("$q",TypeError),s=0,A=[];S(f.prototype,{then:function(a,b,c){if(w(a)&&w(b)&&w(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&h(this.$$state);return d},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return J(b,u,a)},function(b){return J(b,r,a)},b)}});var u=v;t.prototype=f.prototype;t.defer=c;t.reject=r;t.when=v;t.resolve=u;t.all=function(a){var b=new f,c=0,d=H(a)?
[]:{};q(a,function(a,e){c++;v(a).then(function(a){d[e]=a;--c||k(b,d)},function(a){m(b,a)})});0===c&&k(b,d);return b};t.race=function(a){var b=c();q(a,function(a){v(a).then(b.resolve,b.reject)});return b.promise};return t}function Xf(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=
b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function Mf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++qb;this.$$ChildScope=null}b.prototype=a;return b}var b=10,d=L("$rootScope"),c=null,e=null;this.digestTtl=function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,h){function k(a){a.currentScope.$$destroyed=
!0}function l(a){9===za&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++qb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=this;this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function n(a){if(M.$$phase)throw d("inprog",
M.$$phase);M.$$phase=a}function p(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function r(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function J(){}function v(){for(;u.length;)try{u.shift()()}catch(a){f(a)}e=null}function t(){null===e&&(e=h.defer(function(){M.$apply(v)}))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);
d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!==this)&&d.$on("$destroy",k);return d},$watch:function(a,b,d,e){var f=g(a);if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l={fn:b,last:J,get:f,exp:e||a,eq:!!d};c=null;D(b)||(l.fn=z);k||(k=h.$$watchers=[],k.$$digestWatchIndex=-1);k.unshift(l);k.$$digestWatchIndex++;p(this,1);return function(){var a=$a(k,l);0<=a&&(p(h,-1),
a<k.$$digestWatchIndex&&k.$$digestWatchIndex--);c=null}},$watchGroup:function(a,b){function c(){h=!1;k?(k=!1,b(e,e,g)):b(e,d,g)}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});q(a,function(a,b){var k=g.$watch(a,function(a,f){e[b]=a;d[b]=f;h||(h=!0,g.$evalAsync(c))});f.push(k)});return function(){for(;f.length;)f.shift()()}},
$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!w(e)){if(C(e))if(qa(e))for(f!==n&&(f=n,t=f.length=0,l++),a=e.length,t!==a&&(l++,f.length=t=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==p&&(f=p={},t=0,l++);a=0;for(b in e)ua.call(e,b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(t++,f[b]=g,l++));if(t>a)for(b in l++,f)ua.call(e,b)||(t--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$stateful=!0;var d=this,e,f,h,k=1<b.length,l=0,m=
g(a,c),n=[],p={},r=!0,t=0;return this.$watch(m,function(){r?(r=!1,b(e,e,d)):b(e,h,d);if(k)if(C(e))if(qa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)ua.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,g,k,l,m,p,r,t=b,q,u=[],w,x;n("$digest");h.$$checkUrlChange();this===M&&null!==e&&(h.defer.cancel(e),v());c=null;do{r=!1;q=this;for(p=0;p<s.length;p++){try{x=s[p],l=x.fn,l(x.scope,x.locals)}catch(z){f(z)}c=null}s.length=0;a:do{if(p=q.$$watchers)for(p.$$digestWatchIndex=
p.length;p.$$digestWatchIndex--;)try{if(a=p[p.$$digestWatchIndex])if(m=a.get,(g=m(q))!==(k=a.last)&&!(a.eq?sa(g,k):da(g)&&da(k)))r=!0,c=a,a.last=a.eq?ra(g,null):g,l=a.fn,l(g,k===J?g:k,q),5>t&&(w=4-t,u[w]||(u[w]=[]),u[w].push({msg:D(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:k}));else if(a===c){r=!1;break a}}catch(B){f(B)}if(!(p=q.$$watchersCount&&q.$$childHead||q!==this&&q.$$nextSibling))for(;q!==this&&!(p=q.$$nextSibling);)q=q.$parent}while(q=p);if((r||s.length)&&!t--)throw M.$$phase=
null,d("infdig",b,u);}while(r||s.length);for(M.$$phase=null;I<A.length;)try{A[I++]()}catch(F){f(F)}A.length=I=0;h.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===M&&h.$$applicationDestroyed();p(this,-this.$$watchersCount);for(var b in this.$$listenerCount)r(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&
(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=z;this.$on=this.$watch=this.$watchGroup=function(){return z};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){M.$$phase||s.length||h.defer(function(){s.length&&M.$digest()});s.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){A.push(a)},
$apply:function(a){try{n("$apply");try{return this.$eval(a)}finally{M.$$phase=null}}catch(b){f(b)}finally{try{M.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&u.push(b);a=g(a);t()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,r(e,1,a))}},$emit:function(a,
b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=ab([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)return h.currentScope=null,h;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=
!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=ab([e],arguments,1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var M=new m,s=M.$$asyncQueue=[],A=M.$$postDigestQueue=[],u=M.$$applyAsyncQueue=[],I=0;return M}]}function Ee(){var a=
/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f;f=Ca(d).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function Cg(a){if("self"===a)return a;if(F(a)){if(-1<a.indexOf("***"))throw ta("iwcard",a);a=Kd(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+
a+"$")}if(Xa(a))return new RegExp("^"+a.source+"$");throw ta("imatcher");}function Ld(a){var b=[];u(a)&&q(a,function(a){b.push(Cg(a))});return b}function Qf(){this.SCE_CONTEXTS=oa;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=Ld(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=Ld(a));return b};this.$get=["$injector",function(d){function c(a,b){return"self"===a?yd(b):!!a.exec(b.href)}function e(a){var b=function(a){this.$$unwrapTrustedValue=
function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var f=function(a){throw ta("unsafe");};d.has("$sanitize")&&(f=d.get("$sanitize"));var g=e(),h={};h[oa.HTML]=e(g);h[oa.CSS]=e(g);h[oa.URL]=e(g);h[oa.JS]=e(g);h[oa.RESOURCE_URL]=e(h[oa.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw ta("icontext",a,b);if(null===b||w(b)||
""===b)return b;if("string"!==typeof b)throw ta("itype",a);return new c(b)},getTrusted:function(d,e){if(null===e||w(e)||""===e)return e;var g=h.hasOwnProperty(d)?h[d]:null;if(g&&e instanceof g)return e.$$unwrapTrustedValue();if(d===oa.RESOURCE_URL){var g=Ca(e.toString()),n,p,r=!1;n=0;for(p=a.length;n<p;n++)if(c(a[n],g)){r=!0;break}if(r)for(n=0,p=b.length;n<p;n++)if(c(b[n],g)){r=!1;break}if(r)return e;throw ta("insecurl",e.toString());}if(d===oa.HTML)return f(e);throw ta("unsafe");},valueOf:function(a){return a instanceof
g?a.$$unwrapTrustedValue():a}}}]}function Pf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>za)throw ta("iequirks");var c=pa(oa);c.isEnabled=function(){return a};c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ya);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,
f=c.getTrusted,g=c.trustAs;q(oa,function(a,b){var d=Q(b);c[("parse_as_"+d).replace(xc,gb)]=function(b){return e(a,b)};c[("get_trusted_"+d).replace(xc,gb)]=function(b){return f(a,b)};c[("trust_as_"+d).replace(xc,gb)]=function(b){return g(a,b)}});return c}]}function Rf(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=Z((/android (\d+)/.exec(Q((a.navigator||
{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},h=g.body&&g.body.style,k=!1,l=!1;h&&(k=!!("transition"in h||"webkitTransition"in h),l=!!("animation"in h||"webkitAnimation"in h));return{history:!(!c||4>e||f),hasEvent:function(a){if("input"===a&&za)return!1;if(w(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:Ga(),transitions:k,animations:l,android:e}}]}function Tf(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$exceptionHandler",
"$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(h,k){g.totalPendingRequests++;if(!F(h)||w(d.get(h)))h=f.getTrustedResourceUrl(h);var l=c.defaults&&c.defaults.transformResponse;H(l)?l=l.filter(function(a){return a!==nc}):l===nc&&(l=null);return c.get(h,S({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){d.put(h,a.data);return a.data},function(a){k||(a=Dg("tpload",h,a.status,a.statusText),b(a));return e.reject(a)})}g.totalPendingRequests=
0;return g}]}function Uf(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,b,d){a=a.getElementsByClassName("ng-binding");var g=[];q(a,function(a){var c=ea.element(a).data("$binding");c&&q(c,function(c){d?(new RegExp("(^|\\s)"+Kd(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],h=0;h<g.length;++h){var k=a.querySelectorAll("["+g[h]+"model"+(d?"=":"*=")+'"'+b+
'"]');if(k.length)return k}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function Vf(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,k,l){D(f)||(l=k,k=f,f=z);var m=va.call(arguments,3),n=u(l)&&!l,p=(n?c:d).defer(),r=p.promise,q;q=b.defer(function(){try{p.resolve(f.apply(null,m))}catch(b){p.reject(b),e(b)}finally{delete g[r.$$timeoutId]}n||
a.$apply()},k);r.$$timeoutId=q;g[q]=p;return r}var g={};f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].promise.catch(z),g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1};return f}]}function Ca(a){za&&(aa.setAttribute("href",a),a=aa.href);aa.setAttribute("href",a);return{href:aa.href,protocol:aa.protocol?aa.protocol.replace(/:$/,""):"",host:aa.host,search:aa.search?aa.search.replace(/^\?/,""):"",hash:aa.hash?aa.hash.replace(/^#/,""):
"",hostname:aa.hostname,port:aa.port,pathname:"/"===aa.pathname.charAt(0)?aa.pathname:"/"+aa.pathname}}function yd(a){a=F(a)?Ca(a):a;return a.protocol===Md.protocol&&a.host===Md.host}function Wf(){this.$get=la(x)}function Nd(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,h,k,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(e=a,a=e.split("; "),c={},h=0;h<a.length;h++)g=a[h],k=g.indexOf("="),0<k&&(l=b(g.substring(0,k)),w(c[l])&&
(c[l]=b(g.substring(k+1))));return c}}function $f(){this.$get=Nd}function cd(a){function b(d,c){if(C(d)){var e={};q(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Od);b("date",Pd);b("filter",Eg);b("json",Fg);b("limitTo",Gg);b("lowercase",Hg);b("number",Qd);b("orderBy",Rd);b("uppercase",Ig)}function Eg(){return function(a,b,d,c){if(!qa(a)){if(null==a)return a;throw L("filter")("notarray",
a);}c=c||"$";var e;switch(yc(b)){case "function":break;case "boolean":case "null":case "number":case "string":e=!0;case "object":b=Jg(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Jg(a,b,d,c){var e=C(a)&&d in a;!0===b?b=sa:D(b)||(b=function(a,b){if(w(a))return!1;if(null===a||null===b)return a===b;if(C(b)||C(a)&&!Wb(a))return!1;a=Q(""+a);b=Q(""+b);return-1!==a.indexOf(b)});return function(f){return e&&!C(f)?Ea(f,a[d],b,d,!1):Ea(f,a,b,d,c)}}function Ea(a,b,d,c,e,
f){var g=yc(a),h=yc(b);if("string"===h&&"!"===b.charAt(0))return!Ea(a,b.substring(1),d,c,e);if(H(a))return a.some(function(a){return Ea(a,b,d,c,e)});switch(g){case "object":var k;if(e){for(k in a)if(k.charAt&&"$"!==k.charAt(0)&&Ea(a[k],b,d,c,!0))return!0;return f?!1:Ea(a,b,d,c,!1)}if("object"===h){for(k in b)if(f=b[k],!D(f)&&!w(f)&&(g=k===c,!Ea(g?a:a[k],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function yc(a){return null===a?"null":typeof a}function Od(a){var b=
a.NUMBER_FORMATS;return function(a,c,e){w(c)&&(c=b.CURRENCY_SYM);w(e)&&(e=b.PATTERNS[1].maxFrac);return null==a?a:Sd(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(/\u00A4/g,c)}}function Qd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Sd(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Kg(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Td))&&(a=a.replace(Td,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)===zc;e++);
if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===zc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Ud&&(d=d.splice(0,Ud-1),b=c-1,c=1);return{d:d,e:b,i:c}}function Lg(a,b,d,c){var e=a.d,f=e.length-a.i;b=w(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-
1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Sd(a,b,d,c,e){if(!F(a)&&!ba(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,h=Math.abs(a)+"",k="";if(f)k="\u221e";else{g=Kg(h);Lg(g,e,b.minFrac,b.maxFrac);k=g.d;h=g.i;e=g.e;f=[];for(g=k.reduce(function(a,b){return a&&!b},!0);0>h;)k.unshift(0),h++;0<h?f=k.splice(h,k.length):(f=k,k=[0]);h=[];for(k.length>=b.lgSize&&h.unshift(k.splice(-b.lgSize,k.length).join(""));k.length>
b.gSize;)h.unshift(k.splice(-b.gSize,k.length).join(""));k.length&&h.unshift(k.join(""));k=h.join(d);f.length&&(k+=c+f.join(""));e&&(k+="e+"+e)}return 0>a&&!g?b.negPre+k+b.negSuf:b.posPre+k+b.posSuf}function Kb(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=zc+a;d&&(a=a.substr(a.length-b));return e+a}function Y(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===f&&-12===d&&(f=12);return Kb(f,b,c,e)}}function mb(a,b,d){return function(c,e){var f=
c["get"+a](),g=ub((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Vd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Wd(a){return function(b){var d=Vd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Kb(b,a)}}function Ac(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Pd(a){function b(a){var b;if(b=a.match(d)){a=new Date(0);var f=0,g=0,h=b[8]?a.setUTCFullYear:a.setFullYear,
k=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=Z(b[9]+b[10]),g=Z(b[9]+b[11]));h.call(a,Z(b[1]),Z(b[2])-1,Z(b[3]));f=Z(b[4]||0)-f;g=Z(b[5]||0)-g;h=Z(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));k.call(a,f,g,h,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",h=[],k,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||d;F(c)&&(c=Mg.test(c)?Z(c):b(c));ba(c)&&(c=new Date(c));if(!ga(c)||!isFinite(c.getTime()))return c;
for(;d;)(l=Ng.exec(d))?(h=ab(h,l,1),d=h.pop()):(h.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=Pc(f,m),c=Yb(c,f,!0));q(h,function(b){k=Og[b];g+=k?k(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Fg(){return function(a,b){w(b)&&(b=2);return cb(a,b)}}function Gg(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):Z(b);if(da(b))return a;ba(a)&&(a=a.toString());if(!qa(a))return a;d=!d||isNaN(d)?0:Z(d);d=0>d?Math.max(0,a.length+
d):d;return 0<=b?Bc(a,d,d+b):0===d?Bc(a,b,a.length):Bc(a,Math.max(0,d+b),d)}}function Bc(a,b,d){return F(a)?a.slice(b,d):va.call(a,b,d)}function Rd(a){function b(b){return b.map(function(b){var c=1,d=Ya;if(D(b))d=b;else if(F(b)){if("+"===b.charAt(0)||"-"===b.charAt(0))c="-"===b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(d=a(b),d.constant))var e=d(),d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;default:return!1}}
function c(a,b){var c=0,d=a.type,k=b.type;if(d===k){var k=a.value,l=b.value;"string"===d?(k=k.toLowerCase(),l=l.toLowerCase()):"object"===d&&(C(k)&&(k=a.index),C(l)&&(l=b.index));k!==l&&(c=k<l?-1:1)}else c=d<k?-1:1;return c}return function(a,f,g,h){if(null==a)return a;if(!qa(a))throw L("orderBy")("notarray",a);H(f)||(f=[f]);0===f.length&&(f=["+"]);var k=b(f),l=g?-1:1,m=D(h)?h:c;a=Array.prototype.map.call(a,function(a,b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:k.map(function(c){var e=
c.get(a);c=typeof e;if(null===e)c="string",e="null";else if("object"===c)a:{if(D(e.valueOf)&&(e=e.valueOf(),d(e)))break a;Wb(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var c=0,d=k.length;c<d;c++){var e=m(a.predicateValues[c],b.predicateValues[c]);if(e)return e*k[c].descending*l}return m(a.tieBreaker,b.tieBreaker)*l});return a=a.map(function(a){return a.value})}}function Qa(a){D(a)&&(a={link:a});a.restrict=a.restrict||"AC";return la(a)}function Lb(a,b,d,
c,e){this.$$controls=[];this.$error={};this.$$success={};this.$pending=void 0;this.$name=e(b.name||b.ngForm||"")(d);this.$dirty=!1;this.$valid=this.$pristine=!0;this.$submitted=this.$invalid=!1;this.$$parentForm=Mb;this.$$element=a;this.$$animate=c;Xd(this)}function Xd(a){a.$$classCache={};a.$$classCache[Yd]=!(a.$$classCache[nb]=a.$$element.hasClass(nb))}function Zd(a){function b(a,b,c){c&&!a.$$classCache[b]?(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,
b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Tc(c,"-"):"";b(a,nb+c,!0===d);b(a,Yd+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,h){w(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,h)):(this.$pending&&e(this.$pending,a,h),$d(this.$pending)&&(this.$pending=void 0));Ha(g)?g?(e(this.$error,a,h),c(this.$$success,a,h)):(c(this.$error,a,h),e(this.$$success,a,h)):(e(this.$error,a,h),e(this.$$success,a,h));this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=
void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=$d(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid));g=this.$pending&&this.$pending[a]?void 0:this.$error[a]?!1:this.$$success[a]?!0:null;d(this,a,g);this.$$parentForm.$setValidity(a,g,this)}}function $d(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Cc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function Ra(a,b,d,c,e,f){var g=Q(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",
function(){h=!0});b.on("compositionend",function(){h=!1;l()})}var k,l=function(a){k&&(f.defer.cancel(k),k=null);if(!h){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=T(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=function(a,b,c){k||(k=f.defer(function(){k=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut",
m)}b.on("change",l);if(ae[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!k){var b=this.validity,c=b.badInput,d=b.typeMismatch;k=f.defer(function(){k=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?"":c.$viewValue;b.val()!==a&&b.val(a)}}function Nb(a,b){return function(d,c){var e,f;if(ga(d))return d;if(F(d)){'"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(Pg.test(d))return new Date(d);
a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},q(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),new Date(f.yyyy,f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0)}return NaN}}function ob(a,b,d,c){return function(e,f,g,h,k,l,m){function n(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function p(a){return u(a)&&!ga(a)?d(a)||
void 0:a}Dc(e,f,g,h);Ra(e,f,g,h,k,l);var r=h&&h.$options.getOption("timezone"),q;h.$$parserName=a;h.$parsers.push(function(a){if(h.$isEmpty(a))return null;if(b.test(a))return a=d(a,q),r&&(a=Yb(a,r)),a});h.$formatters.push(function(a){if(a&&!ga(a))throw pb("datefmt",a);if(n(a))return(q=a)&&r&&(q=Yb(q,r,!0)),m("date")(a,c,r);q=null;return""});if(u(g.min)||g.ngMin){var v;h.$validators.min=function(a){return!n(a)||w(v)||d(a)>=v};g.$observe("min",function(a){v=p(a);h.$validate()})}if(u(g.max)||g.ngMax){var t;
h.$validators.max=function(a){return!n(a)||w(t)||d(a)<=t};g.$observe("max",function(a){t=p(a);h.$validate()})}}}function Dc(a,b,d,c){(c.$$hasNativeValidators=C(b[0].validity))&&c.$parsers.push(function(a){var c=b.prop("validity")||{};return c.badInput||c.typeMismatch?void 0:a})}function be(a){a.$$parserName="number";a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(Qg.test(b))return parseFloat(b)});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!ba(b))throw pb("numfmt",b);b=b.toString()}return b})}
function Sa(a){u(a)&&!ba(a)&&(a=parseFloat(a));return da(a)?void 0:a}function Ec(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function ce(a,b,d){a=Number(a);var c=(a|0)!==a,e=(b|0)!==b,f=(d|0)!==d;if(c||e||f){var g=c?Ec(a):0,h=e?Ec(b):0,k=f?Ec(d):0,g=Math.max(g,h,k),g=Math.pow(10,g);a*=g;b*=g;d*=g;c&&(a=Math.round(a));e&&(b=Math.round(b));f&&(d=Math.round(d))}return 0===(a-b)%d}function de(a,b,d,c,e){if(u(c)){a=a(c);if(!a.constant)throw pb("constexpr",
d,c);return a(b)}return e}function Fc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function c(a){var b=a;H(a)?b=a.map(c).join(" "):C(a)&&(b=Object.keys(a).filter(function(b){return a[b]}).join(" "));return b}a="ngClass"+a;var e;return["$parse",function(f){return{restrict:"AC",link:function(g,h,k){function l(a,b){var c=[];q(a,function(a){if(0<b||n[a])n[a]=(n[a]||
0)+b,n[a]===+(0<b)&&c.push(a)});return c.join(" ")}function m(a){if(a===b){var c=r,c=l(c&&c.split(" "),1);k.$addClass(c)}else c=r,c=l(c&&c.split(" "),-1),k.$removeClass(c);p=a}var n=h.data("$classCounts"),p=!0,r;n||(n=V(),h.data("$classCounts",n));"ngClass"!==a&&(e||(e=f("$index",function(a){return a&1})),g.$watch(e,m));g.$watch(f(k[a],c),function(a){F(a)||(a=c(a));if(p===b){var e=a,f=r&&r.split(" "),g=e&&e.split(" "),e=d(f,g),f=d(g,f),e=l(e,-1),f=l(f,1);k.$addClass(f);k.$removeClass(e)}r=a})}}}]}
function Ob(a,b,d,c,e,f,g,h,k){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=k(d.name||"",!1)(a);this.$$parentForm=Mb;this.$options=Pb;this.$$parsedNgModel=e(d.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;
this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=void 0;this.$$currentValidationRunId=0;Object.defineProperty(this,"$$scope",{value:a});this.$$attr=d;this.$$element=c;this.$$animate=f;this.$$timeout=g;this.$$parse=e;this.$$q=h;this.$$exceptionHandler=b;Xd(this);Rg(this)}function Rg(a){a.$$scope.$watch(function(b){b=a.$$ngModelGet(b);if(b!==a.$modelValue&&(a.$modelValue===a.$modelValue||b===b)){a.$modelValue=a.$$rawModelValue=
b;a.$$parserValid=void 0;for(var d=a.$formatters,c=d.length,e=b;c--;)e=d[c](e);a.$viewValue!==e&&(a.$$updateEmptyClasses(e),a.$viewValue=a.$$lastCommittedViewValue=e,a.$render(),a.$$runValidators(a.$modelValue,a.$viewValue,z))}return b})}function Gc(a){this.$$options=a}function ee(a,b){q(b,function(b,c){u(a[c])||(a[c]=b)})}function Ta(a,b){a.prop("selected",b);a.attr("selected",b)}var Sg=/^\/(.+)\/([a-z]*)$/,ua=Object.prototype.hasOwnProperty,Ic={objectMaxDepth:5},Q=function(a){return F(a)?a.toLowerCase():
a},ub=function(a){return F(a)?a.toUpperCase():a},za,B,na,va=[].slice,sg=[].splice,Tg=[].push,ma=Object.prototype.toString,Mc=Object.getPrototypeOf,Fa=L("ng"),ea=x.angular||(x.angular={}),ac,qb=0;za=x.document.documentMode;var da=Number.isNaN||function(a){return a!==a};z.$inject=[];Ya.$inject=[];var H=Array.isArray,qe=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,T=function(a){return F(a)?a.trim():a},Kd=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,
"\\$1").replace(/\x08/g,"\\x08")},Ga=function(){if(!u(Ga.rules)){var a=x.document.querySelector("[ng-csp]")||x.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");Ga.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=Ga;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return Ga.rules},rb=function(){if(u(rb.name_))return rb.name_;var a,b,d=Ja.length,
c,e;for(b=0;b<d;++b)if(c=Ja[b],a=x.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return rb.name_=e},se=/:/g,Ja=["ng-","data-ng-","ng:","x-ng-"],ve=function(a){var b=a.currentScript;if(!b)return!0;if(!(b instanceof x.HTMLScriptElement||b instanceof x.SVGScriptElement))return!1;b=b.attributes;return[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");c.href=
b.value;if(a.location.origin===c.origin)return!0;switch(c.protocol){case "http:":case "https:":case "ftp:":case "blob:":case "file:":case "data:":return!0;default:return!1}})}(x.document),ye=/[A-Z]/g,Uc=!1,Ia=3,De={full:"1.6.4",major:1,minor:6,dot:4,codeName:"phenomenal-footnote"};W.expando="ng339";var hb=W.cache={},eg=1;W._data=function(a){return this.cache[a[this.expando]]||{}};var ag=/-([a-z])/g,Ug=/^-ms-/,zb={mouseleave:"mouseout",mouseenter:"mouseover"},dc=L("jqLite"),dg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
cc=/<|&#?\w+;/,bg=/<([\w:-]+)/,cg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ha={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ha.optgroup=ha.option;ha.tbody=ha.tfoot=ha.colgroup=ha.caption=ha.thead;ha.th=ha.td;var jg=x.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&
16)},Na=W.prototype={ready:ed,toString:function(){var a=[];q(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?B(this[a]):B(this[this.length+a])},length:0,push:Tg,sort:[].sort,splice:[].splice},Fb={};q("multiple selected checked disabled readOnly required open".split(" "),function(a){Fb[Q(a)]=a});var jd={};q("input select option textarea button form details".split(" "),function(a){jd[a]=!0});var rd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",
ngPattern:"pattern",ngStep:"step"};q({data:hc,removeData:gc,hasData:function(a){for(var b in hb[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)gc(a[b])}},function(a,b){W[b]=a});q({data:hc,inheritedData:Db,scope:function(a){return B.data(a,"$scope")||Db(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return B.data(a,"$isolateScope")||B.data(a,"$isolateScopeNoTemplate")},controller:gd,injector:function(a){return Db(a,"$injector")},removeAttr:function(a,
b){a.removeAttribute(b)},hasClass:Ab,css:function(a,b,d){b=wb(b.replace(Ug,"ms-"));if(u(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==Ia&&2!==c&&8!==c&&a.getAttribute){var c=Q(b),e=Fb[c];if(u(d))null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d);else return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a}},prop:function(a,b,d){if(u(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(w(d)){var c=a.nodeType;return 1===c||c===Ia?
a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(w(b)){if(a.multiple&&"select"===wa(a)){var d=[];q(a.options,function(a){a.selected&&d.push(a.value||a.text)});return d}return a.value}a.value=b},html:function(a,b){if(w(b))return a.innerHTML;xb(a,!0);a.innerHTML=b},empty:hd},function(a,b){W.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==hd&&w(2===a.length&&a!==Ab&&a!==gd?b:c)){if(C(b)){for(e=0;e<g;e++)if(a===hc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=
a.$dv;g=w(e)?Math.min(g,1):g;for(f=0;f<g;f++){var h=a(this[f],b,c);e=e?e+h:h}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});q({removeData:gc,on:function(a,b,d,c){if(u(c))throw dc("onargs");if(bc(a)){c=yb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=gg(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,h=function(b,c,g){var h=e[b];h||(h=e[b]=[],h.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f));h.push(d)};g--;)b=c[g],zb[b]?(h(zb[b],ig),h(b,void 0,!0)):h(b)}},
off:fd,one:function(a,b,d){a=B(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;xb(a);q(new W(b),function(b){d?c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];q(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new W(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},
prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;q(new W(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){var d=B(b).eq(0).clone()[0],c=a.parentNode;c&&c.replaceChild(d,a);d.appendChild(a)},remove:Eb,detach:function(a){Eb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c){b=new W(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}}},addClass:Cb,removeClass:Bb,toggleClass:function(a,b,d){b&&q(b.split(" "),function(b){var e=d;w(e)&&(e=!Ab(a,b));
(e?Cb:Bb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:fc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=yb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===
this.immediatePropagationStopped},stopPropagation:z,type:f,target:a},b.type&&(c=S(c,b)),b=pa(g),e=d?[c].concat(d):[c],q(b,function(b){c.isImmediatePropagationStopped()||b.apply(a,e)})}},function(a,b){W.prototype[b]=function(b,c,e){for(var f,g=0,h=this.length;g<h;g++)w(f)?(f=a(this[g],b,c,e),u(f)&&(f=B(f))):ec(f,a(this[g],b,c,e));return u(f)?f:this}});W.prototype.bind=W.prototype.on;W.prototype.unbind=W.prototype.off;var Vg=Object.create(null);kd.prototype={_idx:function(a){if(a===this._lastKey)return this._lastIndex;
this._lastKey=a;return this._lastIndex=this._keys.indexOf(a)},_transformKey:function(a){return da(a)?Vg:a},get:function(a){a=this._transformKey(a);a=this._idx(a);if(-1!==a)return this._values[a]},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length);this._keys[d]=a;this._values[d]=b},delete:function(a){a=this._transformKey(a);a=this._idx(a);if(-1===a)return!1;this._keys.splice(a,1);this._values.splice(a,1);this._lastKey=NaN;this._lastIndex=-1;return!0}};
var Gb=kd,Zf=[function(){this.$get=[function(){return Gb}]}],lg=/^([^(]+?)=>/,mg=/^[^(]*\(\s*([^)]*)\)/m,Wg=/,/,Xg=/^\s*(_?)(\S+?)\1\s*$/,kg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,ya=L("$injector");eb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw F(d)&&d||(d=a.name||ng(a)),ya("strictdi",d);b=ld(a);q(b[1].split(Wg),function(a){a.replace(Xg,function(a,b,d){c.push(d)})})}a.$inject=c}}else H(a)?(b=a.length-1,sb(a[b],"fn"),c=a.slice(0,b)):sb(a,"fn",
!0);return c};var fe=L("$animate"),qf=function(){this.$get=z},rf=function(){var a=new Gb,b=[];this.$get=["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=F(b)?b.split(" "):H(b)?b:[],q(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){q(b,function(b){var c=a.get(b);if(c){var d=og(b.attr("class")),e="",f="";q(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});q(b,function(a){e&&Cb(a,e);f&&Bb(a,f)});a.delete(b)}});b.length=0}return{enabled:z,
on:z,off:z,pin:z,push:function(g,h,k,l){l&&l();k=k||{};k.from&&g.css(k.from);k.to&&g.css(k.to);if(k.addClass||k.removeClass)if(h=k.addClass,l=k.removeClass,k=a.get(g)||{},h=e(k,h,!0),l=e(k,l,!1),h||l)a.set(g,k),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},of=["$provide",function(a){var b=this,d=null;this.$$registeredAnimations=Object.create(null);this.register=function(c,d){if(c&&"."!==c.charAt(0))throw fe("notcsel",c);var f=c+"-animation";b.$$registeredAnimations[c.substr(1)]=
f;a.factory(f,d)};this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,fe("nongcls","ng-animate");return d};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var l=d[e];if(1===l.nodeType){e=l;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&
a.end()},enter:function(d,g,h,k){g=g&&B(g);h=h&&B(h);g=g||h.parent();b(d,g,h);return a.push(d,"enter",ia(k))},move:function(d,g,h,k){g=g&&B(g);h=h&&B(h);g=g||h.parent();b(d,g,h);return a.push(d,"move",ia(k))},leave:function(b,d){return a.push(b,"leave",ia(d),function(){b.remove()})},addClass:function(b,d,e){e=ia(e);e.addClass=ib(e.addclass,d);return a.push(b,"addClass",e)},removeClass:function(b,d,e){e=ia(e);e.removeClass=ib(e.removeClass,d);return a.push(b,"removeClass",e)},setClass:function(b,d,
e,k){k=ia(k);k.addClass=ib(k.addClass,d);k.removeClass=ib(k.removeClass,e);return a.push(b,"setClass",k)},animate:function(b,d,e,k,l){l=ia(l);l.from=l.from?S(l.from,d):d;l.to=l.to?S(l.to,e):e;l.tempClasses=ib(l.tempClasses,k||"ng-inline-animate");return a.push(b,"animate",l)}}}]}],tf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},
sf=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){c()?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;q(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},
done:function(a){2===this._state?a():this._doneCallbacks.push(a)},progress:z,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&
this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(q(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},pf=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=
null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);h||k.complete();h=!0});return k}var g=e||{};g.$$prepared||(g=ra(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var h,k=new d;return{start:f,end:f}}}]},fa=L("$compile"),lc=new function(){};Wc.$inject=["$provide","$$sanitizeUriProvider"];Ib.prototype.isFirstChange=function(){return this.previousValue===lc};var md=/^((?:x|data)[:\-_])/i,rg=/[:\-_]+(.)/g,td=L("$controller"),
sd=/^(\S+)(\s+as\s+([\w$]+))?$/,Af=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof B&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},ud="application/json",pc={"Content-Type":ud+";charset=utf-8"},ug=/^\[|^\{(?!\{)/,vg={"[":/]$/,"{":/}$/},tg=/^\)]\}',?\n/,oc=L("$http"),Da=ea.$interpolateMinErr=L("$interpolate");Da.throwNoconcat=function(a){throw Da("noconcat",a);};Da.interr=function(a,b){return Da("interr",a,b.toString())};var If=function(){this.$get=function(){function a(a){var b=
function(a){b.data=a;b.called=!0};b.id=a;return b}var b=ea.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+c,f=a(c);d[e]=b[c]=f;return e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id];delete d[a]}}}},Yg=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,xg={http:80,https:443,ftp:21},kb=L("$location"),yg=/^\s*[\\/]{2,}/,Zg={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:Jb("$$absUrl"),
url:function(a){if(w(a))return this.$$url;var b=Yg.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Jb("$$protocol"),host:Jb("$$host"),port:Jb("$$port"),path:Cd("$$path",function(a){a=null!==a?a.toString():"";return"/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(F(a)||ba(a))a=a.toString(),this.$$search=Rc(a);else if(C(a))a=ra(a,{}),q(a,function(b,
c){null==b&&delete a[c]}),this.$$search=a;else throw kb("isrcharg");break;default:w(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:Cd("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};q([Bd,tc,sc],function(a){a.prototype=Object.create(Zg);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==sc||!this.$$html5)throw kb("nostate");this.$$state=w(b)?null:b;this.$$urlUpdatedByLocation=
!0;return this}});var Ua=L("$parse"),Bg={}.constructor.prototype.valueOf,Qb=V();q("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Qb[a]=!0});var $g={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},wc=function(a){this.options=a};wc.prototype={constructor:wc,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();
else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;else{var b=a+this.peek(),d=b+this.peek(2),c=Qb[b],e=Qb[d];Qb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=
a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?
this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===
a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw Ua("lexerr",a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=Q(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||
c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;
for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=$g[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var s=function(a,b){this.lexer=
a;this.options=b};s.Program="Program";s.ExpressionStatement="ExpressionStatement";s.AssignmentExpression="AssignmentExpression";s.ConditionalExpression="ConditionalExpression";s.LogicalExpression="LogicalExpression";s.BinaryExpression="BinaryExpression";s.UnaryExpression="UnaryExpression";s.CallExpression="CallExpression";s.MemberExpression="MemberExpression";s.Identifier="Identifier";s.Literal="Literal";s.ArrayExpression="ArrayExpression";s.Property="Property";s.ObjectExpression="ObjectExpression";
s.ThisExpression="ThisExpression";s.LocalsExpression="LocalsExpression";s.NGValueParameter="NGValueParameter";s.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:s.Program,body:a}},expressionStatement:function(){return{type:s.ExpressionStatement,
expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Fd(a))throw Ua("lval");a={type:s.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:s.ConditionalExpression,
test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:s.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:s.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.relational()};
return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=this.multiplicative(),b;b=this.expect("+","-");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:s.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},
unary:function(){var a;return(a=this.expect("+","-","!"))?{type:s.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=ra(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:s.Literal,value:this.options.literals[this.consume().text]}:
this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:s.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:s.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:s.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");
return a},filter:function(a){a=[a];for(var b={type:s.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=[];if(")"!==this.peekToken().text){do a.push(this.filterChain());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:s.Identifier,name:a.text}},constant:function(){return{type:s.Literal,value:this.consume().value}},
arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:s.ArrayExpression,elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:s.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?
(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");return{type:s.ObjectExpression,properties:a}},throwError:function(a,b){throw Ua("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw Ua("ueoe",
this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw Ua("ueoe",this.text);return this.tokens[0]},peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:s.ThisExpression},
$locals:{type:s.LocalsExpression}}};Hd.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]};U(a,b.$filter);var d="",c;this.stage="assign";if(c=Gd(a))this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l");c=Ed(a.body);b.stage="inputs";q(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}};b.state.computing=d;var h=b.nextId();
b.recurse(a,h);b.return_(h);b.state.inputs.push(d);a.watchId=c});this.state.computing="fn";this.stage="main";this.recurse(a);a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;";a=(new Function("$filter","getStringValue","ifDefined","plus",a))(this.$filter,zg,Ag,Dd);this.state=this.stage=void 0;return a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;q(b,function(b){a.push("var "+
b+"="+d.generateFunction(b,"s"))});b.length&&a.push("fn.inputs=["+b.join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;q(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},
recurse:function(a,b,d,c,e,f){var g,h,k=this,l,m,n;c=c||z;if(!f&&u(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case s.Program:q(a.body,function(b,c){k.recurse(b.expression,void 0,void 0,function(a){h=a});c!==a.body.length-1?k.current().body.push(h,";"):k.return_(h)});break;case s.Literal:m=this.escape(a.value);this.assign(b,m);c(b||m);break;case s.UnaryExpression:this.recurse(a.argument,void 0,
void 0,function(a){h=a});m=a.operator+"("+this.ifDefined(h,0)+")";this.assign(b,m);c(m);break;case s.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a});this.recurse(a.right,void 0,void 0,function(a){h=a});m="+"===a.operator?this.plus(g,h):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(h,0):"("+g+")"+a.operator+"("+h+")";this.assign(b,m);c(m);break;case s.LogicalExpression:b=b||this.nextId();k.recurse(a.left,b);k.if_("&&"===a.operator?b:k.not(b),k.lazyRecurse(a.right,
b));c(b);break;case s.ConditionalExpression:b=b||this.nextId();k.recurse(a.test,b);k.if_(b,k.lazyRecurse(a.alternate,b),k.lazyRecurse(a.consequent,b));c(b);break;case s.Identifier:b=b||this.nextId();d&&(d.context="inputs"===k.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);k.if_("inputs"===k.stage||k.not(k.getHasOwnProperty("l",a.name)),function(){k.if_("inputs"===k.stage||"s",function(){e&&1!==e&&k.if_(k.isNull(k.nonComputedMember("s",a.name)),
k.lazyAssign(k.nonComputedMember("s",a.name),"{}"));k.assign(b,k.nonComputedMember("s",a.name))})},b&&k.lazyAssign(b,k.nonComputedMember("l",a.name)));c(b);break;case s.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();k.recurse(a.object,g,void 0,function(){k.if_(k.notNull(g),function(){a.computed?(h=k.nextId(),k.recurse(a.property,h),k.getStringValue(h),e&&1!==e&&k.if_(k.not(k.computedMember(g,h)),k.lazyAssign(k.computedMember(g,h),"{}")),m=k.computedMember(g,h),k.assign(b,
m),d&&(d.computed=!0,d.name=h)):(e&&1!==e&&k.if_(k.isNull(k.nonComputedMember(g,a.property.name)),k.lazyAssign(k.nonComputedMember(g,a.property.name),"{}")),m=k.nonComputedMember(g,a.property.name),k.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){k.assign(b,"undefined")});c(b)},!!e);break;case s.CallExpression:b=b||this.nextId();a.filter?(h=k.filter(a.callee.name),l=[],q(a.arguments,function(a){var b=k.nextId();k.recurse(a,b);l.push(b)}),m=h+"("+l.join(",")+")",k.assign(b,m),c(b)):
(h=k.nextId(),g={},l=[],k.recurse(a.callee,h,g,function(){k.if_(k.notNull(h),function(){q(a.arguments,function(b){k.recurse(b,a.constant?void 0:k.nextId(),void 0,function(a){l.push(a)})});m=g.name?k.member(g.context,g.name,g.computed)+"("+l.join(",")+")":h+"("+l.join(",")+")";k.assign(b,m)},function(){k.assign(b,"undefined")});c(b)}));break;case s.AssignmentExpression:h=this.nextId();g={};this.recurse(a.left,void 0,g,function(){k.if_(k.notNull(g.context),function(){k.recurse(a.right,h);m=k.member(g.context,
g.name,g.computed)+a.operator+h;k.assign(b,m);c(b||m)})},1);break;case s.ArrayExpression:l=[];q(a.elements,function(b){k.recurse(b,a.constant?void 0:k.nextId(),void 0,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(b||m);break;case s.ObjectExpression:l=[];n=!1;q(a.properties,function(a){a.computed&&(n=!0)});n?(b=b||this.nextId(),this.assign(b,"{}"),q(a.properties,function(a){a.computed?(g=k.nextId(),k.recurse(a.key,g)):g=a.key.type===s.Identifier?a.key.name:""+a.key.value;h=k.nextId();
k.recurse(a.value,h);k.assign(k.member(b,g,a.computed),h)})):(q(a.properties,function(b){k.recurse(b.value,a.constant?void 0:k.nextId(),void 0,function(a){l.push(k.escape(b.key.type===s.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m));c(b||m);break;case s.ThisExpression:this.assign(b,"s");c(b||"s");break;case s.LocalsExpression:this.assign(b,"l");c(b||"l");break;case s.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+
b,c=this.current().own;c.hasOwnProperty(d)||(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,
b,d){if(!0===a)b();else{var c=this.current().body;c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,
b)},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(F(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(ba(a))return a.toString();if(!0===a)return"true";if(!1===
a)return"false";if(null===a)return"null";if("undefined"===typeof a)return"undefined";throw Ua("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};Id.prototype={compile:function(a){var b=this;U(a,b.$filter);var d,c;if(d=Gd(a))c=this.recurse(d);d=Ed(a.body);var e;d&&(e=[],q(d,function(a,c){var d=b.recurse(a);a.input=d;e.push(d);a.watchId=c}));var f=[];q(a.body,function(a){f.push(b.recurse(a.expression))});
a=0===a.body.length?z:1===a.body.length?f[0]:function(a,b){var c;q(f,function(d){c=d(a,b)});return c};c&&(a.assign=function(a,b,d){return c(a,d,b)});e&&(a.inputs=e);return a},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case s.Literal:return this.value(a.value,b);case s.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case s.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+
a.operator](c,e,b);case s.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case s.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case s.Identifier:return f.identifier(a.name,b,d);case s.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,
e,b,d);case s.CallExpression:return g=[],q(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var n=[],p=0;p<g.length;++p)n.push(g[p](a,c,d,f));a=e.apply(void 0,n,f);return b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var n=e(a,c,d,f),p;if(null!=n.value){p=[];for(var r=0;r<g.length;++r)p.push(g[r](a,c,d,f));p=n.value.apply(n.context,p)}return b?{value:p}:p};case s.AssignmentExpression:return c=
this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var n=c(a,d,f,g);a=e(a,d,f,g);n.context[n.name]=a;return b?{value:a}:a};case s.ArrayExpression:return g=[],q(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],p=0;p<g.length;++p)f.push(g[p](a,c,d,e));return b?{value:f}:f};case s.ObjectExpression:return g=[],q(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===s.Identifier?a.key.name:
""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},p=0;p<g.length;++p)g[p].computed?f[g[p].key(a,c,d,e)]=g[p].value(a,c,d,e):f[g[p].key]=g[p].value(a,c,d,e);return b?{value:f}:f};case s.ThisExpression:return function(a){return b?{value:a}:a};case s.LocalsExpression:return function(a,c){return b?{value:c}:c};case s.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=u(d)?+d:0;return b?{value:d}:
d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=u(d)?-d:-0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=Dd(h,c);return d?{value:h}:h}},"binary-":function(a,b,d){return function(c,e,f,g){var h=a(c,e,f,g);c=b(c,e,f,g);h=(u(h)?h:0)-(u(c)?c:0);return d?{value:h}:h}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);
return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?
{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:
c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h)?b(e,f,g,h):d(e,f,g,h);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){c=e&&a in e?e:c;d&&1!==d&&c&&null==c[a]&&(c[a]=
{});e=c?c[a]:void 0;return b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,h){var k=a(e,f,g,h),l,m;null!=k&&(l=b(e,f,g,h),l+="",c&&1!==c&&k&&!k[l]&&(k[l]={}),m=k[l]);return d?{context:k,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,h){e=a(e,f,g,h);c&&1!==c&&e&&null==e[b]&&(e[b]={});f=null!=e?e[b]:void 0;return d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};uc.prototype=
{constructor:uc,parse:function(a){a=this.ast.ast(a);var b=this.astCompiler.compile(a);b.literal=0===a.body.length||1===a.body.length&&(a.body[0].expression.type===s.Literal||a.body[0].expression.type===s.ArrayExpression||a.body[0].expression.type===s.ObjectExpression);b.constant=a.constant;return b}};var ta=L("$sce"),oa={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},xc=/_([a-z])/g,Dg=L("$compile"),aa=x.document.createElement("a"),Md=Ca(x.location.href);Nd.$inject=["$document"];
cd.$inject=["$provide"];var Ud=22,Td=".",zc="0";Od.$inject=["$locale"];Qd.$inject=["$locale"];var Og={yyyy:Y("FullYear",4,0,!1,!0),yy:Y("FullYear",2,0,!0,!0),y:Y("FullYear",1,0,!1,!0),MMMM:mb("Month"),MMM:mb("Month",!0),MM:Y("Month",2,1),M:Y("Month",1,1),LLLL:mb("Month",!1,!0),dd:Y("Date",2),d:Y("Date",1),HH:Y("Hours",2),H:Y("Hours",1),hh:Y("Hours",2,-12),h:Y("Hours",1,-12),mm:Y("Minutes",2),m:Y("Minutes",1),ss:Y("Seconds",2),s:Y("Seconds",1),sss:Y("Milliseconds",3),EEEE:mb("Day"),EEE:mb("Day",!0),
a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Kb(Math[0<a?"floor":"ceil"](a/60),2)+Kb(Math.abs(a%60),2))},ww:Wd(2),w:Wd(1),G:Ac,GG:Ac,GGG:Ac,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},Ng=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,Mg=/^-?\d+$/;Pd.$inject=["$locale"];var Hg=la(Q),Ig=la(ub);Rd.$inject=["$parse"];var Fe=la({restrict:"E",compile:function(a,
b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ma.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};q(Fb,function(a,b){function d(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=Ba("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)});vb[c]=function(){return{restrict:"A",priority:100,link:e}}}});q(rd,function(a,b){vb[b]=
function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(Sg))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});q(["src","srcset","href"],function(a){var b=Ba("ng-"+a);vb[b]=function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ma.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),
za&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var Mb={$addControl:z,$$renameControl:function(a,b){a.$name=b},$removeControl:z,$setValidity:z,$setDirty:z,$setPristine:z,$setSubmitted:z};Lb.$inject=["$element","$attrs","$scope","$animate","$interpolate"];Lb.prototype={$rollbackViewValue:function(){q(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){q(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Ka(a.$name,"input");this.$$controls.push(a);
a.$name&&(this[a.$name]=a);a.$$parentForm=this},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d];this[b]=a;a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===a&&delete this[a.$name];q(this.$pending,function(b,d){this.$setValidity(d,null,a)},this);q(this.$error,function(b,d){this.$setValidity(d,null,a)},this);q(this.$$success,function(b,d){this.$setValidity(d,null,a)},this);$a(this.$$controls,a);a.$$parentForm=Mb},$setDirty:function(){this.$$animate.removeClass(this.$$element,
Va);this.$$animate.addClass(this.$$element,Rb);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Va,Rb+" ng-submitted");this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;q(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){q(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted");this.$submitted=!0;this.$$parentForm.$setSubmitted()}};
Zd({clazz:Lb,set:function(a,b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&($a(c,d),0===c.length&&delete a[b])}});var ge=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||z}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Lb,compile:function(d,f){d.addClass(Va).addClass(nb);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var n=f[0];if(!("action"in
e)){var p=function(b){a.$apply(function(){n.$commitViewValue();n.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",p);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",p)},0,!1)})}(f[1]||n.$$parentForm).$addControl(n);var r=g?c(n.$name):z;g&&(r(a,n),e.$observe(g,function(b){n.$name!==b&&(r(a,void 0),n.$$parentForm.$$renameControl(n,b),r=c(n.$name),r(a,n))}));d.on("$destroy",function(){n.$$parentForm.$removeControl(n);r(a,void 0);S(n,Mb)})}}}}}]},Ge=ge(),
Se=ge(!0),Pg=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,ah=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,bh=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,Qg=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,he=/^(\d{4,})-(\d{2})-(\d{2})$/,ie=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,
Hc=/^(\d{4,})-W(\d\d)$/,je=/^(\d{4,})-(\d\d)$/,ke=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ae=V();q(["date","datetime-local","month","time","week"],function(a){ae[a]=!0});var le={text:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f);Cc(c)},date:ob("date",he,Nb(he,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":ob("datetimelocal",ie,Nb(ie,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:ob("time",ke,Nb(ke,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:ob("week",Hc,function(a,b){if(ga(a))return a;
if(F(a)){Hc.lastIndex=0;var d=Hc.exec(a);if(d){var c=+d[1],e=+d[2],f=d=0,g=0,h=0,k=Vd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),h=b.getMilliseconds());return new Date(c,0,k.getDate()+e,d,f,g,h)}}return NaN},"yyyy-Www"),month:ob("month",je,Nb(je,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Dc(a,b,d,c);be(c);Ra(a,b,d,c,e,f);var g,h;if(u(d.min)||d.ngMin)c.$validators.min=function(a){return c.$isEmpty(a)||w(g)||a>=g},d.$observe("min",function(a){g=Sa(a);c.$validate()});
if(u(d.max)||d.ngMax)c.$validators.max=function(a){return c.$isEmpty(a)||w(h)||a<=h},d.$observe("max",function(a){h=Sa(a);c.$validate()});if(u(d.step)||d.ngStep){var k;c.$validators.step=function(a,b){return c.$isEmpty(b)||w(k)||ce(b,g||0,k)};d.$observe("step",function(a){k=Sa(a);c.$validate()})}},url:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f);Cc(c);c.$$parserName="url";c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||ah.test(d)}},email:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f);Cc(c);c.$$parserName=
"email";c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||bh.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==T(d.ngTrim);w(d.name)&&b.attr("name",++qb);b.on("click",function(a){var g;b[0].checked&&(g=d.value,e&&(g=T(g)),c.$setViewValue(g,a&&a.type))});c.$render=function(){var a=d.value;e&&(a=T(a));b[0].checked=a===c.$viewValue};d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]);d.$observe(a,c)}function h(a){n=Sa(a);da(c.$modelValue)||
(m?(a=b.val(),n>a&&(a=n,b.val(a)),c.$setViewValue(a)):c.$validate())}function k(a){p=Sa(a);da(c.$modelValue)||(m?(a=b.val(),p<a&&(b.val(p),a=p<n?n:p),c.$setViewValue(a)):c.$validate())}function l(a){r=Sa(a);da(c.$modelValue)||(m&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}Dc(a,b,d,c);be(c);Ra(a,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,n=m?0:void 0,p=m?100:void 0,r=m?1:void 0,q=b[0].validity;a=u(d.min);e=u(d.max);f=u(d.step);var s=c.$render;c.$render=m&&u(q.rangeUnderflow)&&
u(q.rangeOverflow)?function(){s();c.$setViewValue(b.val())}:s;a&&(c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(n)||b>=n},g("min",h));e&&(c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||w(p)||b<=p},g("max",k));f&&(c.$validators.step=m?function(){return!q.stepMismatch}:function(a,b){return c.$isEmpty(b)||w(r)||ce(b,n||0,r)},g("step",l))},checkbox:function(a,b,d,c,e,f,g,h){var k=de(h,a,"ngTrueValue",d.ngTrueValue,!0),l=de(h,a,"ngFalseValue",
d.ngFalseValue,!1);b.on("click",function(a){c.$setViewValue(b[0].checked,a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return sa(a,k)});c.$parsers.push(function(a){return a?k:l})},hidden:z,button:z,submit:z,reset:z,file:z},Xc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(le[Q(g.type)]||le.text)(e,f,g,h[0],b,a,d,c)}}}}],ch=/^(true|false|\d+)$/,
kf=function(){function a(a,d,c){var e=u(c)?c:9===za?"":null;a.prop("value",e);d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return ch.test(d.ngValue)?function(b,d,f){b=b.$eval(f.ngValue);a(d,f,b)}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},Ke=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=$b(a)})}}}}],Me=["$interpolate",
"$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=w(a)?"":a})}}}}],Le=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,
function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],jf=la({restrict:"A",require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Ne=Fc("",!0),Pe=Fc("Odd",0),Oe=Fc("Even",1),Qe=Qa({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),Re=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],bd={},dh={blur:!0,focus:!0};q("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),
function(a){var b=Ba("ng-"+a);bd[b]=["$parse","$rootScope",function(d,c){return{restrict:"A",compile:function(e,f){var g=d(f[b]);return function(b,d){d.on(a,function(d){var e=function(){g(b,{$event:d})};dh[a]&&c.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var Ue=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var h,k,l;d.$watch(e.ngIf,function(d){d?k||g(function(d,f){k=f;d[d.length++]=b.$$createComment("end ngIf",
e.ngIf);h={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),k&&(k.$destroy(),k=null),h&&(l=tb(h.clone),a.leave(l).done(function(a){!1!==a&&(l=null)}),h=null))})}}}],Ve=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ea.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(c,e,m,n,p){var r=0,q,s,t,w=function(){s&&(s.remove(),s=null);q&&(q.$destroy(),q=
null);t&&(d.leave(t).done(function(a){!1!==a&&(s=null)}),s=t,t=null)};c.$watch(f,function(f){var m=function(a){!1===a||!u(h)||h&&!c.$eval(h)||b()},s=++r;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&s===r){var b=c.$new();n.template=a;a=p(b,function(a){w();d.enter(a,null,e).done(m)});q=b;t=a;q.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||s!==r||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),n.template=null)})}}}}],mf=["$compile",function(a){return{restrict:"ECA",
priority:-400,require:"ngInclude",link:function(b,d,c,e){ma.call(d[0]).match(/SVG/)?(d.empty(),a(dd(e.template,x.document).childNodes)(b,function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],We=Qa({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),hf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?T(e):e;c.$parsers.push(function(a){if(!w(a)){var b=
[];a&&q(a.split(g),function(a){a&&b.push(f?T(a):a)});return b}});c.$formatters.push(function(a){if(H(a))return a.join(e)});c.$isEmpty=function(a){return!a||!a.length}}}},nb="ng-valid",Yd="ng-invalid",Va="ng-pristine",Rb="ng-dirty",pb=L("ngModel");Ob.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" ");Ob.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+
"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);D(c)&&(c=a(b));return c};this.$$ngModelSet=function(a,c){D(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw pb("nonassign",this.$$attr.ngModel,xa(this.$$element));},$render:z,$isEmpty:function(a){return w(a)||""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,
"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,Rb);this.$$animate.addClass(this.$$element,Va)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,Va);this.$$animate.addClass(this.$$element,Rb);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=
!0;this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!da(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),
f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(){var c=!0;q(k.$validators,function(d,e){var g=Boolean(d(a,b));c=c&&g;f(e,g)});return c?!0:(q(k.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;q(k.$asyncValidators,function(e,g){var k=e(a,b);if(!k||!D(k.then))throw pb("nopromise",k);f(g,void 0);c.push(k.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});
c.length?k.$$q.all(c).then(function(){g(d)},z):g(!0)}function f(a,b){h===k.$$currentValidationRunId&&k.$setValidity(a,b)}function g(a){h===k.$$currentValidationRunId&&d(a)}this.$$currentValidationRunId++;var h=this.$$currentValidationRunId,k=this;(function(){var a=k.$$parserName||"parse";if(w(k.$$parserValid))f(a,null);else return k.$$parserValid||(q(k.$validators,function(a,b){f(b,null)}),q(k.$asyncValidators,function(a,b){f(b,null)})),f(a,k.$$parserValid),k.$$parserValid;return!0})()?c()?e():g(!1):
g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue!==a||""===a&&this.$$hasNativeValidators)this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate()},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;if(this.$$parserValid=w(a)?void 0:!0)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),w(a)){this.$$parserValid=!1;break}da(this.$modelValue)&&
(this.$modelValue=this.$$ngModelGet(this.$$scope));var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a;e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope());this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);q(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},
this)},$setViewValue:function(a,b){this.$viewValue=a;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");ba(b[a])?b=b[a]:ba(b["default"])&&(b=b["default"]);this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0<b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},
$overrideModelOptions:function(a){this.$options=this.$options.createChild(a)}};Zd({clazz:Ob,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var gf=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Ob,priority:1,compile:function(b){b.addClass(Va).addClass("ng-untouched").addClass(nb);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;if(f=f[2])g.$options=f.$options;g.$$initGetterSetters();b.$addControl(g);e.$observe("name",
function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){h.$setTouched()}var h=f[0];if(h.$options.getOption("updateOn"))c.on(h.$options.getOption("updateOn"),function(a){h.$$debounceViewValueCommit(a&&a.type)});c.on("blur",function(){h.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],Pb,eh=/(\s+|^)default(\s+|$)/;Gc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=
!1;a=S({},a);q(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=T(d.replace(eh,function(){a.updateOnDefault=!0;return" "})))},this);b&&(delete a["*"],ee(a,this.$$options));ee(a,Pb.$$options);return new Gc(a)}};Pb=new Gc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var lf=function(){function a(a,d){this.$$attrs=a;this.$$scope=
d}a.$inject=["$attrs","$scope"];a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Pb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},Xe=Qa({terminal:!0,priority:1E3}),fh=L("ngOptions"),gh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,
ef=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function f(a){var b;if(!q&&qa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var n=a.match(gh);if(!n)throw fh("iexp",a,xa(b));var p=n[5]||n[7],q=n[6];a=/ as /.test(n[0])&&n[1];var s=n[9];b=d(n[2]?n[1]:p);var v=a&&d(a)||b,t=s&&d(s),u=s?function(a,b){return t(c,b)}:function(a){return Pa(a)},
w=function(a,b){return u(a,G(a,b))},A=d(n[2]||n[1]),x=d(n[3]||""),I=d(n[4]||""),K=d(n[8]),E={},G=q?function(a,b){E[q]=b;E[p]=a;return E}:function(a){E[p]=a;return E};return{trackBy:s,getTrackByValue:w,getWatchables:d(K,function(a){var b=[];a=a||[];for(var d=f(a),e=d.length,g=0;g<e;g++){var h=a===d?g:d[g],l=a[h],h=G(l,h),l=u(l,h);b.push(l);if(n[2]||n[1])l=A(c,h),b.push(l);n[4]&&(h=I(c,h),b.push(h))}return b}),getOptions:function(){for(var a=[],b={},d=K(c)||[],g=f(d),h=g.length,n=0;n<h;n++){var p=d===
g?n:g[n],q=G(d[p],p),r=v(c,q),p=u(r,q),t=A(c,q),E=x(c,q),q=I(c,q),r=new e(p,r,t,E,q);a.push(r);b[p]=r}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[w(a)]},getViewValueFromOption:function(a){return s?ra(a.viewValue):a.viewValue}}}}}var e=x.document.createElement("option"),f=x.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=z},post:function(d,h,k,l){function m(a){var b=(a=A.getOptionFromViewValue(a))&&
a.element;b&&!b.selected&&(b.selected=!0);return a}function n(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);b.value=a.selectValue}function p(){var a=A&&r.readValue();if(A)for(var b=A.items.length-1;0<=b;b--){var c=A.items[b];u(c.group)?Eb(c.element.parentNode):Eb(c.element)}A=z.getOptions();var d={};x&&h.prepend(r.emptyOption);A.items.forEach(function(a){var b;if(u(a.group)){b=d[a.group];b||(b=f.cloneNode(!1),I.appendChild(b),b.label=null===a.group?
"null":a.group,d[a.group]=b);var c=e.cloneNode(!1)}else b=I,c=e.cloneNode(!1);b.appendChild(c);n(a,c)});h[0].appendChild(I);s.$render();s.$isEmpty(a)||(b=r.readValue(),(z.trackBy||v?sa(a,b):a===b)||(s.$setViewValue(b),s.$render()))}var r=l[0],s=l[1],v=k.multiple;l=0;for(var t=h.children(),w=t.length;l<w;l++)if(""===t[l].value){r.hasEmptyOption=!0;r.emptyOption=t.eq(l);break}var x=!!r.emptyOption;B(e.cloneNode(!1)).val("?");var A,z=c(k.ngOptions,h,d),I=b[0].createDocumentFragment();r.generateUnknownOptionValue=
function(a){return"?"};v?(r.writeValue=function(a){var b=a&&a.map(m)||[];A.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})},r.readValue=function(){var a=h.val()||[],b=[];q(a,function(a){(a=A.selectValueMap[a])&&!a.disabled&&b.push(A.getViewValueFromOption(a))});return b},z.trackBy&&d.$watchCollection(function(){if(H(s.$viewValue))return s.$viewValue.map(function(a){return z.getTrackByValue(a)})},function(){s.$render()})):(r.writeValue=
function(a){var b=A.selectValueMap[h.val()],c=A.getOptionFromViewValue(a);b&&b.element.removeAttribute("selected");c?(h[0].value!==c.selectValue&&(r.removeUnknownOption(),r.unselectEmptyOption(),h[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):x?r.selectEmptyOption():r.unknownOption.parent().length?r.updateUnknownOption(a):r.renderUnknownOption(a)},r.readValue=function(){var a=A.selectValueMap[h.val()];return a&&!a.disabled?(r.unselectEmptyOption(),r.removeUnknownOption(),
A.getViewValueFromOption(a)):null},z.trackBy&&d.$watch(function(){return z.getTrackByValue(s.$viewValue)},function(){s.$render()}));x&&(r.emptyOption.remove(),a(r.emptyOption)(d),8===r.emptyOption[0].nodeType?(r.hasEmptyOption=!1,r.registerOption=function(a,b){""===b.val()&&(r.hasEmptyOption=!0,r.emptyOption=b,r.emptyOption.removeClass("ng-scope"),s.$render(),b.on("$destroy",function(){r.hasEmptyOption=!1;r.emptyOption=void 0}))}):r.emptyOption.removeClass("ng-scope"));h.empty();p();d.$watchCollection(z.getWatchables,
p)}}}}],Ye=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,h){function k(a){g.text(a||"")}var l=h.count,m=h.$attr.when&&g.attr(h.$attr.when),n=h.offset||0,p=f.$eval(m)||{},r={},s=b.startSymbol(),v=b.endSymbol(),t=s+l+"-"+n+v,u=ea.noop,x;q(h,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+Q(c[2]),p[c]=g.attr(h.$attr[b]))});q(p,function(a,d){r[d]=b(a.replace(c,t))});f.$watch(l,function(b){var c=parseFloat(b),e=da(c);e||c in p||(c=a.pluralCat(c-
n));c===x||e&&da(x)||(u(),e=r[c],w(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),u=z,k()):u=f.$watch(e,k),x=c)})}}}],Ze=["$parse","$animate","$compile",function(a,b,d){var c=L("ngRepeat"),e=function(a,b,c,d,e,m,n){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===n-1;a.$middle=!(a.$first||a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var h=g.ngRepeat,k=d.$$createComment("end ngRepeat",
h),l=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw c("iexp",h);var m=l[1],n=l[2],p=l[3],r=l[4],l=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var s=l[3]||l[1],v=l[2];if(p&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(p)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(p)))throw c("badident",p);var t,u,w,x,z={$id:Pa};r?t=a(r):(w=function(a,b){return Pa(b)},
x=function(a){return a});return function(a,d,f,g,l){t&&(u=function(b,c,d){v&&(z[v]=b);z[s]=c;z.$index=d;return t(a,z)});var m=V();a.$watchCollection(n,function(f){var g,n,r=d[0],t,z=V(),B,D,F,C,G,E,H;p&&(a[p]=f);if(qa(f))G=f,n=u||w;else for(H in n=u||x,G=[],f)ua.call(f,H)&&"$"!==H.charAt(0)&&G.push(H);B=G.length;H=Array(B);for(g=0;g<B;g++)if(D=f===G?g:G[g],F=f[D],C=n(D,F,g),m[C])E=m[C],delete m[C],z[C]=E,H[g]=E;else{if(z[C])throw q(H,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",h,C,F);H[g]={id:C,
scope:void 0,clone:void 0};z[C]=!0}for(t in m){E=m[t];C=tb(E.clone);b.leave(C);if(C[0].parentNode)for(g=0,n=C.length;g<n;g++)C[g].$$NG_REMOVED=!0;E.scope.$destroy()}for(g=0;g<B;g++)if(D=f===G?g:G[g],F=f[D],E=H[g],E.scope){t=r;do t=t.nextSibling;while(t&&t.$$NG_REMOVED);E.clone[0]!==t&&b.move(tb(E.clone),null,r);r=E.clone[E.clone.length-1];e(E.scope,g,s,F,v,D,B)}else l(function(a,c){E.scope=c;var d=k.cloneNode(!1);a[a.length++]=d;b.enter(a,null,r);r=d;E.clone=a;z[E.id]=E;e(E.scope,g,s,F,v,D,B)});m=
z})}}}}],$e=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Te=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],af=Qa(function(a,b,d){a.$watch(d.ngStyle,function(a,d){d&&a!==d&&q(d,function(a,c){b.css(c,"")});a&&b.css(a)},
!0)}),bf=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],h=[],k=[],l=[],m=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;k.length;)a.cancel(k.pop());d=0;for(e=l.length;d<e;++d){var s=tb(h[d].clone);l[d].$destroy();(k[d]=a.leave(s)).done(m(k,d))}h.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&q(g,function(c){c.transclude(function(d,e){l.push(e);
var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");h.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],cf=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-1]!==a});q(a,function(a){c.cases["!"+a]=c.cases["!"+a]||[];c.cases["!"+a].push({transclude:e,element:b})})}}),df=Qa({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,
b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),hh=L("ngTransclude"),ff=["$compile",function(a){return{restrict:"EAC",terminal:!0,compile:function(b){var d=a(b.contents());b.empty();return function(a,b,f,g,h){function k(){d(a,function(a){b.append(a)})}if(!h)throw hh("orphan",xa(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;h(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;d<f;d++){var g=a[d];if(g.nodeType!==
Ia||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(k(),c.$destroy())},null,f);f&&!h.isSlotFilled(f)&&k()}}}}],He=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],ih={$setViewValue:z,$render:z},jh=["$element","$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1;e.ngModelCtrl.$render()}))}function c(a){h||(h=!0,b.$$postDigest(function(){b.$$destroyed||(h=!1,e.ngModelCtrl.$setViewValue(e.readValue()),
a&&e.ngModelCtrl.$render())}))}var e=this,f=new Gb;e.selectValueMap={};e.ngModelCtrl=ih;e.multiple=!1;e.unknownOption=B(x.document.createElement("option"));e.hasEmptyOption=!1;e.emptyOption=void 0;e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);a.prepend(e.unknownOption);Ta(e.unknownOption,!0);a.val(b)};e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);Ta(e.unknownOption,!0);a.val(b)};e.generateUnknownOptionValue=
function(a){return"? "+Pa(a)+" ?"};e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()};e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Ta(e.emptyOption,!0))};e.unselectEmptyOption=function(){e.hasEmptyOption&&e.emptyOption.removeAttr("selected")};b.$on("$destroy",function(){e.renderUnknownOption=z});e.readValue=function(){var b=a.val(),b=b in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null};e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];
c&&Ta(B(c),!1);e.hasOption(b)?(e.removeUnknownOption(),c=Pa(b),a.val(c in e.selectValueMap?c:b),Ta(B(a[0].options[a[0].selectedIndex]),!0)):null==b&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(b):e.renderUnknownOption(b)};e.addOption=function(a,b){if(8!==b[0].nodeType){Ka(a,'"option value"');""===a&&(e.hasEmptyOption=!0,e.emptyOption=b);var c=f.get(a)||0;f.set(a,c+1);d()}};e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.delete(a),
""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))};e.hasOption=function(a){return!!f.get(a)};var g=!1,h=!1;e.registerOption=function(a,b,f,g,h){if(f.$attr.ngValue){var q,s=NaN;f.$observe("value",function(a){var d,f=b.prop("selected");u(s)&&(e.removeOption(q),delete e.selectValueMap[s],d=!0);s=Pa(a);q=a;e.selectValueMap[s]=a;e.addOption(a,b);b.attr("value",s);d&&f&&c()})}else g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");u(q)&&(e.removeOption(q),d=!0);q=
a;e.addOption(a,b);d&&f&&c()}):h?a.$watch(h,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d);e.addOption(a,b);d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){if("true"===a||a&&b.prop("selected"))e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render())});b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b);d();(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],Ie=function(){return{restrict:"E",require:["select",
"?ngModel"],controller:jh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0;e.readValue=function(){var a=[];q(b.find("option"),function(b){b.selected&&!b.disabled&&(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))});return a};e.writeValue=function(a){q(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,
b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Ta(B(b),c)})};var g,h=NaN;a.$watch(function(){h!==f.$viewValue||sa(g,f.$viewValue)||(g=pa(f.$viewValue),f.$render());h=f.$viewValue});f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=z},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Je=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;u(d.ngValue)||
(u(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text()));return function(a,b,d){var k=b.parent();(k=k.data("$selectController")||k.parent().data("$selectController"))&&k.registerOption(a,b,d,c,e)}}}}],Zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Yc=function(){return{restrict:"A",require:"?ngModel",link:function(a,
b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){F(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw L("ngPattern")("noregexp",f,a,xa(b));e=a||void 0;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||w(e)||e.test(b)}}}}},ad=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=Z(a);e=da(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||
b.length<=e}}}}},$c=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=Z(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};x.angular.bootstrap?x.console&&console.log("WARNING: Tried to load angular more than once."):(ze(),Ce(ea),ea.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM",
"PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,
6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,
c){var e=a|0,f=c;void 0===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),B(function(){ue(x.document,Sc)}))})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=angular.min.js.map

/*
 AngularJS v1.6.4
 (c) 2010-2017 Google, Inc. http://angularjs.org
 License: MIT
*/
(function(R,y){'use strict';function Ea(a,b,c){if(!a)throw Oa("areq",b||"?",c||"required");return a}function Fa(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;W(a)&&(a=a.join(" "));W(b)&&(b=b.join(" "));return a+" "+b}function Pa(a){var b={};a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from);return b}function X(a,b,c){var d="";a=W(a)?a:a&&F(a)&&a.length?a.split(/\s+/):[];s(a,function(a,e){a&&0<a.length&&(d+=0<e?" ":"",d+=c?b+a:a+b)});return d}function Ga(a){if(a instanceof E)switch(a.length){case 0:return a;
case 1:if(1===a[0].nodeType)return a;break;default:return E(ua(a))}if(1===a.nodeType)return E(a)}function ua(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(1===c.nodeType)return c}}function Qa(a,b,c){s(b,function(b){a.addClass(b,c)})}function Ra(a,b,c){s(b,function(b){a.removeClass(b,c)})}function Y(a){return function(b,c){c.addClass&&(Qa(a,b,c.addClass),c.addClass=null);c.removeClass&&(Ra(a,b,c.removeClass),c.removeClass=null)}}function na(a){a=a||{};if(!a.$$prepared){var b=a.domOperation||
P;a.domOperation=function(){a.$$domOperationFired=!0;b();b=P};a.$$prepared=!0}return a}function ha(a,b){Ha(a,b);Ia(a,b)}function Ha(a,b){b.from&&(a.css(b.from),b.from=null)}function Ia(a,b){b.to&&(a.css(b.to),b.to=null)}function U(a,b,c){var d=b.options||{};c=c.options||{};var f=(d.addClass||"")+" "+(c.addClass||""),e=(d.removeClass||"")+" "+(c.removeClass||"");a=Sa(a.attr("class"),f,e);c.preparationClasses&&(d.preparationClasses=Z(c.preparationClasses,d.preparationClasses),delete c.preparationClasses);
f=d.domOperation!==P?d.domOperation:null;va(d,c);f&&(d.domOperation=f);d.addClass=a.addClass?a.addClass:null;d.removeClass=a.removeClass?a.removeClass:null;b.addClass=d.addClass;b.removeClass=d.removeClass;return d}function Sa(a,b,c){function d(a){F(a)&&(a=a.split(" "));var b={};s(a,function(a){a.length&&(b[a]=!0)});return b}var f={};a=d(a);b=d(b);s(b,function(a,b){f[b]=1});c=d(c);s(c,function(a,b){f[b]=1===f[b]?null:-1});var e={addClass:"",removeClass:""};s(f,function(b,c){var d,f;1===b?(d="addClass",
f=!a[c]||a[c+"-remove"]):-1===b&&(d="removeClass",f=a[c]||a[c+"-add"]);f&&(e[d].length&&(e[d]+=" "),e[d]+=c)});return e}function Q(a){return a instanceof E?a[0]:a}function Ta(a,b,c){var d="";b&&(d=X(b,"ng-",!0));c.addClass&&(d=Z(d,X(c.addClass,"-add")));c.removeClass&&(d=Z(d,X(c.removeClass,"-remove")));d.length&&(c.preparationClasses=d,a.addClass(d))}function oa(a,b){var c=b?"-"+b+"s":"";ka(a,[la,c]);return[la,c]}function wa(a,b){var c=b?"paused":"",d=$+"PlayState";ka(a,[d,c]);return[d,c]}function ka(a,
b){a.style[b[0]]=b[1]}function Z(a,b){return a?b?a+" "+b:a:b}function Ja(a,b,c){var d=Object.create(null),f=a.getComputedStyle(b)||{};s(c,function(a,b){var c=f[a];if(c){var G=c.charAt(0);if("-"===G||"+"===G||0<=G)c=Ua(c);0===c&&(c=null);d[b]=c}});return d}function Ua(a){var b=0;a=a.split(/\s*,\s*/);s(a,function(a){"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));a=parseFloat(a)||0;b=b?Math.max(a,b):a});return b}function xa(a){return 0===a||null!=a}function Ka(a,b){var c=S,d=a+"s";b?c+="Duration":
d+=" linear all";return[c,d]}function La(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){return(b=a[b])?b.total:0},get:function(b){return(b=a[b])&&b.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function Ma(a,b,c){s(c,function(c){a[c]=ya(a[c])?a[c]:b.style.getPropertyValue(c)})}var S,za,$,Aa;void 0===R.ontransitionend&&void 0!==R.onwebkittransitionend?(S="WebkitTransition",za="webkitTransitionEnd transitionend"):(S="transition",za=
"transitionend");void 0===R.onanimationend&&void 0!==R.onwebkitanimationend?($="WebkitAnimation",Aa="webkitAnimationEnd animationend"):($="animation",Aa="animationend");var pa=$+"Delay",Ba=$+"Duration",la=S+"Delay",Na=S+"Duration",Oa=y.$$minErr("ng"),Va={transitionDuration:Na,transitionDelay:la,transitionProperty:S+"Property",animationDuration:Ba,animationDelay:pa,animationIterationCount:$+"IterationCount"},Wa={transitionDuration:Na,transitionDelay:la,animationDuration:Ba,animationDelay:pa},Ca,va,
s,W,ya,da,Da,aa,F,N,E,P;y.module("ngAnimate",[],function(){P=y.noop;Ca=y.copy;va=y.extend;E=y.element;s=y.forEach;W=y.isArray;F=y.isString;aa=y.isObject;N=y.isUndefined;ya=y.isDefined;Da=y.isFunction;da=y.isElement}).info({angularVersion:"1.6.4"}).directive("ngAnimateSwap",["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,d,f,e,p){var K,G;b.$watchCollection(f.ngAnimateSwap||f["for"],function(f){K&&a.leave(K);G&&(G.$destroy(),G=
null);if(f||0===f)G=b.$new(),p(G,function(b){K=b;a.enter(b,null,d)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(a){return{link:function(b,c,d){function f(a){c.data("$$ngAnimateChildren","on"===a||"true"===a)}var e=d.ngAnimateChildren;F(e)&&0===e.length?c.data("$$ngAnimateChildren",!0):(f(a(e)(b)),d.$observe("ngAnimateChildren",f))}}}]).factory("$$rAFScheduler",["$$rAF",function(a){function b(a){d=d.concat(a);c()}function c(){if(d.length){for(var b=d.shift(),p=0;p<b.length;p++)b[p]();
f||a(function(){f||c()})}}var d,f;d=b.queue=[];b.waitUntilQuiet=function(b){f&&f();f=a(function(){f=null;b();c()})};return b}]).provider("$$animateQueue",["$animateProvider",function(a){function b(a){if(!a)return null;a=a.split(" ");var b=Object.create(null);s(a,function(a){b[a]=!0});return b}function c(a,c){if(a&&c){var d=b(c);return a.split(" ").some(function(a){return d[a]})}}function d(a,b,c){return e[a].some(function(a){return a(b,c)})}function f(a,b){var c=0<(a.addClass||"").length,d=0<(a.removeClass||
"").length;return b?c&&d:c||d}var e=this.rules={skip:[],cancel:[],join:[]};e.join.push(function(a,b){return!a.structural&&f(a)});e.skip.push(function(a,b){return!a.structural&&!f(a)});e.skip.push(function(a,b){return"leave"===b.event&&a.structural});e.skip.push(function(a,b){return b.structural&&2===b.state&&!a.structural});e.cancel.push(function(a,b){return b.structural&&a.structural});e.cancel.push(function(a,b){return 2===b.state&&a.structural});e.cancel.push(function(a,b){if(b.structural)return!1;
var d=a.addClass,f=a.removeClass,e=b.addClass,qa=b.removeClass;return N(d)&&N(f)||N(e)&&N(qa)?!1:c(d,qa)||c(f,e)});this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(b,c,e,n,z,qa,J,u,H,k,O){function L(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0;b()})}}function A(a,b,c){var g=[],d=h[c];d&&s(d,function(d){w.call(d.node,b)?g.push(d.callback):"leave"===c&&
w.call(d.node,a)&&g.push(d.callback)});return g}function B(a,b,c){var g=ua(b);return a.filter(function(a){return!(a.node===g&&(!c||a.callback===c))})}function q(a,h,v){function q(a,c,g,d){G(function(){var a=A(ta,k,c);a.length?b(function(){s(a,function(a){a(e,g,d)});"close"!==g||k.parentNode||ra.off(k)}):"close"!==g||k.parentNode||ra.off(k)});a.progress(c,g,d)}function B(a){var b=e,c=m;c.preparationClasses&&(b.removeClass(c.preparationClasses),c.preparationClasses=null);c.activeClasses&&(b.removeClass(c.activeClasses),
c.activeClasses=null);D(e,m);ha(e,m);m.domOperation();t.complete(!a)}var m=Ca(v),e=Ga(a),k=Q(e),ta=k&&k.parentNode,m=na(m),t=new J,G=L();W(m.addClass)&&(m.addClass=m.addClass.join(" "));m.addClass&&!F(m.addClass)&&(m.addClass=null);W(m.removeClass)&&(m.removeClass=m.removeClass.join(" "));m.removeClass&&!F(m.removeClass)&&(m.removeClass=null);m.from&&!aa(m.from)&&(m.from=null);m.to&&!aa(m.to)&&(m.to=null);if(!k)return B(),t;v=[k.getAttribute("class"),m.addClass,m.removeClass].join(" ");if(!Xa(v))return B(),
t;var n=0<=["enter","move","leave"].indexOf(h),w=O(),u=!g||w||ga.get(k);v=!u&&x.get(k)||{};var H=!!v.state;u||H&&1===v.state||(u=!M(k,ta,h));if(u)return w&&q(t,h,"start"),B(),w&&q(t,h,"close"),t;n&&sa(k);w={structural:n,element:e,event:h,addClass:m.addClass,removeClass:m.removeClass,close:B,options:m,runner:t};if(H){if(d("skip",w,v)){if(2===v.state)return B(),t;U(e,v,w);return v.runner}if(d("cancel",w,v))if(2===v.state)v.runner.end();else if(v.structural)v.close();else return U(e,v,w),v.runner;else if(d("join",
w,v))if(2===v.state)U(e,w,{});else return Ta(e,n?h:null,m),h=w.event=v.event,m=U(e,v,w),v.runner}else U(e,w,{});(H=w.structural)||(H="animate"===w.event&&0<Object.keys(w.options.to||{}).length||f(w));if(!H)return B(),l(k),t;var z=(v.counter||0)+1;w.counter=z;I(k,1,w);c.$$postDigest(function(){e=Ga(a);var b=x.get(k),c=!b,b=b||{},g=0<(e.parent()||[]).length&&("animate"===b.event||b.structural||f(b));if(c||b.counter!==z||!g){c&&(D(e,m),ha(e,m));if(c||n&&b.event!==h)m.domOperation(),t.end();g||l(k)}else h=
!b.structural&&f(b,!0)?"setClass":b.event,I(k,2),b=qa(e,h,b.options),t.setHost(b),q(t,h,"start",{}),b.done(function(a){B(!a);(a=x.get(k))&&a.counter===z&&l(k);q(t,h,"close",{})})});return t}function sa(a){a=a.querySelectorAll("[data-ng-animate]");s(a,function(a){var b=parseInt(a.getAttribute("data-ng-animate"),10),c=x.get(a);if(c)switch(b){case 2:c.runner.end();case 1:x.delete(a)}})}function l(a){a.removeAttribute("data-ng-animate");x.delete(a)}function M(a,b,c){c=n[0].body;var g=Q(e),d=a===c||"HTML"===
a.nodeName,h=a===g,f=!1,k=ga.get(a),A;for((a=E.data(a,"$ngAnimatePin"))&&(b=Q(a));b;){h||(h=b===g);if(1!==b.nodeType)break;a=x.get(b)||{};if(!f){var q=ga.get(b);if(!0===q&&!1!==k){k=!0;break}else!1===q&&(k=!1);f=a.structural}if(N(A)||!0===A)a=E.data(b,"$$ngAnimateChildren"),ya(a)&&(A=a);if(f&&!1===A)break;d||(d=b===c);if(d&&h)break;if(!h&&(a=E.data(b,"$ngAnimatePin"))){b=Q(a);continue}b=b.parentNode}return(!f||A)&&!0!==k&&h&&d}function I(a,b,c){c=c||{};c.state=b;a.setAttribute("data-ng-animate",b);
c=(b=x.get(a))?va(b,c):c;x.set(a,c)}var x=new z,ga=new z,g=null,ta=c.$watch(function(){return 0===u.totalPendingRequests},function(a){a&&(ta(),c.$$postDigest(function(){c.$$postDigest(function(){null===g&&(g=!0)})}))}),h=Object.create(null),t=a.classNameFilter(),Xa=t?function(a){return t.test(a)}:function(){return!0},D=Y(H),w=R.Node.prototype.contains||function(a){return this===a||!!(this.compareDocumentPosition(a)&16)},ra={on:function(a,b,c){var g=ua(b);h[a]=h[a]||[];h[a].push({node:g,callback:c});
E(b).on("$destroy",function(){x.get(g)||ra.off(a,b,c)})},off:function(a,b,c){if(1!==arguments.length||F(arguments[0])){var g=h[a];g&&(h[a]=1===arguments.length?null:B(g,b,c))}else for(g in b=arguments[0],h)h[g]=B(h[g],b)},pin:function(a,b){Ea(da(a),"element","not an element");Ea(da(b),"parentElement","not an element");a.data("$ngAnimatePin",b)},push:function(a,b,c,g){c=c||{};c.domOperation=g;return q(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!g;else if(da(a)){var d=Q(a);1===
c?b=!ga.get(d):ga.set(d,!b)}else b=g=!!a;return b}};return ra}]}]).provider("$$animation",["$animateProvider",function(a){var b=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler",function(a,d,f,e,p,K){function G(a){function b(a){if(a.processed)return a;a.processed=!0;var d=a.domNode,e=d.parentNode;f.set(d,a);for(var q;e;){if(q=f.get(e)){q.processed||(q=b(q));break}e=e.parentNode}(q||c).children.push(a);return a}var c={children:[]},d,f=new p;for(d=
0;d<a.length;d++){var e=a[d];f.set(e.domNode,a[d]={domNode:e.domNode,fn:e.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return function(a){var b=[],c=[],d;for(d=0;d<a.children.length;d++)c.push(a.children[d]);a=c.length;var f=0,e=[];for(d=0;d<c.length;d++){var k=c[d];0>=a&&(a=f,f=0,b.push(e),e=[]);e.push(k.fn);k.children.forEach(function(a){f++;c.push(a)});a--}e.length&&b.push(e);return b}(c)}var n=[],z=Y(a);return function(p,J,u){function H(a){a=a.hasAttribute("ng-animate-ref")?[a]:a.querySelectorAll("[ng-animate-ref]");
var b=[];s(a,function(a){var c=a.getAttribute("ng-animate-ref");c&&c.length&&b.push(a)});return b}function k(a){var b=[],c={};s(a,function(a,d){var h=Q(a.element),f=0<=["enter","move"].indexOf(a.event),h=a.structural?H(h):[];if(h.length){var e=f?"to":"from";s(h,function(a){var b=a.getAttribute("ng-animate-ref");c[b]=c[b]||{};c[b][e]={animationID:d,element:E(a)}})}else b.push(a)});var d={},f={};s(c,function(c,e){var k=c.from,A=c.to;if(k&&A){var q=a[k.animationID],x=a[A.animationID],l=k.animationID.toString();
if(!f[l]){var B=f[l]={structural:!0,beforeStart:function(){q.beforeStart();x.beforeStart()},close:function(){q.close();x.close()},classes:O(q.classes,x.classes),from:q,to:x,anchors:[]};B.classes.length?b.push(B):(b.push(q),b.push(x))}f[l].anchors.push({out:k.element,"in":A.element})}else k=k?k.animationID:A.animationID,A=k.toString(),d[A]||(d[A]=!0,b.push(a[k]))});return b}function O(a,b){a=a.split(" ");b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var f=a[d];if("ng-"!==f.substring(0,3))for(var e=
0;e<b.length;e++)if(f===b[e]){c.push(f);break}}return c.join(" ")}function L(a){for(var c=b.length-1;0<=c;c--){var d=f.get(b[c])(a);if(d)return d}}function A(a,b){function c(a){(a=a.data("$$animationRunner"))&&a.setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function B(){var a=p.data("$$animationRunner");!a||"leave"===J&&u.$$domOperationFired||a.end()}function q(b){p.off("$destroy",B);p.removeData("$$animationRunner");z(p,u);ha(p,u);u.domOperation();I&&a.removeClass(p,I);
p.removeClass("ng-animate");l.complete(!b)}u=na(u);var sa=0<=["enter","move","leave"].indexOf(J),l=new e({end:function(){q()},cancel:function(){q(!0)}});if(!b.length)return q(),l;p.data("$$animationRunner",l);var M=Fa(p.attr("class"),Fa(u.addClass,u.removeClass)),I=u.tempClasses;I&&(M+=" "+I,u.tempClasses=null);var x;sa&&(x="ng-"+J+"-prepare",a.addClass(p,x));n.push({element:p,classes:M,event:J,structural:sa,options:u,beforeStart:function(){p.addClass("ng-animate");I&&a.addClass(p,I);x&&(a.removeClass(p,
x),x=null)},close:q});p.on("$destroy",B);if(1<n.length)return l;d.$$postDigest(function(){var a=[];s(n,function(b){b.element.data("$$animationRunner")?a.push(b):b.close()});n.length=0;var b=k(a),c=[];s(b,function(a){c.push({domNode:Q(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close;if((a.anchors?a.from.element||a.to.element:a.element).data("$$animationRunner")){var d=L(a);d&&(b=d.start)}b?(b=b(),b.done(function(a){c(!a)}),A(a,b)):c()}})});K(G(c))});return l}}]}]).provider("$animateCss",
["$animateProvider",function(a){var b=La(),c=La();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,f,e,p,K,G,n,z){function y(a,b){var c=a.parentNode;return(c.$$ngAnimateParentKey||(c.$$ngAnimateParentKey=++O))+"-"+a.getAttribute("class")+"-"+b}function J(e,k,q,p){var l;0<b.count(q)&&(l=c.get(q),l||(k=X(k,"-stagger"),f.addClass(e,k),l=Ja(a,e,p),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=
Math.max(l.transitionDuration,0),f.removeClass(e,k),c.put(q,l)));return l||{}}function u(a){L.push(a);n.waitUntilQuiet(function(){b.flush();c.flush();for(var a=K(),d=0;d<L.length;d++)L[d](a);L.length=0})}function H(c,f,e){f=b.get(e);f||(f=Ja(a,c,Va),"infinite"===f.animationIterationCount&&(f.animationIterationCount=1));b.put(e,f);c=f;e=c.animationDelay;f=c.transitionDelay;c.maxDelay=e&&f?Math.max(e,f):e||f;c.maxDuration=Math.max(c.animationDuration*c.animationIterationCount,c.transitionDuration);
return c}var k=Y(f),O=0,L=[];return function(a,c){function d(){l()}function n(){l(!0)}function l(b){if(!(w||E&&O)){w=!0;O=!1;g.$$skipPreparationClasses||f.removeClass(a,fa);f.removeClass(a,da);wa(h,!1);oa(h,!1);s(t,function(a){h.style[a[0]]=""});k(a,g);ha(a,g);Object.keys(L).length&&s(L,function(a,b){a?h.style.setProperty(b,a):h.style.removeProperty(b)});if(g.onDone)g.onDone();ea&&ea.length&&a.off(ea.join(" "),x);var c=a.data("$$animateCss");c&&(p.cancel(c[0].timer),a.removeData("$$animateCss"));
F&&F.complete(!b)}}function M(a){r.blockTransition&&oa(h,a);r.blockKeyframeAnimation&&wa(h,!!a)}function I(){F=new e({end:d,cancel:n});u(P);l();return{$$willAnimate:!1,start:function(){return F},end:d}}function x(a){a.stopPropagation();var b=a.originalEvent||a;a=b.$manualTimeStamp||Date.now();b=parseFloat(b.elapsedTime.toFixed(3));Math.max(a-Y,0)>=R&&b>=m&&(E=!0,l())}function ga(){function b(){if(!w){M(!1);s(t,function(a){h.style[a[0]]=a[1]});k(a,g);f.addClass(a,da);if(r.recalculateTimingStyles){ma=
h.getAttribute("class")+" "+fa;ja=y(h,ma);C=H(h,ma,ja);ba=C.maxDelay;N=Math.max(ba,0);m=C.maxDuration;if(0===m){l();return}r.hasTransitions=0<C.transitionDuration;r.hasAnimations=0<C.animationDuration}r.applyAnimationDelay&&(ba="boolean"!==typeof g.delay&&xa(g.delay)?parseFloat(g.delay):ba,N=Math.max(ba,0),C.animationDelay=ba,ca=[pa,ba+"s"],t.push(ca),h.style[ca[0]]=ca[1]);R=1E3*N;U=1E3*m;if(g.easing){var d,e=g.easing;r.hasTransitions&&(d=S+"TimingFunction",t.push([d,e]),h.style[d]=e);r.hasAnimations&&
(d=$+"TimingFunction",t.push([d,e]),h.style[d]=e)}C.transitionDuration&&ea.push(za);C.animationDuration&&ea.push(Aa);Y=Date.now();var n=R+1.5*U;d=Y+n;var e=a.data("$$animateCss")||[],q=!0;if(e.length){var I=e[0];(q=d>I.expectedEndTime)?p.cancel(I.timer):e.push(l)}q&&(n=p(c,n,!1),e[0]={timer:n,expectedEndTime:d},e.push(l),a.data("$$animateCss",e));if(ea.length)a.on(ea.join(" "),x);g.to&&(g.cleanupStyles&&Ma(L,h,Object.keys(g.to)),Ia(a,g))}}function c(){var b=a.data("$$animateCss");if(b){for(var d=
1;d<b.length;d++)b[d]();a.removeData("$$animateCss")}}if(!w)if(h.parentNode){var d=function(a){if(E)O&&a&&(O=!1,l());else if(O=!a,C.animationDuration)if(a=wa(h,O),O)t.push(a);else{var b=t,c=b.indexOf(a);0<=a&&b.splice(c,1)}},e=0<aa&&(C.transitionDuration&&0===V.transitionDuration||C.animationDuration&&0===V.animationDuration)&&Math.max(V.animationDelay,V.transitionDelay);e?p(b,Math.floor(e*aa*1E3),!1):b();v.resume=function(){d(!0)};v.pause=function(){d(!1)}}else l()}var g=c||{};g.$$prepared||(g=na(Ca(g)));
var L={},h=Q(a);if(!h||!h.parentNode||!z.enabled())return I();var t=[],K=a.attr("class"),D=Pa(g),w,O,E,F,v,N,R,m,U,Y,ea=[];if(0===g.duration||!G.animations&&!G.transitions)return I();var ia=g.event&&W(g.event)?g.event.join(" "):g.event,Z="",T="";ia&&g.structural?Z=X(ia,"ng-",!0):ia&&(Z=ia);g.addClass&&(T+=X(g.addClass,"-add"));g.removeClass&&(T.length&&(T+=" "),T+=X(g.removeClass,"-remove"));g.applyClassesEarly&&T.length&&k(a,g);var fa=[Z,T].join(" ").trim(),ma=K+" "+fa,da=X(fa,"-active"),K=D.to&&
0<Object.keys(D.to).length;if(!(0<(g.keyframeStyle||"").length||K||fa))return I();var ja,V;0<g.stagger?(D=parseFloat(g.stagger),V={transitionDelay:D,animationDelay:D,transitionDuration:0,animationDuration:0}):(ja=y(h,ma),V=J(h,fa,ja,Wa));g.$$skipPreparationClasses||f.addClass(a,fa);g.transitionStyle&&(D=[S,g.transitionStyle],ka(h,D),t.push(D));0<=g.duration&&(D=0<h.style[S].length,D=Ka(g.duration,D),ka(h,D),t.push(D));g.keyframeStyle&&(D=[$,g.keyframeStyle],ka(h,D),t.push(D));var aa=V?0<=g.staggerIndex?
g.staggerIndex:b.count(ja):0;(ia=0===aa)&&!g.skipBlocking&&oa(h,9999);var C=H(h,ma,ja),ba=C.maxDelay;N=Math.max(ba,0);m=C.maxDuration;var r={};r.hasTransitions=0<C.transitionDuration;r.hasAnimations=0<C.animationDuration;r.hasTransitionAll=r.hasTransitions&&"all"===C.transitionProperty;r.applyTransitionDuration=K&&(r.hasTransitions&&!r.hasTransitionAll||r.hasAnimations&&!r.hasTransitions);r.applyAnimationDuration=g.duration&&r.hasAnimations;r.applyTransitionDelay=xa(g.delay)&&(r.applyTransitionDuration||
r.hasTransitions);r.applyAnimationDelay=xa(g.delay)&&r.hasAnimations;r.recalculateTimingStyles=0<T.length;if(r.applyTransitionDuration||r.applyAnimationDuration)m=g.duration?parseFloat(g.duration):m,r.applyTransitionDuration&&(r.hasTransitions=!0,C.transitionDuration=m,D=0<h.style[S+"Property"].length,t.push(Ka(m,D))),r.applyAnimationDuration&&(r.hasAnimations=!0,C.animationDuration=m,t.push([Ba,m+"s"]));if(0===m&&!r.recalculateTimingStyles)return I();if(null!=g.delay){var ca;"boolean"!==typeof g.delay&&
(ca=parseFloat(g.delay),N=Math.max(ca,0));r.applyTransitionDelay&&t.push([la,ca+"s"]);r.applyAnimationDelay&&t.push([pa,ca+"s"])}null==g.duration&&0<C.transitionDuration&&(r.recalculateTimingStyles=r.recalculateTimingStyles||ia);R=1E3*N;U=1E3*m;g.skipBlocking||(r.blockTransition=0<C.transitionDuration,r.blockKeyframeAnimation=0<C.animationDuration&&0<V.animationDelay&&0===V.animationDuration);g.from&&(g.cleanupStyles&&Ma(L,h,Object.keys(g.from)),Ha(a,g));r.blockTransition||r.blockKeyframeAnimation?
M(m):g.skipBlocking||oa(h,!1);return{$$willAnimate:!0,end:d,start:function(){if(!w)return v={end:d,cancel:n,resume:null,pause:null},F=new e(v),u(ga),F}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(a){a.drivers.push("$$animateCssDriver");this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,c,d,f,e,p,K){function G(a){return a.replace(/\bng-\S+\b/g,"")}function n(a,b){F(a)&&(a=a.split(" "));F(b)&&(b=b.split(" "));
return a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function z(c,e,f){function p(a){var b={},c=Q(a).getBoundingClientRect();s(["width","height","top","left"],function(a){var d=c[a];switch(a){case "top":d+=u.scrollTop;break;case "left":d+=u.scrollLeft}b[a]=Math.floor(d)+"px"});return b}function K(){var c=G(f.attr("class")||""),d=n(c,l),c=n(l,c),d=a(z,{to:p(f),addClass:"ng-anchor-in "+d,removeClass:"ng-anchor-out "+c,delay:!0});return d.$$willAnimate?d:null}function q(){z.remove();e.removeClass("ng-animate-shim");
f.removeClass("ng-animate-shim")}var z=E(Q(e).cloneNode(!0)),l=G(z.attr("class")||"");e.addClass("ng-animate-shim");f.addClass("ng-animate-shim");z.addClass("ng-anchor");H.append(z);var M;c=function(){var c=a(z,{addClass:"ng-anchor-out",delay:!0,from:p(e)});return c.$$willAnimate?c:null}();if(!c&&(M=K(),!M))return q();var I=c||M;return{start:function(){function a(){c&&c.end()}var b,c=I.start();c.done(function(){c=null;if(!M&&(M=K()))return c=M.start(),c.done(function(){c=null;q();b.complete()}),c;
q();b.complete()});return b=new d({end:a,cancel:a})}}}function y(a,b,c,e){var f=J(a,P),p=J(b,P),n=[];s(e,function(a){(a=z(c,a.out,a["in"]))&&n.push(a)});if(f||p||0!==n.length)return{start:function(){function a(){s(b,function(a){a.end()})}var b=[];f&&b.push(f.start());p&&b.push(p.start());s(n,function(a){b.push(a.start())});var c=new d({end:a,cancel:a});d.all(b,function(a){c.complete(a)});return c}}}function J(c){var d=c.element,e=c.options||{};c.structural&&(e.event=c.event,e.structural=!0,e.applyClassesEarly=
!0,"leave"===c.event&&(e.onDone=e.domOperation));e.preparationClasses&&(e.event=Z(e.event,e.preparationClasses));c=a(d,e);return c.$$willAnimate?c:null}if(!e.animations&&!e.transitions)return P;var u=K[0].body;c=Q(f);var H=E(c.parentNode&&11===c.parentNode.nodeType||u.contains(c)?c:u);return function(a){return a.from&&a.to?y(a.from,a.to,a.classes,a.anchors):J(a)}}]}]).provider("$$animateJs",["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function f(c){c=
W(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var s=c[f],y=a.$$registeredAnimations[s];y&&!e[s]&&(d.push(b.get(y)),e[s]=!0)}return d}var e=Y(d);return function(a,b,d,n){function z(){n.domOperation();e(a,n)}function y(a,b,d,e,f){switch(d){case "animate":b=[b,e.from,e.to,f];break;case "setClass":b=[b,k,F,f];break;case "addClass":b=[b,k,f];break;case "removeClass":b=[b,F,f];break;default:b=[b,f]}b.push(e);if(a=a.apply(a,b))if(Da(a.start)&&(a=a.start()),a instanceof c)a.done(f);else if(Da(a))return a;
return P}function J(a,b,d,e,f){var k=[];s(e,function(e){var l=e[f];l&&k.push(function(){var e,f,g=!1,h=function(a){g||(g=!0,(f||P)(a),e.complete(!a))};e=new c({end:function(){h()},cancel:function(){h(!0)}});f=y(l,a,b,d,function(a){h(!1===a)});return e})});return k}function u(a,b,d,e,f){var k=J(a,b,d,e,f);if(0===k.length){var h,l;"beforeSetClass"===f?(h=J(a,"removeClass",d,e,"beforeRemoveClass"),l=J(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=J(a,"removeClass",d,e,"removeClass"),l=J(a,"addClass",
d,e,"addClass"));h&&(k=k.concat(h));l&&(k=k.concat(l))}if(0!==k.length)return function(a){var b=[];k.length&&s(k,function(a){b.push(a())});b.length?c.all(b,a):a();return function(a){s(b,function(b){a?b.cancel():b.end()})}}}var H=!1;3===arguments.length&&aa(d)&&(n=d,d=null);n=na(n);d||(d=a.attr("class")||"",n.addClass&&(d+=" "+n.addClass),n.removeClass&&(d+=" "+n.removeClass));var k=n.addClass,F=n.removeClass,L=f(d),A,B;if(L.length){var q,E;"leave"===b?(E="leave",q="afterLeave"):(E="before"+b.charAt(0).toUpperCase()+
b.substr(1),q=b);"enter"!==b&&"move"!==b&&(A=u(a,b,n,L,E));B=u(a,b,n,L,q)}if(A||B){var l;return{$$willAnimate:!0,end:function(){l?l.end():(H=!0,z(),ha(a,n),l=new c,l.complete(!0));return l},start:function(){function b(c){H=!0;z();ha(a,n);l.complete(c)}if(l)return l;l=new c;var d,e=[];A&&e.push(function(a){d=A(a)});e.length?e.push(function(a){z();a(!0)}):z();B&&e.push(function(a){d=B(a)});l.setHost({end:function(){H||((d||P)(void 0),b(void 0))},cancel:function(){H||((d||P)(!0),b(!0))}});c.chain(e,
b);return l}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver");this.$get=["$$animateJs","$$AnimateRunner",function(a,c){function d(c){return a(c.element,c.event,c.classes,c.options)}return function(a){if(a.from&&a.to){var b=d(a.from),p=d(a.to);if(b||p)return{start:function(){function a(){return function(){s(d,function(a){a.end()})}}var d=[];b&&d.push(b.start());p&&d.push(p.start());c.all(d,function(a){f.complete(a)});var f=new c({end:a(),cancel:a()});
return f}}}else return d(a)}}]}])})(window,window.angular);
//# sourceMappingURL=angular-animate.min.js.map

//! moment.js
//! version : 2.18.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.moment=b()}(this,function(){"use strict";function a(){return sd.apply(null,arguments)}function b(a){sd=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return void 0===a}function g(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function h(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function i(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function j(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function k(a,b){for(var c in b)j(b,c)&&(a[c]=b[c]);return j(b,"toString")&&(a.toString=b.toString),j(b,"valueOf")&&(a.valueOf=b.valueOf),a}function l(a,b,c,d){return sb(a,b,c,d,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function n(a){return null==a._pf&&(a._pf=m()),a._pf}function o(a){if(null==a._isValid){var b=n(a),c=ud.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function p(a){var b=l(NaN);return null!=a?k(n(b),a):n(b).userInvalidated=!0,b}function q(a,b){var c,d,e;if(f(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),f(b._i)||(a._i=b._i),f(b._f)||(a._f=b._f),f(b._l)||(a._l=b._l),f(b._strict)||(a._strict=b._strict),f(b._tzm)||(a._tzm=b._tzm),f(b._isUTC)||(a._isUTC=b._isUTC),f(b._offset)||(a._offset=b._offset),f(b._pf)||(a._pf=n(b)),f(b._locale)||(a._locale=b._locale),vd.length>0)for(c=0;c<vd.length;c++)d=vd[c],e=b[d],f(e)||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),wd===!1&&(wd=!0,a.updateOffset(this),wd=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+b)}function x(b,c){var d=!0;return k(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),xd[b]||(w(c),xd[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=k({},a);for(c in b)j(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},k(e[c],a[c]),k(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)j(a,c)&&!j(b,c)&&d(a[c])&&(e[c]=k({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Hd[c]=Hd[c+"s"]=Hd[b]=a}function K(a){return"string"==typeof a?Hd[a]||Hd[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)j(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Id[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Id[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Md[a]=e),b&&(Md[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Md[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function W(a){var b,c,d=a.match(Jd);for(b=0,c=d.length;b<c;b++)Md[d[b]]?d[b]=Md[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=z(d[e])?d[e].call(b,a):d[e];return f}}function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Ld[b]=Ld[b]||W(b),Ld[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Kd.lastIndex=0;d>=0&&Kd.test(a);)a=a.replace(Kd,c),Kd.lastIndex=0,d-=1;return a}function Z(a,b,c){ce[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return j(ce,a)?ce[a](b._strict,b._locale):new RegExp(_(a))}function _(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),g(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)de[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&j(de,a)&&de[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||oe).test(b)?"format":"standalone"][a.month()]:c(this._months)?this._months:this._months.standalone}function ga(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[oe.test(b)?"format":"standalone"][a.month()]:c(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=l([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=ne.call(this._shortMonthsParse,g),e!==-1?e:null):(e=ne.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=ne.call(this._shortMonthsParse,g),e!==-1?e:(e=ne.call(this._longMonthsParse,g),e!==-1?e:null)):(e=ne.call(this._longMonthsParse,g),e!==-1?e:(e=ne.call(this._shortMonthsParse,g),e!==-1?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=l([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ja(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!g(b))return a;return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,"Month")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(j(this,"_monthsShortRegex")||(this._monthsShortRegex=re),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(j(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(j(this,"_monthsRegex")||(this._monthsRegex=se),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=l([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function pa(a){return qa(a)?366:365}function qa(a){return a%4===0&&a%100!==0||a%400===0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ua(a,b,c){var d=7+b-c,e=(7+ta(a,0,d).getUTCDay()-b)%7;return-e+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:c(this._weekdays)?this._weekdays:this._weekdays.standalone}function Ga(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=l([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=ne.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=ne.call(this._minWeekdaysParse,g),e!==-1?e:(e=ne.call(this._weekdaysParse,g),e!==-1?e:(e=ne.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=l([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(j(this,"_weekdaysRegex")||(this._weekdaysRegex=ye),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(j(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ze),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(j(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(j(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ae),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=l([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ua(a,b){return b._meridiemParse}function Va(a){return"p"===(a+"").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}function Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split("-"),b=e.length,c=Xa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return null}function Za(a){var b=null;if(!Fe[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=Be._abbr,require("./locale/"+a),$a(b)}catch(a){}return Fe[a]}function $a(a,b){var c;return a&&(c=f(b)?bb(a):_a(a,b),c&&(Be=c)),Be._abbr}function _a(a,b){if(null!==b){var c=Ee;if(b.abbr=a,null!=Fe[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=Fe[a]._config;else if(null!=b.parentLocale){if(null==Fe[b.parentLocale])return Ge[b.parentLocale]||(Ge[b.parentLocale]=[]),Ge[b.parentLocale].push({name:a,config:b}),null;c=Fe[b.parentLocale]._config}return Fe[a]=new C(B(c,b)),Ge[a]&&Ge[a].forEach(function(a){_a(a.name,a.config)}),$a(a),Fe[a]}return delete Fe[a],null}function ab(a,b){if(null!=b){var c,d=Ee;null!=Fe[a]&&(d=Fe[a]._config),b=B(d,b),c=new C(b),c.parentLocale=Fe[a],Fe[a]=c,$a(a)}else null!=Fe[a]&&(null!=Fe[a].parentLocale?Fe[a]=Fe[a].parentLocale:null!=Fe[a]&&delete Fe[a]);return Fe[a]}function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return Be;if(!c(a)){if(b=Za(a))return b;a=[a]}return Ya(a)}function cb(){return Ad(Fe)}function db(a){var b,c=a._a;return c&&n(a).overflow===-2&&(b=c[fe]<0||c[fe]>11?fe:c[ge]<1||c[ge]>ea(c[ee],c[fe])?ge:c[he]<0||c[he]>24||24===c[he]&&(0!==c[ie]||0!==c[je]||0!==c[ke])?he:c[ie]<0||c[ie]>59?ie:c[je]<0||c[je]>59?je:c[ke]<0||c[ke]>999?ke:-1,n(a)._overflowDayOfYear&&(b<ee||b>ge)&&(b=ge),n(a)._overflowWeeks&&b===-1&&(b=le),n(a)._overflowWeekday&&b===-1&&(b=me),n(a).overflow=b),a}function eb(a){var b,c,d,e,f,g,h=a._i,i=He.exec(h)||Ie.exec(h);if(i){for(n(a).iso=!0,b=0,c=Ke.length;b<c;b++)if(Ke[b][1].exec(i[1])){e=Ke[b][0],d=Ke[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Le.length;b<c;b++)if(Le[b][1].exec(i[3])){f=(i[2]||" ")+Le[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Je.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),lb(a)}else a._isValid=!1}function fb(a){var b,c,d,e,f,g,h,i,j={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"},k="YXWVUTSRQPONZABCDEFGHIKLM";if(b=a._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),c=Ne.exec(b)){if(d=c[1]?"ddd"+(5===c[1].length?", ":" "):"",e="D MMM "+(c[2].length>10?"YYYY ":"YY "),f="HH:mm"+(c[4]?":ss":""),c[1]){var l=new Date(c[2]),m=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][l.getDay()];if(c[1].substr(0,3)!==m)return n(a).weekdayMismatch=!0,void(a._isValid=!1)}switch(c[5].length){case 2:0===i?h=" +0000":(i=k.indexOf(c[5][1].toUpperCase())-12,h=(i<0?" -":" +")+(""+i).replace(/^-?/,"0").match(/..$/)[0]+"00");break;case 4:h=j[c[5]];break;default:h=j[" GMT"]}c[5]=h,a._i=c.splice(1).join(""),g=" ZZ",a._f=d+e+f+g,lb(a),n(a).rfc2822=!0}else a._isValid=!1}function gb(b){var c=Me.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(eb(b),void(b._isValid===!1&&(delete b._isValid,fb(b),b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b)))))}function hb(a,b,c){return null!=a?a:null!=b?b:c}function ib(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function jb(a){var b,c,d,e,f=[];if(!a._d){for(d=ib(a),a._w&&null==a._a[ge]&&null==a._a[fe]&&kb(a),null!=a._dayOfYear&&(e=hb(a._a[ee],d[ee]),(a._dayOfYear>pa(e)||0===a._dayOfYear)&&(n(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[fe]=c.getUTCMonth(),a._a[ge]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[he]&&0===a._a[ie]&&0===a._a[je]&&0===a._a[ke]&&(a._nextDay=!0,a._a[he]=0),a._d=(a._useUTC?ta:sa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[he]=24)}}function kb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=hb(b.GG,a._a[ee],wa(tb(),1,4).year),d=hb(b.W,1),e=hb(b.E,1),(e<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(tb(),f,g);c=hb(b.gg,a._a[ee],j.year),d=hb(b.w,j.week),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>xa(c,f,g)?n(a)._overflowWeeks=!0:null!=i?n(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[ee]=h.year,a._dayOfYear=h.dayOfYear)}function lb(b){if(b._f===a.ISO_8601)return void eb(b);if(b._f===a.RFC_2822)return void fb(b);b._a=[],n(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Jd)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&n(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Md[f]?(d?n(b).empty=!1:n(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&n(b).unusedTokens.push(f);n(b).charsLeftOver=i-j,h.length>0&&n(b).unusedInput.push(h),b._a[he]<=12&&n(b).bigHour===!0&&b._a[he]>0&&(n(b).bigHour=void 0),n(b).parsedDateParts=b._a.slice(0),n(b).meridiem=b._meridiem,b._a[he]=mb(b._locale,b._a[he],b._meridiem),jb(b),db(b)}function mb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function nb(a){var b,c,d,e,f;if(0===a._f.length)return n(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],lb(b),o(b)&&(f+=n(b).charsLeftOver,f+=10*n(b).unusedTokens.length,n(b).score=f,(null==d||f<d)&&(d=f,c=b));k(a,c||b)}function ob(a){if(!a._d){var b=L(a._i);a._a=i([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),jb(a)}}function pb(a){var b=new r(db(qb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function qb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&""===b?p({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(h(b)?a._d=b:c(d)?nb(a):d?lb(a):rb(a),o(a)||(a._d=null),a))}function rb(b){var e=b._i;f(e)?b._d=new Date(a.now()):h(e)?b._d=new Date(e.valueOf()):"string"==typeof e?gb(b):c(e)?(b._a=i(e.slice(0),function(a){return parseInt(a,10)}),jb(b)):d(e)?ob(b):g(e)?b._d=new Date(e):a.createFromInputFallback(b)}function sb(a,b,f,g,h){var i={};return f!==!0&&f!==!1||(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,pb(i)}function tb(a,b,c,d){return sb(a,b,c,d,!1)}function ub(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return tb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function vb(){var a=[].slice.call(arguments,0);return ub("isBefore",a)}function wb(){var a=[].slice.call(arguments,0);return ub("isAfter",a)}function xb(a){for(var b in a)if(Re.indexOf(b)===-1||null!=a[b]&&isNaN(a[b]))return!1;for(var c=!1,d=0;d<Re.length;++d)if(a[Re[d]]){if(c)return!1;parseFloat(a[Re[d]])!==u(a[Re[d]])&&(c=!0)}return!0}function yb(){return this._isValid}function zb(){return Sb(NaN)}function Ab(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._isValid=xb(b),this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function Bb(a){return a instanceof Ab}function Cb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function Db(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Eb(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Se)||["-",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Fb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||h(b)?b.valueOf():tb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):tb(b).local()}function Gb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Hb(b,c,d){var e,f=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(b=Eb(_d,b),null===b)return this}else Math.abs(b)<16&&!d&&(b=60*b);return!this._isUTC&&c&&(e=Gb(this)),this._offset=b,this._isUTC=!0,null!=e&&this.add(e,"m"),f!==b&&(!c||this._changeInProgress?Xb(this,Sb(b-f,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?f:Gb(this)}function Ib(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Jb(a){return this.utcOffset(0,a)}function Kb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Gb(this),"m")),this}function Lb(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var a=Eb($d,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Mb(a){return!!this.isValid()&&(a=a?tb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Nb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ob(){if(!f(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=qb(a),a._a){var b=a._isUTC?l(a._a):tb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Pb(){return!!this.isValid()&&!this._isUTC}function Qb(){return!!this.isValid()&&this._isUTC}function Rb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Sb(a,b){var c,d,e,f=a,h=null;return Bb(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:g(a)?(f={},b?f[b]=a:f.milliseconds=a):(h=Te.exec(a))?(c="-"===h[1]?-1:1,f={y:0,d:u(h[ge])*c,h:u(h[he])*c,m:u(h[ie])*c,s:u(h[je])*c,ms:u(Cb(1e3*h[ke]))*c}):(h=Ue.exec(a))?(c="-"===h[1]?-1:1,f={y:Tb(h[2],c),M:Tb(h[3],c),w:Tb(h[4],c),d:Tb(h[5],c),h:Tb(h[6],c),m:Tb(h[7],c),s:Tb(h[8],c)}):null==f?f={}:"object"==typeof f&&("from"in f||"to"in f)&&(e=Vb(tb(f.from),tb(f.to)),f={},f.ms=e.milliseconds,f.M=e.months),d=new Ab(f),Bb(a)&&j(a,"_locale")&&(d._locale=a._locale),d}function Tb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Ub(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Vb(a,b){var c;return a.isValid()&&b.isValid()?(b=Fb(b,a),a.isBefore(b)?c=Ub(a,b):(c=Ub(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Wb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Sb(c,d),Xb(this,e,a),this}}function Xb(b,c,d,e){var f=c._milliseconds,g=Cb(c._days),h=Cb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,"Date",P(b,"Date")+g*d),h&&ja(b,P(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Yb(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Zb(b,c){var d=b||tb(),e=Fb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,tb(d)))}function $b(){return new r(this)}function _b(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function ac(a,b){var c=s(a)?a:tb(a);return!(!this.isValid()||!c.isValid())&&(b=K(f(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function bc(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function cc(a,b){var c,d=s(a)?a:tb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function dc(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ec(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function fc(a,b,c){var d,e,f,g;return this.isValid()?(d=Fb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=gc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function gc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function hc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ic(){if(!this.isValid())return null;var a=this.clone().utc();return a.year()<0||a.year()>9999?X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function jc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",f=b+'[")]';return this.format(c+d+e+f)}function kc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)}function lc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function mc(a){return this.from(tb(),a)}function nc(a,b){return this.isValid()&&(s(a)&&a.isValid()||tb(a).isValid())?Sb({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function oc(a){return this.to(tb(),a)}function pc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function qc(){return this._locale}function rc(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function sc(a){return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function tc(){return this._d.valueOf()-6e4*(this._offset||0)}function uc(){return Math.floor(this.valueOf()/1e3)}function vc(){return new Date(this.valueOf())}function wc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function xc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function yc(){return this.isValid()?this.toISOString():null}function zc(){return o(this)}function Ac(){
return k({},n(this))}function Bc(){return n(this).overflow}function Cc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Dc(a,b){U(0,[a,a.length],0,b)}function Ec(a){return Ic.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Fc(a){return Ic.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Gc(){return xa(this.year(),1,4)}function Hc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ic(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Jc.call(this,a,b,c,d,e))}function Jc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Kc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Lc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Mc(a,b){b[ke]=u(1e3*("0."+a))}function Nc(){return this._isUTC?"UTC":""}function Oc(){return this._isUTC?"Coordinated Universal Time":""}function Pc(a){return tb(1e3*a)}function Qc(){return tb.apply(null,arguments).parseZone()}function Rc(a){return a}function Sc(a,b,c,d){var e=bb(),f=l().set(d,b);return e[c](f,a)}function Tc(a,b,c){if(g(a)&&(b=a,a=void 0),a=a||"",null!=b)return Sc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Sc(a,d,c,"month");return e}function Uc(a,b,c,d){"boolean"==typeof a?(g(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,g(b)&&(c=b,b=void 0),b=b||"");var e=bb(),f=a?e._week.dow:0;if(null!=c)return Sc(b,(c+f)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=Sc(b,(h+f)%7,d,"day");return i}function Vc(a,b){return Tc(a,b,"months")}function Wc(a,b){return Tc(a,b,"monthsShort")}function Xc(a,b,c){return Uc(a,b,c,"weekdays")}function Yc(a,b,c){return Uc(a,b,c,"weekdaysShort")}function Zc(a,b,c){return Uc(a,b,c,"weekdaysMin")}function $c(){var a=this._data;return this._milliseconds=df(this._milliseconds),this._days=df(this._days),this._months=df(this._months),a.milliseconds=df(a.milliseconds),a.seconds=df(a.seconds),a.minutes=df(a.minutes),a.hours=df(a.hours),a.months=df(a.months),a.years=df(a.years),this}function _c(a,b,c,d){var e=Sb(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function ad(a,b){return _c(this,a,b,1)}function bd(a,b){return _c(this,a,b,-1)}function cd(a){return a<0?Math.floor(a):Math.ceil(a)}function dd(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*cd(fd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(ed(g)),h+=e,g-=cd(fd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ed(a){return 4800*a/146097}function fd(a){return 146097*a/4800}function gd(a){if(!this.isValid())return NaN;var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+ed(b),"month"===a?c:c/12;switch(b=this._days+Math.round(fd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function hd(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12):NaN}function id(a){return function(){return this.as(a)}}function jd(a){return a=K(a),this.isValid()?this[a+"s"]():NaN}function kd(a){return function(){return this.isValid()?this._data[a]:NaN}}function ld(){return t(this.days()/7)}function md(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function nd(a,b,c){var d=Sb(a).abs(),e=uf(d.as("s")),f=uf(d.as("m")),g=uf(d.as("h")),h=uf(d.as("d")),i=uf(d.as("M")),j=uf(d.as("y")),k=e<=vf.ss&&["s",e]||e<vf.s&&["ss",e]||f<=1&&["m"]||f<vf.m&&["mm",f]||g<=1&&["h"]||g<vf.h&&["hh",g]||h<=1&&["d"]||h<vf.d&&["dd",h]||i<=1&&["M"]||i<vf.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,md.apply(null,k)}function od(a){return void 0===a?uf:"function"==typeof a&&(uf=a,!0)}function pd(a,b){return void 0!==vf[a]&&(void 0===b?vf[a]:(vf[a]=b,"s"===a&&(vf.ss=b-1),!0))}function qd(a){if(!this.isValid())return this.localeData().invalidDate();var b=this.localeData(),c=nd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function rd(){if(!this.isValid())return this.localeData().invalidDate();var a,b,c,d=wf(this._milliseconds)/1e3,e=wf(this._days),f=wf(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}var sd,td;td=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var ud=td,vd=a.momentProperties=[],wd=!1,xd={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var yd;yd=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)j(a,b)&&c.push(b);return c};var zd,Ad=yd,Bd={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cd={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Dd="Invalid date",Ed="%d",Fd=/\d{1,2}/,Gd={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Hd={},Id={},Jd=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Kd=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ld={},Md={},Nd=/\d/,Od=/\d\d/,Pd=/\d{3}/,Qd=/\d{4}/,Rd=/[+-]?\d{6}/,Sd=/\d\d?/,Td=/\d\d\d\d?/,Ud=/\d\d\d\d\d\d?/,Vd=/\d{1,3}/,Wd=/\d{1,4}/,Xd=/[+-]?\d{1,6}/,Yd=/\d+/,Zd=/[+-]?\d+/,$d=/Z|[+-]\d\d:?\d\d/gi,_d=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[+-]?\d+(\.\d{1,3})?/,be=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={},de={},ee=0,fe=1,ge=2,he=3,ie=4,je=5,ke=6,le=7,me=8;zd=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var ne=zd;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),Z("M",Sd),Z("MM",Sd,Od),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[fe]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[fe]=e:n(c).invalidMonth=a});var oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,pe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),re=be,se=be;U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),Z("Y",Zd),Z("YY",Sd,Od),Z("YYYY",Wd,Qd),Z("YYYYY",Xd,Rd),Z("YYYYYY",Xd,Rd),ba(["YYYYY","YYYYYY"],ee),ba("YYYY",function(b,c){c[ee]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba("YY",function(b,c){c[ee]=a.parseTwoDigitYear(b)}),ba("Y",function(a,b){b[ee]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var te=O("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),Z("w",Sd),Z("ww",Sd,Od),Z("W",Sd),Z("WW",Sd,Od),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var ue={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),Z("d",Sd),Z("e",Sd),Z("E",Sd),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:n(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),we="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ye=be,ze=be,Ae=be;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,Sa),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),J("hour","h"),M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Sd),Z("h",Sd),Z("k",Sd),Z("HH",Sd,Od),Z("hh",Sd,Od),Z("kk",Sd,Od),Z("hmm",Td),Z("hmmss",Ud),Z("Hmm",Td),Z("Hmmss",Ud),ba(["H","HH"],he),ba(["k","kk"],function(a,b,c){var d=u(a);b[he]=24===d?0:d}),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[he]=u(a),n(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d)),n(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e)),n(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[he]=u(a.substr(0,d)),b[ie]=u(a.substr(d,2)),b[je]=u(a.substr(e))});var Be,Ce=/[ap]\.?m?\.?/i,De=O("Hours",!0),Ee={calendar:Bd,longDateFormat:Cd,invalidDate:Dd,ordinal:Ed,dayOfMonthOrdinalParse:Fd,relativeTime:Gd,months:pe,monthsShort:qe,week:ue,weekdays:ve,weekdaysMin:xe,weekdaysShort:we,meridiemParse:Ce},Fe={},Ge={},He=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Je=/Z|[+-]\d\d(?::?\d\d)?/,Ke=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Le=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Me=/^\/?Date\((\-?\d+)/i,Ne=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;a.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){},a.RFC_2822=function(){};var Oe=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:p()}),Pe=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=tb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:p()}),Qe=function(){return Date.now?Date.now():+new Date},Re=["year","quarter","month","week","day","hour","minute","second","millisecond"];Db("Z",":"),Db("ZZ",""),Z("Z",_d),Z("ZZ",_d),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Eb(_d,a)});var Se=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Te=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Sb.fn=Ab.prototype,Sb.invalid=zb;var Ve=Wb(1,"add"),We=Wb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Xe=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Dc("gggg","weekYear"),Dc("ggggg","weekYear"),Dc("GGGG","isoWeekYear"),Dc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),Z("G",Zd),Z("g",Zd),Z("GG",Sd,Od),Z("gg",Sd,Od),Z("GGGG",Wd,Qd),Z("gggg",Wd,Qd),Z("GGGGG",Xd,Rd),Z("ggggg",Xd,Rd),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),U("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),Z("Q",Nd),ba("Q",function(a,b){b[fe]=3*(u(a)-1)}),U("D",["DD",2],"Do","date"),J("date","D"),M("date",9),Z("D",Sd),Z("DD",Sd,Od),Z("Do",function(a,b){return a?b._dayOfMonthOrdinalParse||b._ordinalParse:b._dayOfMonthOrdinalParseLenient}),ba(["D","DD"],ge),ba("Do",function(a,b){b[ge]=u(a.match(Sd)[0],10)});var Ye=O("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),Z("DDD",Vd),Z("DDDD",Pd),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),U("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),Z("m",Sd),Z("mm",Sd,Od),ba(["m","mm"],ie);var Ze=O("Minutes",!1);U("s",["ss",2],0,"second"),J("second","s"),M("second",15),Z("s",Sd),Z("ss",Sd,Od),ba(["s","ss"],je);var $e=O("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),Z("S",Vd,Nd),Z("SS",Vd,Od),Z("SSS",Vd,Pd);var _e;for(_e="SSSS";_e.length<=9;_e+="S")Z(_e,Yd);for(_e="S";_e.length<=9;_e+="S")ba(_e,Mc);var af=O("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var bf=r.prototype;bf.add=Ve,bf.calendar=Zb,bf.clone=$b,bf.diff=fc,bf.endOf=sc,bf.format=kc,bf.from=lc,bf.fromNow=mc,bf.to=nc,bf.toNow=oc,bf.get=R,bf.invalidAt=Bc,bf.isAfter=_b,bf.isBefore=ac,bf.isBetween=bc,bf.isSame=cc,bf.isSameOrAfter=dc,bf.isSameOrBefore=ec,bf.isValid=zc,bf.lang=Xe,bf.locale=pc,bf.localeData=qc,bf.max=Pe,bf.min=Oe,bf.parsingFlags=Ac,bf.set=S,bf.startOf=rc,bf.subtract=We,bf.toArray=wc,bf.toObject=xc,bf.toDate=vc,bf.toISOString=ic,bf.inspect=jc,bf.toJSON=yc,bf.toString=hc,bf.unix=uc,bf.valueOf=tc,bf.creationData=Cc,bf.year=te,bf.isLeapYear=ra,bf.weekYear=Ec,bf.isoWeekYear=Fc,bf.quarter=bf.quarters=Kc,bf.month=ka,bf.daysInMonth=la,bf.week=bf.weeks=Ba,bf.isoWeek=bf.isoWeeks=Ca,bf.weeksInYear=Hc,bf.isoWeeksInYear=Gc,bf.date=Ye,bf.day=bf.days=Ka,bf.weekday=La,bf.isoWeekday=Ma,bf.dayOfYear=Lc,bf.hour=bf.hours=De,bf.minute=bf.minutes=Ze,bf.second=bf.seconds=$e,bf.millisecond=bf.milliseconds=af,bf.utcOffset=Hb,bf.utc=Jb,bf.local=Kb,bf.parseZone=Lb,bf.hasAlignedHourOffset=Mb,bf.isDST=Nb,bf.isLocal=Pb,bf.isUtcOffset=Qb,bf.isUtc=Rb,bf.isUTC=Rb,bf.zoneAbbr=Nc,bf.zoneName=Oc,bf.dates=x("dates accessor is deprecated. Use date instead.",Ye),bf.months=x("months accessor is deprecated. Use month instead",ka),bf.years=x("years accessor is deprecated. Use year instead",te),bf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Ib),bf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ob);var cf=C.prototype;cf.calendar=D,cf.longDateFormat=E,cf.invalidDate=F,cf.ordinal=G,cf.preparse=Rc,cf.postformat=Rc,cf.relativeTime=H,cf.pastFuture=I,cf.set=A,cf.months=fa,cf.monthsShort=ga,cf.monthsParse=ia,cf.monthsRegex=na,cf.monthsShortRegex=ma,cf.week=ya,cf.firstDayOfYear=Aa,cf.firstDayOfWeek=za,cf.weekdays=Fa,cf.weekdaysMin=Ha,cf.weekdaysShort=Ga,cf.weekdaysParse=Ja,cf.weekdaysRegex=Na,cf.weekdaysShortRegex=Oa,cf.weekdaysMinRegex=Pa,cf.isPM=Va,cf.meridiem=Wa,$a("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var df=Math.abs,ef=id("ms"),ff=id("s"),gf=id("m"),hf=id("h"),jf=id("d"),kf=id("w"),lf=id("M"),mf=id("y"),nf=kd("milliseconds"),of=kd("seconds"),pf=kd("minutes"),qf=kd("hours"),rf=kd("days"),sf=kd("months"),tf=kd("years"),uf=Math.round,vf={ss:44,s:45,m:45,h:22,d:26,M:11},wf=Math.abs,xf=Ab.prototype;return xf.isValid=yb,xf.abs=$c,xf.add=ad,xf.subtract=bd,xf.as=gd,xf.asMilliseconds=ef,xf.asSeconds=ff,xf.asMinutes=gf,xf.asHours=hf,xf.asDays=jf,xf.asWeeks=kf,xf.asMonths=lf,xf.asYears=mf,xf.valueOf=hd,xf._bubble=dd,xf.get=jd,xf.milliseconds=nf,xf.seconds=of,xf.minutes=pf,xf.hours=qf,xf.days=rf,xf.weeks=ld,xf.months=sf,xf.years=tf,xf.humanize=qd,xf.toISOString=rd,xf.toString=rd,xf.toJSON=rd,xf.locale=pc,xf.localeData=qc,xf.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rd),xf.lang=Xe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Zd),Z("X",ae),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.18.1",b(tb),a.fn=bf,a.min=vb,a.max=wb,a.now=Qe,a.utc=l,a.unix=Pc,a.months=Vc,a.isDate=h,a.locale=$a,a.invalid=p,a.duration=Sb,a.isMoment=s,a.weekdays=Xc,a.parseZone=Qc,a.localeData=bb,a.isDuration=Bb,a.monthsShort=Wc,a.weekdaysMin=Zc,a.defineLocale=_a,a.updateLocale=ab,a.locales=cb,a.weekdaysShort=Yc,a.normalizeUnits=K,a.relativeTimeRounding=od,a.relativeTimeThreshold=pd,a.calendarFormat=Yb,a.prototype=bf,a});
/*
  angular-momentjs - v0.2.2 
  2015-07-10
*/

!function(a,b){"use strict";b.module("angular-moment",["gdi2290.moment"]),b.module("angular-momentjs",["gdi2290.moment"]),b.module("ngMoment",["gdi2290.moment"]),b.module("ngMomentjs",["gdi2290.moment"]),b.module("ngMomentJS",["gdi2290.moment"]),b.module("gdi2290.amTimeAgo",[]),b.module("gdi2290.amDateFormat",[]),b.module("gdi2290.moment-service",[]),b.module("gdi2290.moment",["gdi2290.moment-service","gdi2290.amDateFormat","gdi2290.amTimeAgo"]),b.module("gdi2290.amDateFormat").filter("amDateFormat",["$moment",function(a){return function(b,c){return"undefined"==typeof b||null===b?"":(!isNaN(parseFloat(b))&&isFinite(b)&&(b=new Date(parseInt(b,10))),a.then?void a().then(function(a){return a(b).format(c)}):a(b).format(c))}}]),b.module("gdi2290.amTimeAgo").directive("amTimeAgo",["$moment","$timeout",function(a,c){function d(a){return"undefined"==typeof a||null===a||""===a}return function(e,f,g){function h(){m&&(c.cancel(m),m=null)}function i(b){f.text(b.fromNow());var d;a.then?a().then(function(a){d=a().diff(b,"minute")}):d=a().diff(b,"minute");var e=3600;1>d?e=1:60>d?e=30:180>d&&(e=300),m=c(function(){i(b)},1e3*e,!1)}function j(){h(),a().then?a.then(function(a){i(a(k,l))}):i(a(k,l))}var k,l,m=null;e.$watch(g.amTimeAgo,function(a){return d(a)?(h(),void(k&&(f.text(""),k=null))):(b.isNumber(a)&&(a=new Date(a)),k=a,void j())}),g.$observe("amFormat",function(a){l=a,k&&j()}),e.$on("$destroy",function(){h()})}}]),b.module("gdi2290.moment-service").provider("$moment",function(){function a(a){if(document){var b=document.createElement("script");b.type="text/javascript",b.async=!0,b.src=d,b.onreadystatechange=function(){"complete"===this.readyState&&a()},b.onload=a;var c=document.getElementsByTagName("head")[0];c.appendChild(b)}}var b,c=!1,d="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.3/moment.js",e={};this.asyncLoading=function(a){return c=a||c,this},this.scriptUrl=function(a){return d=a||d,this},this.locale=function(a,c){return b=a||b,e=c||e,this},this.$get=["$timeout","$q","$window",function(d,f,g){var h=f.defer(),i=g.moment;if(c){var j=function(){d(function(){b&&(g.moment.lang?g.moment.lang(b,e):g.moment.locale(b,e)),h.resolve(g.moment)})};a(j)}else b&&(g.moment.lang?g.moment.lang(b,e):g.moment.locale(b,e));return c?h.promise:i}]})}(this,this.angular,void 0);
//# sourceMappingURL=angular-momentjs.min.js.map
"use strict";angular.module("google.places",[]).factory("googlePlacesApi",["$window",function(a){if(!a.google)throw"Global `google` var missing. Did you forget to include the places API script?";return a.google}]).directive("gPlacesAutocomplete",["$parse","$compile","$timeout","$document","googlePlacesApi",function(a,b,c,d,e){return{restrict:"A",require:"^ngModel",scope:{model:"=ngModel",options:"=?",forceSelection:"=?",customPlaces:"=?"},controller:["$scope",function(a){}],link:function(a,f,g,h){function i(){f.bind("keydown",l),f.bind("blur",m),f.bind("submit",m),a.$watch("selected",n)}function j(){var c,e=angular.element("<div g-places-autocomplete-drawer></div>"),f=angular.element(d[0].body);e.attr({input:"input",query:"query",predictions:"predictions",active:"active",selected:"selected"}),c=b(e)(a),f.append(c),a.$on("$destroy",function(){c.remove()})}function k(){h.$parsers.push(o),h.$formatters.push(p),h.$render=q}function l(b){0!==a.predictions.length&&-1!==w(A,b.which)&&(b.preventDefault(),b.which===z.down?(a.active=(a.active+1)%a.predictions.length,a.$digest()):b.which===z.up?(a.active=(a.active?a.active:a.predictions.length)-1,a.$digest()):13===b.which||9===b.which?(a.forceSelection&&(a.active=-1===a.active?0:a.active),a.$apply(function(){a.selected=a.active,-1===a.selected&&r()})):27===b.which&&a.$apply(function(){b.stopPropagation(),r()}))}function m(b){0!==a.predictions.length&&(a.forceSelection&&(a.selected=-1===a.selected?0:a.selected),a.$digest(),a.$apply(function(){-1===a.selected&&r()}))}function n(){var b;b=a.predictions[a.selected],b&&(b.is_custom?a.$apply(function(){a.model=b.place,a.$emit("g-places-autocomplete:select",b.place),c(function(){h.$viewChangeListeners.forEach(function(a){a()})})}):C.getDetails({placeId:b.place_id},function(b,d){d==e.maps.places.PlacesServiceStatus.OK&&a.$apply(function(){a.model=b,a.$emit("g-places-autocomplete:select",b),c(function(){h.$viewChangeListeners.forEach(function(a){a()})})})}),r())}function o(b){var c;return b&&u(b)?(a.query=b,c=angular.extend({input:b},a.options),B.getPlacePredictions(c,function(b,c){a.$apply(function(){var d;r(),a.customPlaces&&(d=s(a.query),a.predictions.push.apply(a.predictions,d)),c==e.maps.places.PlacesServiceStatus.OK&&a.predictions.push.apply(a.predictions,b),a.predictions.length>5&&(a.predictions.length=5)})}),a.forceSelection?h.$modelValue:b):b}function p(a){var b="";return u(a)?b=a:v(a)&&(b=a.formatted_address),b}function q(){return f.val(h.$viewValue)}function r(){a.active=-1,a.selected=-1,a.predictions=[]}function s(b){var c,d,e,f=[];for(e=0;e<a.customPlaces.length;e++)c=a.customPlaces[e],d=t(b,c),d.matched_substrings.length>0&&f.push({is_custom:!0,custom_prediction_label:c.custom_prediction_label||"(Custom Non-Google Result)",description:c.formatted_address,place:c,matched_substrings:d.matched_substrings,terms:d.terms});return f}function t(a,b){var c,d,e,f=a+"",g=[],h=[];for(d=b.formatted_address.split(","),e=0;e<d.length;e++)c=d[e].trim(),f.length>0&&(c.length>=f.length?(x(c,f)&&h.push({length:f.length,offset:e}),f=""):x(f,c)?(h.push({length:c.length,offset:e}),f=f.replace(c,"").trim()):f=""),g.push({value:c,offset:b.formatted_address.indexOf(c)});return{matched_substrings:h,terms:g}}function u(a){return"[object String]"==Object.prototype.toString.call(a)}function v(a){return"[object Object]"==Object.prototype.toString.call(a)}function w(a,b){var c,d;if(null==a)return-1;for(d=a.length,c=0;d>c;c++)if(a[c]===b)return c;return-1}function x(a,b){return 0===y(a).lastIndexOf(y(b),0)}function y(a){return null==a?"":a.toLowerCase()}var z={tab:9,enter:13,esc:27,up:38,down:40},A=[z.tab,z.enter,z.esc,z.up,z.down],B=new e.maps.places.AutocompleteService,C=new e.maps.places.PlacesService(f[0]);!function(){a.query="",a.predictions=[],a.input=f,a.options=a.options||{},j(),i(),k()}()}}}]).directive("gPlacesAutocompleteDrawer",["$window","$document",function(a,b){var c=['<div class="pac-container" ng-if="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\', width: position.width+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">','  <div class="pac-item" g-places-autocomplete-prediction index="$index" prediction="prediction" query="query"','       ng-repeat="prediction in predictions track by $index" ng-class="{\'pac-item-selected\': isActive($index) }"','       ng-mouseenter="selectActive($index)" ng-click="selectPrediction($index)" role="option" id="{{prediction.id}}">',"  </div>","</div>"];return{restrict:"A",scope:{input:"=",query:"=",predictions:"=",active:"=",selected:"="},template:c.join(""),link:function(c,d){function e(c){var d=c[0],e=d.getBoundingClientRect(),f=b[0].documentElement,g=b[0].body,h=a.pageYOffset||f.scrollTop||g.scrollTop,i=a.pageXOffset||f.scrollLeft||g.scrollLeft;return{width:e.width,height:e.height,top:e.top+e.height+h,left:e.left+i}}d.bind("mousedown",function(a){a.preventDefault()}),a.onresize=function(){c.$apply(function(){c.position=e(c.input)})},c.isOpen=function(){return c.predictions.length>0},c.isActive=function(a){return c.active===a},c.selectActive=function(a){c.active=a},c.selectPrediction=function(a){c.selected=a},c.$watch("predictions",function(){c.position=e(c.input)},!0)}}}]).directive("gPlacesAutocompletePrediction",[function(){var a=['<span class="pac-icon pac-icon-marker"></span>','<span class="pac-item-query" ng-bind-html="prediction | highlightMatched"></span>','<span ng-repeat="term in prediction.terms | unmatchedTermsOnly:prediction">{{term.value | trailingComma:!$last}}&nbsp;</span>','<span class="custom-prediction-label" ng-if="prediction.is_custom">&nbsp;{{prediction.custom_prediction_label}}</span>'];return{restrict:"A",scope:{index:"=",prediction:"=",query:"="},template:a.join("")}}]).filter("highlightMatched",["$sce",function(a){return function(b){var c,d="",e="";return b.matched_substrings.length>0&&b.terms.length>0&&(c=b.matched_substrings[0],d=b.terms[0].value.substr(c.offset,c.length),e=b.terms[0].value.substr(c.offset+c.length)),a.trustAsHtml('<span class="pac-matched">'+d+"</span>"+e)}}]).filter("unmatchedTermsOnly",[function(){return function(a,b){var c,d,e=[];for(c=0;c<a.length;c++)d=a[c],b.matched_substrings.length>0&&d.offset>b.matched_substrings[0].length&&e.push(d);return e}}]).filter("trailingComma",[function(){return function(a,b){return b?a+",":a}}]);
/**
 * State-based routing for AngularJS 1.x
 * NOTICE: This monolithic bundle also bundles the @uirouter/core code.
 *         This causes it to be incompatible with plugins that depend on @uirouter/core.
 *         We recommend switching to the ui-router-core.js and ui-router-angularjs.js bundles instead.
 *         For more information, see http://ui-router.github.io/blog/angular-ui-router-umd-bundles
 * @version v1.0.5
 * @link https://ui-router.github.io
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("angular")):"function"==typeof define&&define.amd?define(["exports","angular"],e):e(t["@uirouter/angularjs"]=t["@uirouter/angularjs"]||{},t.angular)}(this,function(t,e){"use strict";function r(t){function e(r){return r.length>=n?t.apply(null,r):function(){return e(r.concat([].slice.apply(arguments)))}}var r=[].slice.apply(arguments,[1]),n=t.length;return e(r)}function n(){var t=arguments,e=t.length-1;return function(){for(var r=e,n=t[e].apply(this,arguments);r--;)n=t[r].call(this,n);return n}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)&&e.apply(null,r)}}function a(t,e){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.apply(null,r)||e.apply(null,r)}}function u(t,e){return function(r){return r[t].apply(r,e)}}function s(t){return function(e){for(var r=0;r<t.length;r++)if(t[r][0](e))return t[r][1](e)}}function c(t){if(re(t)&&t.length){var e=t.slice(0,-1),r=t.slice(-1);return!(e.filter(Dt(te)).length||r.filter(Dt(Zt)).length)}return Zt(t)}function f(t){return t}function l(){}function p(t,e,r,n,i){void 0===i&&(i=!1);var o=function(e){return t()[e].bind(r())},a=function(t){return function(){return e[t]=o(t),e[t].apply(null,arguments)}};return n=n||Object.keys(t()),n.reduce(function(t,e){return t[e]=i?a(e):o(e),t},e)}function h(t,e){return-1!==t.indexOf(e)}function d(t,e){var r=t.indexOf(e);return r>=0&&t.splice(r,1),t}function v(t,e){return t.push(e),e}function m(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=e.concat({}).reverse(),i=ve.apply(null,n);return ve({},i,g(t||{},Object.keys(i)))}function y(t,e){var r=[];for(var n in t.path){if(t.path[n]!==e.path[n])break;r.push(t.path[n])}return r}function g(t,e){var r={};for(var n in t)-1!==e.indexOf(n)&&(r[n]=t[n]);return r}function w(t,e){return Object.keys(t).filter(Dt(ge(e))).reduce(function(e,r){return e[r]=t[r],e},{})}function _(t,e){return b(t,At(e))}function $(t,e){var r=re(t),n=r?[]:{},i=r?function(t){return n.push(t)}:function(t,e){return n[e]=t};return de(t,function(t,r){e(t,r)&&i(t,r)}),n}function S(t,e){var r;return de(t,function(t,n){r||e(t,n)&&(r=t)}),r}function b(t,e){var r=re(t)?[]:{};return de(t,function(t,n){return r[n]=e(t,n)}),r}function R(t,e){return t.push(e),t}function E(t,e){return void 0===e&&(e="assert failure"),function(r){var n=t(r);if(!n)throw new Error(Zt(e)?e(r):e);return n}}function C(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return[];var r,n=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991),i=[];for(r=0;r<n;r++)switch(t.length){case 1:i.push([t[0][r]]);break;case 2:i.push([t[0][r],t[1][r]]);break;case 3:i.push([t[0][r],t[1][r],t[2][r]]);break;case 4:i.push([t[0][r],t[1][r],t[2][r],t[3][r]]);break;default:i.push(t.map(function(t){return t[r]}))}return i}function T(t,e){var r,n;if(re(e)&&(r=e[0],n=e[1]),!te(r))throw new Error("invalid parameters to applyPairs");return t[r]=n,t}function P(t){return t.length&&t[t.length-1]||void 0}function k(t,e){return e&&Object.keys(e).forEach(function(t){return delete e[t]}),e||(e={}),ve(e,t)}function O(t,e,r){if(re(t))return t.forEach(e,r);Object.keys(t).forEach(function(r){return e(t[r],r)})}function x(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];if(r)for(var n=Object.keys(r),i=0;i<n.length;i++)t[n[i]]=r[n[i]]}return t}function j(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r=typeof t;if(r!==typeof e||"object"!==r)return!1;var n=[t,e];if(Nt(re)(n))return I(t,e);if(Nt(ne)(n))return t.getTime()===e.getTime();if(Nt(ie)(n))return t.toString()===e.toString();if(Nt(Zt)(n))return!0;if([Zt,re,ne,ie].map(Ft).reduce(function(t,e){return t||!!e(n)},!1))return!1;var i,o={};for(i in t){if(!j(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!o[i])return!1;return!0}function I(t,e){return t.length===e.length&&C(t,e).reduce(function(t,e){return t&&j(e[0],e[1])},!0)}function V(t){if(!t)return"ui-view (defunct)";var e=t.creationContext?t.creationContext.name||"(root)":"(none)";return"[ui-view#"+t.id+" "+t.$type+":"+t.fqn+" ("+t.name+"@"+e+")]"}function A(e){return Xt(e)?t.Category[e]:t.Category[t.Category[e]]}function H(t,e){function r(t){for(var e=n,r=0;r<e.length;r++){var i=new Bt(e[r]);if(i&&i.matches(t.name)||!i&&e[r]===t.name)return!0}return!1}var n=te(e)?[e]:e;return!!(Zt(n)?n:r)(t)}function q(t,e,r){function n(t,n,i){void 0===i&&(i={});var a=new Ye(e,r,n,t,i);return o.push(a),function(){a._deregistered=!0,we(o)(a)}}var i=t._registeredHooks=t._registeredHooks||{},o=i[r.name]=[];return t[r.name]=n,n}function D(t){return void 0===t&&(t=!1),function(e,r){var n=t?-1:1,i=(e.node.state.path.length-r.node.state.path.length)*n;return 0!==i?i:r.hook.priority-e.hook.priority}}function N(t,e){function r(t){return re(t)?t:Qt(t)?[t]:[]}function n(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function i(t,e){return function(i){if(re(i)&&0===i.length)return i;var o=r(i),a=b(o,t);return!0===e?0===$(a,function(t){return!t}).length:n(a)}}function o(t){return function(e,n){var i=r(e),o=r(n);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var a=this;["encode","decode","equals","$normalize"].forEach(function(e){var r=t[e].bind(t),n="equals"===e?o:i;a[e]=n(r)}),ve(this,{dynamic:t.dynamic,name:t.name,pattern:t.pattern,inherit:t.inherit,is:i(t.is.bind(t),!0),$arrayMode:e})}function F(t){function e(){return t.value}return t=er(t)&&{value:t}||t,e.__cacheable=!0,ve(t,{$$fn:c(t.value)?t.value:e})}function U(e,r,n,i,o){if(e.type&&r&&"string"!==r.name)throw new Error("Param '"+i+"' has two type configurations.");if(e.type&&r&&"string"===r.name&&o.type(e.type))return o.type(e.type);if(r)return r;if(!e.type){var a=n===t.DefType.CONFIG?"any":n===t.DefType.PATH?"path":n===t.DefType.SEARCH?"query":"string";return o.type(a)}return e.type instanceof Xe?e.type:o.type(e.type)}function L(t,e,r){var n=t.squash;if(!e||!1===n)return!1;if(!Qt(n)||null==n)return r;if(!0===n||te(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function M(t,e,r,n){var i,o,a=[{from:"",to:r||e?void 0:""},{from:null,to:r||e?void 0:""}];return i=re(t.replace)?t.replace:[],te(n)&&i.push({from:n,to:void 0}),o=b(i,At("from")),$(a,function(t){return-1===o.indexOf(t.from)}).concat(i)}function B(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function G(t,e){for(;e.length<t;)e+=" ";return e}function W(t){return t.replace(/^([A-Z])/,function(t){return t.toLowerCase()}).replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function z(t){var e=J(t),r=e.match(/^(function [^ ]+\([^)]*\))/),n=r?r[1]:e,i=t.name||"";return i&&n.match(/function \(/)?"function "+i+n.substr(9):n}function J(t){var e=re(t)?t.slice(-1)[0]:t;return e&&e.toString()||"undefined"}function Q(t){function e(t){if(ee(t)){if(-1!==r.indexOf(t))return"[circular ref]";r.push(t)}return yr(t)}var r=[];return JSON.stringify(t,function(t,r){return e(r)}).replace(/\\"/g,'"')}function K(t){var e=new RegExp("("+t+")","g");return function(t){return t.split(e).filter(f)}}function Y(t,e){return te(P(t))&&te(e)?t.slice(0,-1).concat(P(t)+e):R(t,e)}function Z(t){return t.name}function X(t){return t.self.$$state=function(){return t},t.self}function tt(t){return t.parent&&t.parent.data&&(t.data=t.self.data=ye(t.parent.data,t.data)),t.data}function et(t){return t.parent?t.parent.path.concat(t):[t]}function rt(t){var e=t.parent?ve({},t.parent.includes):{};return e[t.name]=!0,e}function nt(t){var e=function(t){var e=se.$injector;return t.$inject||e&&e.annotate(t,e.strictDi)||"deferred"},r=function(t){return!(!t.token||!t.resolveFn)},n=function(t){return!(!t.provide&&!t.token||!(t.useValue||t.useFactory||t.useExisting||t.useClass))},o=function(t){return!!(t&&t.val&&(te(t.val)||re(t.val)||Zt(t.val)))},a=function(t){return t.provide||t.token},u=s([[At("resolveFn"),function(t){return new ar(a(t),t.resolveFn,t.deps,t.policy)}],[At("useFactory"),function(t){return new ar(a(t),t.useFactory,t.deps||t.dependencies,t.policy)}],[At("useClass"),function(t){return new ar(a(t),function(){return new t.useClass},[],t.policy)}],[At("useValue"),function(t){return new ar(a(t),function(){return t.useValue},[],t.policy,t.useValue)}],[At("useExisting"),function(t){return new ar(a(t),f,[t.useExisting],t.policy)}]]),c=s([[i(At("val"),te),function(t){return new ar(t.token,f,[t.val],t.policy)}],[i(At("val"),re),function(t){return new ar(t.token,P(t.val),t.val.slice(0,-1),t.policy)}],[i(At("val"),Zt),function(t){return new ar(t.token,t.val,e(t.val),t.policy)}]]),l=s([[Ut(ar),function(t){return t}],[r,u],[n,u],[o,c],[Mt(!0),function(t){throw new Error("Invalid resolve value: "+Q(t))}]]),p=t.resolve;return(re(p)?p:function(t,e){return Object.keys(t||{}).map(function(r){return{token:r,val:t[r],deps:void 0,policy:e[r]}})}(p,t.resolvePolicy||{})).map(l)}function it(t,e){var r=["",""],n=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return n;switch(e.squash){case!1:r=["(",")"+(e.isOptional?"?":"")];break;case!0:n=n.replace(/\/$/,""),r=["(?:/(",")|/)?"];break;default:r=["("+e.squash+"|",")?"]}return n+r[0]+e.type.pattern.source+r[1]}function ot(t,e,r,n){return"/"===n?t:e?n.slice(0,-1)+t:r?n.slice(1)+t:t}function at(t){if(!(Zt(t)||te(t)||Ut(Je)(t)||Je.isDef(t)))throw new Error("'handler' must be a string, function, TargetState, or have a state: 'newtarget' property");return Zt(t)?t:Mt(t)}function ut(t){t.addResolvable({token:Jr,deps:[],resolveFn:function(){return t.router},data:t.router},""),t.addResolvable({token:vr,deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$transition$",deps:[],resolveFn:function(){return t},data:t},""),t.addResolvable({token:"$stateParams",deps:[],resolveFn:function(){return t.params()},data:t.params()},""),t.entering().forEach(function(e){t.addResolvable({token:"$state$",deps:[],resolveFn:function(){return e},data:e},e)})}function st(t){return function(e,r){return(0,r.$$state()[t])(e,r)}}function ct(t,e){function r(e){return e&&Array.isArray(e.states)&&e.states.forEach(function(e){return t.router.stateRegistry.register(e)}),e}var n=e.$$state().lazyLoad,i=n._promise;if(!i){var o=function(t){return delete e.lazyLoad,delete e.$$state().lazyLoad,delete n._promise,t},a=function(t){return delete n._promise,se.$q.reject(t)};i=n._promise=se.$q.when(n(t,e)).then(r).then(o,a)}return i}function ft(t){var e=t._ignoredReason();if(e){ze.traceTransitionIgnored(t);var r=t.router.globals.transition;return"SameAsCurrent"===e&&r&&r.abort(),Ue.ignored().toPromise()}}function lt(t){if(!t.valid())throw new Error(t.error())}function pt(t){var e=function(t){return t||""},r=xn(t).map(e),n=r[0],i=r[1],o=jn(n).map(e);return{path:o[0],search:o[1],hash:i,url:t}}function ht(t,e,r,n){return function(i){function o(t){t.dispose(a),t.dispose(u)}var a=i.locationService=new r(i),u=i.locationConfig=new n(i,e);return{name:t,service:a,configuration:u,dispose:o}}}function dt(t){return se.$injector=kn,se.$q=En,{name:"vanilla.services",$q:En,$injector:kn,dispose:function(){return null}}}function vt(){var t=null;return function(e,r){return t=t||se.$injector.get("$templateFactory"),[new ti(e,r,t)]}}function mt(t){if(!t.parent)return{};var e=["templateProvider","templateUrl","template","notify","async"],r=["controller","controllerProvider","controllerAs","resolveAs"],n=["component","bindings","componentProvider"],i=e.concat(r),o=n.concat(i);if(Qt(t.views)&&Zn(o,t))throw new Error("State '"+t.name+"' has a 'views' object. It cannot also have \"view properties\" at the state level.  Move the following properties into a view (in the 'views' object):  "+o.filter(function(e){return Qt(t[e])}).join(", "));var a={},u=t.views||{$default:g(t,o)};return de(u,function(e,r){if(r=r||"$default",te(e)&&(e={component:e}),e=ve({},e),Zn(n,e)&&Zn(i,e))throw new Error("Cannot combine: "+n.join("|")+" with: "+i.join("|")+" in stateview: '"+r+"@"+t.name+"'");e.resolveAs=e.resolveAs||"$resolve",e.$type="ng1",e.$context=t,e.$name=r;var o=Dr.normalizeUIViewTarget(e.$context,e.$name);e.$uiViewName=o.uiViewName,e.$uiViewContextAnchor=o.uiViewContextAnchor,a[r]=e}),a}function yt(t){var e=se.$injector.get(t+"Directive");if(!e||!e.length)throw new Error("Unable to find component named '"+t+"'");return e.map(ri).reduce(Te,[])}function gt(t){function e(t,e,n,i,o,a){return r._runtimeServices(i,t,n,e),delete hi.router,delete hi.$get,hi}hi=this.router=new Jr,hi.stateProvider=new ii(hi.stateRegistry,hi.stateService),hi.stateRegistry.decorator("views",mt),hi.stateRegistry.decorator("onExit",oi("onExit")),hi.stateRegistry.decorator("onRetain",oi("onRetain")),hi.stateRegistry.decorator("onEnter",oi("onEnter")),hi.viewService._pluginapi._viewConfigFactory("ng1",vt());var r=hi.locationService=hi.locationConfig=new ai(t);return ai.monkeyPatchPathParameterType(hi),hi.router=hi,hi.$get=e,e.$inject=["$location","$browser","$sniffer","$rootScope","$http","$templateCache"],hi}function wt(t,e,r){se.$injector=t,se.$q=e,r.stateRegistry.get().map(function(t){return t.$$state().resolvables}).reduce(Te,[]).filter(function(t){return"deferred"===t.deps}).forEach(function(e){return e.deps=t.annotate(e.resolveFn,t.strictDi)})}function _t(t){t.$watch(function(){ze.approximateDigests++})}function $t(t){var e,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t="("+r[1]+")"),!(e=t.replace(/\n/g," ").match(/^\s*([^(]*?)\s*(\((.*)\))?\s*$/))||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1]||null,paramExpr:e[3]||null}}function St(t){var e=t.parent().inheritedData("$uiView"),r=qt("$cfg.path")(e);return r?P(r).state.name:void 0}function bt(t,e,r){var n=r.uiState||t.current.name,i=ve(Ct(e,t),r.uiStateOpts||{}),o=t.href(n,r.uiStateParams,i);return{uiState:n,uiStateParams:r.uiStateParams,uiStateOpts:i,href:o}}function Rt(t){var e="[object SVGAnimatedString]"===Object.prototype.toString.call(t.prop("href")),r="FORM"===t[0].nodeName;return{attr:r?"action":e?"xlink:href":"href",isAnchor:"A"===t.prop("tagName").toUpperCase(),clickable:!r}}function Et(t,e,r,n,i){return function(o){var a=o.which||o.button,u=i();if(!(a>1||o.ctrlKey||o.metaKey||o.shiftKey||t.attr("target"))){var s=r(function(){e.go(u.uiState,u.uiStateParams,u.uiStateOpts)});o.preventDefault();var c=n.isAnchor&&!u.href?1:0;o.preventDefault=function(){c--<=0&&r.cancel(s)}}}}function Ct(t,e){return{relative:St(t)||e.$current,inherit:!0,source:"sref"}}function Tt(t,e,r,n){var i;n&&(i=n.events),re(i)||(i=["click"]);for(var o=t.on?"on":"bind",a=0,u=i;a<u.length;a++){var s=u[a];t[o](s,r)}e.$on("$destroy",function(){for(var e=t.off?"off":"unbind",n=0,o=i;n<o.length;n++){var a=o[n];t[e](a,r)}})}function Pt(t){var e=function(e,r,n){return t.is(e,r,n)};return e.$stateful=!0,e}function kt(t){var e=function(e,r,n){return t.includes(e,r,n)};return e.$stateful=!0,e}function Ot(t,r,n,i,o,a){var u=qt("viewDecl.controllerAs"),s=qt("viewDecl.resolveAs");return{restrict:"ECA",priority:-400,compile:function(i){var a=i.html();return i.empty(),function(i,c){var f=c.data("$uiView");if(!f)return c.html(a),void t(c.contents())(i);var l=f.$cfg||{viewDecl:{},getTemplate:e.noop},p=l.path&&new pr(l.path);c.html(l.getTemplate(c,p)||a),ze.traceUIViewFill(f.$uiView,c.html());var h=t(c.contents()),d=l.controller,v=u(l),m=s(l),y=p&&gi(p);if(i[m]=y,d){var g=r(d,ve({},y,{$scope:i,$element:c}));v&&(i[v]=g,i[v][m]=y),c.data("$ngControllerController",g),c.children().data("$ngControllerController",g),xt(o,n,g,i,l)}if(te(l.viewDecl.component))var w=l.viewDecl.component,_=W(w),$=new RegExp("^(x-|data-)?"+_+"$","i"),S=function(){var t=[].slice.call(c[0].children).filter(function(t){return t&&t.tagName&&$.exec(t.tagName)});return t&&Vt.element(t).data("$"+w+"Controller")},b=i.$watch(S,function(t){t&&(xt(o,n,t,i,l),b())});h(i)}}}}function xt(t,e,r,n,i){!Zt(r.$onInit)||i.viewDecl.component&&Si||r.$onInit();var o=P(i.path).state.self,a={bind:r};if(Zt(r.uiOnParamsChanged)){var u=new pr(i.path),s=u.getResolvable("$transition$").data,c=function(t){if(t!==s&&-1===t.exiting().indexOf(o)){var e=t.params("to"),n=t.params("from"),i=t.treeChanges().to.map(function(t){return t.paramSchema}).reduce(Te,[]),a=t.treeChanges().from.map(function(t){return t.paramSchema}).reduce(Te,[]),u=i.filter(function(t){var r=a.indexOf(t);return-1===r||!a[r].type.equals(e[t.id],n[t.id])});if(u.length){var c=u.map(function(t){return t.id}),f=$(e,function(t,e){return-1!==c.indexOf(e)});r.uiOnParamsChanged(f,t)}}};n.$on("$destroy",e.onSuccess({},c,a))}if(Zt(r.uiCanExit)){var f=bi++,l=function(t){return!!t&&(t._uiCanExitIds&&!0===t._uiCanExitIds[f]||l(t.redirectedFrom()))},p=function(e){var n,i=e._uiCanExitIds=e._uiCanExitIds||{};return l(e)||(n=t.when(r.uiCanExit(e)),n.then(function(t){return i[f]=!1!==t})),n},h={exiting:o.name};n.$on("$destroy",e.onBefore(h,p,a))}}function jt(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,r){return t?e:function(t){return r(function(){t[0].scrollIntoView()},0,!1)}}]}var It=angular,Vt=e&&e.module?e:It,At=function(t){return function(e){return e&&e[t]}},Ht=r(function(t,e,r){return r&&r[t]===e}),qt=function(t){return i.apply(null,t.split(".").map(At))},Dt=function(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return!t.apply(null,e)}},Nt=function(t){return function(e){return e.reduce(function(e,r){return e&&!!t(r)},!0)}},Ft=function(t){return function(e){return e.reduce(function(e,r){return e||!!t(r)},!1)}},Ut=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},Lt=function(t){return function(e){return t===e}},Mt=function(t){return function(){return t}},Bt=function(){function t(t){this.text=t,this.glob=t.split(".");var e=this.text.split(".").map(function(t){return"**"===t?"(?:|(?:\\.[^.]*)*)":"*"===t?"\\.[^.]*":"\\."+t}).join("");this.regexp=new RegExp("^"+e+"$")}return t.prototype.matches=function(t){return this.regexp.test("."+t)},t.is=function(t){return!!/[!,*]+/.exec(t)},t.fromString=function(e){return t.is(e)?new t(e):null},t}(),Gt=function(){function t(e){return t.create(e||{})}return t.create=function(e){e=t.isStateClass(e)?new e:e;var r=ye(ye(e,t.prototype));return e.$$state=function(){return r},r.self=e,r.__stateObjectCache={nameGlob:Bt.fromString(r.name)},r},t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){return t=m(t,{inherit:!0,matchingKeys:null}),(t.inherit&&this.parent&&this.parent.parameters()||[]).concat(Re(this.params)).filter(function(e){return!t.matchingKeys||t.matchingKeys.hasOwnProperty(e.id)})},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||S(Re(this.params),Ht("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t.isStateClass=function(t){return Zt(t)&&!0===t.__uiRouterState},t.isState=function(t){return ee(t.__stateObjectCache)},t}(),Wt=Object.prototype.toString,zt=function(t){return function(e){return typeof e===t}},Jt=zt("undefined"),Qt=Dt(Jt),Kt=function(t){return null===t},Yt=a(Kt,Jt),Zt=zt("function"),Xt=zt("number"),te=zt("string"),ee=function(t){return null!==t&&"object"==typeof t},re=Array.isArray,ne=function(t){return"[object Date]"===Wt.call(t)},ie=function(t){return"[object RegExp]"===Wt.call(t)},oe=Gt.isState,ae=o(ee,i(At("then"),Zt)),ue=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded.")}},se={$q:void 0,$injector:void 0},ce="undefined"==typeof window?{}:window,fe=ce.angular||{},le=fe.fromJson||JSON.parse.bind(JSON),pe=fe.toJson||JSON.stringify.bind(JSON),he=fe.copy||k,de=fe.forEach||O,ve=Object.assign||x,me=fe.equals||j,ye=function(t,e){return ve(Object.create(t),e)},ge=r(h),we=r(d),_e=r(v),$e=function(t){return t.slice().forEach(function(e){"function"==typeof e&&e(),we(t,e)})},Se=function(t,e){return ve(t,e)},be=b,Re=function(t){return Object.keys(t).map(function(e){return t[e]})},Ee=function(t,e){return t&&e},Ce=function(t,e){return t||e},Te=function(t,e){return t.concat(e)},Pe=function(t,e){return re(e)?t.concat(e.reduce(Pe,[])):R(t,e)},ke=function(t,e){return ge(t,e)?t:R(t,e)},Oe=function(t){return t.reduce(Te,[])},xe=function(t){return t.reduce(Pe,[])},je=E,Ie=E,Ve=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},Ae=function(t,e){return void 0===e&&(e=Mt(!0)),function(r,n){return e(r)&&e(n)?t(r)-t(n):0}},He=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e,r){return t.reduce(function(t,n){return t||n(e,r)},0)}},qe=function(t){return t.catch(function(t){return 0})&&t},De=function(t){return qe(se.$q.reject(t))},Ne=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e=null),this._items=t,this._limit=e}return t.prototype.enqueue=function(t){var e=this._items;return e.push(t),this._limit&&e.length>this._limit&&e.shift(),t},t.prototype.dequeue=function(){if(this.size())return this._items.splice(0,1)[0]},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){if(this.size())return this._items[0]},t}();!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED",t[t.ERROR=6]="ERROR"}(t.RejectType||(t.RejectType={}));var Fe=0,Ue=function(){function e(t,e,r){this.$id=Fe++,this.type=t,this.message=e,this.detail=r}return e.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():Q(t)}(this.detail),e=this;return"Transition Rejection($id: "+e.$id+" type: "+e.type+", message: "+e.message+", detail: "+t+")"},e.prototype.toPromise=function(){return ve(De(this),{_transitionRejection:this})},e.isRejectionPromise=function(t){return t&&"function"==typeof t.then&&Ut(e)(t._transitionRejection)},e.superseded=function(r,n){var i=new e(t.RejectType.SUPERSEDED,"The transition has been superseded by a different transition",r);return n&&n.redirected&&(i.redirected=!0),i},e.redirected=function(t){return e.superseded(t,{redirected:!0})},e.invalid=function(r){return new e(t.RejectType.INVALID,"This transition is invalid",r)},e.ignored=function(r){return new e(t.RejectType.IGNORED,"The transition was ignored",r)},e.aborted=function(r){return new e(t.RejectType.ABORTED,"The transition has been aborted",r)},e.errored=function(r){return new e(t.RejectType.ERROR,"The transition errored",r)},e.normalize=function(t){return Ut(e)(t)?t:e.errored(t)},e}(),Le=function(t){var e=t.viewDecl,r=e.$context.name||"(root)";return"[View#"+t.$id+" from '"+r+"' state]: target ui-view: '"+e.$uiViewName+"@"+e.$uiViewContextAnchor+"'"};!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.UIVIEW=3]="UIVIEW",t[t.VIEWCONFIG=4]="VIEWCONFIG"}(t.Category||(t.Category={}));var Me=qt("$id"),Be=qt("router.$id"),Ge=function(t){return"Transition #"+Me(t)+"-"+Be(t)},We=function(){function e(){this._enabled={},this.approximateDigests=0}return e.prototype._set=function(e,r){var n=this;r.length||(r=Object.keys(t.Category).map(function(t){return parseInt(t,10)}).filter(function(t){return!isNaN(t)}).map(function(e){return t.Category[e]})),r.map(A).forEach(function(t){return n._enabled[t]=e})},e.prototype.enable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!0,t)},e.prototype.disable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._set(!1,t)},e.prototype.enabled=function(t){return!!this._enabled[A(t)]},e.prototype.traceTransitionStart=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Ge(e)+": Started  -> "+Q(e))},e.prototype.traceTransitionIgnored=function(e){this.enabled(t.Category.TRANSITION)&&console.log(Ge(e)+": Ignored  <> "+Q(e))},e.prototype.traceHookInvocation=function(e,r,n){if(this.enabled(t.Category.HOOK)){var i=qt("traceData.hookType")(n)||"internal",o=qt("traceData.context.state.name")(n)||qt("traceData.context")(n)||"unknown",a=z(e.registeredHook.callback);console.log(Ge(r)+":   Hook -> "+i+" context: "+o+", "+B(200,a))}},e.prototype.traceHookResult=function(e,r,n){this.enabled(t.Category.HOOK)&&console.log(Ge(r)+":   <- Hook returned: "+B(200,Q(e)))},e.prototype.traceResolvePath=function(e,r,n){this.enabled(t.Category.RESOLVE)&&console.log(Ge(n)+":         Resolving "+e+" ("+r+")")},e.prototype.traceResolvableResolved=function(e,r){this.enabled(t.Category.RESOLVE)&&console.log(Ge(r)+":               <- Resolved  "+e+" to: "+B(200,Q(e.data)))},e.prototype.traceError=function(e,r){this.enabled(t.Category.TRANSITION)&&console.log(Ge(r)+": <- Rejected "+Q(r)+", reason: "+e)},e.prototype.traceSuccess=function(e,r){this.enabled(t.Category.TRANSITION)&&console.log(Ge(r)+": <- Success  "+Q(r)+", final state: "+e.name)},e.prototype.traceUIViewEvent=function(e,r,n){void 0===n&&(n=""),this.enabled(t.Category.UIVIEW)&&console.log("ui-view: "+G(30,e)+" "+V(r)+n)},e.prototype.traceUIViewConfigUpdated=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Updating",e," with ViewConfig from context='"+r+"'")},e.prototype.traceUIViewFill=function(e,r){this.enabled(t.Category.UIVIEW)&&this.traceUIViewEvent("Fill",e," with: "+B(200,r))},e.prototype.traceViewSync=function(e){if(this.enabled(t.Category.VIEWCONFIG)){var r=e.map(function(t){var e=t[0],r=t[1];return{"ui-view fqn":e.$type+":"+e.fqn,"state: view name":r&&r.viewDecl.$context.name+": "+r.viewDecl.$name+" ("+r.viewDecl.$type+")"}}).sort(function(t,e){return t["ui-view fqn"].localeCompare(e["ui-view fqn"])});console.table(r)}},e.prototype.traceViewServiceEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+Le(r))},e.prototype.traceViewServiceUIViewEvent=function(e,r){this.enabled(t.Category.VIEWCONFIG)&&console.log("VIEWCONFIG: "+e+" "+V(r))},e}(),ze=new We;!function(t){t[t.CREATE=0]="CREATE",t[t.BEFORE=1]="BEFORE",t[t.RUN=2]="RUN",t[t.SUCCESS=3]="SUCCESS",t[t.ERROR=4]="ERROR"}(t.TransitionHookPhase||(t.TransitionHookPhase={})),function(t){t[t.TRANSITION=0]="TRANSITION",t[t.STATE=1]="STATE"}(t.TransitionHookScope||(t.TransitionHookScope={}));var Je=function(){function t(t,e,r,n){void 0===n&&(n={}),this._identifier=t,this._definition=e,this._options=n,this._params=r||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t.prototype.toString=function(){return"'"+this.name()+"'"+pe(this.params())},t.isDef=function(t){return t&&t.state&&(te(t.state)||te(t.state.name))},t}(),Qe={current:l,transition:null,traceData:{},bind:null},Ke=function(){function e(e,r,n,i){var o=this;this.transition=e,this.stateContext=r,this.registeredHook=n,this.options=i,this.isSuperseded=function(){return o.type.hookPhase===t.TransitionHookPhase.RUN&&!o.options.transition.isActive()},this.options=m(i,Qe),this.type=n.eventType}return e.prototype.logError=function(t){this.transition.router.stateService.defaultErrorHandler()(t)},e.prototype.invokeHook=function(){var t=this,e=this.registeredHook;if(!e._deregistered){var r=this.getNotCurrentRejection();if(r)return r;var n=this.options;ze.traceHookInvocation(this,this.transition,n);var i=function(t){return Ue.normalize(t).toPromise()},o=function(r){return e.eventType.getErrorHandler(t)(r)},a=function(r){return e.eventType.getResultHandler(t)(r)};try{var u=function(){return e.callback.call(n.bind,t.transition,t.stateContext)}();return!this.type.synchronous&&ae(u)?u.catch(i).then(a,o):a(u)}catch(t){return o(Ue.normalize(t))}}},e.prototype.handleHookResult=function(t){var e=this,r=this.getNotCurrentRejection();return r||(ae(t)?t.then(function(t){return e.handleHookResult(t)}):(ze.traceHookResult(t,this.transition,this.options),!1===t?Ue.aborted("Hook aborted transition").toPromise():Ut(Je)(t)?Ue.redirected(t).toPromise():void 0))},e.prototype.getNotCurrentRejection=function(){var t=this.transition.router;return t._disposed?Ue.aborted("UIRouter instance #"+t.$id+" has been stopped (disposed)").toPromise():this.transition._aborted?Ue.aborted().toPromise():this.isSuperseded()?Ue.superseded(this.options.current()).toPromise():void 0},e.prototype.toString=function(){var t=this,e=t.options,r=t.registeredHook;return(qt("traceData.hookType")(e)||"internal")+" context: "+(qt("traceData.context.state.name")(e)||qt("traceData.context")(e)||"unknown")+", "+B(200,J(r.callback))},e.chain=function(t,e){var r=function(t,e){return t.then(function(){return e.invokeHook()})};return t.reduce(r,e||se.$q.when())},e.invokeHooks=function(t,r){for(var n=0;n<t.length;n++){var i=t[n].invokeHook();if(ae(i)){var o=t.slice(n+1);return e.chain(o,i).then(r)}}return r()},e.runAllHooks=function(t){t.forEach(function(t){return t.invokeHook()})},e.HANDLE_RESULT=function(t){return function(e){return t.handleHookResult(e)}},e.LOG_REJECTED_RESULT=function(t){return function(e){ae(e)&&e.catch(function(e){return t.logError(Ue.normalize(e))})}},e.LOG_ERROR=function(t){return function(e){return t.logError(e)}},e.REJECT_ERROR=function(t){return function(t){return De(t)}},e.THROW_ERROR=function(t){return function(t){throw t}},e}(),Ye=function(){function e(t,e,r,n,i){void 0===i&&(i={}),this.tranSvc=t,this.eventType=e,this.callback=r,this.matchCriteria=n,this.priority=i.priority||0,this.bind=i.bind||null,this._deregistered=!1}return e.prototype._matchingNodes=function(t,e){if(!0===e)return t;var r=t.filter(function(t){return H(t.state,e)});return r.length?r:null},e.prototype._getDefaultMatchCriteria=function(){return b(this.tranSvc._pluginapi._getPathTypes(),function(){return!0})},e.prototype._getMatchingNodes=function(e){var r=this,n=ve(this._getDefaultMatchCriteria(),this.matchCriteria);return Re(this.tranSvc._pluginapi._getPathTypes()).reduce(function(i,o){var a=o.scope===t.TransitionHookScope.STATE,u=e[o.name]||[],s=a?u:[P(u)];return i[o.name]=r._matchingNodes(s,n[o.name]),i},{})},e.prototype.matches=function(t){var e=this._getMatchingNodes(t);return Re(e).every(f)?e:null},e}(),Ze=function(){function e(t){this.transition=t}return e.prototype.buildHooksForPhase=function(t){var e=this;return this.transition.router.transitionService._pluginapi._getEvents(t).map(function(t){return e.buildHooks(t)}).reduce(Te,[]).filter(f)},e.prototype.buildHooks=function(e){var r=this.transition,n=r.treeChanges(),i=this.getMatchingHooks(e,n);if(!i)return[];var o={transition:r,current:r.options().current},a=function(i){return i.matches(n)[e.criteriaMatchPath.name].map(function(n){var a=ve({bind:i.bind,traceData:{hookType:e.name,context:n}
},o),u=e.criteriaMatchPath.scope===t.TransitionHookScope.STATE?n.state.self:null,s=new Ke(r,u,i,a);return{hook:i,node:n,transitionHook:s}})};return i.map(a).reduce(Te,[]).sort(D(e.reverseSort)).map(function(t){return t.transitionHook})},e.prototype.getMatchingHooks=function(e,r){var n=e.hookPhase===t.TransitionHookPhase.CREATE,i=this.transition.router.transitionService;return(n?[i]:[this.transition,i]).map(function(t){return t.getHooks(e.name)}).filter(je(re,"broken event named: "+e.name)).reduce(Te,[]).filter(function(t){return t.matches(r)})},e}(),Xe=function(){function t(t){this.pattern=/.*/,this.inherit=!0,ve(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{ParamType:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new N(this,t)},t}(),tr=Object.prototype.hasOwnProperty,er=function(t){return 0===["value","type","squash","array","dynamic"].filter(tr.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(t.DefType||(t.DefType={}));var rr=function(){function e(e,r,n,i,o){n=F(n),r=U(n,r,i,e,o.paramTypes);var a=function(){var r={array:i===t.DefType.SEARCH&&"auto"},o=e.match(/\[\]$/)?{array:!0}:{};return ve(r,o,n).array}();r=a?r.$asArray(a,i===t.DefType.SEARCH):r;var u=void 0!==n.value||i===t.DefType.SEARCH,s=Qt(n.dynamic)?!!n.dynamic:!!r.dynamic,c=Qt(n.raw)?!!n.raw:!!r.raw,f=L(n,u,o.defaultSquashPolicy()),l=M(n,a,u,f),p=Qt(n.inherit)?!!n.inherit:!!r.inherit;ve(this,{id:e,type:r,location:i,isOptional:u,dynamic:s,raw:c,squash:f,replace:l,inherit:p,array:a,config:n})}return e.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},e.prototype.value=function(t){var e=this;return t=function(t){for(var r=0,n=e.replace;r<n.length;r++){var i=n[r];if(i.from===t)return i.to}return t}(t),Jt(t)?function(){if(e._defaultValueCache)return e._defaultValueCache.defaultValue;if(!se.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=se.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of ParamType ("+e.type.name+")");return e.config.$$fn.__cacheable&&(e._defaultValueCache={defaultValue:t}),t}():this.type.$normalize(t)},e.prototype.isSearch=function(){return this.location===t.DefType.SEARCH},e.prototype.validates=function(t){if((Jt(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var r=this.type.encode(e);return!(te(r)&&!this.type.pattern.exec(r))},e.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},e.values=function(t,e){void 0===e&&(e={});for(var r={},n=0,i=t;n<i.length;n++){var o=i[n];r[o.id]=o.value(e[o.id])}return r},e.changed=function(t,e,r){return void 0===e&&(e={}),void 0===r&&(r={}),t.filter(function(t){return!t.type.equals(e[t.id],r[t.id])})},e.equals=function(t,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),0===e.changed(t,r,n).length},e.validates=function(t,e){return void 0===e&&(e={}),t.map(function(t){return t.validates(e[t.id])}).reduce(Ee,!0)},e}(),nr=function(){function t(e){if(e instanceof t){var r=e;this.state=r.state,this.paramSchema=r.paramSchema.slice(),this.paramValues=ve({},r.paramValues),this.resolvables=r.resolvables.slice(),this.views=r.views&&r.views.slice()}else{var n=e;this.state=n,this.paramSchema=n.parameters({inherit:!1}),this.paramValues={},this.resolvables=n.resolvables.map(function(t){return t.clone()})}}return t.prototype.applyRawParams=function(t){var e=function(e){return[e.id,e.value(t[e.id])]};return this.paramValues=this.paramSchema.reduce(function(t,r){return T(t,e(r))},{}),this},t.prototype.parameter=function(t){return S(this.paramSchema,Ht("id",t))},t.prototype.equals=function(t,e){var r=this.diff(t,e);return r&&0===r.length},t.prototype.diff=function(t,e){if(this.state!==t.state)return!1;var r=e?e(this):this.paramSchema;return rr.changed(r,this.paramValues,t.paramValues)},t.clone=function(e){return new t(e)},t}(),ir=function(){function t(){}return t.makeTargetState=function(t){var e=P(t).state;return new Je(e,e,t.map(At("paramValues")).reduce(Se,{}))},t.buildPath=function(t){var e=t.params();return t.$state().path.map(function(t){return new nr(t).applyRawParams(e)})},t.buildToPath=function(e,r){var n=t.buildPath(r);return r.options().inherit?t.inheritParams(e,n,Object.keys(r.params())):n},t.applyViewConfigs=function(e,r,n){r.filter(function(t){return ge(n,t.state)}).forEach(function(n){var i=Re(n.state.views||{}),o=t.subPath(r,function(t){return t===n}),a=i.map(function(t){return e.createViewConfig(o,t)});n.views=a.reduce(Te,[])})},t.inheritParams=function(t,e,r){function n(t,e){var r=S(t,Ht("state",e));return ve({},r&&r.paramValues)}function i(e){var i=ve({},e&&e.paramValues),a=g(i,r);i=w(i,r);var u=w(n(t,e.state)||{},o),s=ve(i,u,a);return new nr(e.state).applyRawParams(s)}void 0===r&&(r=[]);var o=t.map(function(t){return t.paramSchema}).reduce(Te,[]).filter(function(t){return!t.inherit}).map(At("id"));return e.map(i)},t.treeChanges=function(e,r,n){function i(t,e){var n=nr.clone(t);return n.paramValues=r[e].paramValues,n}for(var o=0,a=Math.min(e.length,r.length);o<a&&e[o].state!==n&&function(e,r){return e.equals(r,t.nonDynamicParams)}(e[o],r[o]);)o++;var u,s,c,f,l;u=e,s=u.slice(0,o),c=u.slice(o);var p=s.map(i);return f=r.slice(o),l=p.concat(f),{from:u,to:l,retained:s,exiting:c,entering:f}},t.matching=function(t,e,r){var n=!1;return C(t,e).reduce(function(t,e){var i=e[0],o=e[1];return n=n||!i.equals(o,r),n?t:t.concat(i)},[])},t.equals=function(e,r,n){return e.length===r.length&&t.matching(e,r,n).length===e.length},t.subPath=function(t,e){var r=S(t,e),n=t.indexOf(r);return-1===n?void 0:t.slice(0,n+1)},t.nonDynamicParams=function(t){return t.state.parameters({inherit:!1}).filter(function(t){return!t.dynamic})},t.paramValues=function(t){return t.reduce(function(t,e){return ve(t,e.paramValues)},{})},t}(),or={when:"LAZY",async:"WAIT"},ar=function(){function t(e,r,n,i,o){if(this.resolved=!1,this.promise=void 0,e instanceof t)ve(this,e);else if(Zt(r)){if(Yt(e))throw new Error("new Resolvable(): token argument is required");if(!Zt(r))throw new Error("new Resolvable(): resolveFn argument must be a function");this.token=e,this.policy=i,this.resolveFn=r,this.deps=n||[],this.data=o,this.resolved=void 0!==o,this.promise=this.resolved?se.$q.when(this.data):void 0}else if(ee(e)&&e.token&&Zt(e.resolveFn)){var a=e;return new t(a.token,a.resolveFn,a.deps,a.policy,a.data)}}return t.prototype.getPolicy=function(t){var e=this.policy||{},r=t&&t.resolvePolicy||{};return{when:e.when||r.when||or.when,async:e.async||r.async||or.async}},t.prototype.resolve=function(t,e){var r=this,n=se.$q,i=function(){return n.all(t.getDependencies(r).map(function(r){return r.get(t,e)}))},o=function(t){return r.resolveFn.apply(null,t)},a=function(t){var e=t.cache(1);return e.take(1).toPromise().then(function(){return e})},u=t.findNode(this),s=u&&u.state,c="RXWAIT"===this.getPolicy(s).async?a:f,l=function(t){return r.data=t,r.resolved=!0,ze.traceResolvableResolved(r,e),r.data};return this.promise=n.when().then(i).then(o).then(c).then(l)},t.prototype.get=function(t,e){return this.promise||this.resolve(t,e)},t.prototype.toString=function(){return"Resolvable(token: "+Q(this.token)+", requires: ["+this.deps.map(Q)+"])"},t.prototype.clone=function(){return new t(this)},t.fromData=function(e,r){return new t(e,function(){return r},null,null,r)},t}(),ur={when:{LAZY:"LAZY",EAGER:"EAGER"},async:{WAIT:"WAIT",NOWAIT:"NOWAIT",RXWAIT:"RXWAIT"}},sr=ur.when,cr=[sr.EAGER,sr.LAZY],fr=[sr.EAGER],lr="Native Injector",pr=function(){function t(t){this._path=t}return t.prototype.getTokens=function(){return this._path.reduce(function(t,e){return t.concat(e.resolvables.map(function(t){return t.token}))},[]).reduce(ke,[])},t.prototype.getResolvable=function(t){return P(this._path.map(function(t){return t.resolvables}).reduce(Te,[]).filter(function(e){return e.token===t}))},t.prototype.getPolicy=function(t){var e=this.findNode(t);return t.getPolicy(e.state)},t.prototype.subContext=function(e){return new t(ir.subPath(this._path,function(t){return t.state===e}))},t.prototype.addResolvables=function(t,e){var r=S(this._path,Ht("state",e)),n=t.map(function(t){return t.token});r.resolvables=r.resolvables.filter(function(t){return-1===n.indexOf(t.token)}).concat(t)},t.prototype.resolvePath=function(t,e){var r=this;void 0===t&&(t="LAZY");var n=ge(cr,t)?t:"LAZY",i=n===ur.when.EAGER?fr:cr;ze.traceResolvePath(this._path,t,e);var o=function(t,e){return function(n){return ge(t,r.getPolicy(n)[e])}},a=this._path.reduce(function(t,n){var a=n.resolvables.filter(o(i,"when")),u=a.filter(o(["NOWAIT"],"async")),s=a.filter(Dt(o(["NOWAIT"],"async"))),c=r.subContext(n.state),f=function(t){return t.get(c,e).then(function(e){return{token:t.token,value:e}})};return u.forEach(f),t.concat(s.map(f))},[]);return se.$q.all(a)},t.prototype.injector=function(){return this._injector||(this._injector=new hr(this))},t.prototype.findNode=function(t){return S(this._path,function(e){return ge(e.resolvables,t)})},t.prototype.getDependencies=function(t){var e=this,r=this.findNode(t),n=ir.subPath(this._path,function(t){return t===r})||this._path,i=n.reduce(function(t,e){return t.concat(e.resolvables)},[]).filter(function(e){return e!==t}),o=function(t){var r=i.filter(function(e){return e.token===t});if(r.length)return P(r);var n=e.injector().getNative(t);if(!n)throw new Error("Could not find Dependency Injection token: "+Q(t));return new ar(t,function(){return n},[],n)};return t.deps.map(o)},t}(),hr=function(){function t(t){this.context=t,this.native=this.get(lr)||se.$injector}return t.prototype.get=function(t){var e=this.context.getResolvable(t);if(e){if("NOWAIT"===this.context.getPolicy(e).async)return e.get(this.context);if(!e.resolved)throw new Error("Resolvable async .get() not complete:"+Q(e.token));return e.data}return this.native&&this.native.get(t)},t.prototype.getAsync=function(t){var e=this.context.getResolvable(t);return e?e.get(this.context):se.$q.when(this.native.get(t))},t.prototype.getNative=function(t){return this.native&&this.native.get(t)},t}(),dr=At("self"),vr=function(){function e(e,r,n){var i=this;if(this._deferred=se.$q.defer(),this.promise=this._deferred.promise,this._registeredHooks={},this._hookBuilder=new Ze(this),this.isActive=function(){return i.router.globals.transition===i},this.router=n,this._targetState=r,!r.valid())throw new Error(r.error());this._options=ve({current:Mt(this)},r.options()),this.$id=n.transitionService._transitionCount++;var o=ir.buildToPath(e,r);this._treeChanges=ir.treeChanges(e,o,this._options.reloadState),this.createTransitionHookRegFns();var a=this._hookBuilder.buildHooksForPhase(t.TransitionHookPhase.CREATE);Ke.invokeHooks(a,function(){return null}),this.applyViewConfigs(n)}return e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.createTransitionHookRegFns=function(){var e=this;this.router.transitionService._pluginapi._getEvents().filter(function(e){return e.hookPhase!==t.TransitionHookPhase.CREATE}).forEach(function(t){return q(e,e.router.transitionService,t)})},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype.applyViewConfigs=function(t){var e=this._treeChanges.entering.map(function(t){return t.state});ir.applyViewConfigs(t.transitionService.$view,this._treeChanges.to,e)},e.prototype.$from=function(){return P(this._treeChanges.from).state},e.prototype.$to=function(){return P(this._treeChanges.to).state},e.prototype.from=function(){return this.$from().self},e.prototype.to=function(){return this.$to().self},e.prototype.targetState=function(){return this._targetState},e.prototype.is=function(t){return t instanceof e?this.is({to:t.$to().name,from:t.$from().name}):!(t.to&&!H(this.$to(),t.to)||t.from&&!H(this.$from(),t.from))},e.prototype.params=function(t){return void 0===t&&(t="to"),Object.freeze(this._treeChanges[t].map(At("paramValues")).reduce(Se,{}))},e.prototype.injector=function(t,e){void 0===e&&(e="to");var r=this._treeChanges[e];return t&&(r=ir.subPath(r,function(e){return e.state===t||e.state.name===t})),new pr(r).injector()},e.prototype.getResolveTokens=function(t){return void 0===t&&(t="to"),new pr(this._treeChanges[t]).getTokens()},e.prototype.addResolvable=function(t,e){void 0===e&&(e=""),t=Ut(ar)(t)?t:new ar(t);var r="string"==typeof e?e:e.name,n=this._treeChanges.to,i=S(n,function(t){return t.state.name===r});new pr(n).addResolvables([t],i.state)},e.prototype.redirectedFrom=function(){return this._options.redirectedFrom||null},e.prototype.originalTransition=function(){var t=this.redirectedFrom();return t&&t.originalTransition()||this},e.prototype.options=function(){return this._options},e.prototype.entering=function(){return b(this._treeChanges.entering,At("state")).map(dr)},e.prototype.exiting=function(){return b(this._treeChanges.exiting,At("state")).map(dr).reverse()},e.prototype.retained=function(){return b(this._treeChanges.retained,At("state")).map(dr)},e.prototype.views=function(t,e){void 0===t&&(t="entering");var r=this._treeChanges[t];return r=e?r.filter(Ht("state",e)):r,r.map(At("views")).filter(f).reduce(Te,[])},e.prototype.treeChanges=function(t){return t?this._treeChanges[t]:this._treeChanges},e.prototype.redirect=function(t){for(var e=1,r=this;null!=(r=r.redirectedFrom());)if(++e>20)throw new Error("Too many consecutive Transition redirects (20+)");var n={redirectedFrom:this,source:"redirect"};"url"===this.options().source&&!1!==t.options().location&&(n.location="replace");var i=ve({},this.options(),t.options(),n);t=new Je(t.identifier(),t.$state(),t.params(),i);var o=this.router.transitionService.create(this._treeChanges.from,t),a=this._treeChanges.entering,u=o._treeChanges.entering;return ir.matching(u,a,ir.nonDynamicParams).filter(Dt(function(t){return function(e){return t&&e.state.includes[t.name]}}(t.options().reloadState))).forEach(function(t,e){t.resolvables=a[e].resolvables}),o},e.prototype._changedParams=function(){var t=this._treeChanges;if(!this._options.reload&&!t.exiting.length&&!t.entering.length&&t.to.length===t.from.length){if(!C(t.to,t.from).map(function(t){return t[0].state!==t[1].state}).reduce(Ce,!1)){var e=t.to.map(function(t){return t.paramSchema}),r=[t.to,t.from].map(function(t){return t.map(function(t){return t.paramValues})});return C(e,r[0],r[1]).map(function(t){var e=t[0],r=t[1],n=t[2];return rr.changed(e,r,n)}).reduce(Te,[])}}},e.prototype.dynamic=function(){var t=this._changedParams();return!!t&&t.map(function(t){return t.dynamic}).reduce(Ce,!1)},e.prototype.ignored=function(){return!!this._ignoredReason()},e.prototype._ignoredReason=function(){var t=this.router.globals.transition,e=this._options.reloadState,r=function(t,r){if(t.length!==r.length)return!1;var n=ir.matching(t,r);return t.length===n.filter(function(t){return!e||!t.state.includes[e.name]}).length},n=this.treeChanges(),i=t&&t.treeChanges();return i&&r(i.to,n.to)&&r(i.exiting,n.exiting)?"SameAsPending":0===n.exiting.length&&0===n.entering.length&&r(n.from,n.to)?"SameAsCurrent":void 0},e.prototype.run=function(){var e=this,r=Ke.runAllHooks,n=function(t){return e._hookBuilder.buildHooksForPhase(t)},i=function(){ze.traceSuccess(e.$to(),e),e.success=!0,e._deferred.resolve(e.to()),r(n(t.TransitionHookPhase.SUCCESS))},o=function(i){ze.traceError(i,e),e.success=!1,e._deferred.reject(i),e._error=i,r(n(t.TransitionHookPhase.ERROR))},a=function(){var e=n(t.TransitionHookPhase.RUN),r=function(){return se.$q.when(void 0)};return Ke.invokeHooks(e,r)},u=function(){var t=e.router.globals;return t.lastStartedTransitionId=e.$id,t.transition=e,t.transitionHistory.enqueue(e),ze.traceTransitionStart(e),se.$q.when(void 0)},s=n(t.TransitionHookPhase.BEFORE);return Ke.invokeHooks(s,u).then(a).then(i,o),this.promise},e.prototype.valid=function(){return!this.error()||void 0!==this.success},e.prototype.abort=function(){Jt(this.success)&&(this._aborted=!0)},e.prototype.error=function(){var t=this.$to();if(t.self.abstract)return"Cannot transition to abstract state '"+t.name+"'";var e=t.parameters(),r=this.params(),n=e.filter(function(t){return!t.validates(r[t.id])});return n.length?"Param values not valid for state '"+t.name+"'. Invalid params: [ "+n.map(function(t){return t.id}).join(", ")+" ]":!1===this.success?this._error:void 0},e.prototype.toString=function(){var t=this.from(),e=this.to(),r=function(t){return null!==t["#"]&&void 0!==t["#"]?t:w(t,["#"])};return"Transition#"+this.$id+"( '"+(ee(t)?t.name:t)+"'"+pe(r(this._treeChanges.from.map(At("paramValues")).reduce(Se,{})))+" -> "+(this.valid()?"":"(X) ")+"'"+(ee(e)?e.name:e)+"'"+pe(r(this.params()))+" )"},e.diToken=e,e}(),mr=null,yr=function(t){var e=Ue.isRejectionPromise;return(mr=mr||s([[Dt(Qt),Mt("undefined")],[Kt,Mt("null")],[ae,Mt("[Promise]")],[e,function(t){return t._transitionRejection.toString()}],[Ut(Ue),u("toString")],[Ut(vr),u("toString")],[Ut(ar),u("toString")],[c,z],[Mt(!0),f]]))(t)},gr=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return-1===r?[e,""]:[e.substr(0,r),e.substr(r+1)]}},wr=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes=g(t.prototype,["hash","string","query","path","int","bool","date","json","any"]);var e=function(t,e){return new Xe(ve({name:e},t))};this.types=ye(b(this.defaultTypes,e),{})}return t.prototype.dispose=function(){this.types={}},t.prototype.type=function(t,e,r){if(!Qt(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new Xe(ve({name:t},e)),r&&(this.typeQueue.push({name:t,def:r}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");ve(this.types[t.name],se.$injector.invoke(t.def))}},t}();!function(){var t=function(t){var e=function(t){return null!=t?t.toString():t},r={encode:e,decode:e,is:Ut(String),pattern:/.*/,equals:function(t,e){return t==e}};return ve({},r,t)};ve(wr.prototype,{string:t({}),path:t({pattern:/[^\/]*/}),query:t({}),hash:t({inherit:!1}),int:t({decode:function(t){return parseInt(t,10)},is:function(t){return!Yt(t)&&this.decode(t.toString())===t},pattern:/-?\d+/}),bool:t({encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:Ut(Boolean),pattern:/0|1/}),date:t({encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return["getFullYear","getMonth","getDate"].reduce(function(r,n){return r&&t[n]()===e[n]()},!0)},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/}),json:t({encode:pe,decode:le,is:Ut(Object),equals:me,pattern:/[^\/]*/}),any:t({encode:f,decode:f,is:function(){return!0},equals:me})})}();var _r,$r=function(){function t(t){void 0===t&&(t={}),ve(this,t)}return t.prototype.$inherit=function(t,e,r){var n,i=y(e,r),o={},a=[];for(var u in i)if(i[u]&&i[u].params&&(n=Object.keys(i[u].params),n.length))for(var s in n)a.indexOf(n[s])>=0||(a.push(n[s]),o[n[s]]=this[n[s]]);return ve({},o,t)},t}(),Sr=function(t){if(!te(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},br=function(t,e){return function(r){var n=r;n&&n.url&&n.name&&n.name.match(/\.\*\*$/)&&(n.url+="{remainder:any}");var i=Sr(n.url),o=r.parent,a=i?t.compile(i.val,{params:r.params||{},paramMap:function(t,e){return!1===n.reloadOnSearch&&e&&(t=ve(t||{},{dynamic:!0})),t}}):n.url;if(!a)return null;if(!t.isMatcher(a))throw new Error("Invalid url '"+a+"' in state '"+r+"'");return i&&i.root?a:(o&&o.navigable||e()).url.append(a)}},Rr=function(t){return function(e){return!t(e)&&e.url?e:e.parent?e.parent.navigable:null}},Er=function(t){return function(e){var r=function(e,r){return t.fromConfig(r,null,e)},n=e.url&&e.url.parameters({inherit:!1})||[],i=Re(be(w(e.params||{},n.map(At("id"))),r));return n.concat(i).map(function(t){return[t.id,t]}).reduce(T,{})}},Cr=function(){function t(t,e){function r(e){return o(e)?null:t.find(n.parentName(e))||i()}this.matcher=t;var n=this,i=function(){return t.find("")},o=function(t){return""===t.name};this.builders={name:[Z],self:[X],parent:[r],data:[tt],url:[br(e,i)],navigable:[Rr(o)],params:[Er(e.paramFactory)],views:[],path:[et],includes:[rt],resolvables:[nt]}}return t.prototype.builder=function(t,e){var r=this.builders,n=r[t]||[];return te(t)&&!Qt(e)?n.length>1?n:n[0]:te(t)&&Zt(e)?(r[t]=n,r[t].push(e),function(){return r[t].splice(r[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,r=e.matcher,n=e.builders,i=this.parentName(t);if(i&&!r.find(i,void 0,!1))return null;for(var o in n)if(n.hasOwnProperty(o)){var a=n[o].reduce(function(t,e){return function(r){return e(r,t)}},l);t[o]=a(t)}return t},t.prototype.parentName=function(t){var e=t.name||"",r=e.split(".");if("**"===r.pop()&&r.pop(),r.length){if(t.parent)throw new Error("States that specify the 'parent:' property should not have a '.' in their name ("+e+")");return r.join(".")}return t.parent?te(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var r=te(t.parent)?t.parent:t.parent.name;return r?r+"."+e:e},t}(),Tr=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return t=t||"",0===t.indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e,r){if(void 0===r&&(r=!0),t||""===t){var n=te(t),i=n?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];if(o&&(n||!(n||o!==t&&o.self!==t)))return o;if(n&&r){var a=Re(this._states),u=a.filter(function(t){return t.__stateObjectCache.nameGlob&&t.__stateObjectCache.nameGlob.matches(i)});return u.length>1&&console.log("stateMatcher.find: Found multiple matches for "+i+" using glob: ",u.map(function(t){return t.name})),u[0]}}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var r=this.find(e),n=t.split("."),i=0,o=n.length,a=r;i<o;i++)if(""!==n[i]||0!==i){if("^"!==n[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+r.name+"'");a=a.parent}else a=r;var u=n.slice(i).join(".");return a.name+(a.name&&u?".":"")+u},t}(),Pr=function(){function t(t,e,r,n,i){this.$registry=t,this.$urlRouter=e,this.states=r,this.builder=n,this.listeners=i,this.queue=[],this.matcher=t.matcher}return t.prototype.dispose=function(){this.queue=[]},t.prototype.register=function(t){var e=this.queue,r=Gt.create(t),n=r.name;if(!te(n))throw new Error("State must have a valid name");if(this.states.hasOwnProperty(n)||ge(e.map(At("name")),n))throw new Error("State '"+n+"' is already defined");return e.push(r),this.flush(),r},t.prototype.flush=function(){for(var t=this,e=this,r=e.queue,n=e.states,i=e.builder,o=[],a=[],u={},s=function(e){return t.states.hasOwnProperty(e)&&t.states[e]};r.length>0;){var c=r.shift(),f=c.name,l=i.build(c),p=a.indexOf(c);if(l){var h=s(f);if(h&&h.name===f)throw new Error("State '"+f+"' is already defined");var d=s(f+".**");d&&this.$registry.deregister(d),n[f]=c,this.attachRoute(c),p>=0&&a.splice(p,1),o.push(c)}else{var v=u[f];if(u[f]=r.length,p>=0&&v===r.length)return r.push(c),n;p<0&&a.push(c),r.push(c)}}return o.length&&this.listeners.forEach(function(t){return t("registered",o.map(function(t){return t.self}))}),n},t.prototype.attachRoute=function(t){!t.abstract&&t.url&&this.$urlRouter.rule(this.$urlRouter.urlRuleFactory.create(t))},t}(),kr=function(){function t(t){this._router=t,this.states={},this.listeners=[],this.matcher=new Tr(this.states),this.builder=new Cr(this.matcher,t.urlMatcherFactory),this.stateQueue=new Pr(this,t.urlRouter,this.states,this.builder,this.listeners),this._registerRoot()}return t.prototype._registerRoot=function(){var t={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash",dynamic:!0}},abstract:!0};(this._root=this.stateQueue.register(t)).navigable=null},t.prototype.dispose=function(){var t=this;this.stateQueue.dispose(),this.listeners=[],this.get().forEach(function(e){return t.get(e)&&t.deregister(e)})},t.prototype.onStatesChanged=function(t){return this.listeners.push(t),function(){we(this.listeners)(t)}.bind(this)},t.prototype.root=function(){return this._root},t.prototype.register=function(t){return this.stateQueue.register(t)},t.prototype._deregisterTree=function(t){var e=this,r=this.get().map(function(t){return t.$$state()}),n=function(t){var e=r.filter(function(e){return-1!==t.indexOf(e.parent)});return 0===e.length?e:e.concat(n(e))},i=n([t]),o=[t].concat(i).reverse();return o.forEach(function(t){var r=e._router.urlRouter;r.rules().filter(Ht("state",t)).forEach(r.removeRule.bind(r)),delete e.states[t.name]}),o},t.prototype.deregister=function(t){var e=this.get(t);if(!e)throw new Error("Can't deregister state; not found: "+t);var r=this._deregisterTree(e.$$state());return this.listeners.forEach(function(t){return t("deregistered",r.map(function(t){return t.self}))}),r},t.prototype.get=function(t,e){var r=this;if(0===arguments.length)return Object.keys(this.states).map(function(t){return r.states[t].self});var n=this.matcher.find(t,e);return n&&n.self||null},t.prototype.decorator=function(t,e){return this.builder.builder(t,e)},t}(),Or=function(t,e,r){return t[e]=t[e]||r()},xr=K("/"),jr=function(){function e(t,r,n,i){var o=this;this.config=i,this._cache={path:[this]},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.pattern=t,this.config=m(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:f});for(var a,u,s,c=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l=/([:]?)([\w\[\].-]+)|\{([\w\[\].-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=0,h=[],d=function(r){if(!e.nameValidator.test(r))throw new Error("Invalid parameter name '"+r+"' in pattern '"+t+"'");if(S(o._params,Ht("id",r)))throw new Error("Duplicate parameter name '"+r+"' in pattern '"+t+"'")},v=function(e,n){var i=e[2]||e[3],a=n?e[4]:e[4]||("*"===e[1]?"[\\s\\S]*":null);return{id:i,regexp:a,cfg:o.config.params[i],segment:t.substring(p,e.index),type:a?r.type(a)||function(t){return ye(r.type(n?"query":"path"),{pattern:new RegExp(t,o.config.caseInsensitive?"i":void 0)})}(a):null}};(a=c.exec(t))&&(u=v(a,!1),!(u.segment.indexOf("?")>=0));)d(u.id),this._params.push(n.fromPath(u.id,u.type,this.config.paramMap(u.cfg,!1))),this._segments.push(u.segment),h.push([u.segment,P(this._params)]),p=c.lastIndex;s=t.substring(p);var y=s.indexOf("?");if(y>=0){var g=s.substring(y);if(s=s.substring(0,y),g.length>0)for(p=0;a=l.exec(g);)u=v(a,!0),d(u.id),this._params.push(n.fromSearch(u.id,u.type,this.config.paramMap(u.cfg,!0))),p=c.lastIndex}this._segments.push(s),this._compiled=h.map(function(t){return it.apply(null,t)}).concat(it(s))}return e.prototype.append=function(t){return this._children.push(t),t._cache={path:this._cache.path.concat(t),parent:this,pattern:null},t},e.prototype.isRoot=function(){return this._cache.path[0]===this},e.prototype.toString=function(){return this.pattern},e.prototype.exec=function(t,e,r,n){var i=this;void 0===e&&(e={}),void 0===n&&(n={});var o=Or(this._cache,"pattern",function(){return new RegExp(["^",Oe(i._cache.path.map(At("_compiled"))).join(""),!1===i.config.strict?"/?":"","$"].join(""),i.config.caseInsensitive?"i":void 0)}).exec(t);if(!o)return null;var a=this.parameters(),u=a.filter(function(t){return!t.isSearch()}),s=a.filter(function(t){return t.isSearch()}),c=this._cache.path.map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),f={};if(c!==o.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var l=0;l<c;l++){for(var p=u[l],h=o[l+1],d=0;d<p.replace.length;d++)p.replace[d].from===h&&(h=p.replace[d].to);h&&!0===p.array&&(h=function(t){var e=function(t){return t.split("").reverse().join("")},r=function(t){return t.replace(/\\-/g,"-")};return b(b(e(t).split(/-(?!\\)/),e),r).reverse()}(h)),Qt(h)&&(h=p.type.decode(h)),f[p.id]=p.value(h)}return s.forEach(function(t){for(var r=e[t.id],n=0;n<t.replace.length;n++)t.replace[n].from===r&&(r=t.replace[n].to);Qt(r)&&(r=t.type.decode(r)),f[t.id]=t.value(r)}),r&&(f["#"]=r),f},e.prototype.parameters=function(t){return void 0===t&&(t={}),!1===t.inherit?this._params:Oe(this._cache.path.map(function(t){return t._params}))},e.prototype.parameter=function(t,e){var r=this;void 0===e&&(e={});var n=this._cache.parent;return function(){for(var e=0,n=r._params;e<n.length;e++){var i=n[e];if(i.id===t)return i}}()||!1!==e.inherit&&n&&n.parameter(t,e)||null},e.prototype.validates=function(t){var e=function(t,e){return!t||t.validates(e)};return t=t||{},this.parameters().filter(function(e){return t.hasOwnProperty(e.id)}).map(function(r){return e(r,t[r.id])}).reduce(Ee,!0)},e.prototype.format=function(t){function r(e){var r=e.value(t[e.id]),n=e.validates(r),i=e.isDefaultValue(r);return{param:e,value:r,isValid:n,isDefaultValue:i,squash:!!i&&e.squash,encoded:e.type.encode(r)}}void 0===t&&(t={});var n=this._cache.path,i=n.map(e.pathSegmentsAndParams).reduce(Te,[]).map(function(t){return te(t)?t:r(t)}),o=n.map(e.queryParams).reduce(Te,[]).map(r),a=function(t){return!1===t.isValid};if(i.concat(o).filter(a).length)return null;var u=i.reduce(function(t,r){if(te(r))return t+r;var n=r.squash,i=r.encoded,o=r.param;return!0===n?t.match(/\/$/)?t.slice(0,-1):t:te(n)?t+n:!1!==n?t:null==i?t:re(i)?t+b(i,e.encodeDashes).join("-"):o.raw?t+i:t+encodeURIComponent(i)},""),s=o.map(function(t){var e=t.param,r=t.squash,n=t.encoded,i=t.isDefaultValue;if(!(null==n||i&&!1!==r)&&(re(n)||(n=[n]),0!==n.length))return e.raw||(n=b(n,encodeURIComponent)),n.map(function(t){return e.id+"="+t})}).filter(f).reduce(Te,[]).join("&");return u+(s?"?"+s:"")+(t["#"]?"#"+t["#"]:"")},e.encodeDashes=function(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})},e.pathSegmentsAndParams=function(e){return C(e._segments,e._params.filter(function(e){return e.location===t.DefType.PATH}).concat(void 0)).reduce(Te,[]).filter(function(t){return""!==t&&Qt(t)})},e.queryParams=function(e){return e._params.filter(function(e){return e.location===t.DefType.SEARCH})},e.compare=function(t,r){var n,i,o=function(t){return t._cache.segments=t._cache.segments||t._cache.path.map(e.pathSegmentsAndParams).reduce(Te,[]).reduce(Y,[]).map(function(t){return te(t)?xr(t):t}).reduce(Te,[])},a=function(t){return t._cache.weights=t._cache.weights||o(t).map(function(t){return"/"===t?1:te(t)?2:t instanceof rr?3:void 0})},u=C(a(t),a(r));for(i=0;i<u.length;i++)if(0!==(n=u[i][0]-u[i][1]))return n;return 0},e.nameValidator=/^\w+([-.]+\w+)*(?:\[\])?$/,e}(),Ir=function(){function e(){var e=this;this.paramTypes=new wr,this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1,this._getConfig=function(t){return ve({strict:e._isStrictMode,
caseInsensitive:e._isCaseInsensitive},t)},this.paramFactory={fromConfig:function(r,n,i){return new rr(r,n,i,t.DefType.CONFIG,e)},fromPath:function(r,n,i){return new rr(r,n,i,t.DefType.PATH,e)},fromSearch:function(r,n,i){return new rr(r,n,i,t.DefType.SEARCH,e)}},ve(this,{UrlMatcher:jr,Param:rr})}return e.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=Qt(t)?t:this._isCaseInsensitive},e.prototype.strictMode=function(t){return this._isStrictMode=Qt(t)?t:this._isStrictMode},e.prototype.defaultSquashPolicy=function(t){if(Qt(t)&&!0!==t&&!1!==t&&!te(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=Qt(t)?t:this._defaultSquashPolicy},e.prototype.compile=function(t,e){return new jr(t,this.paramTypes,this.paramFactory,this._getConfig(e))},e.prototype.isMatcher=function(t){if(!ee(t))return!1;var e=!0;return de(jr.prototype,function(r,n){Zt(r)&&(e=e&&Qt(t[n])&&Zt(t[n]))}),e},e.prototype.type=function(t,e,r){var n=this.paramTypes.type(t,e,r);return Qt(e)?this:n},e.prototype.$get=function(){return this.paramTypes.enqueue=!1,this.paramTypes._flushTypeQueue(),this},e.prototype.dispose=function(){this.paramTypes.dispose()},e}(),Vr=function(){function t(t){this.router=t}return t.prototype.compile=function(t){return this.router.urlMatcherFactory.compile(t)},t.prototype.create=function(t,e){var r=this,n=s([[te,function(t){return n(r.compile(t))}],[Ut(jr),function(t){return r.fromUrlMatcher(t,e)}],[oe,function(t){return r.fromState(t,r.router)}],[Ut(RegExp),function(t){return r.fromRegExp(t,e)}],[Zt,function(t){return new Ar(t,e)}]]),i=n(t);if(!i)throw new Error("invalid 'what' in when()");return i},t.prototype.fromUrlMatcher=function(t,e){function r(e){var r=t.exec(e.path,e.search,e.hash);return t.validates(r)&&r}function n(e){var r=t.parameters().filter(function(t){return t.isOptional});return r.length?r.filter(function(t){return e[t.id]}).length/r.length:1e-6}var i=e;te(e)&&(e=this.router.urlMatcherFactory.compile(e)),Ut(jr)(e)&&(i=function(t){return e.format(t)});var o={urlMatcher:t,matchPriority:n,type:"URLMATCHER"};return ve(new Ar(r,i),o)},t.prototype.fromState=function(t,e){var r=function(r){var n=e.stateService,i=e.globals;n.href(t,r)!==n.href(i.current,i.params)&&n.transitionTo(t,r,{inherit:!0,source:"url"})},n={state:t,type:"STATE"};return ve(this.fromUrlMatcher(t.url,r),n)},t.prototype.fromRegExp=function(t,e){if(t.global||t.sticky)throw new Error("Rule RegExp must not be global or sticky");var r=function(t){return e.replace(/\$(\$|\d{1,2})/,function(e,r){return t["$"===r?0:Number(r)]})},n=te(e)?r:e,i=function(e){return t.exec(e.path)},o={regexp:t,type:"REGEXP"};return ve(new Ar(i,n),o)},t.isUrlRule=function(t){return t&&["type","match","handler"].every(function(e){return Qt(t[e])})},t}(),Ar=function(){function t(t,e){var r=this;this.match=t,this.type="RAW",this.matchPriority=function(t){return 0-r.$id},this.handler=e||f}return t}(),Hr=At("urlMatcher");_r=He(Ae(i(At("priority"),function(t){return-t})),Ae(i(At("type"),function(t){return{STATE:4,URLMATCHER:4,REGEXP:3,RAW:2,OTHER:1}[t]})),function(t,e){return Hr(t)&&Hr(e)?jr.compare(Hr(t),Hr(e)):0},Ae(At("$id"),ge(["REGEXP","RAW","OTHER"])));var qr=function(){function t(e){this._sortFn=_r,this._rules=[],this.interceptDeferred=!1,this._id=0,this._sorted=!1,this._router=e,this.urlRuleFactory=new Vr(e),p(Mt(t.prototype),this,Mt(this))}return t.prototype.dispose=function(){this.listen(!1),this._rules=[],delete this._otherwiseFn},t.prototype.sort=function(t){this._rules.sort(this._sortFn=t||this._sortFn),this._sorted=!0},t.prototype.ensureSorted=function(){this._sorted||this.sort()},t.prototype.match=function(t){var e=this;this.ensureSorted(),t=ve({path:"",search:{},hash:""},t);var r=this.rules();this._otherwiseFn&&r.push(this._otherwiseFn);for(var n,i=0;i<r.length&&(!n||0===this._sortFn(r[i],n.rule));i++){var o=function(r){var n=r.match(t,e._router);return n&&{match:n,rule:r,weight:r.matchPriority(n)}}(r[i]);n=!n||o&&o.weight>n.weight?o:n}return n},t.prototype.sync=function(t){if(!t||!t.defaultPrevented){var e=this._router,r=e.urlService,n=e.stateService,i={path:r.path(),search:r.search(),hash:r.hash()},o=this.match(i);s([[te,function(t){return r.url(t,!0)}],[Je.isDef,function(t){return n.go(t.state,t.params,t.options)}],[Ut(Je),function(t){return n.go(t.state(),t.params(),t.options())}]])(o&&o.rule.handler(o.match,i,e))}},t.prototype.listen=function(t){var e=this;if(!1!==t)return this._stopFn=this._stopFn||this._router.urlService.onChange(function(t){return e.sync(t)});this._stopFn&&this._stopFn(),delete this._stopFn},t.prototype.update=function(t){var e=this._router.locationService;if(t)return void(this.location=e.path());e.path()!==this.location&&e.url(this.location,!0)},t.prototype.push=function(t,e,r){var n=r&&!!r.replace;this._router.urlService.url(t.format(e||{}),n)},t.prototype.href=function(t,e,r){var n=t.format(e);if(null==n)return null;r=r||{absolute:!1};var i=this._router.urlService.config,o=i.html5Mode();if(o||null===n||(n="#"+i.hashPrefix()+n),n=ot(n,o,r.absolute,i.baseHref()),!r.absolute||!n)return n;var a=!o&&n?"/":"",u=i.port();return u=80===u||443===u?"":":"+u,[i.protocol(),"://",i.host(),u,a,n].join("")},t.prototype.rule=function(t){var e=this;if(!Vr.isUrlRule(t))throw new Error("invalid rule");return t.$id=this._id++,t.priority=t.priority||0,this._rules.push(t),this._sorted=!1,function(){return e.removeRule(t)}},t.prototype.removeRule=function(t){we(this._rules,t)},t.prototype.rules=function(){return this.ensureSorted(),this._rules.slice()},t.prototype.otherwise=function(t){var e=at(t);this._otherwiseFn=this.urlRuleFactory.create(Mt(!0),e),this._sorted=!1},t.prototype.initial=function(t){var e=at(t),r=function(t,e){return 0===e.globals.transitionHistory.size()&&!!/^\/?$/.exec(t.path)};this.rule(this.urlRuleFactory.create(r,e))},t.prototype.when=function(t,e,r){var n=this.urlRuleFactory.create(t,e);return Qt(r&&r.priority)&&(n.priority=r.priority),this.rule(n),n},t.prototype.deferIntercept=function(t){void 0===t&&(t=!0),this.interceptDeferred=t},t}(),Dr=function(){function t(){var t=this;this._uiViews=[],this._viewConfigs=[],this._viewConfigFactories={},this._pluginapi={_rootViewContext:this._rootViewContext.bind(this),_viewConfigFactory:this._viewConfigFactory.bind(this),_registeredUIViews:function(){return t._uiViews},_activeViewConfigs:function(){return t._viewConfigs}}}return t.prototype._rootViewContext=function(t){return this._rootContext=t||this._rootContext},t.prototype._viewConfigFactory=function(t,e){this._viewConfigFactories[t]=e},t.prototype.createViewConfig=function(t,e){var r=this._viewConfigFactories[e.$type];if(!r)throw new Error("ViewService: No view config factory registered for type "+e.$type);var n=r(t,e);return re(n)?n:[n]},t.prototype.deactivateViewConfig=function(t){ze.traceViewServiceEvent("<- Removing",t),we(this._viewConfigs,t)},t.prototype.activateViewConfig=function(t){ze.traceViewServiceEvent("-> Registering",t),this._viewConfigs.push(t)},t.prototype.sync=function(){function e(t){var e=function(t){return t&&t.parent?e(t.parent)+1:1};return 1e4*t.fqn.split(".").length+e(t.creationContext)}function n(t){for(var e=t.viewDecl.$context,r=0;++r&&e.parent;)e=e.parent;return r}var i=this,o=this._uiViews.map(function(t){return[t.fqn,t]}).reduce(T,{}),a=r(function(t,e,r,n){return e*(t(r)-t(n))}),u=function(e){var r=i._viewConfigs.filter(t.matches(o,e));return r.length>1&&r.sort(a(n,-1)),[e,r[0]]},s=function(t){var e=t[0],r=t[1];-1!==i._uiViews.indexOf(e)&&e.configUpdated(r)},c=this._uiViews.sort(a(e,1)).map(u);ze.traceViewSync(c),c.forEach(s)},t.prototype.registerUIView=function(t){ze.traceViewServiceUIViewEvent("-> Registering",t);var e=this._uiViews,r=function(e){return e.fqn===t.fqn&&e.$type===t.$type};return e.filter(r).length&&ze.traceViewServiceUIViewEvent("!!!! duplicate uiView named:",t),e.push(t),this.sync(),function(){if(-1===e.indexOf(t))return void ze.traceViewServiceUIViewEvent("Tried removing non-registered uiView",t);ze.traceViewServiceUIViewEvent("<- Deregistering",t),we(e)(t)}},t.prototype.available=function(){return this._uiViews.map(At("fqn"))},t.prototype.active=function(){return this._uiViews.filter(At("$config")).map(At("name"))},t.normalizeUIViewTarget=function(t,e){void 0===e&&(e="");var r=e.split("@"),n=r[0]||"$default",i=te(r[1])?r[1]:"^",o=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);(o&&(i=o[1],n=o[2]),"!"===n.charAt(0)&&(n=n.substr(1),i=""),/^(\^(?:\.\^)*)$/.exec(i))?i=i.split(".").reduce(function(t,e){return t.parent},t).name:"."===i&&(i=t.name);return{uiViewName:n,uiViewContextAnchor:i}},t.matches=function(t,e){return function(r){if(e.$type!==r.viewDecl.$type)return!1;var n=r.viewDecl,i=n.$uiViewName.split("."),o=e.fqn.split(".");if(!me(i,o.slice(0-i.length)))return!1;var a=1-i.length||void 0,u=o.slice(0,a).join("."),s=t[u].creationContext;return n.$uiViewContextAnchor===(s&&s.name)}},t}(),Nr=function(){function t(){this.params=new $r,this.lastStartedTransitionId=-1,this.transitionHistory=new Ne([],1),this.successfulTransitions=new Ne([],1)}return t.prototype.dispose=function(){this.transitionHistory.clear(),this.successfulTransitions.clear(),this.transition=null},t}(),Fr=function(t){return t.reduce(function(t,e){return t[e]=ue(e),t},{dispose:l})},Ur=["url","path","search","hash","onChange"],Lr=["port","protocol","host","baseHref","html5Mode","hashPrefix"],Mr=["type","caseInsensitive","strictMode","defaultSquashPolicy"],Br=["sort","when","initial","otherwise","rules","rule","removeRule"],Gr=["deferIntercept","listen","sync","match"],Wr=function(){function t(t,e){void 0===e&&(e=!0),this.router=t,this.rules={},this.config={};var r=function(){return t.locationService};p(r,this,r,Ur,e);var n=function(){return t.locationConfig};p(n,this.config,n,Lr,e);var i=function(){return t.urlMatcherFactory};p(i,this.config,i,Mr);var o=function(){return t.urlRouter};p(o,this.rules,o,Br),p(o,this,o,Gr)}return t.prototype.url=function(t,e,r){},t.prototype.path=function(){},t.prototype.search=function(){},t.prototype.hash=function(){},t.prototype.onChange=function(t){},t.prototype.parts=function(){return{path:this.path(),search:this.search(),hash:this.hash()}},t.prototype.dispose=function(){},t.prototype.sync=function(t){},t.prototype.listen=function(t){},t.prototype.deferIntercept=function(t){},t.prototype.match=function(t){},t.locationServiceStub=Fr(Ur),t.locationConfigStub=Fr(Lr),t}(),zr=0,Jr=function(){function t(t,e){void 0===t&&(t=Wr.locationServiceStub),void 0===e&&(e=Wr.locationConfigStub),this.locationService=t,this.locationConfig=e,this.$id=zr++,this._disposed=!1,this._disposables=[],this.trace=ze,this.viewService=new Dr,this.transitionService=new bn(this),this.globals=new Nr,this.urlMatcherFactory=new Ir,this.urlRouter=new qr(this),this.stateRegistry=new kr(this),this.stateService=new Rn(this),this.urlService=new Wr(this),this._plugins={},this.viewService._pluginapi._rootViewContext(this.stateRegistry.root()),this.globals.$current=this.stateRegistry.root(),this.globals.current=this.globals.$current.self,this.disposable(this.globals),this.disposable(this.stateService),this.disposable(this.stateRegistry),this.disposable(this.transitionService),this.disposable(this.urlRouter),this.disposable(t),this.disposable(e)}return t.prototype.disposable=function(t){this._disposables.push(t)},t.prototype.dispose=function(t){var e=this;if(t&&Zt(t.dispose))return void t.dispose(this);this._disposed=!0,this._disposables.slice().forEach(function(t){try{"function"==typeof t.dispose&&t.dispose(e),we(e._disposables,t)}catch(t){}})},t.prototype.plugin=function(t,e){void 0===e&&(e={});var r=new t(this,e);if(!r.name)throw new Error("Required property `name` missing on plugin: "+r);return this._disposables.push(r),this._plugins[r.name]=r},t.prototype.getPlugin=function(t){return t?this._plugins[t]:Re(this._plugins)},t}(),Qr=function(t){return t.onCreate({},ut)},Kr=function(t){function e(e){if(e)return e instanceof Je?e:te(e)?n.target(e,t.params(),t.options()):e.state||e.params?n.target(e.state||t.to(),e.params||t.params(),t.options()):void 0}var r=t.to().redirectTo;if(r){var n=t.router.stateService;return Zt(r)?se.$q.when(r(t)).then(e):e(r)}},Yr=function(t){return t.onStart({to:function(t){return!!t.redirectTo}},Kr)},Zr=st("onExit"),Xr=function(t){return t.onExit({exiting:function(t){return!!t.onExit}},Zr)},tn=st("onRetain"),en=function(t){return t.onRetain({retained:function(t){return!!t.onRetain}},tn)},rn=st("onEnter"),nn=function(t){return t.onEnter({entering:function(t){return!!t.onEnter}},rn)},on=function(t){return new pr(t.treeChanges().to).resolvePath("EAGER",t).then(l)},an=function(t){return t.onStart({},on,{priority:1e3})},un=function(t,e){return new pr(t.treeChanges().to).subContext(e.$$state()).resolvePath("LAZY",t).then(l)},sn=function(t){return t.onEnter({entering:Mt(!0)},un,{priority:1e3})},cn=function(t){var e=se.$q,r=t.views("entering");if(r.length)return e.all(r.map(function(t){return e.when(t.load())})).then(l)},fn=function(t){return t.onFinish({},cn)},ln=function(t){var e=t.views("entering"),r=t.views("exiting");if(e.length||r.length){var n=t.router.viewService;r.forEach(function(t){return n.deactivateViewConfig(t)}),e.forEach(function(t){return n.activateViewConfig(t)}),n.sync()}},pn=function(t){return t.onSuccess({},ln)},hn=function(t){var e=t.router.globals,r=function(){e.successfulTransitions.enqueue(t),e.$current=t.$to(),e.current=e.$current.self,he(t.params(),e.params)},n=function(){e.transition===t&&(e.transition=null)};t.onSuccess({},r,{priority:1e4}),t.promise.then(n,n)},dn=function(t){return t.onCreate({},hn)},vn=function(t){var e=t.options(),r=t.router.stateService,n=t.router.urlRouter;if("url"!==e.source&&e.location&&r.$current.navigable){var i={replace:"replace"===e.location};n.push(r.$current.navigable.url,r.params,i)}n.update(!0)},mn=function(t){return t.onSuccess({},vn,{priority:9999})},yn=function(t){function e(){if("url"!==t.originalTransition().options().source){var e=t.targetState();return r.stateService.target(e.identifier(),e.params(),e.options())}var n=r.urlService,i=n.match(n.parts()),o=i&&i.rule;if(o&&"STATE"===o.type){var a=o.state,u=i.match;return r.stateService.target(a,u,t.options())}r.urlService.sync()}var r=t.router,n=t.entering().filter(function(t){return!!t.$$state().lazyLoad}).map(function(e){return ct(t,e)});return se.$q.all(n).then(e)},gn=function(t){return t.onBefore({entering:function(t){return!!t.lazyLoad}},yn)},wn=function(){function t(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=Ke.HANDLE_RESULT),void 0===a&&(a=Ke.REJECT_ERROR),void 0===u&&(u=!1),this.name=t,this.hookPhase=e,this.hookOrder=r,this.criteriaMatchPath=n,this.reverseSort=i,this.getResultHandler=o,this.getErrorHandler=a,this.synchronous=u}return t}(),_n=function(t){return t.onBefore({},ft,{priority:-9999})},$n=function(t){return t.onBefore({},lt,{priority:-1e4})},Sn={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null},source:"unknown"},bn=function(){function e(t){this._transitionCount=0,this._eventTypes=[],this._registeredHooks={},this._criteriaPaths={},this._router=t,this.$view=t.viewService,this._deregisterHookFns={},this._pluginapi=p(Mt(this),{},Mt(this),["_definePathType","_defineEvent","_getPathTypes","_getEvents","getHooks"]),this._defineCorePaths(),this._defineCoreEvents(),this._registerCoreTransitionHooks()}return e.prototype.onCreate=function(t,e,r){},e.prototype.onBefore=function(t,e,r){},e.prototype.onStart=function(t,e,r){},e.prototype.onExit=function(t,e,r){},e.prototype.onRetain=function(t,e,r){},e.prototype.onEnter=function(t,e,r){},e.prototype.onFinish=function(t,e,r){},e.prototype.onSuccess=function(t,e,r){},e.prototype.onError=function(t,e,r){},e.prototype.dispose=function(t){Re(this._registeredHooks).forEach(function(t){return t.forEach(function(e){e._deregistered=!0,we(t,e)})})},e.prototype.create=function(t,e){return new vr(t,e,this._router)},e.prototype._defineCoreEvents=function(){var e=t.TransitionHookPhase,r=Ke,n=this._criteriaPaths;this._defineEvent("onCreate",e.CREATE,0,n.to,!1,r.LOG_REJECTED_RESULT,r.THROW_ERROR,!0),this._defineEvent("onBefore",e.BEFORE,0,n.to),this._defineEvent("onStart",e.RUN,0,n.to),this._defineEvent("onExit",e.RUN,100,n.exiting,!0),this._defineEvent("onRetain",e.RUN,200,n.retained),this._defineEvent("onEnter",e.RUN,300,n.entering),this._defineEvent("onFinish",e.RUN,400,n.to),this._defineEvent("onSuccess",e.SUCCESS,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0),this._defineEvent("onError",e.ERROR,0,n.to,!1,r.LOG_REJECTED_RESULT,r.LOG_ERROR,!0)},e.prototype._defineCorePaths=function(){var e=t.TransitionHookScope.STATE,r=t.TransitionHookScope.TRANSITION;this._definePathType("to",r),this._definePathType("from",r),this._definePathType("exiting",e),this._definePathType("retained",e),this._definePathType("entering",e)},e.prototype._defineEvent=function(t,e,r,n,i,o,a,u){void 0===i&&(i=!1),void 0===o&&(o=Ke.HANDLE_RESULT),void 0===a&&(a=Ke.REJECT_ERROR),void 0===u&&(u=!1);var s=new wn(t,e,r,n,i,o,a,u);this._eventTypes.push(s),q(this,this,s)},e.prototype._getEvents=function(t){return(Qt(t)?this._eventTypes.filter(function(e){return e.hookPhase===t}):this._eventTypes.slice()).sort(function(t,e){var r=t.hookPhase-e.hookPhase;return 0===r?t.hookOrder-e.hookOrder:r})},e.prototype._definePathType=function(t,e){this._criteriaPaths[t]={name:t,scope:e}},e.prototype._getPathTypes=function(){return this._criteriaPaths},e.prototype.getHooks=function(t){return this._registeredHooks[t]},e.prototype._registerCoreTransitionHooks=function(){var t=this._deregisterHookFns;t.addCoreResolves=Qr(this),t.ignored=_n(this),t.invalid=$n(this),t.redirectTo=Yr(this),t.onExit=Xr(this),t.onRetain=en(this),t.onEnter=nn(this),t.eagerResolve=an(this),t.lazyResolve=sn(this),t.loadViews=fn(this),t.activateViews=pn(this),t.updateGlobals=dn(this),t.updateUrl=mn(this),t.lazyLoad=gn(this)},e}(),Rn=function(){function e(t){this.router=t,this.invalidCallbacks=[],this._defaultErrorHandler=function(t){t instanceof Error&&t.stack?(console.error(t),console.error(t.stack)):t instanceof Ue?(console.error(t.toString()),t.detail&&t.detail.stack&&console.error(t.detail.stack)):console.error(t)};var r=["current","$current","params","transition"],n=Object.keys(e.prototype).filter(Dt(ge(r)));p(Mt(e.prototype),this,Mt(this),n)}return Object.defineProperty(e.prototype,"transition",{get:function(){return this.router.globals.transition},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this.router.globals.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.router.globals.current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$current",{get:function(){return this.router.globals.$current},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.defaultErrorHandler(l),this.invalidCallbacks=[]},e.prototype._handleInvalidTargetState=function(t,e){function r(){var t=s.dequeue();return void 0===t?Ue.invalid(e.error()).toPromise():se.$q.when(t(e,i,c)).then(f).then(function(t){return t||r()})}var n=this,i=ir.makeTargetState(t),o=this.router.globals,a=function(){return o.transitionHistory.peekTail()},u=a(),s=new Ne(this.invalidCallbacks.slice()),c=new pr(t).injector(),f=function(t){if(t instanceof Je){var e=t;return e=n.target(e.identifier(),e.params(),e.options()),e.valid()?a()!==u?Ue.superseded().toPromise():n.transitionTo(e.identifier(),e.params(),e.options()):Ue.invalid(e.error()).toPromise()}};return r()},e.prototype.onInvalid=function(t){return this.invalidCallbacks.push(t),function(){we(this.invalidCallbacks)(t)}.bind(this)},e.prototype.reload=function(t){return this.transitionTo(this.current,this.params,{reload:!Qt(t)||t,inherit:!1,notify:!1})},e.prototype.go=function(t,e,r){var n={relative:this.$current,inherit:!0},i=m(r,n,Sn);return this.transitionTo(t,e,i)},e.prototype.target=function(t,e,r){if(void 0===r&&(r={}),ee(r.reload)&&!r.reload.name)throw new Error("Invalid reload state object");var n=this.router.stateRegistry;if(r.reloadState=!0===r.reload?n.root():n.matcher.find(r.reload,r.relative),r.reload&&!r.reloadState)throw new Error("No such reload state '"+(te(r.reload)?r.reload:r.reload.name)+"'");var i=n.matcher.find(t,r.relative);return new Je(t,i,e,r)},e.prototype.getCurrentPath=function(){var t=this,e=this.router.globals,r=e.successfulTransitions.peekTail();return r?r.treeChanges().to:function(){return[new nr(t.router.stateRegistry.root())]}()},e.prototype.transitionTo=function(e,r,n){var i=this;void 0===r&&(r={}),void 0===n&&(n={});var o=this.router,a=o.globals;n=m(n,Sn),n=ve(n,{current:function(){return a.transition}});var u=this.target(e,r,n),s=this.getCurrentPath();if(!u.exists())return this._handleInvalidTargetState(s,u);if(!u.valid())return De(u.error());var c=function(e){return function(r){if(r instanceof Ue){var n=o.globals.lastStartedTransitionId===e.$id;if(r.type===t.RejectType.IGNORED)return n&&o.urlRouter.update(),se.$q.when(a.current);var u=r.detail;if(r.type===t.RejectType.SUPERSEDED&&r.redirected&&u instanceof Je){var s=e.redirect(u);return s.run().catch(c(s))}if(r.type===t.RejectType.ABORTED)return n&&o.urlRouter.update(),se.$q.reject(r)}return i.defaultErrorHandler()(r),se.$q.reject(r)}},f=this.router.transitionService.create(s,u),l=f.run().catch(c(f));return qe(l),ve(l,{transition:f})},e.prototype.is=function(t,e,r){r=m(r,{relative:this.$current});var n=this.router.stateRegistry.matcher.find(t,r.relative);if(Qt(n)){if(this.$current!==n)return!1;if(!e)return!0;var i=n.parameters({inherit:!0,matchingKeys:e});return rr.equals(i,rr.values(i,e),this.params)}},e.prototype.includes=function(t,e,r){r=m(r,{relative:this.$current});var n=te(t)&&Bt.fromString(t);if(n){if(!n.matches(this.$current.name))return!1;t=this.$current.name}var i=this.router.stateRegistry.matcher.find(t,r.relative),o=this.$current.includes;if(Qt(i)){if(!Qt(o[i.name]))return!1;if(!e)return!0;var a=i.parameters({inherit:!0,matchingKeys:e});return rr.equals(a,rr.values(a,e),this.params)}},e.prototype.href=function(t,e,r){r=m(r,{lossy:!0,inherit:!0,absolute:!1,relative:this.$current}),e=e||{};var n=this.router.stateRegistry.matcher.find(t,r.relative);if(!Qt(n))return null;r.inherit&&(e=this.params.$inherit(e,this.$current,n));var i=n&&r.lossy?n.navigable:n;return i&&void 0!==i.url&&null!==i.url?this.router.urlRouter.href(i.url,e,{absolute:r.absolute}):null},e.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},e.prototype.get=function(t,e){var r=this.router.stateRegistry;return 0===arguments.length?r.get():r.get(t,e||this.$current)},e.prototype.lazyLoad=function(t,e){var r=this.get(t);if(!r||!r.lazyLoad)throw new Error("Can not lazy load "+t);var n=this.getCurrentPath(),i=ir.makeTargetState(n);return e=e||this.router.transitionService.create(n,i),ct(e,r)},e}(),En={when:function(t){return new Promise(function(e,r){return e(t)})},reject:function(t){return new Promise(function(e,r){r(t)})},defer:function(){var t={};return t.promise=new Promise(function(e,r){t.resolve=e,t.reject=r}),t},all:function(t){if(re(t))return Promise.all(t);if(ee(t)){var e=Object.keys(t).map(function(e){return t[e].then(function(t){return{key:e,val:t}})});return En.all(e).then(function(t){return t.reduce(function(t,e){return t[e.key]=e.val,t},{})})}}},Cn={},Tn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Pn=/([^\s,]+)/g,kn={get:function(t){return Cn[t]},has:function(t){return null!=kn.get(t)},invoke:function(t,e,r){var n=ve({},Cn,r||{}),i=kn.annotate(t),o=je(function(t){return n.hasOwnProperty(t)},function(t){return"DI can't find injectable: '"+t+"'"}),a=i.filter(o).map(function(t){return n[t]});return Zt(t)?t.apply(e,a):t.slice(-1)[0].apply(e,a)},annotate:function(t){if(!c(t))throw new Error("Not an injectable function: "+t);if(t&&t.$inject)return t.$inject;if(re(t))return t.slice(0,-1);var e=t.toString().replace(Tn,"");return e.slice(e.indexOf("(")+1,e.indexOf(")")).match(Pn)||[]}},On=function(t){return function(e){if(!e)return["",""];var r=e.indexOf(t);return-1===r?[e,""]:[e.substr(0,r),e.substr(r+1)]}},xn=On("#"),jn=On("?"),In=On("="),Vn=function(t){return t?t.replace(/^#/,""):""},An=function(t,e){var r=e[0],n=e[1];return t.hasOwnProperty(r)?re(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n,t},Hn=function(t){return t.split("&").filter(f).map(In).reduce(An,{})},qn=function(t){var e=t.path(),r=t.search(),n=t.hash(),i=Object.keys(r).map(function(t){var e=r[t];return(re(e)?e:[e]).map(function(e){return t+"="+e})}).reduce(Te,[]).join("&");return e+(i?"?"+i:"")+(n?"#"+n:"")},Dn=function(){function t(t,e){var r=this;this.fireAfterUpdate=e,this._listener=function(t){return r._listeners.forEach(function(e){return e(t)})},this._listeners=[],this.hash=function(){return pt(r._get()).hash},this.path=function(){return pt(r._get()).path},this.search=function(){return Hn(pt(r._get()).search)},this._location=window&&window.location,this._history=window&&window.history}return t.prototype.url=function(t,e){if(void 0===e&&(e=!0),Qt(t)&&t!==this._get()&&(this._set(null,null,t,e),this.fireAfterUpdate)){var r=ve(new Event("locationchange"),{url:t});this._listeners.forEach(function(t){return t(r)})}return qn(this)},t.prototype.onChange=function(t){var e=this;return this._listeners.push(t),function(){return we(e._listeners,t)}},t.prototype.dispose=function(t){$e(this._listeners)},t}(),Nn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Fn=function(t){function e(e){var r=t.call(this,e,!1)||this;return window.addEventListener("hashchange",r._listener,!1),r}return Nn(e,t),e.prototype._get=function(){return Vn(this._location.hash)},e.prototype._set=function(t,e,r,n){this._location.hash=r},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("hashchange",this._listener)},e}(Dn),Un=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ln=function(t){function e(e){return t.call(this,e,!0)||this}return Un(e,t),e.prototype._get=function(){return this._url},e.prototype._set=function(t,e,r,n){this._url=r},e}(Dn),Mn=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Bn=function(t){function e(e){var r=t.call(this,e,!0)||this;return r._config=e.urlService.config,window.addEventListener("popstate",r._listener,!1),r}return Mn(e,t),e.prototype._get=function(){var t=this._location,e=t.pathname,r=t.hash,n=t.search;return n=jn(n)[1],r=xn(r)[1],e+(n?"?"+n:"")+(r?"$"+n:"")},e.prototype._set=function(t,e,r,n){var i=this,o=i._config,a=i._history,u=o.baseHref()+r;n?a.replaceState(t,e,u):a.pushState(t,e,u)},e.prototype.dispose=function(e){t.prototype.dispose.call(this,e),window.removeEventListener("popstate",this._listener)},e}(Dn),Gn=function(){function t(){var t=this;this._baseHref="",this._port=80,this._protocol="http",this._host="localhost",this._hashPrefix="",this.port=function(){return t._port},this.protocol=function(){return t._protocol},this.host=function(){return t._host},this.baseHref=function(){return t._baseHref},this.html5Mode=function(){return!1},this.hashPrefix=function(e){return Qt(e)?t._hashPrefix=e:t._hashPrefix},this.dispose=l}return t}(),Wn=function(){function t(t,e){void 0===e&&(e=!1),this._isHtml5=e,this._baseHref=void 0,this._hashPrefix=""}return t.prototype.port=function(){return location.port?Number(location.port):"https"===this.protocol()?443:80},t.prototype.protocol=function(){return location.protocol.replace(/:/g,"")},t.prototype.host=function(){return location.host},t.prototype.html5Mode=function(){return this._isHtml5},t.prototype.hashPrefix=function(t){return Qt(t)?this._hashPrefix=t:this._hashPrefix},t.prototype.baseHref=function(t){return Qt(t)?this._baseHref=t:this._baseHref||this.applyDocumentBaseHref()},t.prototype.applyDocumentBaseHref=function(){var t=document.getElementsByTagName("base");return this._baseHref=t.length?t[0].href.substr(location.origin.length):""},t.prototype.dispose=function(){},t}(),zn=ht("vanilla.hashBangLocation",!1,Fn,Wn),Jn=ht("vanilla.pushStateLocation",!0,Bn,Wn),Qn=ht("vanilla.memoryLocation",!1,Ln,Gn),Kn=function(){function t(){}return t.prototype.dispose=function(t){},t}(),Yn=Object.freeze({fromJson:le,toJson:pe,copy:he,forEach:de,extend:ve,equals:me,identity:f,noop:l,createProxyFunctions:p,inherit:ye,inArray:ge,_inArray:h,removeFrom:we,_removeFrom:d,pushTo:_e,_pushTo:v,deregAll:$e,defaults:m,mergeR:Se,ancestors:y,pick:g,omit:w,pluck:_,filter:$,find:S,mapObj:be,map:b,values:Re,allTrueR:Ee,anyTrueR:Ce,unnestR:Te,flattenR:Pe,pushR:R,uniqR:ke,unnest:Oe,flatten:xe,assertPredicate:je,assertMap:Ie,assertFn:E,pairs:Ve,arrayTuples:C,applyPairs:T,tail:P,_extend:x,sortBy:Ae,composeSort:He,silenceUncaughtInPromise:qe,silentRejection:De,notImplemented:ue,services:se,Glob:Bt,curry:r,compose:n,pipe:i,prop:At,propEq:Ht,parse:qt,not:Dt,and:o,or:a,all:Nt,any:Ft,is:Ut,eq:Lt,val:Mt,invoke:u,pattern:s,isUndefined:Jt,isDefined:Qt,isNull:Kt,isNullOrUndefined:Yt,isFunction:Zt,isNumber:Xt,isString:te,isObject:ee,isArray:re,isDate:ne,isRegExp:ie,isState:oe,isInjectable:c,isPromise:ae,Queue:Ne,maxLength:B,padString:G,kebobString:W,functionToString:z,fnToString:J,stringify:Q,beforeAfterSubstr:gr,splitOnDelim:K,joinNeighborsR:Y,get Category(){return t.Category},Trace:We,trace:ze,get DefType(){return t.DefType},Param:rr,ParamTypes:wr,StateParams:$r,ParamType:Xe,PathNode:nr,PathUtils:ir,resolvePolicies:ur,defaultResolvePolicy:or,Resolvable:ar,NATIVE_INJECTOR_TOKEN:lr,ResolveContext:pr,resolvablesBuilder:nt,StateBuilder:Cr,StateObject:Gt,StateMatcher:Tr,StateQueueManager:Pr,StateRegistry:kr,StateService:Rn,TargetState:Je,get TransitionHookPhase(){return t.TransitionHookPhase},get TransitionHookScope(){return t.TransitionHookScope},HookBuilder:Ze,matchState:H,RegisteredHook:Ye,makeEvent:q,get RejectType(){return t.RejectType},Rejection:Ue,Transition:vr,TransitionHook:Ke,TransitionEventType:wn,defaultTransOpts:Sn,TransitionService:bn,UrlMatcher:jr,UrlMatcherFactory:Ir,UrlRouter:qr,UrlRuleFactory:Vr,BaseUrlRule:Ar,UrlService:Wr,ViewService:Dr,UIRouterGlobals:Nr,UIRouter:Jr,$q:En,$injector:kn,BaseLocationServices:Dn,HashLocationService:Fn,MemoryLocationService:Ln,PushStateLocationService:Bn,MemoryLocationConfig:Gn,BrowserLocationConfig:Wn,splitHash:xn,splitQuery:jn,splitEqual:In,trimHashVal:Vn,keyValsToObjectR:An,getParams:Hn,parseUrl:pt,buildUrl:qn,locationPluginFactory:ht,servicesPlugin:dt,hashLocationPlugin:zn,pushStateLocationPlugin:Jn,memoryLocationPlugin:Qn,UIRouterPluginBase:Kn}),Zn=function(t,e){return t.reduce(function(t,r){return t||Qt(e[r])},!1)},Xn=0,ti=function(){function t(t,e,r){var n=this;this.path=t,this.viewDecl=e,this.factory=r,this.$id=Xn++,this.loaded=!1,this.getTemplate=function(t,e){return n.component?n.factory.makeComponentTemplate(t,e,n.component,n.viewDecl.bindings):n.template}}return t.prototype.load=function(){var t=this,e=se.$q,r=new pr(this.path),n=this.path.reduce(function(t,e){return ve(t,e.paramValues)},{}),i={template:e.when(this.factory.fromConfig(this.viewDecl,n,r)),controller:e.when(this.getController(r))};return e.all(i).then(function(e){return ze.traceViewServiceEvent("Loaded",t),t.controller=e.controller,ve(t,e.template),t})},
t.prototype.getController=function(t){var e=this.viewDecl.controllerProvider;if(!c(e))return this.viewDecl.controller;var r=se.$injector.annotate(e),n=re(e)?P(e):e;return new ar("",n,r).get(t)},t}(),ei=function(){function t(){var t=this;this._useHttp=Vt.version.minor<3,this.$get=["$http","$templateCache","$injector",function(e,r,n){return t.$templateRequest=n.has&&n.has("$templateRequest")&&n.get("$templateRequest"),t.$http=e,t.$templateCache=r,t}]}return t.prototype.useHttpService=function(t){this._useHttp=t},t.prototype.fromConfig=function(t,e,r){var n=function(t){return se.$q.when(t).then(function(t){return{template:t}})},i=function(t){return se.$q.when(t).then(function(t){return{component:t}})};return Qt(t.template)?n(this.fromString(t.template,e)):Qt(t.templateUrl)?n(this.fromUrl(t.templateUrl,e)):Qt(t.templateProvider)?n(this.fromProvider(t.templateProvider,e,r)):Qt(t.component)?i(t.component):Qt(t.componentProvider)?i(this.fromComponentProvider(t.componentProvider,e,r)):n("<ui-view></ui-view>")},t.prototype.fromString=function(t,e){return Zt(t)?t(e):t},t.prototype.fromUrl=function(t,e){return Zt(t)&&(t=t(e)),null==t?null:this._useHttp?this.$http.get(t,{cache:this.$templateCache,headers:{Accept:"text/html"}}).then(function(t){return t.data}):this.$templateRequest(t)},t.prototype.fromProvider=function(t,e,r){var n=se.$injector.annotate(t),i=re(t)?P(t):t;return new ar("",i,n).get(r)},t.prototype.fromComponentProvider=function(t,e,r){var n=se.$injector.annotate(t),i=re(t)?P(t):t;return new ar("",i,n).get(r)},t.prototype.makeComponentTemplate=function(t,e,r,n){n=n||{};var i=Vt.version.minor>=3?"::":"",o=function(t){var e=W(t);return/^(x|data)-/.exec(e)?"x-"+e:e},a=function(r){var a=r.name,u=r.type,s=o(a);if(t.attr(s)&&!n[a])return s+"='"+t.attr(s)+"'";var c=n[a]||a;if("@"===u)return s+"='{{"+i+"$resolve."+c+"}}'";if("&"===u){var f=e.getResolvable(c),l=f&&f.data,p=l&&se.$injector.annotate(l)||[];return s+"='$resolve."+c+(re(l)?"["+(l.length-1)+"]":"")+"("+p.join(",")+")'"}return s+"='"+i+"$resolve."+c+"'"},u=yt(r).map(a).join(" "),s=o(r);return"<"+s+" "+u+"></"+s+">"},t}(),ri=function(t){return ni(ee(t.bindToController)?t.bindToController:t.scope)},ni=function(t){return Object.keys(t||{}).map(function(e){return[e,/^([=<@&])[?]?(.*)/.exec(t[e])]}).filter(function(t){return Qt(t)&&re(t[1])}).map(function(t){return{name:t[1][2]||t[0],type:t[1][1]}})},ii=function(){function t(e,r){this.stateRegistry=e,this.stateService=r,p(Mt(t.prototype),this,Mt(this))}return t.prototype.decorator=function(t,e){return this.stateRegistry.decorator(t,e)||this},t.prototype.state=function(t,e){return ee(t)?e=t:e.name=t,this.stateRegistry.register(e),this},t.prototype.onInvalid=function(t){return this.stateService.onInvalid(t)},t}(),oi=function(t){return function(e,r){function n(t,e){var r=new pr(t.treeChanges(o)),n=ve(gi(r),{$state$:e,$transition$:t});return se.$injector.invoke(i,this,n)}var i=e[t],o="onExit"===t?"from":"to";return i?n:void 0}},ai=function(){function t(t){this._urlListeners=[],this.$locationProvider=t;var e=Mt(t);p(e,this,e,["hashPrefix"])}return t.prototype.dispose=function(){},t.prototype.onChange=function(t){var e=this;return this._urlListeners.push(t),function(){return we(e._urlListeners)(t)}},t.prototype.html5Mode=function(){var t=this.$locationProvider.html5Mode();return(t=ee(t)?t.enabled:t)&&this.$sniffer.history},t.prototype.url=function(t,e,r){return void 0===e&&(e=!1),t&&this.$location.url(t),e&&this.$location.replace(),r&&this.$location.state(r),this.$location.url()},t.prototype._runtimeServices=function(t,e,r,n){var i=this;this.$location=e,this.$sniffer=r,t.$on("$locationChangeSuccess",function(t){return i._urlListeners.forEach(function(e){return e(t)})});var o=Mt(e),a=Mt(n);p(o,this,o,["replace","path","search","hash"]),p(o,this,o,["port","protocol","host"]),p(a,this,a,["baseHref"])},t.monkeyPatchPathParameterType=function(t){var e=t.urlMatcherFactory.type("path");e.encode=function(t){return null!=t?t.toString().replace(/(~|\/)/g,function(t){return{"~":"~~","/":"~2F"}[t]}):t},e.decode=function(t){return null!=t?t.toString().replace(/(~~|~2F)/g,function(t){return{"~~":"~","~2F":"/"}[t]}):t}},t}(),ui=function(){function t(t){this._router=t,this._urlRouter=t.urlRouter}return t.prototype.$get=function(){var t=this._urlRouter;return t.update(!0),t.interceptDeferred||t.listen(),t},t.prototype.rule=function(t){var e=this;if(!Zt(t))throw new Error("'rule' must be a function");var r=function(){return t(se.$injector,e._router.locationService)},n=new Ar(r,f);return this._urlRouter.rule(n),this},t.prototype.otherwise=function(t){var e=this,r=this._urlRouter;if(te(t))r.otherwise(t);else{if(!Zt(t))throw new Error("'rule' must be a string or function");r.otherwise(function(){return t(se.$injector,e._router.locationService)})}return this},t.prototype.when=function(e,r){return(re(r)||Zt(r))&&(r=t.injectableHandler(this._router,r)),this._urlRouter.when(e,r),this},t.injectableHandler=function(t,e){return function(r){return se.$injector.invoke(e,null,{$match:r,$stateParams:t.globals.params})}},t.prototype.deferIntercept=function(t){this._urlRouter.deferIntercept(t)},t}();Vt.module("ui.router.angular1",[]);var si=Vt.module("ui.router.init",[]),ci=Vt.module("ui.router.util",["ng","ui.router.init"]),fi=Vt.module("ui.router.router",["ui.router.util"]),li=Vt.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),pi=Vt.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),hi=(Vt.module("ui.router.compat",["ui.router"]),null);gt.$inject=["$locationProvider"];var di=function(t){return["$uiRouterProvider",function(e){var r=e.router[t];return r.$get=function(){return r},r}]};wt.$inject=["$injector","$q","$uiRouter"];var vi=function(t){return t.urlRouterProvider=new ui(t)},mi=function(){return ve(hi.stateProvider,{$get:function(){return hi.stateService}})};_t.$inject=["$rootScope"],si.provider("$uiRouter",gt),fi.provider("$urlRouter",["$uiRouterProvider",vi]),ci.provider("$urlService",di("urlService")),ci.provider("$urlMatcherFactory",["$uiRouterProvider",function(){return hi.urlMatcherFactory}]),ci.provider("$templateFactory",function(){return new ei}),li.provider("$stateRegistry",di("stateRegistry")),li.provider("$uiRouterGlobals",di("globals")),li.provider("$transitions",di("transitionService")),li.provider("$state",["$uiRouterProvider",mi]),li.factory("$stateParams",["$uiRouter",function(t){return t.globals.params}]),pi.factory("$view",function(){return hi.viewService}),pi.service("$trace",function(){return ze}),pi.run(_t),ci.run(["$urlMatcherFactory",function(t){}]),li.run(["$state",function(t){}]),fi.run(["$urlRouter",function(t){}]),si.run(wt);var yi,gi=function(t){return t.getTokens().filter(te).map(function(e){var r=t.getResolvable(e);return[e,"NOWAIT"===t.getPolicy(r).async?r.promise:r.data]}).reduce(T,{})};yi=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function u(){var t=h();l&&l(),f&&(l=f.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var s,c=Rt(i),f=a[1]||a[0],l=null,p={},h=function(){return bt(r,i,p)},d=$t(o.uiSref);p.uiState=d.state,p.uiStateOpts=o.uiSrefOpts?n.$eval(o.uiSrefOpts):{},d.paramExpr&&(n.$watch(d.paramExpr,function(t){p.uiStateParams=ve({},t),u()},!0),p.uiStateParams=ve({},n.$eval(d.paramExpr))),u(),n.$on("$destroy",t.stateRegistry.onStatesChanged(u)),n.$on("$destroy",t.transitionService.onSuccess({},u)),c.clickable&&(s=Et(i,r,e,c,h),Tt(i,n,s,p.uiStateOpts))}}}];var wi;wi=["$uiRouter","$timeout",function(t,e){var r=t.stateService;return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,i,o,a){function u(){var t=d();p&&p(),f&&(p=f.$$addStateInfo(t.uiState,t.uiStateParams)),null!=t.href&&o.$set(c.attr,t.href)}var s,c=Rt(i),f=a[1]||a[0],p=null,h={},d=function(){return bt(r,i,h)},v=["uiState","uiStateParams","uiStateOpts"],m=v.reduce(function(t,e){return t[e]=l,t},{});v.forEach(function(t){h[t]=o[t]?n.$eval(o[t]):null,o.$observe(t,function(e){m[t](),m[t]=n.$watch(e,function(e){h[t]=e,u()},!0)})}),u(),n.$on("$destroy",t.stateRegistry.onStatesChanged(u)),n.$on("$destroy",t.transitionService.onSuccess({},u)),c.clickable&&(s=Et(i,r,e,c,d),Tt(i,n,s,h.uiStateOpts))}}}];var _i;_i=["$state","$stateParams","$interpolate","$uiRouter",function(t,e,r,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,i,o){function a(t){t.promise.then(s,l)}function u(e,r,n){var o=t.get(e,St(i)),a={state:o||{name:e},params:r,activeClass:n};return h.push(a),function(){we(h)(a)}}function s(){var r=function(t){return t.split(/\s/).filter(f)},n=function(t){return t.map(function(t){return t.activeClass}).map(r).reduce(Te,[])},o=n(h).concat(r(c)).reduce(ke,[]),a=n(h.filter(function(e){return t.includes(e.state.name,e.params)})),u=!!h.filter(function(e){return t.is(e.state.name,e.params)}).length,s=u?r(c):[],l=a.concat(s).reduce(ke,[]),p=o.filter(function(t){return!ge(l,t)});e.$evalAsync(function(){l.forEach(function(t){return i.addClass(t)}),p.forEach(function(t){return i.removeClass(t)})})}var c,p,h=[];c=r(o.uiSrefActiveEq||"",!1)(e);try{p=e.$eval(o.uiSrefActive)}catch(t){}p=p||r(o.uiSrefActive||"",!1)(e),ee(p)&&de(p,function(t,r){if(te(t)){var n=$t(t);u(n.state,e.$eval(n.paramExpr),r)}}),this.$$addStateInfo=function(t,e){if(!(ee(p)&&h.length>0)){var r=u(t,e,p);return s(),r}},e.$on("$stateChangeSuccess",s),e.$on("$destroy",n.transitionService.onStart({},a)),n.globals.transition&&a(n.globals.transition),s()}]}}],Vt.module("ui.router.state").directive("uiSref",yi).directive("uiSrefActive",_i).directive("uiSrefActiveEq",_i).directive("uiState",wi),Pt.$inject=["$state"],kt.$inject=["$state"],Vt.module("ui.router.state").filter("isState",Pt).filter("includedByState",kt);var $i;$i=["$view","$animate","$uiViewScroll","$interpolate","$q",function(t,e,r,n,i){function o(t,r){return{enter:function(t,r,n){Vt.version.minor>2?e.enter(t,null,r).then(n):e.enter(t,null,r,n)},leave:function(t,r){Vt.version.minor>2?e.leave(t).then(r):e.leave(t,r)}}}function a(t,e){return t===e}var u={$cfg:{viewDecl:{$context:t._pluginapi._rootViewContext()}},$uiView:{}},s={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,c,f){return function(e,c,l){function p(t){(!t||t instanceof ti)&&(a(S,t)||(ze.traceUIViewConfigUpdated(E,t&&t.viewDecl&&t.viewDecl.$context),S=t,d(t)))}function h(){if(v&&(ze.traceUIViewEvent("Removing (previous) el",v.data("$uiView")),v.remove(),v=null),y&&(ze.traceUIViewEvent("Destroying scope",E),y.$destroy(),y=null),m){var t=m.data("$uiViewAnim");ze.traceUIViewEvent("Animate out",t),$.leave(m,function(){t.$$animLeave.resolve(),v=null}),v=m,m=null}}function d(t){var n=e.$new(),o=i.defer(),a=i.defer(),u={$cfg:t,$uiView:E},s={$animEnter:o.promise,$animLeave:a.promise,$$animLeave:a};n.$emit("$viewContentLoading",R);var l=f(n,function(t){t.data("$uiViewAnim",s),t.data("$uiView",u),$.enter(t,c,function(){o.resolve(),y&&y.$emit("$viewContentAnimationEnded"),(Qt(_)&&!_||e.$eval(_))&&r(t)}),h()});m=l,y=n,y.$emit("$viewContentLoaded",t||S),y.$eval(w)}var v,m,y,g,w=l.onload||"",_=l.autoscroll,$=o(l,e),S=void 0,b=c.inheritedData("$uiView")||u,R=n(l.uiView||l.name||"")(e)||"$default",E={$type:"ng1",id:s.count++,name:R,fqn:b.$uiView.fqn?b.$uiView.fqn+"."+R:R,config:null,configUpdated:p,get creationContext(){var t=qt("$cfg.viewDecl.$context")(b),e=qt("$uiView.creationContext")(b);return t||e}};ze.traceUIViewEvent("Linking",E),c.data("$uiView",{$uiView:E}),d(),g=t.registerUIView(E),e.$on("$destroy",function(){ze.traceUIViewEvent("Destroying/Unregistering",E),g()})}}};return s}],Ot.$inject=["$compile","$controller","$transitions","$view","$q","$timeout"];var Si="function"==typeof Vt.module("ui.router").component,bi=0;Vt.module("ui.router.state").directive("uiView",$i),Vt.module("ui.router.state").directive("uiView",Ot),Vt.module("ui.router.state").provider("$uiViewScroll",jt);t.default="ui.router",t.core=Yn,t.watchDigests=_t,t.getLocals=gi,t.getNg1ViewConfigFactory=vt,t.ng1ViewsBuilder=mt,t.Ng1ViewConfig=ti,t.StateProvider=ii,t.UrlRouterProvider=ui,t.fromJson=le,t.toJson=pe,t.copy=he,t.forEach=de,t.extend=ve,t.equals=me,t.identity=f,t.noop=l,t.createProxyFunctions=p,t.inherit=ye,t.inArray=ge,t._inArray=h,t.removeFrom=we,t._removeFrom=d,t.pushTo=_e,t._pushTo=v,t.deregAll=$e,t.defaults=m,t.mergeR=Se,t.ancestors=y,t.pick=g,t.omit=w,t.pluck=_,t.filter=$,t.find=S,t.mapObj=be,t.map=b,t.values=Re,t.allTrueR=Ee,t.anyTrueR=Ce,t.unnestR=Te,t.flattenR=Pe,t.pushR=R,t.uniqR=ke,t.unnest=Oe,t.flatten=xe,t.assertPredicate=je,t.assertMap=Ie,t.assertFn=E,t.pairs=Ve,t.arrayTuples=C,t.applyPairs=T,t.tail=P,t._extend=x,t.sortBy=Ae,t.composeSort=He,t.silenceUncaughtInPromise=qe,t.silentRejection=De,t.notImplemented=ue,t.services=se,t.Glob=Bt,t.curry=r,t.compose=n,t.pipe=i,t.prop=At,t.propEq=Ht,t.parse=qt,t.not=Dt,t.and=o,t.or=a,t.all=Nt,t.any=Ft,t.is=Ut,t.eq=Lt,t.val=Mt,t.invoke=u,t.pattern=s,t.isUndefined=Jt,t.isDefined=Qt,t.isNull=Kt,t.isNullOrUndefined=Yt,t.isFunction=Zt,t.isNumber=Xt,t.isString=te,t.isObject=ee,t.isArray=re,t.isDate=ne,t.isRegExp=ie,t.isState=oe,t.isInjectable=c,t.isPromise=ae,t.Queue=Ne,t.maxLength=B,t.padString=G,t.kebobString=W,t.functionToString=z,t.fnToString=J,t.stringify=Q,t.beforeAfterSubstr=gr,t.splitOnDelim=K,t.joinNeighborsR=Y,t.Trace=We,t.trace=ze,t.Param=rr,t.ParamTypes=wr,t.StateParams=$r,t.ParamType=Xe,t.PathNode=nr,t.PathUtils=ir,t.resolvePolicies=ur,t.defaultResolvePolicy=or,t.Resolvable=ar,t.NATIVE_INJECTOR_TOKEN=lr,t.ResolveContext=pr,t.resolvablesBuilder=nt,t.StateBuilder=Cr,t.StateObject=Gt,t.StateMatcher=Tr,t.StateQueueManager=Pr,t.StateRegistry=kr,t.StateService=Rn,t.TargetState=Je,t.HookBuilder=Ze,t.matchState=H,t.RegisteredHook=Ye,t.makeEvent=q,t.Rejection=Ue,t.Transition=vr,t.TransitionHook=Ke,t.TransitionEventType=wn,t.defaultTransOpts=Sn,t.TransitionService=bn,t.UrlMatcher=jr,t.UrlMatcherFactory=Ir,t.UrlRouter=qr,t.UrlRuleFactory=Vr,t.BaseUrlRule=Ar,t.UrlService=Wr,t.ViewService=Dr,t.UIRouterGlobals=Nr,t.UIRouter=Jr,t.$q=En,t.$injector=kn,t.BaseLocationServices=Dn,t.HashLocationService=Fn,t.MemoryLocationService=Ln,t.PushStateLocationService=Bn,t.MemoryLocationConfig=Gn,t.BrowserLocationConfig=Wn,t.splitHash=xn,t.splitQuery=jn,t.splitEqual=In,t.trimHashVal=Vn,t.keyValsToObjectR=An,t.getParams=Hn,t.parseUrl=pt,t.buildUrl=qn,t.locationPluginFactory=ht,t.servicesPlugin=dt,t.hashLocationPlugin=zn,t.pushStateLocationPlugin=Jn,t.memoryLocationPlugin=Qn,t.UIRouterPluginBase=Kn,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular-ui-router.min.js.map

(function () {

    var app = angular.module('consumerApp', ['ngAnimate', 'angular-momentjs', 'google.places', 'ui.router']);

    var env = {};
    // Import variables if present (from env.js)
    if(window){  
        Object.assign(env, window.__env);
    }

    // Register environment in AngularJS as constant
    app.constant('__env', env);

    app.config(function ($stateProvider, $urlRouterProvider) {
        $urlRouterProvider.when('', 'application/details')

        $stateProvider
            .state('application', {
                url: '/application',
                abstract: true,
                data: {
                    stage: 0
                },
                //template: '<ui-view/>',
                resolve: {
                    model: ['modelService', function (modelService) {
                        return modelService.getModel();
                    }]
                }
            })
            .state('application.personalDetails', {
                url: '/details',
                templateUrl: 'app/personal-details.component.html',
                controller: 'personalDetailsController',
                controllerAs: '$ctrl',
                data: {
                    stage: 1
                },
                resolve: {
                    next: function () {
                        return 'application.quote';
                    }
                }
            })
            .state('application.quote', {
                url: '/quote',
                templateUrl: 'app/quote.component.html',
                controller: 'quoteController',
                controllerAs: '$ctrl',
                data: {
                    stage: 2
                },
                resolve: {
                    back: function () {
                        return 'application.personalDetails';
                    },
                    next: function () {
                        return 'application.moreAboutYou';
                    }
                }
            })
            .state('application.moreAboutYou', {
                url: '/about',
                templateUrl: 'app/more-about-you.component.html',
                controller: 'moreAboutYouController',
                controllerAs: '$ctrl',
                data: {
                    stage: 3
                },
                resolve: {
                    back: function () {
                        return 'application.quote';
                    },
                    next: function () {
                        return 'application.finances';
                    }
                }
            })
            .state('application.finances', {
                url: '/finances',
                templateUrl: 'app/financials.component.html',
                controller: 'financialsController',
                controllerAs: '$ctrl',
                data: {
                    stage: 4
                },
                resolve: {
                    back: function () {
                        return 'application.moreAboutYou';
                    },
                    next: function () {
                        return 'application';
                    }
                }
            });
    })
}());
(function (angular) {
    'use strict';
    function addressFinderController() {
        var ctrl = this;

        ctrl.AddressEntry = null;
        
        ctrl.$onInit = function() {
            if (ctrl.AddressEntry === null && ctrl.model && ctrl.model.AddressEntry) {
                ctrl.AddressEntry = ctrl.model.AddressEntry;
            }
        }

        ctrl.AddressEntryChanged = function () {
            var addressEntry = "AddressEntry";

            if (!ctrl.AddressEntry || !ctrl.AddressEntry.address_components) {
                ctrl.model[addressEntry] = ctrl.AddressEntry;
                for(var key in ctrl.model) {
                    if (key !== addressEntry) {
                        ctrl.model[key] = null;
                    }
                }
                return null;
            }
            ctrl.model[addressEntry] = ctrl.AddressEntry.formatted_address;
            ctrl.UpdateDetails(ctrl.AddressEntry);
            
            //Clear
            //ctrl.AddressEntry = null;
        }

        ctrl.mapOptions = {
            componentRestrictions: { country: 'NZ' },
            types: ['geocode']
        };

        ctrl.componentForm = {
            street_number: 'short_name',
            route: 'long_name',
            sublocality_level_1: 'long_name',
            locality: 'long_name',
            administrative_area_level_1: 'short_name',
            country: 'long_name',
            postal_code: 'short_name'
        };

        ctrl.googleAddressPropMapper = {
            street_number: 'StreetNumber',
            route: 'StreetName',
            sublocality_level_1: 'Suburb',
            locality: 'City',
            administrative_area_level_1: 'State',
            country: 'Country',
            postal_code: 'PostCode'
        };

        ctrl.UpdateDetails = function (place) {
            for (var i = 0; i < place.address_components.length; i++) {
                var addressType = place.address_components[i].types[0];

                if (ctrl.componentForm[addressType]) {
                    var googlePropName = this.componentForm[addressType];
                    var val = place.address_components[i][googlePropName];

                    var addressDetailProp = this.googleAddressPropMapper[addressType];
                    ctrl.model[addressDetailProp] = val;
                }
            }
        }
    }

    angular.module('consumerApp').component('addressFinder', {
        templateUrl: 'app/address-finder.component.html',
        controller: [addressFinderController],
        bindings: {
            required: '=',
            name: '@',
            label: "<",
            model: "<"
        },
    });
})(window.angular);
(function (angular) {
    'use strict';
    //A canonical place for all option used within forms 
    angular.module('consumerApp').factory('amortisationService', [function () {
        var self = this;
        var self = this;

        self.RunStandardTest = function () {
            //The answer shall be 6.09820478953012
            var principal = 100;
            var anualInterestRate = 12;
            var numberOfPayments = 18;
            var monthlyInterestAsFraction = anualInterestRate/12/100;

            var installmentValue = self.GetInstallmentValue(principal, monthlyInterestAsFraction, numberOfPayments);
        }

        //Using a standard Amortisation formula - eg, https://en.wikipedia.org/wiki/Amortization_calculator
        //It is unclear if platinum want a balloon payment at the end or not
        self.GetInstallmentValue = function (p, i, n) {
            //i(1+i)^n
            var numerator = i * Math.pow(1+i, n);
            
            //(1+i)^n - 1
            var denominator = Math.pow(1+i, n) - 1;

            var A = p * numerator / denominator;

            return A;
        }

        var establishmentFee = 250;
        var anualInterestRate = 10.95;

        self.GeneratePriceQuote = function(price, deposit, term){
            return {
                price: price,
                deposit: deposit,
                term: term,
                establishmentFee: establishmentFee,
                anualInterestRate: anualInterestRate,
                monthlyPayments: self.GetMonthlyPayments(price, deposit, term)
            }
        };

        self.GetMonthlyPayments = function (price, deposit, term) {
            var establishmentFee = 250;

            var principal = price - deposit + establishmentFee;
            var monthlyInterestAsFraction = anualInterestRate / 12 / 100;

            var monthlyPayments = self.GetInstallmentValue(principal, monthlyInterestAsFraction, term);

            return monthlyPayments;
        };

        // self.RunStandardTest();

        return self;
    }]);
})(window.angular);
(function (angular) {
    'use strict';
    function confirmController() {
        var ctrl = this;

        ctrl.GetNameToUse = function(){
            if(ctrl.preferredName && ctrl.preferredName.length > 0)
                return ctrl.preferredName;

            return ctrl.firstName;
        }
    }

    angular.module('consumerApp').component('confirm', {
        templateUrl: 'app/confirm.component.html',
        controller: [ confirmController ],
        bindings: {
            firstName: "<",
            preferredName: "<",
            priceQuote: "<"
        },
    });
})(window.angular);
(function (angular) {
    'use strict';
    angular.module('consumerApp').factory('countryService', [function () {
        var self = this;

        self.GetCountries = function () {
            return [
                { "name": "Afghanistan", "code": "AF" },
                { "name": "Åland Islands", "code": "AX" },
                { "name": "Albania", "code": "AL" },
                { "name": "Algeria", "code": "DZ" },
                { "name": "American Samoa", "code": "AS" },
                { "name": "Andorra", "code": "AD" },
                { "name": "Angola", "code": "AO" },
                { "name": "Anguilla", "code": "AI" },
                { "name": "Antarctica", "code": "AQ" },
                { "name": "Antigua and Barbuda", "code": "AG" },
                { "name": "Argentina", "code": "AR" },
                { "name": "Armenia", "code": "AM" },
                { "name": "Aruba", "code": "AW" },
                { "name": "Australia", "code": "AU" },
                { "name": "Austria", "code": "AT" },
                { "name": "Azerbaijan", "code": "AZ" },
                { "name": "Bahamas", "code": "BS" },
                { "name": "Bahrain", "code": "BH" },
                { "name": "Bangladesh", "code": "BD" },
                { "name": "Barbados", "code": "BB" },
                { "name": "Belarus", "code": "BY" },
                { "name": "Belgium", "code": "BE" },
                { "name": "Belize", "code": "BZ" },
                { "name": "Benin", "code": "BJ" },
                { "name": "Bermuda", "code": "BM" },
                { "name": "Bhutan", "code": "BT" },
                { "name": "Bolivia", "code": "BO" },
                { "name": "Bosnia and Herzegovina", "code": "BA" },
                { "name": "Botswana", "code": "BW" },
                { "name": "Bouvet Island", "code": "BV" },
                { "name": "Brazil", "code": "BR" },
                { "name": "British Indian Ocean Territory", "code": "IO" },
                { "name": "Brunei Darussalam", "code": "BN" },
                { "name": "Bulgaria", "code": "BG" },
                { "name": "Burkina Faso", "code": "BF" },
                { "name": "Burundi", "code": "BI" },
                { "name": "Cambodia", "code": "KH" },
                { "name": "Cameroon", "code": "CM" },
                { "name": "Canada", "code": "CA" },
                { "name": "Cape Verde", "code": "CV" },
                { "name": "Cayman Islands", "code": "KY" },
                { "name": "Central African Republic", "code": "CF" },
                { "name": "Chad", "code": "TD" },
                { "name": "Chile", "code": "CL" },
                { "name": "China", "code": "CN" },
                { "name": "Christmas Island", "code": "CX" },
                { "name": "Cocos (Keeling) Islands", "code": "CC" },
                { "name": "Colombia", "code": "CO" },
                { "name": "Comoros", "code": "KM" },
                { "name": "Congo", "code": "CG" },
                { "name": "Congo, The Democratic Republic of the", "code": "CD" },
                { "name": "Cook Islands", "code": "CK" },
                { "name": "Costa Rica", "code": "CR" },
                { "name": "Cote D'Ivoire", "code": "CI" },
                { "name": "Croatia", "code": "HR" },
                { "name": "Cuba", "code": "CU" },
                { "name": "Cyprus", "code": "CY" },
                { "name": "Czech Republic", "code": "CZ" },
                { "name": "Denmark", "code": "DK" },
                { "name": "Djibouti", "code": "DJ" },
                { "name": "Dominica", "code": "DM" },
                { "name": "Dominican Republic", "code": "DO" },
                { "name": "Ecuador", "code": "EC" },
                { "name": "Egypt", "code": "EG" },
                { "name": "El Salvador", "code": "SV" },
                { "name": "Equatorial Guinea", "code": "GQ" },
                { "name": "Eritrea", "code": "ER" },
                { "name": "Estonia", "code": "EE" },
                { "name": "Ethiopia", "code": "ET" },
                { "name": "Falkland Islands (Malvinas)", "code": "FK" },
                { "name": "Faroe Islands", "code": "FO" },
                { "name": "Fiji", "code": "FJ" },
                { "name": "Finland", "code": "FI" },
                { "name": "France", "code": "FR" },
                { "name": "French Guiana", "code": "GF" },
                { "name": "French Polynesia", "code": "PF" },
                { "name": "French Southern Territories", "code": "TF" },
                { "name": "Gabon", "code": "GA" },
                { "name": "Gambia", "code": "GM" },
                { "name": "Georgia", "code": "GE" },
                { "name": "Germany", "code": "DE" },
                { "name": "Ghana", "code": "GH" },
                { "name": "Gibraltar", "code": "GI" },
                { "name": "Greece", "code": "GR" },
                { "name": "Greenland", "code": "GL" },
                { "name": "Grenada", "code": "GD" },
                { "name": "Guadeloupe", "code": "GP" },
                { "name": "Guam", "code": "GU" },
                { "name": "Guatemala", "code": "GT" },
                { "name": "Guernsey", "code": "GG" },
                { "name": "Guinea", "code": "GN" },
                { "name": "Guinea-Bissau", "code": "GW" },
                { "name": "Guyana", "code": "GY" },
                { "name": "Haiti", "code": "HT" },
                { "name": "Heard Island and Mcdonald Islands", "code": "HM" },
                { "name": "Holy See (Vatican City State)", "code": "VA" },
                { "name": "Honduras", "code": "HN" },
                { "name": "Hong Kong", "code": "HK" },
                { "name": "Hungary", "code": "HU" },
                { "name": "Iceland", "code": "IS" },
                { "name": "India", "code": "IN" },
                { "name": "Indonesia", "code": "ID" },
                { "name": "Iran, Islamic Republic Of", "code": "IR" },
                { "name": "Iraq", "code": "IQ" },
                { "name": "Ireland", "code": "IE" },
                { "name": "Isle of Man", "code": "IM" },
                { "name": "Israel", "code": "IL" },
                { "name": "Italy", "code": "IT" },
                { "name": "Jamaica", "code": "JM" },
                { "name": "Japan", "code": "JP" },
                { "name": "Jersey", "code": "JE" },
                { "name": "Jordan", "code": "JO" },
                { "name": "Kazakhstan", "code": "KZ" },
                { "name": "Kenya", "code": "KE" },
                { "name": "Kiribati", "code": "KI" },
                { "name": "Democratic People's Republic of Korea", "code": "KP" },
                { "name": "Korea, Republic of", "code": "KR" },
                { "name": "Kosovo", "code": "XK" },
                { "name": "Kuwait", "code": "KW" },
                { "name": "Kyrgyzstan", "code": "KG" },
                { "name": "Lao People's Democratic Republic", "code": "LA" },
                { "name": "Latvia", "code": "LV" },
                { "name": "Lebanon", "code": "LB" },
                { "name": "Lesotho", "code": "LS" },
                { "name": "Liberia", "code": "LR" },
                { "name": "Libyan Arab Jamahiriya", "code": "LY" },
                { "name": "Liechtenstein", "code": "LI" },
                { "name": "Lithuania", "code": "LT" },
                { "name": "Luxembourg", "code": "LU" },
                { "name": "Macao", "code": "MO" },
                { "name": "Macedonia, The Former Yugoslav Republic of", "code": "MK" },
                { "name": "Madagascar", "code": "MG" },
                { "name": "Malawi", "code": "MW" },
                { "name": "Malaysia", "code": "MY" },
                { "name": "Maldives", "code": "MV" },
                { "name": "Mali", "code": "ML" },
                { "name": "Malta", "code": "MT" },
                { "name": "Marshall Islands", "code": "MH" },
                { "name": "Martinique", "code": "MQ" },
                { "name": "Mauritania", "code": "MR" },
                { "name": "Mauritius", "code": "MU" },
                { "name": "Mayotte", "code": "YT" },
                { "name": "Mexico", "code": "MX" },
                { "name": "Micronesia, Federated States of", "code": "FM" },
                { "name": "Moldova, Republic of", "code": "MD" },
                { "name": "Monaco", "code": "MC" },
                { "name": "Mongolia", "code": "MN" },
                { "name": "Montenegro", "code": "ME" },
                { "name": "Montserrat", "code": "MS" },
                { "name": "Morocco", "code": "MA" },
                { "name": "Mozambique", "code": "MZ" },
                { "name": "Myanmar", "code": "MM" },
                { "name": "Namibia", "code": "NA" },
                { "name": "Nauru", "code": "NR" },
                { "name": "Nepal", "code": "NP" },
                { "name": "Netherlands", "code": "NL" },
                { "name": "Netherlands Antilles", "code": "AN" },
                { "name": "New Caledonia", "code": "NC" },
                { "name": "New Zealand", "code": "NZ" },
                { "name": "Nicaragua", "code": "NI" },
                { "name": "Niger", "code": "NE" },
                { "name": "Nigeria", "code": "NG" },
                { "name": "Niue", "code": "NU" },
                { "name": "Norfolk Island", "code": "NF" },
                { "name": "Northern Mariana Islands", "code": "MP" },
                { "name": "Norway", "code": "NO" },
                { "name": "Oman", "code": "OM" },
                { "name": "Pakistan", "code": "PK" },
                { "name": "Palau", "code": "PW" },
                { "name": "Palestinian Territory, Occupied", "code": "PS" },
                { "name": "Panama", "code": "PA" },
                { "name": "Papua New Guinea", "code": "PG" },
                { "name": "Paraguay", "code": "PY" },
                { "name": "Peru", "code": "PE" },
                { "name": "Philippines", "code": "PH" },
                { "name": "Pitcairn", "code": "PN" },
                { "name": "Poland", "code": "PL" },
                { "name": "Portugal", "code": "PT" },
                { "name": "Puerto Rico", "code": "PR" },
                { "name": "Qatar", "code": "QA" },
                { "name": "Reunion", "code": "RE" },
                { "name": "Romania", "code": "RO" },
                { "name": "Russian Federation", "code": "RU" },
                { "name": "Rwanda", "code": "RW" },
                { "name": "Saint Helena", "code": "SH" },
                { "name": "Saint Kitts and Nevis", "code": "KN" },
                { "name": "Saint Lucia", "code": "LC" },
                { "name": "Saint Pierre and Miquelon", "code": "PM" },
                { "name": "Saint Vincent and the Grenadines", "code": "VC" },
                { "name": "Samoa", "code": "WS" },
                { "name": "San Marino", "code": "SM" },
                { "name": "Sao Tome and Principe", "code": "ST" },
                { "name": "Saudi Arabia", "code": "SA" },
                { "name": "Senegal", "code": "SN" },
                { "name": "Serbia", "code": "RS" },
                { "name": "Seychelles", "code": "SC" },
                { "name": "Sierra Leone", "code": "SL" },
                { "name": "Singapore", "code": "SG" },
                { "name": "Slovakia", "code": "SK" },
                { "name": "Slovenia", "code": "SI" },
                { "name": "Solomon Islands", "code": "SB" },
                { "name": "Somalia", "code": "SO" },
                { "name": "South Africa", "code": "ZA" },
                { "name": "South Georgia and the South Sandwich Islands", "code": "GS" },
                { "name": "Spain", "code": "ES" },
                { "name": "Sri Lanka", "code": "LK" },
                { "name": "Sudan", "code": "SD" },
                { "name": "Suriname", "code": "SR" },
                { "name": "Svalbard and Jan Mayen", "code": "SJ" },
                { "name": "Swaziland", "code": "SZ" },
                { "name": "Sweden", "code": "SE" },
                { "name": "Switzerland", "code": "CH" },
                { "name": "Syrian Arab Republic", "code": "SY" },
                { "name": "Taiwan", "code": "TW" },
                { "name": "Tajikistan", "code": "TJ" },
                { "name": "Tanzania, United Republic of", "code": "TZ" },
                { "name": "Thailand", "code": "TH" },
                { "name": "Timor-Leste", "code": "TL" },
                { "name": "Togo", "code": "TG" },
                { "name": "Tokelau", "code": "TK" },
                { "name": "Tonga", "code": "TO" },
                { "name": "Trinidad and Tobago", "code": "TT" },
                { "name": "Tunisia", "code": "TN" },
                { "name": "Turkey", "code": "TR" },
                { "name": "Turkmenistan", "code": "TM" },
                { "name": "Turks and Caicos Islands", "code": "TC" },
                { "name": "Tuvalu", "code": "TV" },
                { "name": "Uganda", "code": "UG" },
                { "name": "Ukraine", "code": "UA" },
                { "name": "United Arab Emirates", "code": "AE" },
                { "name": "United Kingdom", "code": "GB" },
                { "name": "United States", "code": "US" },
                { "name": "United States Minor Outlying Islands", "code": "UM" },
                { "name": "Uruguay", "code": "UY" },
                { "name": "Uzbekistan", "code": "UZ" },
                { "name": "Vanuatu", "code": "VU" },
                { "name": "Venezuela", "code": "VE" },
                { "name": "Viet Nam", "code": "VN" },
                { "name": "Virgin Islands, British", "code": "VG" },
                { "name": "Virgin Islands, U.S.", "code": "VI" },
                { "name": "Wallis and Futuna", "code": "WF" },
                { "name": "Western Sahara", "code": "EH" },
                { "name": "Yemen", "code": "YE" },
                { "name": "Zambia", "code": "ZM" },
                { "name": "Zimbabwe", "code": "ZW" }
            ];
        };

        return self;
    }]);
})(window.angular);
(function (angular) {
    'use strict';
    function financialOptionsController() {
        var ctrl = this;        
    }

    angular.module('consumerApp').component('financialOptions', {
        templateUrl: 'app/financial-options.component.html',
        controller: [ financialOptionsController],
        bindings: {
            title: "<",
            options: "<"
        },
    });
})(window.angular);
angular.module('consumerApp').controller('financialsController', ['model', 'back', 'next', '$state', 'persistenceService', function financialsController(model, back, next, $state, persistenceService) {
    var ctrl = this;
    ctrl.model = model;
    ctrl.back = back;
    ctrl.next = next;
    ctrl.persistenceService = persistenceService;

    ctrl.RequestBack = function () {
        $state.go(ctrl.back);
    }

    ctrl.ApplyNow = function () {
        var application = null;

        ctrl.persistenceService.SubmitNow(ctrl.model)
            .then(function (response) {
                if (response.data.CommittedId) {
                    ctrl.model.CommittedId = response.data.CommittedId;
                }
            }, function (response) {
                console.log(response.data);
            });
    }

    ctrl.FormSubmit = function (form) {
        if (form.$valid) {
            $state.go(ctrl.next);
        } else {
            form.$setSubmitted();
            return false;
        }
    }
}]);
(function (angular) {
    'use strict';
    function mainController() {
    }

    angular.module('consumerApp').component('main', {
        templateUrl: 'app/main.component.html',
        controller: ['$location', '$moment', 'persistenceService', 'optionsService', '$state', mainController]
    });
})(window.angular);




//Temp
Array.prototype.remove = function (from, to) {
    var rest = this.slice((to || from) + 1 || this.length);
    this.length = from < 0 ? this.length + from : from;
    return this.push.apply(this, rest);
};
(function (angular) {
    'use strict';
    //A canonical place for all option used within forms 
    angular.module('consumerApp').factory('modelDataService', ['optionsService', function (optionsService) {
        var self = this;

        self.GetDefaultModel = function () {
            return {
                SchemaVersion: '1.0', //This is the schema version to tell the API what to expect
                //Personal details
                Term: optionsService.GetTermOptions()[0].value,
                CashPrice: 0,

                //About
                PurchasePrice: null,
                FirstName: null,
                MiddleName: null,
                LastName: null,
                PreferredName: null,
                PersonalEmail: null,
                MobilePhoneNumber: null,

                //About testing
                // FirstName: 'bob',
                // MiddleName: 'botty',
                // LastName: 'bottit',
                // PreferredName: 'The Bob',
                // PersonalEmail: 'bob@bobby.bob',
                // MobilePhoneNumber: '007bobbob',

                Deposit: 0,
                Gender: optionsService.GetGenderOptions()[0],
                DateOfBirth: moment().subtract(25, 'year').toDate(),
                MaritalStatus: optionsService.GetMaritalStatusOptions()[0],
                NewVehicleDetailType: optionsService.GetNewVehicleDetailTypeOptions()[0],
                NewVehicleData: null, //trademe listing number, registration number etc
                NewVehicleDetails: {
                    Year: 2010,
                    Make: '',
                    Model: ''
                },
                // testing data
                // NewVehicleDetails: {
                //     Year: 2010,
                //     Make: 'Some Manufacturer',
                //     Model: 'Car Model'
                // },
                TradeVehicleDetails: {
                    Year: 2010,
                    Make: '',
                    Model: ''
                },
                VehicleToTrade: 'Yes',
                IsNzResident: 'Yes',
                originCountry: 'New Zealand',
                DriverLicenceType: optionsService.GetDriverLicenceOptions()[0],
                CreditHistoryType: optionsService.GetCreditHistoryOptions()[0],

                //More about
                CurrentAddressType: optionsService.GetCurrentAddressTypeOptions()[0].value,
                CurrentAddress: {
                    StreetNumber: null,
                    StreetName: null,
                    Suburb: null,
                    State: null,
                    Country: null,
                    PostCode: null
                },
                CurrentAddressYears: null,
                CurrentAddressMonths: null,
                CurrentOccupation: {
                    EmployerName: null,
                    Occupation: null,
                    Years: 0,
                    Months: 0
                },
                PreviousAddress: {
                    StreetNumber: null,
                    StreetName: null,
                    Suburb: null,
                    State: null,
                    Country: null,
                    PostCode: null
                },
                PreviousOccupation: {
                    EmployerName: null
                },

                // testing data
                // CurrentAddress: {
                //     StreetNumber: 4,
                //     StreetName: 'Larchwood Lane',
                //     Suburb: 'Parklands',
                //     State: '',
                //     Country: 'New Zealand',
                //     PostCode: '8083'
                // },
                // CurrentAddressYears: 1,
                // CurrentAddressMonths: 2,
                // CurrentOccupation: {
                //     EmployerName: 'Spacely Sprockets',
                //     Occupation: 'Widget maker',
                //     Years: 1,
                //     Months: 2
                // },
                // PreviousAddress: {
                //     StreetNumber: 2,
                //     StreetName: 'Larchwood Lane',
                //     Suburb: 'Parklands',
                //     State: '',
                //     Country: 'New Zealand',
                //     PostCode: '8083'
                // },
                // PreviousOccupation: {
                //     EmployerName: 'Somewhere else'
                // },

                //Financials
                Assets: [
                    { OptionName: 'Home', Value: 0, Display: 'Property Value' },
                    { OptionName: 'Home Contents', Value: 0, Display: 'Home contents value' },
                    { OptionName: 'Car', Value: 0, Display: 'Vehicle(s) Value' },
                    { OptionName: 'Other', Value: 0, Display: 'Other' }
                ],
                Liabilities: [
                    { OptionName: 'Mortgage', Value: 0, Display: 'Mortgage Balance' },
                    { OptionName: 'Loan', Value: 0, Display: 'Bank or personal loan' },
                    { OptionName: 'Hire Purchase', Value: 0, Display: 'Hire purchase(s)' },
                    { OptionName: 'Other', Value: 0, Display: 'Other' }
                ],
                Income: [
                    { OptionName: 'Take Home Pay', Value: 0, Display: 'What is your take home pay' },
                    { OptionName: 'Spouse Take Home Pay', Value: 0, Display: 'What is your Spouse\'s take home pay' },
                    { OptionName: 'Other', Value: 0, Display: 'Other' }
                ],
                Expenses: [
                    { OptionName: 'Mortgage', Value: 0, Display: 'Mortgage/rent' },
                    { OptionName: 'Loan', Value: 0, Display: 'Bank or personal loan' },
                    { OptionName: 'Hire Purchase', Value: 0, Display: 'Hire purchase(s)' },
                ]
            };
        }

        return self;
    }]);
})(window.angular);
(function (angular) {
    'use strict';
    //A canonical place for all option used within forms 
    angular.module('consumerApp').factory('modelService', ['optionsService', function (optionsService) {
        var self = this;
        self.getModel = function () {
            return {
                SchemaVersion: '1.0', //This is the schema version to tell the API what to expect
                Term: optionsService.GetTermOptions()[0].value,
                CashPrice: null,
                MonthlyPayment: null,
                PurchasePrice: null,
                FirstName: null,
                MiddleName: null,
                LastName: null,
                PreferredName: null,
                PersonalEmail: null,
                MobilePhoneNumber: null,
                Deposit: null,
                DateOfBirth: moment().subtract(25, 'year').toDate(),
                NewVehicleData: null, //trademe listing number, registration number etc
                IsNzResident: 'Yes',
                originCountry: 'New Zealand',
                CurrentAddress: {
                    AddressEntry: null,
                    StreetNumber: null,
                    StreetName: null,
                    Suburb: null,
                    State: null,
                    Country: null,
                    PostCode: null
                },
                CurrentOccupation: {
                    EmployerName: null,
                    Occupation: null,
                    Years: null,
                    Months: null
                },
                PreviousOccupation: {
                    EmployerName: null
                },
                Assets: [{
                        OptionName: 'Home',
                        Value: null,
                        Display: 'Property Value'
                    },
                    {
                        OptionName: 'Home Contents',
                        Value: null,
                        Display: 'Home contents value'
                    },
                    {
                        OptionName: 'Car',
                        Value: null,
                        Display: 'Vehicle(s) Value'
                    },
                    {
                        OptionName: 'Other',
                        Value: null,
                        Display: 'Other'
                    }
                ],
                Liabilities: [{
                        OptionName: 'Mortgage',
                        Value: null,
                        Display: 'Mortgage Balance'
                    },
                    {
                        OptionName: 'Loan',
                        Value: null,
                        Display: 'Bank or personal loan'
                    },
                    {
                        OptionName: 'Hire Purchase',
                        Value: null,
                        Display: 'Hire purchase(s)'
                    },
                    {
                        OptionName: 'Other',
                        Value: null,
                        Display: 'Other'
                    }
                ],
                Income: [{
                        OptionName: 'Take Home Pay',
                        Value: null,
                        Display: 'What is your take home pay'
                    },
                    {
                        OptionName: 'Spouse Take Home Pay',
                        Value: null,
                        Display: 'What is your Spouse\'s take home pay'
                    },
                    {
                        OptionName: 'Other',
                        Value: null,
                        Display: 'Other'
                    }
                ],
                Expenses: [{
                        OptionName: 'Mortgage',
                        Value: null,
                        Display: 'Mortgage/rent'
                    },
                    {
                        OptionName: 'Loan',
                        Value: null,
                        Display: 'Bank or personal loan'
                    },
                    {
                        OptionName: 'Hire Purchase',
                        Value: null,
                        Display: 'Hire purchase(s)'
                    },
                ]
            }
        }
        return self;
    }]);
})(window.angular);
angular.module('consumerApp').controller('moreAboutYouController', ['optionsService', 'model', '$state', 'back', 'next', function (optionsService, model, $state, back, next) {
    var ctrl = this;

    ctrl.DriverLicenceOptions = [];
    ctrl.CurrentAddressTypeOptions = [];
    ctrl.GenderOptions = [];
    ctrl.YesNoOptions = [];
    ctrl.CreditHistoryOptions = [];
    ctrl.NewVehicleDetailTypeOptions = [];
    ctrl.YearMakeModelOption = null;
    ctrl.back = back;
    ctrl.next = next;
    ctrl.model = model;

    ctrl.$onInit = function () {

        ctrl.DriverLicenceOptions = optionsService.GetDriverLicenceOptions();
        ctrl.CurrentAddressTypeOptions = optionsService.GetCurrentAddressTypeOptions();
        ctrl.GenderOptions = optionsService.GetGenderOptions();
        ctrl.YesNoOptions = optionsService.GetYesNoOptions();
        ctrl.CreditHistoryOptions = optionsService.GetCreditHistoryOptions();
        ctrl.NewVehicleDetailTypeOptions = optionsService.GetNewVehicleDetailTypeOptions();
        ctrl.YearMakeModelOption = ctrl.NewVehicleDetailTypeOptions[0];
    }

    ctrl.RequestBack = function () {
        $state.go(ctrl.back);
    }

    ctrl.DisplayNewYearMakeModel = function () {
        return ctrl.model &&
            ctrl.model.NewVehicleDetailType === ctrl.YearMakeModelOption;
    }

    ctrl.DisplayNewDetails = function () {
        return ctrl.model &&
            ctrl.model.NewVehicleDetailType !== ctrl.YearMakeModelOption &&
            ctrl.model.NewVehicleDetailType !== ctrl.StillLookingOption;
    }

    ctrl.DisplayTradeYearMakeModel = function () {
        return ctrl.model.VehicleToTrade;
    }

    ctrl.FormSubmit = function (form) {
        console.log(ctrl.next);
        if (form.$valid) {
            $state.go(ctrl.next);
        } else {
            form.$setSubmitted();
            return false;
        }
    }
}]);
(function (angular) {
    'use strict';
    //A canonical place for all option used within forms 
    angular.module('consumerApp').factory('optionsService', [function () {
        var self = this;

        //TODO when confirmed
        self.GetTermOptions = function () {
            return [{ value: 12, text: '12 months' },
            { value: 24, text: '24 months' },
            { value: 36, text: '36 months' },
            { value: 48, text: '48 months' },
            { value: 60, text: '60 months' }
            ];
        }

        self.GetGenderOptions = function () {
            return [
                'Female',
                'Male'
            ];
        }

        self.GetMaritalStatusOptions = function () {
            return [
                'Single',
                'Married',
                'Defacto',
                'Separated',
                'Divorced'
            ];
        }

        self.GetNewVehicleDetailTypeOptions = function () {
            return [
                'Year/Make/Model',
                'Trade Me Listing Number',
                'Registration Number',
                'Dealership name',
                'Still Looking'
            ];
        }

        self.GetYesNoOptions = function () {
            return [
                { value: false, text: 'No' },
                { value: true, text: 'Yes' }
            ];
        }

        self.GetCreditHistoryOptions = function () {
            return [
                'Perfect',
                'OK',
                'Not so good',
                'I don\'t know'
            ];
        }

        self.GetDriverLicenceOptions = function () {
            return [
                'Full',
                'Restricted',
                'Learners',
                'Overseas',
                'None',
            ];
        }

        self.GetCurrentAddressTypeOptions = function () {
            return [
                { value: 'OwnHome', text: 'Home owner' },
                { value: 'Renting', text: 'Renting' },
                { value: 'Boarding', text: 'Boarding' },
                { value: 'FamilyHouse', text: 'Living at home' },
                { value: 'Other', text: 'Other' },
            ];
        }

        return self;
    }]);
})(window.angular);
(function (angular) {
    'use strict';
    //Where we talk to the API
    angular.module('consumerApp').service('persistenceService', ['$http', '$location','__env', function ($http, $location, __env) {
        var self = this;

        self.GetApiBaseUrl = function(){
            return __env.apiUrl;
        }

        self.SubmitNow = function (model) {
            if (model.Id){
                return $http.post(self.GetApiBaseUrl() + "/CustomerQuery/" + model.Id, model, {params: {id: model.Id}});
            }
            else {
                return $http.put(self.GetApiBaseUrl() + "/CustomerQuery/", model);
            }                
        };
        
        return self;
    }]);
})(window.angular);
angular.module('consumerApp').controller('personalDetailsController', ['$state', 'optionsService', 'persistenceService', 'next', 'model',  
    function ($state, optionsService, persistenceService, next, model) {
    var ctrl = this;
    ctrl.next = next;
    ctrl.TermOptions = [];
    ctrl.model = model;

    ctrl.$onInit = function () {
        ctrl.TermOptions = optionsService.GetTermOptions();
    };

    ctrl.FormSubmit = function (form) {
        if (form.$valid) {
            persistenceService
            .SubmitNow(model)
            .then(function (model) {
                ctrl.model.Id = model.data.Id;
                $state.go(ctrl.next);
            })
        } else {
            form.$setSubmitted();
            return false;
        }
    }
}]);
angular.module('consumerApp').controller('quoteController', 
['amortisationService', 'optionsService', 'model', 'back', 'next', '$state', function quoteController(amortisationService, optionsService, model, back, next, $state) {
    var ctrl = this;
    ctrl.model = model;
    ctrl.back = back;
    ctrl.next = next;
    ctrl.TermOptions = optionsService.GetTermOptions();

    ctrl.GetMonthlyPayments = function () {
        var establishmentFee = 250;

        //Build up formula inputs - exit if we have invalid input            
        var price = ctrl.model.CashPrice;

        if (!price || price < 0)
            return 0;

        var depositRaw = ctrl.model.Deposit;

        if (depositRaw < 0)
            depositRaw = 0;

        var term = ctrl.model.Term;

        if (!term || term < 0)
            return 0;

        var principal = price - depositRaw + establishmentFee;
        var anualInterestRate = 12.95;
        var monthlyInterestAsFraction = anualInterestRate / 12 / 100;

        var monthlyPayments = amortisationService.GetInstallmentValue(principal, monthlyInterestAsFraction, term);

        return monthlyPayments;
    };

    ctrl.Calculate = function () {
        ctrl.model.MonthlyPayment = ctrl.GetMonthlyPayments();
    }

    ctrl.RequestBack = function () {
        $state.go(ctrl.back);
    }

    ctrl.FormSubmit = function (form) {
        console.log(ctrl.next);
        if (form.$valid) {
            $state.go(ctrl.next);
        } else {
            form.$setSubmitted();
            return false;
        }
    }

    ctrl.$onInit = function () {
        ctrl.Calculate();
    }

    ctrl.Reset = function () {
        ctrl.form.$setPristine();
    }
}]);


(function (angular) {
    'use strict';
    function workingController() {
        var ctrl = this;
    }

    angular.module('consumerApp').component('working', {
        templateUrl: 'app/working.component.html',
        controller: [ workingController ]
    });
})(window.angular);
(function (angular) {
    'use strict';
    function yearMakeModelController(applicationService) {
        var ctrl = this;
        var currentStage = "";

        ctrl.$onInit = function () {

        };
    }

    angular.module('consumerApp').component('yearMakeModel', {
        templateUrl: 'app/year-make-model.component.html',
        controller: [ yearMakeModelController],
        bindings: {
            prefix: "<",
            model: "<",
            next: '&'
        },
    });
})(window.angular);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuZ3VsYXIubWluLmpzIiwiYW5ndWxhci1hbmltYXRlLm1pbi5qcyIsIm1vbWVudC5taW4uanMiLCJhbmd1bGFyLW1vbWVudGpzLm1pbi5qcyIsImF1dG9jb21wbGV0ZS5taW4uanMiLCJhbmd1bGFyLXVpLXJvdXRlci5taW4uanMiLCJtYWluLmpzIiwiYWRkcmVzcy1maW5kZXIuY29tcG9uZW50LmpzIiwiYW1vcnRpc2F0aW9uLnNlcnZpY2UuanMiLCJjb25maXJtLmNvbXBvbmVudC5qcyIsImNvdW50cnkuc2VydmljZS5qcyIsImZpbmFuY2lhbC1vcHRpb25zLmNvbXBvbmVudC5qcyIsImZpbmFuY2lhbHMuY29tcG9uZW50LmpzIiwibWFpbi5jb21wb25lbnQuanMiLCJtb2RlbC1kYXRhLnNlcnZpY2UuanMiLCJtb2RlbC5zZXJ2aWNlLmpzIiwibW9yZS1hYm91dC15b3UuY29tcG9uZW50LmpzIiwib3B0aW9ucy5zZXJ2aWNlLmpzIiwicGVyc2lzdGVuY2Uuc2VydmljZS5qcyIsInBlcnNvbmFsLWRldGFpbHMuY29tcG9uZW50LmpzIiwicXVvdGUuY29tcG9uZW50LmpzIiwid29ya2luZy5jb21wb25lbnQuanMiLCJ5ZWFyLW1ha2UtbW9kZWwuY29tcG9uZW50LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQzVVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3pEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaEdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNsRkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM1REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3RCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDZEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDaENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDeEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNWQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiBBbmd1bGFySlMgdjEuNi40XG4gKGMpIDIwMTAtMjAxNyBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24oeCl7J3VzZSBzdHJpY3QnO2Z1bmN0aW9uIEwoYSxiKXtiPWJ8fEVycm9yO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWFyZ3VtZW50c1swXSxjO2M9XCJbXCIrKGE/YStcIjpcIjpcIlwiKStkK1wiXSBodHRwOi8vZXJyb3JzLmFuZ3VsYXJqcy5vcmcvMS42LjQvXCIrKGE/YStcIi9cIjpcIlwiKStkO2ZvcihkPTE7ZDxhcmd1bWVudHMubGVuZ3RoO2QrKyl7Yz1jKygxPT1kP1wiP1wiOlwiJlwiKStcInBcIisoZC0xKStcIj1cIjt2YXIgZT1lbmNvZGVVUklDb21wb25lbnQsZjtmPWFyZ3VtZW50c1tkXTtmPVwiZnVuY3Rpb25cIj09dHlwZW9mIGY/Zi50b1N0cmluZygpLnJlcGxhY2UoLyBcXHtbXFxzXFxTXSokLyxcIlwiKTpcInVuZGVmaW5lZFwiPT10eXBlb2YgZj9cInVuZGVmaW5lZFwiOlwic3RyaW5nXCIhPXR5cGVvZiBmP0pTT04uc3RyaW5naWZ5KGYpOmY7Yys9ZShmKX1yZXR1cm4gbmV3IGIoYyl9fWZ1bmN0aW9uIG1lKGEpe2lmKEMoYSkpdShhLm9iamVjdE1heERlcHRoKSYmKEljLm9iamVjdE1heERlcHRoPVNiKGEub2JqZWN0TWF4RGVwdGgpP1xuYS5vYmplY3RNYXhEZXB0aDpOYU4pO2Vsc2UgcmV0dXJuIEljfWZ1bmN0aW9uIFNiKGEpe3JldHVybiBiYShhKSYmMDxhfWZ1bmN0aW9uIHFhKGEpe2lmKG51bGw9PWF8fFdhKGEpKXJldHVybiExO2lmKEgoYSl8fEYoYSl8fEImJmEgaW5zdGFuY2VvZiBCKXJldHVybiEwO3ZhciBiPVwibGVuZ3RoXCJpbiBPYmplY3QoYSkmJmEubGVuZ3RoO3JldHVybiBiYShiKSYmKDA8PWImJihiLTEgaW4gYXx8YSBpbnN0YW5jZW9mIEFycmF5KXx8XCJmdW5jdGlvblwiPT09dHlwZW9mIGEuaXRlbSl9ZnVuY3Rpb24gcShhLGIsZCl7dmFyIGMsZTtpZihhKWlmKEQoYSkpZm9yKGMgaW4gYSlcInByb3RvdHlwZVwiIT09YyYmXCJsZW5ndGhcIiE9PWMmJlwibmFtZVwiIT09YyYmYS5oYXNPd25Qcm9wZXJ0eShjKSYmYi5jYWxsKGQsYVtjXSxjLGEpO2Vsc2UgaWYoSChhKXx8cWEoYSkpe3ZhciBmPVwib2JqZWN0XCIhPT10eXBlb2YgYTtjPTA7Zm9yKGU9YS5sZW5ndGg7YzxlO2MrKykoZnx8YyBpbiBhKSYmYi5jYWxsKGQsXG5hW2NdLGMsYSl9ZWxzZSBpZihhLmZvckVhY2gmJmEuZm9yRWFjaCE9PXEpYS5mb3JFYWNoKGIsZCxhKTtlbHNlIGlmKEpjKGEpKWZvcihjIGluIGEpYi5jYWxsKGQsYVtjXSxjLGEpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEuaGFzT3duUHJvcGVydHkpZm9yKGMgaW4gYSlhLmhhc093blByb3BlcnR5KGMpJiZiLmNhbGwoZCxhW2NdLGMsYSk7ZWxzZSBmb3IoYyBpbiBhKXVhLmNhbGwoYSxjKSYmYi5jYWxsKGQsYVtjXSxjLGEpO3JldHVybiBhfWZ1bmN0aW9uIEtjKGEsYixkKXtmb3IodmFyIGM9T2JqZWN0LmtleXMoYSkuc29ydCgpLGU9MDtlPGMubGVuZ3RoO2UrKyliLmNhbGwoZCxhW2NbZV1dLGNbZV0pO3JldHVybiBjfWZ1bmN0aW9uIExjKGEpe3JldHVybiBmdW5jdGlvbihiLGQpe2EoZCxiKX19ZnVuY3Rpb24gbmUoKXtyZXR1cm4rK3FifWZ1bmN0aW9uIFRiKGEsYixkKXtmb3IodmFyIGM9YS4kJGhhc2hLZXksZT0wLGY9Yi5sZW5ndGg7ZTxmOysrZSl7dmFyIGc9YltlXTtcbmlmKEMoZyl8fEQoZykpZm9yKHZhciBoPU9iamVjdC5rZXlzKGcpLGs9MCxsPWgubGVuZ3RoO2s8bDtrKyspe3ZhciBtPWhba10sbj1nW21dO2QmJkMobik/Z2Eobik/YVttXT1uZXcgRGF0ZShuLnZhbHVlT2YoKSk6WGEobik/YVttXT1uZXcgUmVnRXhwKG4pOm4ubm9kZU5hbWU/YVttXT1uLmNsb25lTm9kZSghMCk6VWIobik/YVttXT1uLmNsb25lKCk6KEMoYVttXSl8fChhW21dPUgobik/W106e30pLFRiKGFbbV0sW25dLCEwKSk6YVttXT1ufX1jP2EuJCRoYXNoS2V5PWM6ZGVsZXRlIGEuJCRoYXNoS2V5O3JldHVybiBhfWZ1bmN0aW9uIFMoYSl7cmV0dXJuIFRiKGEsdmEuY2FsbChhcmd1bWVudHMsMSksITEpfWZ1bmN0aW9uIG9lKGEpe3JldHVybiBUYihhLHZhLmNhbGwoYXJndW1lbnRzLDEpLCEwKX1mdW5jdGlvbiBaKGEpe3JldHVybiBwYXJzZUludChhLDEwKX1mdW5jdGlvbiBWYihhLGIpe3JldHVybiBTKE9iamVjdC5jcmVhdGUoYSksYil9ZnVuY3Rpb24geigpe31mdW5jdGlvbiBZYShhKXtyZXR1cm4gYX1cbmZ1bmN0aW9uIGxhKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX1mdW5jdGlvbiBXYihhKXtyZXR1cm4gRChhLnRvU3RyaW5nKSYmYS50b1N0cmluZyE9PW1hfWZ1bmN0aW9uIHcoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhfWZ1bmN0aW9uIHUoYSl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBhfWZ1bmN0aW9uIEMoYSl7cmV0dXJuIG51bGwhPT1hJiZcIm9iamVjdFwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gSmMoYSl7cmV0dXJuIG51bGwhPT1hJiZcIm9iamVjdFwiPT09dHlwZW9mIGEmJiFNYyhhKX1mdW5jdGlvbiBGKGEpe3JldHVyblwic3RyaW5nXCI9PT10eXBlb2YgYX1mdW5jdGlvbiBiYShhKXtyZXR1cm5cIm51bWJlclwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gZ2EoYSl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1tYS5jYWxsKGEpfWZ1bmN0aW9uIEQoYSl7cmV0dXJuXCJmdW5jdGlvblwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gWGEoYSl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PVxubWEuY2FsbChhKX1mdW5jdGlvbiBXYShhKXtyZXR1cm4gYSYmYS53aW5kb3c9PT1hfWZ1bmN0aW9uIFphKGEpe3JldHVybiBhJiZhLiRldmFsQXN5bmMmJmEuJHdhdGNofWZ1bmN0aW9uIEhhKGEpe3JldHVyblwiYm9vbGVhblwiPT09dHlwZW9mIGF9ZnVuY3Rpb24gcGUoYSl7cmV0dXJuIGEmJmJhKGEubGVuZ3RoKSYmcWUudGVzdChtYS5jYWxsKGEpKX1mdW5jdGlvbiBVYihhKXtyZXR1cm4hKCFhfHwhKGEubm9kZU5hbWV8fGEucHJvcCYmYS5hdHRyJiZhLmZpbmQpKX1mdW5jdGlvbiByZShhKXt2YXIgYj17fTthPWEuc3BsaXQoXCIsXCIpO3ZhciBkO2ZvcihkPTA7ZDxhLmxlbmd0aDtkKyspYlthW2RdXT0hMDtyZXR1cm4gYn1mdW5jdGlvbiB3YShhKXtyZXR1cm4gUShhLm5vZGVOYW1lfHxhWzBdJiZhWzBdLm5vZGVOYW1lKX1mdW5jdGlvbiAkYShhLGIpe3ZhciBkPWEuaW5kZXhPZihiKTswPD1kJiZhLnNwbGljZShkLDEpO3JldHVybiBkfWZ1bmN0aW9uIHJhKGEsYixkKXtmdW5jdGlvbiBjKGEsXG5iLGMpe2MtLTtpZigwPmMpcmV0dXJuXCIuLi5cIjt2YXIgZD1iLiQkaGFzaEtleSxmO2lmKEgoYSkpe2Y9MDtmb3IodmFyIGc9YS5sZW5ndGg7ZjxnO2YrKyliLnB1c2goZShhW2ZdLGMpKX1lbHNlIGlmKEpjKGEpKWZvcihmIGluIGEpYltmXT1lKGFbZl0sYyk7ZWxzZSBpZihhJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgYS5oYXNPd25Qcm9wZXJ0eSlmb3IoZiBpbiBhKWEuaGFzT3duUHJvcGVydHkoZikmJihiW2ZdPWUoYVtmXSxjKSk7ZWxzZSBmb3IoZiBpbiBhKXVhLmNhbGwoYSxmKSYmKGJbZl09ZShhW2ZdLGMpKTtkP2IuJCRoYXNoS2V5PWQ6ZGVsZXRlIGIuJCRoYXNoS2V5O3JldHVybiBifWZ1bmN0aW9uIGUoYSxiKXtpZighQyhhKSlyZXR1cm4gYTt2YXIgZD1nLmluZGV4T2YoYSk7aWYoLTEhPT1kKXJldHVybiBoW2RdO2lmKFdhKGEpfHxaYShhKSl0aHJvdyBGYShcImNwd3NcIik7dmFyIGQ9ITEsZT1mKGEpO3ZvaWQgMD09PWUmJihlPUgoYSk/W106T2JqZWN0LmNyZWF0ZShNYyhhKSksXG5kPSEwKTtnLnB1c2goYSk7aC5wdXNoKGUpO3JldHVybiBkP2MoYSxlLGIpOmV9ZnVuY3Rpb24gZihhKXtzd2l0Y2gobWEuY2FsbChhKSl7Y2FzZSBcIltvYmplY3QgSW50OEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IEludDE2QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgSW50MzJBcnJheV1cIjpjYXNlIFwiW29iamVjdCBGbG9hdDMyQXJyYXldXCI6Y2FzZSBcIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiOmNhc2UgXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDE2QXJyYXldXCI6Y2FzZSBcIltvYmplY3QgVWludDMyQXJyYXldXCI6cmV0dXJuIG5ldyBhLmNvbnN0cnVjdG9yKGUoYS5idWZmZXIpLGEuYnl0ZU9mZnNldCxhLmxlbmd0aCk7Y2FzZSBcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI6aWYoIWEuc2xpY2Upe3ZhciBiPW5ldyBBcnJheUJ1ZmZlcihhLmJ5dGVMZW5ndGgpOyhuZXcgVWludDhBcnJheShiKSkuc2V0KG5ldyBVaW50OEFycmF5KGEpKTtcbnJldHVybiBifXJldHVybiBhLnNsaWNlKDApO2Nhc2UgXCJbb2JqZWN0IEJvb2xlYW5dXCI6Y2FzZSBcIltvYmplY3QgTnVtYmVyXVwiOmNhc2UgXCJbb2JqZWN0IFN0cmluZ11cIjpjYXNlIFwiW29iamVjdCBEYXRlXVwiOnJldHVybiBuZXcgYS5jb25zdHJ1Y3RvcihhLnZhbHVlT2YoKSk7Y2FzZSBcIltvYmplY3QgUmVnRXhwXVwiOnJldHVybiBiPW5ldyBSZWdFeHAoYS5zb3VyY2UsYS50b1N0cmluZygpLm1hdGNoKC9bXi9dKiQvKVswXSksYi5sYXN0SW5kZXg9YS5sYXN0SW5kZXgsYjtjYXNlIFwiW29iamVjdCBCbG9iXVwiOnJldHVybiBuZXcgYS5jb25zdHJ1Y3RvcihbYV0se3R5cGU6YS50eXBlfSl9aWYoRChhLmNsb25lTm9kZSkpcmV0dXJuIGEuY2xvbmVOb2RlKCEwKX12YXIgZz1bXSxoPVtdO2Q9U2IoZCk/ZDpOYU47aWYoYil7aWYocGUoYil8fFwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PW1hLmNhbGwoYikpdGhyb3cgRmEoXCJjcHRhXCIpO2lmKGE9PT1iKXRocm93IEZhKFwiY3BpXCIpO0goYik/Yi5sZW5ndGg9XG4wOnEoYixmdW5jdGlvbihhLGMpe1wiJCRoYXNoS2V5XCIhPT1jJiZkZWxldGUgYltjXX0pO2cucHVzaChhKTtoLnB1c2goYik7cmV0dXJuIGMoYSxiLGQpfXJldHVybiBlKGEsZCl9ZnVuY3Rpb24gWGIoYSxiKXtyZXR1cm4gYT09PWJ8fGEhPT1hJiZiIT09Yn1mdW5jdGlvbiBzYShhLGIpe2lmKGE9PT1iKXJldHVybiEwO2lmKG51bGw9PT1hfHxudWxsPT09YilyZXR1cm4hMTtpZihhIT09YSYmYiE9PWIpcmV0dXJuITA7dmFyIGQ9dHlwZW9mIGEsYztpZihkPT09dHlwZW9mIGImJlwib2JqZWN0XCI9PT1kKWlmKEgoYSkpe2lmKCFIKGIpKXJldHVybiExO2lmKChkPWEubGVuZ3RoKT09PWIubGVuZ3RoKXtmb3IoYz0wO2M8ZDtjKyspaWYoIXNhKGFbY10sYltjXSkpcmV0dXJuITE7cmV0dXJuITB9fWVsc2V7aWYoZ2EoYSkpcmV0dXJuIGdhKGIpP1hiKGEuZ2V0VGltZSgpLGIuZ2V0VGltZSgpKTohMTtpZihYYShhKSlyZXR1cm4gWGEoYik/YS50b1N0cmluZygpPT09Yi50b1N0cmluZygpOiExO1xuaWYoWmEoYSl8fFphKGIpfHxXYShhKXx8V2EoYil8fEgoYil8fGdhKGIpfHxYYShiKSlyZXR1cm4hMTtkPVYoKTtmb3IoYyBpbiBhKWlmKFwiJFwiIT09Yy5jaGFyQXQoMCkmJiFEKGFbY10pKXtpZighc2EoYVtjXSxiW2NdKSlyZXR1cm4hMTtkW2NdPSEwfWZvcihjIGluIGIpaWYoIShjIGluIGQpJiZcIiRcIiE9PWMuY2hhckF0KDApJiZ1KGJbY10pJiYhRChiW2NdKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX1mdW5jdGlvbiBhYihhLGIsZCl7cmV0dXJuIGEuY29uY2F0KHZhLmNhbGwoYixkKSl9ZnVuY3Rpb24gYmIoYSxiKXt2YXIgZD0yPGFyZ3VtZW50cy5sZW5ndGg/dmEuY2FsbChhcmd1bWVudHMsMik6W107cmV0dXJuIUQoYil8fGIgaW5zdGFuY2VvZiBSZWdFeHA/YjpkLmxlbmd0aD9mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP2IuYXBwbHkoYSxhYihkLGFyZ3VtZW50cywwKSk6Yi5hcHBseShhLGQpfTpmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoP1xuYi5hcHBseShhLGFyZ3VtZW50cyk6Yi5jYWxsKGEpfX1mdW5jdGlvbiBOYyhhLGIpe3ZhciBkPWI7XCJzdHJpbmdcIj09PXR5cGVvZiBhJiZcIiRcIj09PWEuY2hhckF0KDApJiZcIiRcIj09PWEuY2hhckF0KDEpP2Q9dm9pZCAwOldhKGIpP2Q9XCIkV0lORE9XXCI6YiYmeC5kb2N1bWVudD09PWI/ZD1cIiRET0NVTUVOVFwiOlphKGIpJiYoZD1cIiRTQ09QRVwiKTtyZXR1cm4gZH1mdW5jdGlvbiBjYihhLGIpe2lmKCF3KGEpKXJldHVybiBiYShiKXx8KGI9Yj8yOm51bGwpLEpTT04uc3RyaW5naWZ5KGEsTmMsYil9ZnVuY3Rpb24gT2MoYSl7cmV0dXJuIEYoYSk/SlNPTi5wYXJzZShhKTphfWZ1bmN0aW9uIFBjKGEsYil7YT1hLnJlcGxhY2Uoc2UsXCJcIik7dmFyIGQ9RGF0ZS5wYXJzZShcIkphbiAwMSwgMTk3MCAwMDowMDowMCBcIithKS82RTQ7cmV0dXJuIGRhKGQpP2I6ZH1mdW5jdGlvbiBZYihhLGIsZCl7ZD1kPy0xOjE7dmFyIGM9YS5nZXRUaW1lem9uZU9mZnNldCgpO2I9UGMoYixjKTtkKj1iLWM7YT1uZXcgRGF0ZShhLmdldFRpbWUoKSk7XG5hLnNldE1pbnV0ZXMoYS5nZXRNaW51dGVzKCkrZCk7cmV0dXJuIGF9ZnVuY3Rpb24geGEoYSl7YT1CKGEpLmNsb25lKCk7dHJ5e2EuZW1wdHkoKX1jYXRjaChiKXt9dmFyIGQ9QihcIjxkaXY+XCIpLmFwcGVuZChhKS5odG1sKCk7dHJ5e3JldHVybiBhWzBdLm5vZGVUeXBlPT09SWE/UShkKTpkLm1hdGNoKC9eKDxbXj5dKz4pLylbMV0ucmVwbGFjZSgvXjwoW1xcdy1dKykvLGZ1bmN0aW9uKGEsYil7cmV0dXJuXCI8XCIrUShiKX0pfWNhdGNoKGMpe3JldHVybiBRKGQpfX1mdW5jdGlvbiBRYyhhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXt9fWZ1bmN0aW9uIFJjKGEpe3ZhciBiPXt9O3EoKGF8fFwiXCIpLnNwbGl0KFwiJlwiKSxmdW5jdGlvbihhKXt2YXIgYyxlLGY7YSYmKGU9YT1hLnJlcGxhY2UoL1xcKy9nLFwiJTIwXCIpLGM9YS5pbmRleE9mKFwiPVwiKSwtMSE9PWMmJihlPWEuc3Vic3RyaW5nKDAsYyksZj1hLnN1YnN0cmluZyhjKzEpKSxlPVFjKGUpLHUoZSkmJihmPVxudShmKT9RYyhmKTohMCx1YS5jYWxsKGIsZSk/SChiW2VdKT9iW2VdLnB1c2goZik6YltlXT1bYltlXSxmXTpiW2VdPWYpKX0pO3JldHVybiBifWZ1bmN0aW9uIFpiKGEpe3ZhciBiPVtdO3EoYSxmdW5jdGlvbihhLGMpe0goYSk/cShhLGZ1bmN0aW9uKGEpe2IucHVzaCgkKGMsITApKyghMD09PWE/XCJcIjpcIj1cIiskKGEsITApKSl9KTpiLnB1c2goJChjLCEwKSsoITA9PT1hP1wiXCI6XCI9XCIrJChhLCEwKSkpfSk7cmV0dXJuIGIubGVuZ3RoP2Iuam9pbihcIiZcIik6XCJcIn1mdW5jdGlvbiBkYihhKXtyZXR1cm4gJChhLCEwKS5yZXBsYWNlKC8lMjYvZ2ksXCImXCIpLnJlcGxhY2UoLyUzRC9naSxcIj1cIikucmVwbGFjZSgvJTJCL2dpLFwiK1wiKX1mdW5jdGlvbiAkKGEsYil7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChhKS5yZXBsYWNlKC8lNDAvZ2ksXCJAXCIpLnJlcGxhY2UoLyUzQS9naSxcIjpcIikucmVwbGFjZSgvJTI0L2csXCIkXCIpLnJlcGxhY2UoLyUyQy9naSxcIixcIikucmVwbGFjZSgvJTNCL2dpLFwiO1wiKS5yZXBsYWNlKC8lMjAvZyxcbmI/XCIlMjBcIjpcIitcIil9ZnVuY3Rpb24gdGUoYSxiKXt2YXIgZCxjLGU9SmEubGVuZ3RoO2ZvcihjPTA7YzxlOysrYylpZihkPUphW2NdK2IsRihkPWEuZ2V0QXR0cmlidXRlKGQpKSlyZXR1cm4gZDtyZXR1cm4gbnVsbH1mdW5jdGlvbiB1ZShhLGIpe3ZhciBkLGMsZT17fTtxKEphLGZ1bmN0aW9uKGIpe2IrPVwiYXBwXCI7IWQmJmEuaGFzQXR0cmlidXRlJiZhLmhhc0F0dHJpYnV0ZShiKSYmKGQ9YSxjPWEuZ2V0QXR0cmlidXRlKGIpKX0pO3EoSmEsZnVuY3Rpb24oYil7Yis9XCJhcHBcIjt2YXIgZTshZCYmKGU9YS5xdWVyeVNlbGVjdG9yKFwiW1wiK2IucmVwbGFjZShcIjpcIixcIlxcXFw6XCIpK1wiXVwiKSkmJihkPWUsYz1lLmdldEF0dHJpYnV0ZShiKSl9KTtkJiYodmU/KGUuc3RyaWN0RGk9bnVsbCE9PXRlKGQsXCJzdHJpY3QtZGlcIiksYihkLGM/W2NdOltdLGUpKTp4LmNvbnNvbGUuZXJyb3IoXCJBbmd1bGFyOiBkaXNhYmxpbmcgYXV0b21hdGljIGJvb3RzdHJhcC4gPHNjcmlwdD4gcHJvdG9jb2wgaW5kaWNhdGVzIGFuIGV4dGVuc2lvbiwgZG9jdW1lbnQubG9jYXRpb24uaHJlZiBkb2VzIG5vdCBtYXRjaC5cIikpfVxuZnVuY3Rpb24gU2MoYSxiLGQpe0MoZCl8fChkPXt9KTtkPVMoe3N0cmljdERpOiExfSxkKTt2YXIgYz1mdW5jdGlvbigpe2E9QihhKTtpZihhLmluamVjdG9yKCkpe3ZhciBjPWFbMF09PT14LmRvY3VtZW50P1wiZG9jdW1lbnRcIjp4YShhKTt0aHJvdyBGYShcImJ0c3RycGRcIixjLnJlcGxhY2UoLzwvLFwiJmx0O1wiKS5yZXBsYWNlKC8+LyxcIiZndDtcIikpO31iPWJ8fFtdO2IudW5zaGlmdChbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGIpe2IudmFsdWUoXCIkcm9vdEVsZW1lbnRcIixhKX1dKTtkLmRlYnVnSW5mb0VuYWJsZWQmJmIucHVzaChbXCIkY29tcGlsZVByb3ZpZGVyXCIsZnVuY3Rpb24oYSl7YS5kZWJ1Z0luZm9FbmFibGVkKCEwKX1dKTtiLnVuc2hpZnQoXCJuZ1wiKTtjPWViKGIsZC5zdHJpY3REaSk7Yy5pbnZva2UoW1wiJHJvb3RTY29wZVwiLFwiJHJvb3RFbGVtZW50XCIsXCIkY29tcGlsZVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24oYSxiLGMsZCl7YS4kYXBwbHkoZnVuY3Rpb24oKXtiLmRhdGEoXCIkaW5qZWN0b3JcIixcbmQpO2MoYikoYSl9KX1dKTtyZXR1cm4gY30sZT0vXk5HX0VOQUJMRV9ERUJVR19JTkZPIS8sZj0vXk5HX0RFRkVSX0JPT1RTVFJBUCEvO3gmJmUudGVzdCh4Lm5hbWUpJiYoZC5kZWJ1Z0luZm9FbmFibGVkPSEwLHgubmFtZT14Lm5hbWUucmVwbGFjZShlLFwiXCIpKTtpZih4JiYhZi50ZXN0KHgubmFtZSkpcmV0dXJuIGMoKTt4Lm5hbWU9eC5uYW1lLnJlcGxhY2UoZixcIlwiKTtlYS5yZXN1bWVCb290c3RyYXA9ZnVuY3Rpb24oYSl7cShhLGZ1bmN0aW9uKGEpe2IucHVzaChhKX0pO3JldHVybiBjKCl9O0QoZWEucmVzdW1lRGVmZXJyZWRCb290c3RyYXApJiZlYS5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpfWZ1bmN0aW9uIHdlKCl7eC5uYW1lPVwiTkdfRU5BQkxFX0RFQlVHX0lORk8hXCIreC5uYW1lO3gubG9jYXRpb24ucmVsb2FkKCl9ZnVuY3Rpb24geGUoYSl7YT1lYS5lbGVtZW50KGEpLmluamVjdG9yKCk7aWYoIWEpdGhyb3cgRmEoXCJ0ZXN0XCIpO3JldHVybiBhLmdldChcIiQkdGVzdGFiaWxpdHlcIil9XG5mdW5jdGlvbiBUYyhhLGIpe2I9Ynx8XCJfXCI7cmV0dXJuIGEucmVwbGFjZSh5ZSxmdW5jdGlvbihhLGMpe3JldHVybihjP2I6XCJcIikrYS50b0xvd2VyQ2FzZSgpfSl9ZnVuY3Rpb24gemUoKXt2YXIgYTtpZighVWMpe3ZhciBiPXJiKCk7KG5hPXcoYik/eC5qUXVlcnk6Yj94W2JdOnZvaWQgMCkmJm5hLmZuLm9uPyhCPW5hLFMobmEuZm4se3Njb3BlOk5hLnNjb3BlLGlzb2xhdGVTY29wZTpOYS5pc29sYXRlU2NvcGUsY29udHJvbGxlcjpOYS5jb250cm9sbGVyLGluamVjdG9yOk5hLmluamVjdG9yLGluaGVyaXRlZERhdGE6TmEuaW5oZXJpdGVkRGF0YX0pLGE9bmEuY2xlYW5EYXRhLG5hLmNsZWFuRGF0YT1mdW5jdGlvbihiKXtmb3IodmFyIGMsZT0wLGY7bnVsbCE9KGY9YltlXSk7ZSsrKShjPW5hLl9kYXRhKGYsXCJldmVudHNcIikpJiZjLiRkZXN0cm95JiZuYShmKS50cmlnZ2VySGFuZGxlcihcIiRkZXN0cm95XCIpO2EoYil9KTpCPVc7ZWEuZWxlbWVudD1CO1VjPSEwfX1mdW5jdGlvbiBmYihhLFxuYixkKXtpZighYSl0aHJvdyBGYShcImFyZXFcIixifHxcIj9cIixkfHxcInJlcXVpcmVkXCIpO3JldHVybiBhfWZ1bmN0aW9uIHNiKGEsYixkKXtkJiZIKGEpJiYoYT1hW2EubGVuZ3RoLTFdKTtmYihEKGEpLGIsXCJub3QgYSBmdW5jdGlvbiwgZ290IFwiKyhhJiZcIm9iamVjdFwiPT09dHlwZW9mIGE/YS5jb25zdHJ1Y3Rvci5uYW1lfHxcIk9iamVjdFwiOnR5cGVvZiBhKSk7cmV0dXJuIGF9ZnVuY3Rpb24gS2EoYSxiKXtpZihcImhhc093blByb3BlcnR5XCI9PT1hKXRocm93IEZhKFwiYmFkbmFtZVwiLGIpO31mdW5jdGlvbiBWYyhhLGIsZCl7aWYoIWIpcmV0dXJuIGE7Yj1iLnNwbGl0KFwiLlwiKTtmb3IodmFyIGMsZT1hLGY9Yi5sZW5ndGgsZz0wO2c8ZjtnKyspYz1iW2ddLGEmJihhPShlPWEpW2NdKTtyZXR1cm4hZCYmRChhKT9iYihlLGEpOmF9ZnVuY3Rpb24gdGIoYSl7Zm9yKHZhciBiPWFbMF0sZD1hW2EubGVuZ3RoLTFdLGMsZT0xO2IhPT1kJiYoYj1iLm5leHRTaWJsaW5nKTtlKyspaWYoY3x8YVtlXSE9PVxuYiljfHwoYz1CKHZhLmNhbGwoYSwwLGUpKSksYy5wdXNoKGIpO3JldHVybiBjfHxhfWZ1bmN0aW9uIFYoKXtyZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKX1mdW5jdGlvbiAkYihhKXtpZihudWxsPT1hKXJldHVyblwiXCI7c3dpdGNoKHR5cGVvZiBhKXtjYXNlIFwic3RyaW5nXCI6YnJlYWs7Y2FzZSBcIm51bWJlclwiOmE9XCJcIithO2JyZWFrO2RlZmF1bHQ6YT0hV2IoYSl8fEgoYSl8fGdhKGEpP2NiKGEpOmEudG9TdHJpbmcoKX1yZXR1cm4gYX1mdW5jdGlvbiBBZShhKXtmdW5jdGlvbiBiKGEsYixjKXtyZXR1cm4gYVtiXXx8KGFbYl09YygpKX12YXIgZD1MKFwiJGluamVjdG9yXCIpLGM9TChcIm5nXCIpO2E9YihhLFwiYW5ndWxhclwiLE9iamVjdCk7YS4kJG1pbkVycj1hLiQkbWluRXJyfHxMO3JldHVybiBiKGEsXCJtb2R1bGVcIixmdW5jdGlvbigpe3ZhciBhPXt9O3JldHVybiBmdW5jdGlvbihmLGcsaCl7dmFyIGs9e307aWYoXCJoYXNPd25Qcm9wZXJ0eVwiPT09Zil0aHJvdyBjKFwiYmFkbmFtZVwiLFwibW9kdWxlXCIpO1xuZyYmYS5oYXNPd25Qcm9wZXJ0eShmKSYmKGFbZl09bnVsbCk7cmV0dXJuIGIoYSxmLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMsZCxmKXtmfHwoZj1lKTtyZXR1cm4gZnVuY3Rpb24oKXtmW2R8fFwicHVzaFwiXShbYixjLGFyZ3VtZW50c10pO3JldHVybiB2fX1mdW5jdGlvbiBiKGEsYyxkKXtkfHwoZD1lKTtyZXR1cm4gZnVuY3Rpb24oYixlKXtlJiZEKGUpJiYoZS4kJG1vZHVsZU5hbWU9Zik7ZC5wdXNoKFthLGMsYXJndW1lbnRzXSk7cmV0dXJuIHZ9fWlmKCFnKXRocm93IGQoXCJub21vZFwiLGYpO3ZhciBlPVtdLHA9W10scj1bXSxKPWEoXCIkaW5qZWN0b3JcIixcImludm9rZVwiLFwicHVzaFwiLHApLHY9e19pbnZva2VRdWV1ZTplLF9jb25maWdCbG9ja3M6cCxfcnVuQmxvY2tzOnIsaW5mbzpmdW5jdGlvbihhKXtpZih1KGEpKXtpZighQyhhKSl0aHJvdyBjKFwiYW9ialwiLFwidmFsdWVcIik7az1hO3JldHVybiB0aGlzfXJldHVybiBrfSxyZXF1aXJlczpnLG5hbWU6Zixwcm92aWRlcjpiKFwiJHByb3ZpZGVcIixcblwicHJvdmlkZXJcIiksZmFjdG9yeTpiKFwiJHByb3ZpZGVcIixcImZhY3RvcnlcIiksc2VydmljZTpiKFwiJHByb3ZpZGVcIixcInNlcnZpY2VcIiksdmFsdWU6YShcIiRwcm92aWRlXCIsXCJ2YWx1ZVwiKSxjb25zdGFudDphKFwiJHByb3ZpZGVcIixcImNvbnN0YW50XCIsXCJ1bnNoaWZ0XCIpLGRlY29yYXRvcjpiKFwiJHByb3ZpZGVcIixcImRlY29yYXRvclwiLHApLGFuaW1hdGlvbjpiKFwiJGFuaW1hdGVQcm92aWRlclwiLFwicmVnaXN0ZXJcIiksZmlsdGVyOmIoXCIkZmlsdGVyUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGNvbnRyb2xsZXI6YihcIiRjb250cm9sbGVyUHJvdmlkZXJcIixcInJlZ2lzdGVyXCIpLGRpcmVjdGl2ZTpiKFwiJGNvbXBpbGVQcm92aWRlclwiLFwiZGlyZWN0aXZlXCIpLGNvbXBvbmVudDpiKFwiJGNvbXBpbGVQcm92aWRlclwiLFwiY29tcG9uZW50XCIpLGNvbmZpZzpKLHJ1bjpmdW5jdGlvbihhKXtyLnB1c2goYSk7cmV0dXJuIHRoaXN9fTtoJiZKKGgpO3JldHVybiB2fSl9fSl9ZnVuY3Rpb24gcGEoYSxiKXtpZihIKGEpKXtiPVxuYnx8W107Zm9yKHZhciBkPTAsYz1hLmxlbmd0aDtkPGM7ZCsrKWJbZF09YVtkXX1lbHNlIGlmKEMoYSkpZm9yKGQgaW4gYj1ifHx7fSxhKWlmKFwiJFwiIT09ZC5jaGFyQXQoMCl8fFwiJFwiIT09ZC5jaGFyQXQoMSkpYltkXT1hW2RdO3JldHVybiBifHxhfWZ1bmN0aW9uIEJlKGEsYil7dmFyIGQ9W107U2IoYikmJihhPXJhKGEsbnVsbCxiKSk7cmV0dXJuIEpTT04uc3RyaW5naWZ5KGEsZnVuY3Rpb24oYSxiKXtiPU5jKGEsYik7aWYoQyhiKSl7aWYoMDw9ZC5pbmRleE9mKGIpKXJldHVyblwiLi4uXCI7ZC5wdXNoKGIpfXJldHVybiBifSl9ZnVuY3Rpb24gQ2UoYSl7UyhhLHtlcnJvckhhbmRsaW5nQ29uZmlnOm1lLGJvb3RzdHJhcDpTYyxjb3B5OnJhLGV4dGVuZDpTLG1lcmdlOm9lLGVxdWFsczpzYSxlbGVtZW50OkIsZm9yRWFjaDpxLGluamVjdG9yOmViLG5vb3A6eixiaW5kOmJiLHRvSnNvbjpjYixmcm9tSnNvbjpPYyxpZGVudGl0eTpZYSxpc1VuZGVmaW5lZDp3LGlzRGVmaW5lZDp1LGlzU3RyaW5nOkYsXG5pc0Z1bmN0aW9uOkQsaXNPYmplY3Q6Qyxpc051bWJlcjpiYSxpc0VsZW1lbnQ6VWIsaXNBcnJheTpILHZlcnNpb246RGUsaXNEYXRlOmdhLGxvd2VyY2FzZTpRLHVwcGVyY2FzZTp1YixjYWxsYmFja3M6eyQkY291bnRlcjowfSxnZXRUZXN0YWJpbGl0eTp4ZSxyZWxvYWRXaXRoRGVidWdJbmZvOndlLCQkbWluRXJyOkwsJCRjc3A6R2EsJCRlbmNvZGVVcmlTZWdtZW50OmRiLCQkZW5jb2RlVXJpUXVlcnk6JCwkJHN0cmluZ2lmeTokYn0pO2FjPUFlKHgpO2FjKFwibmdcIixbXCJuZ0xvY2FsZVwiXSxbXCIkcHJvdmlkZVwiLGZ1bmN0aW9uKGEpe2EucHJvdmlkZXIoeyQkc2FuaXRpemVVcmk6RWV9KTthLnByb3ZpZGVyKFwiJGNvbXBpbGVcIixXYykuZGlyZWN0aXZlKHthOkZlLGlucHV0OlhjLHRleHRhcmVhOlhjLGZvcm06R2Usc2NyaXB0OkhlLHNlbGVjdDpJZSxvcHRpb246SmUsbmdCaW5kOktlLG5nQmluZEh0bWw6TGUsbmdCaW5kVGVtcGxhdGU6TWUsbmdDbGFzczpOZSxuZ0NsYXNzRXZlbjpPZSxcbm5nQ2xhc3NPZGQ6UGUsbmdDbG9hazpRZSxuZ0NvbnRyb2xsZXI6UmUsbmdGb3JtOlNlLG5nSGlkZTpUZSxuZ0lmOlVlLG5nSW5jbHVkZTpWZSxuZ0luaXQ6V2UsbmdOb25CaW5kYWJsZTpYZSxuZ1BsdXJhbGl6ZTpZZSxuZ1JlcGVhdDpaZSxuZ1Nob3c6JGUsbmdTdHlsZTphZixuZ1N3aXRjaDpiZixuZ1N3aXRjaFdoZW46Y2YsbmdTd2l0Y2hEZWZhdWx0OmRmLG5nT3B0aW9uczplZixuZ1RyYW5zY2x1ZGU6ZmYsbmdNb2RlbDpnZixuZ0xpc3Q6aGYsbmdDaGFuZ2U6amYscGF0dGVybjpZYyxuZ1BhdHRlcm46WWMscmVxdWlyZWQ6WmMsbmdSZXF1aXJlZDpaYyxtaW5sZW5ndGg6JGMsbmdNaW5sZW5ndGg6JGMsbWF4bGVuZ3RoOmFkLG5nTWF4bGVuZ3RoOmFkLG5nVmFsdWU6a2YsbmdNb2RlbE9wdGlvbnM6bGZ9KS5kaXJlY3RpdmUoe25nSW5jbHVkZTptZn0pLmRpcmVjdGl2ZSh2YikuZGlyZWN0aXZlKGJkKTthLnByb3ZpZGVyKHskYW5jaG9yU2Nyb2xsOm5mLCRhbmltYXRlOm9mLCRhbmltYXRlQ3NzOnBmLFxuJCRhbmltYXRlSnM6cWYsJCRhbmltYXRlUXVldWU6cmYsJCRBbmltYXRlUnVubmVyOnNmLCQkYW5pbWF0ZUFzeW5jUnVuOnRmLCRicm93c2VyOnVmLCRjYWNoZUZhY3Rvcnk6dmYsJGNvbnRyb2xsZXI6d2YsJGRvY3VtZW50OnhmLCQkaXNEb2N1bWVudEhpZGRlbjp5ZiwkZXhjZXB0aW9uSGFuZGxlcjp6ZiwkZmlsdGVyOmNkLCQkZm9yY2VSZWZsb3c6QWYsJGludGVycG9sYXRlOkJmLCRpbnRlcnZhbDpDZiwkaHR0cDpEZiwkaHR0cFBhcmFtU2VyaWFsaXplcjpFZiwkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTpGZiwkaHR0cEJhY2tlbmQ6R2YsJHhockZhY3Rvcnk6SGYsJGpzb25wQ2FsbGJhY2tzOklmLCRsb2NhdGlvbjpKZiwkbG9nOktmLCRwYXJzZTpMZiwkcm9vdFNjb3BlOk1mLCRxOk5mLCQkcTpPZiwkc2NlOlBmLCRzY2VEZWxlZ2F0ZTpRZiwkc25pZmZlcjpSZiwkdGVtcGxhdGVDYWNoZTpTZiwkdGVtcGxhdGVSZXF1ZXN0OlRmLCQkdGVzdGFiaWxpdHk6VWYsJHRpbWVvdXQ6VmYsXG4kd2luZG93OldmLCQkckFGOlhmLCQkanFMaXRlOllmLCQkTWFwOlpmLCQkY29va2llUmVhZGVyOiRmfSl9XSkuaW5mbyh7YW5ndWxhclZlcnNpb246XCIxLjYuNFwifSl9ZnVuY3Rpb24gZ2IoYSxiKXtyZXR1cm4gYi50b1VwcGVyQ2FzZSgpfWZ1bmN0aW9uIHdiKGEpe3JldHVybiBhLnJlcGxhY2UoYWcsZ2IpfWZ1bmN0aW9uIGJjKGEpe2E9YS5ub2RlVHlwZTtyZXR1cm4gMT09PWF8fCFhfHw5PT09YX1mdW5jdGlvbiBkZChhLGIpe3ZhciBkLGMsZT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxmPVtdO2lmKGNjLnRlc3QoYSkpe2Q9ZS5hcHBlbmRDaGlsZChiLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpO2M9KGJnLmV4ZWMoYSl8fFtcIlwiLFwiXCJdKVsxXS50b0xvd2VyQ2FzZSgpO2M9aGFbY118fGhhLl9kZWZhdWx0O2QuaW5uZXJIVE1MPWNbMV0rYS5yZXBsYWNlKGNnLFwiPCQxPjwvJDI+XCIpK2NbMl07Zm9yKGM9Y1swXTtjLS07KWQ9ZC5sYXN0Q2hpbGQ7Zj1hYihmLGQuY2hpbGROb2Rlcyk7XG5kPWUuZmlyc3RDaGlsZDtkLnRleHRDb250ZW50PVwiXCJ9ZWxzZSBmLnB1c2goYi5jcmVhdGVUZXh0Tm9kZShhKSk7ZS50ZXh0Q29udGVudD1cIlwiO2UuaW5uZXJIVE1MPVwiXCI7cShmLGZ1bmN0aW9uKGEpe2UuYXBwZW5kQ2hpbGQoYSl9KTtyZXR1cm4gZX1mdW5jdGlvbiBXKGEpe2lmKGEgaW5zdGFuY2VvZiBXKXJldHVybiBhO3ZhciBiO0YoYSkmJihhPVQoYSksYj0hMCk7aWYoISh0aGlzIGluc3RhbmNlb2YgVykpe2lmKGImJlwiPFwiIT09YS5jaGFyQXQoMCkpdGhyb3cgZGMoXCJub3NlbFwiKTtyZXR1cm4gbmV3IFcoYSl9aWYoYil7Yj14LmRvY3VtZW50O3ZhciBkO2E9KGQ9ZGcuZXhlYyhhKSk/W2IuY3JlYXRlRWxlbWVudChkWzFdKV06KGQ9ZGQoYSxiKSk/ZC5jaGlsZE5vZGVzOltdO2VjKHRoaXMsYSl9ZWxzZSBEKGEpP2VkKGEpOmVjKHRoaXMsYSl9ZnVuY3Rpb24gZmMoYSl7cmV0dXJuIGEuY2xvbmVOb2RlKCEwKX1mdW5jdGlvbiB4YihhLGIpeyFiJiZiYyhhKSYmQi5jbGVhbkRhdGEoW2FdKTtcbmEucXVlcnlTZWxlY3RvckFsbCYmQi5jbGVhbkRhdGEoYS5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKSl9ZnVuY3Rpb24gZmQoYSxiLGQsYyl7aWYodShjKSl0aHJvdyBkYyhcIm9mZmFyZ3NcIik7dmFyIGU9KGM9eWIoYSkpJiZjLmV2ZW50cyxmPWMmJmMuaGFuZGxlO2lmKGYpaWYoYil7dmFyIGc9ZnVuY3Rpb24oYil7dmFyIGM9ZVtiXTt1KGQpJiYkYShjfHxbXSxkKTt1KGQpJiZjJiYwPGMubGVuZ3RofHwoYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsZiksZGVsZXRlIGVbYl0pfTtxKGIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2coYSk7emJbYV0mJmcoemJbYV0pfSl9ZWxzZSBmb3IoYiBpbiBlKVwiJGRlc3Ryb3lcIiE9PWImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGYpLGRlbGV0ZSBlW2JdfWZ1bmN0aW9uIGdjKGEsYil7dmFyIGQ9YS5uZzMzOSxjPWQmJmhiW2RdO2MmJihiP2RlbGV0ZSBjLmRhdGFbYl06KGMuaGFuZGxlJiYoYy5ldmVudHMuJGRlc3Ryb3kmJmMuaGFuZGxlKHt9LFwiJGRlc3Ryb3lcIiksXG5mZChhKSksZGVsZXRlIGhiW2RdLGEubmczMzk9dm9pZCAwKSl9ZnVuY3Rpb24geWIoYSxiKXt2YXIgZD1hLm5nMzM5LGQ9ZCYmaGJbZF07YiYmIWQmJihhLm5nMzM5PWQ9KytlZyxkPWhiW2RdPXtldmVudHM6e30sZGF0YTp7fSxoYW5kbGU6dm9pZCAwfSk7cmV0dXJuIGR9ZnVuY3Rpb24gaGMoYSxiLGQpe2lmKGJjKGEpKXt2YXIgYyxlPXUoZCksZj0hZSYmYiYmIUMoYiksZz0hYjthPShhPXliKGEsIWYpKSYmYS5kYXRhO2lmKGUpYVt3YihiKV09ZDtlbHNle2lmKGcpcmV0dXJuIGE7aWYoZilyZXR1cm4gYSYmYVt3YihiKV07Zm9yKGMgaW4gYilhW3diKGMpXT1iW2NdfX19ZnVuY3Rpb24gQWIoYSxiKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGU/LTE8KFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikuaW5kZXhPZihcIiBcIitiK1wiIFwiKTohMX1mdW5jdGlvbiBCYihhLGIpe2ImJmEuc2V0QXR0cmlidXRlJiZxKGIuc3BsaXQoXCIgXCIpLFxuZnVuY3Rpb24oYil7YS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLFQoKFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIikucmVwbGFjZShcIiBcIitUKGIpK1wiIFwiLFwiIFwiKSkpfSl9ZnVuY3Rpb24gQ2IoYSxiKXtpZihiJiZhLnNldEF0dHJpYnV0ZSl7dmFyIGQ9KFwiIFwiKyhhLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiKStcIiBcIikucmVwbGFjZSgvW1xcblxcdF0vZyxcIiBcIik7cShiLnNwbGl0KFwiIFwiKSxmdW5jdGlvbihhKXthPVQoYSk7LTE9PT1kLmluZGV4T2YoXCIgXCIrYStcIiBcIikmJihkKz1hK1wiIFwiKX0pO2Euc2V0QXR0cmlidXRlKFwiY2xhc3NcIixUKGQpKX19ZnVuY3Rpb24gZWMoYSxiKXtpZihiKWlmKGIubm9kZVR5cGUpYVthLmxlbmd0aCsrXT1iO2Vsc2V7dmFyIGQ9Yi5sZW5ndGg7aWYoXCJudW1iZXJcIj09PXR5cGVvZiBkJiZiLndpbmRvdyE9PWIpe2lmKGQpZm9yKHZhciBjPTA7YzxkO2MrKylhW2EubGVuZ3RoKytdPWJbY119ZWxzZSBhW2EubGVuZ3RoKytdPVxuYn19ZnVuY3Rpb24gZ2QoYSxiKXtyZXR1cm4gRGIoYSxcIiRcIisoYnx8XCJuZ0NvbnRyb2xsZXJcIikrXCJDb250cm9sbGVyXCIpfWZ1bmN0aW9uIERiKGEsYixkKXs5PT09YS5ub2RlVHlwZSYmKGE9YS5kb2N1bWVudEVsZW1lbnQpO2ZvcihiPUgoYik/YjpbYl07YTspe2Zvcih2YXIgYz0wLGU9Yi5sZW5ndGg7YzxlO2MrKylpZih1KGQ9Qi5kYXRhKGEsYltjXSkpKXJldHVybiBkO2E9YS5wYXJlbnROb2RlfHwxMT09PWEubm9kZVR5cGUmJmEuaG9zdH19ZnVuY3Rpb24gaGQoYSl7Zm9yKHhiKGEsITApO2EuZmlyc3RDaGlsZDspYS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIEViKGEsYil7Ynx8eGIoYSk7dmFyIGQ9YS5wYXJlbnROb2RlO2QmJmQucmVtb3ZlQ2hpbGQoYSl9ZnVuY3Rpb24gZmcoYSxiKXtiPWJ8fHg7aWYoXCJjb21wbGV0ZVwiPT09Yi5kb2N1bWVudC5yZWFkeVN0YXRlKWIuc2V0VGltZW91dChhKTtlbHNlIEIoYikub24oXCJsb2FkXCIsYSl9ZnVuY3Rpb24gZWQoYSl7ZnVuY3Rpb24gYigpe3guZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixcbmIpO3gucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixiKTthKCl9XCJjb21wbGV0ZVwiPT09eC5kb2N1bWVudC5yZWFkeVN0YXRlP3guc2V0VGltZW91dChhKTooeC5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGIpLHguYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixiKSl9ZnVuY3Rpb24gaWQoYSxiKXt2YXIgZD1GYltiLnRvTG93ZXJDYXNlKCldO3JldHVybiBkJiZqZFt3YShhKV0mJmR9ZnVuY3Rpb24gZ2coYSxiKXt2YXIgZD1mdW5jdGlvbihjLGQpe2MuaXNEZWZhdWx0UHJldmVudGVkPWZ1bmN0aW9uKCl7cmV0dXJuIGMuZGVmYXVsdFByZXZlbnRlZH07dmFyIGY9YltkfHxjLnR5cGVdLGc9Zj9mLmxlbmd0aDowO2lmKGcpe2lmKHcoYy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQpKXt2YXIgaD1jLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjtjLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj1mdW5jdGlvbigpe2MuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPVxuITA7Yy5zdG9wUHJvcGFnYXRpb24mJmMuc3RvcFByb3BhZ2F0aW9uKCk7aCYmaC5jYWxsKGMpfX1jLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPWZ1bmN0aW9uKCl7cmV0dXJuITA9PT1jLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZH07dmFyIGs9Zi5zcGVjaWFsSGFuZGxlcldyYXBwZXJ8fGhnOzE8ZyYmKGY9cGEoZikpO2Zvcih2YXIgbD0wO2w8ZztsKyspYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxrKGEsYyxmW2xdKX19O2QuZWxlbT1hO3JldHVybiBkfWZ1bmN0aW9uIGhnKGEsYixkKXtkLmNhbGwoYSxiKX1mdW5jdGlvbiBpZyhhLGIsZCl7dmFyIGM9Yi5yZWxhdGVkVGFyZ2V0O2MmJihjPT09YXx8amcuY2FsbChhLGMpKXx8ZC5jYWxsKGEsYil9ZnVuY3Rpb24gWWYoKXt0aGlzLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gUyhXLHtoYXNDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIEFiKGEsYil9LGFkZENsYXNzOmZ1bmN0aW9uKGEsXG5iKXthLmF0dHImJihhPWFbMF0pO3JldHVybiBDYihhLGIpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhLGIpe2EuYXR0ciYmKGE9YVswXSk7cmV0dXJuIEJiKGEsYil9fSl9fWZ1bmN0aW9uIFBhKGEsYil7dmFyIGQ9YSYmYS4kJGhhc2hLZXk7aWYoZClyZXR1cm5cImZ1bmN0aW9uXCI9PT10eXBlb2YgZCYmKGQ9YS4kJGhhc2hLZXkoKSksZDtkPXR5cGVvZiBhO3JldHVybiBkPVwiZnVuY3Rpb25cIj09PWR8fFwib2JqZWN0XCI9PT1kJiZudWxsIT09YT9hLiQkaGFzaEtleT1kK1wiOlwiKyhifHxuZSkoKTpkK1wiOlwiK2F9ZnVuY3Rpb24ga2QoKXt0aGlzLl9rZXlzPVtdO3RoaXMuX3ZhbHVlcz1bXTt0aGlzLl9sYXN0S2V5PU5hTjt0aGlzLl9sYXN0SW5kZXg9LTF9ZnVuY3Rpb24gbGQoYSl7YT1GdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKS5yZXBsYWNlKGtnLFwiXCIpO3JldHVybiBhLm1hdGNoKGxnKXx8YS5tYXRjaChtZyl9ZnVuY3Rpb24gbmcoYSl7cmV0dXJuKGE9bGQoYSkpP1wiZnVuY3Rpb24oXCIrXG4oYVsxXXx8XCJcIikucmVwbGFjZSgvW1xcc1xcclxcbl0rLyxcIiBcIikrXCIpXCI6XCJmblwifWZ1bmN0aW9uIGViKGEsYil7ZnVuY3Rpb24gZChhKXtyZXR1cm4gZnVuY3Rpb24oYixjKXtpZihDKGIpKXEoYixMYyhhKSk7ZWxzZSByZXR1cm4gYShiLGMpfX1mdW5jdGlvbiBjKGEsYil7S2EoYSxcInNlcnZpY2VcIik7aWYoRChiKXx8SChiKSliPXAuaW5zdGFudGlhdGUoYik7aWYoIWIuJGdldCl0aHJvdyB5YShcInBnZXRcIixhKTtyZXR1cm4gblthK1wiUHJvdmlkZXJcIl09Yn1mdW5jdGlvbiBlKGEsYil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9di5pbnZva2UoYix0aGlzKTtpZih3KGMpKXRocm93IHlhKFwidW5kZWZcIixhKTtyZXR1cm4gY319ZnVuY3Rpb24gZihhLGIsZCl7cmV0dXJuIGMoYSx7JGdldDohMSE9PWQ/ZShhLGIpOmJ9KX1mdW5jdGlvbiBnKGEpe2ZiKHcoYSl8fEgoYSksXCJtb2R1bGVzVG9Mb2FkXCIsXCJub3QgYW4gYXJyYXlcIik7dmFyIGI9W10sYztxKGEsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChhKXt2YXIgYixcbmM7Yj0wO2ZvcihjPWEubGVuZ3RoO2I8YztiKyspe3ZhciBlPWFbYl0sZj1wLmdldChlWzBdKTtmW2VbMV1dLmFwcGx5KGYsZVsyXSl9fWlmKCFtLmdldChhKSl7bS5zZXQoYSwhMCk7dHJ5e0YoYSk/KGM9YWMoYSksdi5tb2R1bGVzW2FdPWMsYj1iLmNvbmNhdChnKGMucmVxdWlyZXMpKS5jb25jYXQoYy5fcnVuQmxvY2tzKSxkKGMuX2ludm9rZVF1ZXVlKSxkKGMuX2NvbmZpZ0Jsb2NrcykpOkQoYSk/Yi5wdXNoKHAuaW52b2tlKGEpKTpIKGEpP2IucHVzaChwLmludm9rZShhKSk6c2IoYSxcIm1vZHVsZVwiKX1jYXRjaChlKXt0aHJvdyBIKGEpJiYoYT1hW2EubGVuZ3RoLTFdKSxlLm1lc3NhZ2UmJmUuc3RhY2smJi0xPT09ZS5zdGFjay5pbmRleE9mKGUubWVzc2FnZSkmJihlPWUubWVzc2FnZStcIlxcblwiK2Uuc3RhY2spLHlhKFwibW9kdWxlcnJcIixhLGUuc3RhY2t8fGUubWVzc2FnZXx8ZSk7fX19KTtyZXR1cm4gYn1mdW5jdGlvbiBoKGEsYyl7ZnVuY3Rpb24gZChiLGUpe2lmKGEuaGFzT3duUHJvcGVydHkoYikpe2lmKGFbYl09PT1cbmspdGhyb3cgeWEoXCJjZGVwXCIsYitcIiA8LSBcIitsLmpvaW4oXCIgPC0gXCIpKTtyZXR1cm4gYVtiXX10cnl7cmV0dXJuIGwudW5zaGlmdChiKSxhW2JdPWssYVtiXT1jKGIsZSksYVtiXX1jYXRjaChmKXt0aHJvdyBhW2JdPT09ayYmZGVsZXRlIGFbYl0sZjt9ZmluYWxseXtsLnNoaWZ0KCl9fWZ1bmN0aW9uIGUoYSxjLGYpe3ZhciBnPVtdO2E9ZWIuJCRhbm5vdGF0ZShhLGIsZik7Zm9yKHZhciBrPTAsaD1hLmxlbmd0aDtrPGg7aysrKXt2YXIgbD1hW2tdO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgbCl0aHJvdyB5YShcIml0a25cIixsKTtnLnB1c2goYyYmYy5oYXNPd25Qcm9wZXJ0eShsKT9jW2xdOmQobCxmKSl9cmV0dXJuIGd9cmV0dXJue2ludm9rZTpmdW5jdGlvbihhLGIsYyxkKXtcInN0cmluZ1wiPT09dHlwZW9mIGMmJihkPWMsYz1udWxsKTtjPWUoYSxjLGQpO0goYSkmJihhPWFbYS5sZW5ndGgtMV0pO2Q9YTtpZih6YXx8XCJmdW5jdGlvblwiIT09dHlwZW9mIGQpZD0hMTtlbHNle3ZhciBmPWQuJCRuZ0lzQ2xhc3M7XG5IYShmKXx8KGY9ZC4kJG5nSXNDbGFzcz0vXig/OmNsYXNzXFxifGNvbnN0cnVjdG9yXFwoKS8udGVzdChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkKSkpO2Q9Zn1yZXR1cm4gZD8oYy51bnNoaWZ0KG51bGwpLG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoYSxjKSkpOmEuYXBwbHkoYixjKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPUgoYSk/YVthLmxlbmd0aC0xXTphO2E9ZShhLGIsYyk7YS51bnNoaWZ0KG51bGwpO3JldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGQsYSkpfSxnZXQ6ZCxhbm5vdGF0ZTplYi4kJGFubm90YXRlLGhhczpmdW5jdGlvbihiKXtyZXR1cm4gbi5oYXNPd25Qcm9wZXJ0eShiK1wiUHJvdmlkZXJcIil8fGEuaGFzT3duUHJvcGVydHkoYil9fX1iPSEwPT09Yjt2YXIgaz17fSxsPVtdLG09bmV3IEdiLG49eyRwcm92aWRlOntwcm92aWRlcjpkKGMpLGZhY3Rvcnk6ZChmKSxzZXJ2aWNlOmQoZnVuY3Rpb24oYSxcbmIpe3JldHVybiBmKGEsW1wiJGluamVjdG9yXCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW5zdGFudGlhdGUoYil9XSl9KSx2YWx1ZTpkKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGYoYSxsYShiKSwhMSl9KSxjb25zdGFudDpkKGZ1bmN0aW9uKGEsYil7S2EoYSxcImNvbnN0YW50XCIpO25bYV09YjtyW2FdPWJ9KSxkZWNvcmF0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz1wLmdldChhK1wiUHJvdmlkZXJcIiksZD1jLiRnZXQ7Yy4kZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9di5pbnZva2UoZCxjKTtyZXR1cm4gdi5pbnZva2UoYixudWxsLHskZGVsZWdhdGU6YX0pfX19fSxwPW4uJGluamVjdG9yPWgobixmdW5jdGlvbihhLGIpe2VhLmlzU3RyaW5nKGIpJiZsLnB1c2goYik7dGhyb3cgeWEoXCJ1bnByXCIsbC5qb2luKFwiIDwtIFwiKSk7fSkscj17fSxKPWgocixmdW5jdGlvbihhLGIpe3ZhciBjPXAuZ2V0KGErXCJQcm92aWRlclwiLGIpO3JldHVybiB2Lmludm9rZShjLiRnZXQsYyx2b2lkIDAsYSl9KSx2PUo7bi4kaW5qZWN0b3JQcm92aWRlcj1cbnskZ2V0OmxhKEopfTt2Lm1vZHVsZXM9cC5tb2R1bGVzPVYoKTt2YXIgdD1nKGEpLHY9Si5nZXQoXCIkaW5qZWN0b3JcIik7di5zdHJpY3REaT1iO3EodCxmdW5jdGlvbihhKXthJiZ2Lmludm9rZShhKX0pO3JldHVybiB2fWZ1bmN0aW9uIG5mKCl7dmFyIGE9ITA7dGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZz1mdW5jdGlvbigpe2E9ITF9O3RoaXMuJGdldD1bXCIkd2luZG93XCIsXCIkbG9jYXRpb25cIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihiLGQsYyl7ZnVuY3Rpb24gZShhKXt2YXIgYj1udWxsO0FycmF5LnByb3RvdHlwZS5zb21lLmNhbGwoYSxmdW5jdGlvbihhKXtpZihcImFcIj09PXdhKGEpKXJldHVybiBiPWEsITB9KTtyZXR1cm4gYn1mdW5jdGlvbiBmKGEpe2lmKGEpe2Euc2Nyb2xsSW50b1ZpZXcoKTt2YXIgYztjPWcueU9mZnNldDtEKGMpP2M9YygpOlViKGMpPyhjPWNbMF0sYz1cImZpeGVkXCIhPT1iLmdldENvbXB1dGVkU3R5bGUoYykucG9zaXRpb24/MDpjLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSk6XG5iYShjKXx8KGM9MCk7YyYmKGE9YS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsYi5zY3JvbGxCeSgwLGEtYykpfWVsc2UgYi5zY3JvbGxUbygwLDApfWZ1bmN0aW9uIGcoYSl7YT1GKGEpP2E6YmEoYSk/YS50b1N0cmluZygpOmQuaGFzaCgpO3ZhciBiO2E/KGI9aC5nZXRFbGVtZW50QnlJZChhKSk/ZihiKTooYj1lKGguZ2V0RWxlbWVudHNCeU5hbWUoYSkpKT9mKGIpOlwidG9wXCI9PT1hJiZmKG51bGwpOmYobnVsbCl9dmFyIGg9Yi5kb2N1bWVudDthJiZjLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiBkLmhhc2goKX0sZnVuY3Rpb24oYSxiKXthPT09YiYmXCJcIj09PWF8fGZnKGZ1bmN0aW9uKCl7Yy4kZXZhbEFzeW5jKGcpfSl9KTtyZXR1cm4gZ31dfWZ1bmN0aW9uIGliKGEsYil7aWYoIWEmJiFiKXJldHVyblwiXCI7aWYoIWEpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIGE7SChhKSYmKGE9YS5qb2luKFwiIFwiKSk7SChiKSYmKGI9Yi5qb2luKFwiIFwiKSk7cmV0dXJuIGErXCIgXCIrYn1mdW5jdGlvbiBvZyhhKXtGKGEpJiZcbihhPWEuc3BsaXQoXCIgXCIpKTt2YXIgYj1WKCk7cShhLGZ1bmN0aW9uKGEpe2EubGVuZ3RoJiYoYlthXT0hMCl9KTtyZXR1cm4gYn1mdW5jdGlvbiBpYShhKXtyZXR1cm4gQyhhKT9hOnt9fWZ1bmN0aW9uIHBnKGEsYixkLGMpe2Z1bmN0aW9uIGUoYSl7dHJ5e2EuYXBwbHkobnVsbCx2YS5jYWxsKGFyZ3VtZW50cywxKSl9ZmluYWxseXtpZihKLS0sMD09PUopZm9yKDt2Lmxlbmd0aDspdHJ5e3YucG9wKCkoKX1jYXRjaChiKXtkLmVycm9yKGIpfX19ZnVuY3Rpb24gZigpe09hPW51bGw7aCgpfWZ1bmN0aW9uIGcoKXt0PUkoKTt0PXcodCk/bnVsbDp0O3NhKHQsRykmJih0PUcpO009Rz10fWZ1bmN0aW9uIGgoKXt2YXIgYT1NO2coKTtpZihOIT09ay51cmwoKXx8YSE9PXQpTj1rLnVybCgpLE09dCxxKEssZnVuY3Rpb24oYSl7YShrLnVybCgpLHQpfSl9dmFyIGs9dGhpcyxsPWEubG9jYXRpb24sbT1hLmhpc3Rvcnksbj1hLnNldFRpbWVvdXQscD1hLmNsZWFyVGltZW91dCxyPXt9O2suaXNNb2NrPVxuITE7dmFyIEo9MCx2PVtdO2suJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdD1lO2suJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudD1mdW5jdGlvbigpe0orK307ay5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzPWZ1bmN0aW9uKGEpezA9PT1KP2EoKTp2LnB1c2goYSl9O3ZhciB0LE0sTj1sLmhyZWYsQT1iLmZpbmQoXCJiYXNlXCIpLE9hPW51bGwsST1jLmhpc3Rvcnk/ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIG0uc3RhdGV9Y2F0Y2goYSl7fX06ejtnKCk7ay51cmw9ZnVuY3Rpb24oYixkLGUpe3coZSkmJihlPW51bGwpO2whPT1hLmxvY2F0aW9uJiYobD1hLmxvY2F0aW9uKTttIT09YS5oaXN0b3J5JiYobT1hLmhpc3RvcnkpO2lmKGIpe3ZhciBmPU09PT1lO2lmKE49PT1iJiYoIWMuaGlzdG9yeXx8ZikpcmV0dXJuIGs7dmFyIGg9TiYmQWEoTik9PT1BYShiKTtOPWI7TT1lOyFjLmhpc3Rvcnl8fGgmJmY/KGh8fChPYT1iKSxkP2wucmVwbGFjZShiKTpoPyhkPWwsZT1iLmluZGV4T2YoXCIjXCIpLFxuZT0tMT09PWU/XCJcIjpiLnN1YnN0cihlKSxkLmhhc2g9ZSk6bC5ocmVmPWIsbC5ocmVmIT09YiYmKE9hPWIpKToobVtkP1wicmVwbGFjZVN0YXRlXCI6XCJwdXNoU3RhdGVcIl0oZSxcIlwiLGIpLGcoKSk7T2EmJihPYT1iKTtyZXR1cm4ga31yZXR1cm4gT2F8fGwuaHJlZi5yZXBsYWNlKC8lMjcvZyxcIidcIil9O2suc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdH07dmFyIEs9W10sRT0hMSxHPW51bGw7ay5vblVybENoYW5nZT1mdW5jdGlvbihiKXtpZighRSl7aWYoYy5oaXN0b3J5KUIoYSkub24oXCJwb3BzdGF0ZVwiLGYpO0IoYSkub24oXCJoYXNoY2hhbmdlXCIsZik7RT0hMH1LLnB1c2goYik7cmV0dXJuIGJ9O2suJCRhcHBsaWNhdGlvbkRlc3Ryb3llZD1mdW5jdGlvbigpe0IoYSkub2ZmKFwiaGFzaGNoYW5nZSBwb3BzdGF0ZVwiLGYpfTtrLiQkY2hlY2tVcmxDaGFuZ2U9aDtrLmJhc2VIcmVmPWZ1bmN0aW9uKCl7dmFyIGE9QS5hdHRyKFwiaHJlZlwiKTtyZXR1cm4gYT9hLnJlcGxhY2UoL14oaHR0cHM/Oik/XFwvXFwvW14vXSovLFxuXCJcIik6XCJcIn07ay5kZWZlcj1mdW5jdGlvbihhLGIpe3ZhciBjO0orKztjPW4oZnVuY3Rpb24oKXtkZWxldGUgcltjXTtlKGEpfSxifHwwKTtyW2NdPSEwO3JldHVybiBjfTtrLmRlZmVyLmNhbmNlbD1mdW5jdGlvbihhKXtyZXR1cm4gclthXT8oZGVsZXRlIHJbYV0scChhKSxlKHopLCEwKTohMX19ZnVuY3Rpb24gdWYoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJGxvZ1wiLFwiJHNuaWZmZXJcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEsYixkLGMpe3JldHVybiBuZXcgcGcoYSxjLGIsZCl9XX1mdW5jdGlvbiB2Zigpe3RoaXMuJGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxjKXtmdW5jdGlvbiBlKGEpe2EhPT1uJiYocD9wPT09YSYmKHA9YS5uKTpwPWEsZihhLm4sYS5wKSxmKGEsbiksbj1hLG4ubj1udWxsKX1mdW5jdGlvbiBmKGEsYil7YSE9PWImJihhJiYoYS5wPWIpLGImJihiLm49YSkpfWlmKGEgaW4gYil0aHJvdyBMKFwiJGNhY2hlRmFjdG9yeVwiKShcImlpZFwiLGEpO3ZhciBnPTAsaD1cblMoe30sYyx7aWQ6YX0pLGs9VigpLGw9YyYmYy5jYXBhY2l0eXx8TnVtYmVyLk1BWF9WQUxVRSxtPVYoKSxuPW51bGwscD1udWxsO3JldHVybiBiW2FdPXtwdXQ6ZnVuY3Rpb24oYSxiKXtpZighdyhiKSl7aWYobDxOdW1iZXIuTUFYX1ZBTFVFKXt2YXIgYz1tW2FdfHwobVthXT17a2V5OmF9KTtlKGMpfWEgaW4ga3x8ZysrO2tbYV09YjtnPmwmJnRoaXMucmVtb3ZlKHAua2V5KTtyZXR1cm4gYn19LGdldDpmdW5jdGlvbihhKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBiPW1bYV07aWYoIWIpcmV0dXJuO2UoYil9cmV0dXJuIGtbYV19LHJlbW92ZTpmdW5jdGlvbihhKXtpZihsPE51bWJlci5NQVhfVkFMVUUpe3ZhciBiPW1bYV07aWYoIWIpcmV0dXJuO2I9PT1uJiYobj1iLnApO2I9PT1wJiYocD1iLm4pO2YoYi5uLGIucCk7ZGVsZXRlIG1bYV19YSBpbiBrJiYoZGVsZXRlIGtbYV0sZy0tKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7az1WKCk7Zz0wO209VigpO249cD1udWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7bT1cbmg9az1udWxsO2RlbGV0ZSBiW2FdfSxpbmZvOmZ1bmN0aW9uKCl7cmV0dXJuIFMoe30saCx7c2l6ZTpnfSl9fX12YXIgYj17fTthLmluZm89ZnVuY3Rpb24oKXt2YXIgYT17fTtxKGIsZnVuY3Rpb24oYixlKXthW2VdPWIuaW5mbygpfSk7cmV0dXJuIGF9O2EuZ2V0PWZ1bmN0aW9uKGEpe3JldHVybiBiW2FdfTtyZXR1cm4gYX19ZnVuY3Rpb24gU2YoKXt0aGlzLiRnZXQ9W1wiJGNhY2hlRmFjdG9yeVwiLGZ1bmN0aW9uKGEpe3JldHVybiBhKFwidGVtcGxhdGVzXCIpfV19ZnVuY3Rpb24gV2MoYSxiKXtmdW5jdGlvbiBkKGEsYixjKXt2YXIgZD0vXlxccyooW0AmPF18PShcXCo/KSkoXFw/PylcXHMqKFtcXHckXSopXFxzKiQvLGU9VigpO3EoYSxmdW5jdGlvbihhLGYpe2lmKGEgaW4gbillW2ZdPW5bYV07ZWxzZXt2YXIgZz1hLm1hdGNoKGQpO2lmKCFnKXRocm93IGZhKFwiaXNjcFwiLGIsZixhLGM/XCJjb250cm9sbGVyIGJpbmRpbmdzIGRlZmluaXRpb25cIjpcImlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvblwiKTtcbmVbZl09e21vZGU6Z1sxXVswXSxjb2xsZWN0aW9uOlwiKlwiPT09Z1syXSxvcHRpb25hbDpcIj9cIj09PWdbM10sYXR0ck5hbWU6Z1s0XXx8Zn07Z1s0XSYmKG5bYV09ZVtmXSl9fSk7cmV0dXJuIGV9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmNoYXJBdCgwKTtpZighYnx8YiE9PVEoYikpdGhyb3cgZmEoXCJiYWRkaXJcIixhKTtpZihhIT09YS50cmltKCkpdGhyb3cgZmEoXCJiYWRkaXJcIixhKTt9ZnVuY3Rpb24gZShhKXt2YXIgYj1hLnJlcXVpcmV8fGEuY29udHJvbGxlciYmYS5uYW1lOyFIKGIpJiZDKGIpJiZxKGIsZnVuY3Rpb24oYSxjKXt2YXIgZD1hLm1hdGNoKGwpO2Euc3Vic3RyaW5nKGRbMF0ubGVuZ3RoKXx8KGJbY109ZFswXStjKX0pO3JldHVybiBifXZhciBmPXt9LGc9L15cXHMqZGlyZWN0aXZlOlxccyooW1xcdy1dKylcXHMrKC4qKSQvLGg9LygoW1xcdy1dKykoPzo6KFteO10rKSk/Oz8pLyxrPXJlKFwibmdTcmMsbmdTcmNzZXQsc3JjLHNyY3NldFwiKSxsPS9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy8sXG5tPS9eKG9uW2Etel0rfGZvcm1hY3Rpb24pJC8sbj1WKCk7dGhpcy5kaXJlY3RpdmU9ZnVuY3Rpb24gTihiLGQpe2ZiKGIsXCJuYW1lXCIpO0thKGIsXCJkaXJlY3RpdmVcIik7RihiKT8oYyhiKSxmYihkLFwiZGlyZWN0aXZlRmFjdG9yeVwiKSxmLmhhc093blByb3BlcnR5KGIpfHwoZltiXT1bXSxhLmZhY3RvcnkoYitcIkRpcmVjdGl2ZVwiLFtcIiRpbmplY3RvclwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixmdW5jdGlvbihhLGMpe3ZhciBkPVtdO3EoZltiXSxmdW5jdGlvbihmLGcpe3RyeXt2YXIgaD1hLmludm9rZShmKTtEKGgpP2g9e2NvbXBpbGU6bGEoaCl9OiFoLmNvbXBpbGUmJmgubGluayYmKGguY29tcGlsZT1sYShoLmxpbmspKTtoLnByaW9yaXR5PWgucHJpb3JpdHl8fDA7aC5pbmRleD1nO2gubmFtZT1oLm5hbWV8fGI7aC5yZXF1aXJlPWUoaCk7dmFyIGs9aCxsPWgucmVzdHJpY3Q7aWYobCYmKCFGKGwpfHwhL1tFQUNNXS8udGVzdChsKSkpdGhyb3cgZmEoXCJiYWRyZXN0cmljdFwiLGwsYik7ay5yZXN0cmljdD1cbmx8fFwiRUFcIjtoLiQkbW9kdWxlTmFtZT1mLiQkbW9kdWxlTmFtZTtkLnB1c2goaCl9Y2F0Y2gobSl7YyhtKX19KTtyZXR1cm4gZH1dKSksZltiXS5wdXNoKGQpKTpxKGIsTGMoTikpO3JldHVybiB0aGlzfTt0aGlzLmNvbXBvbmVudD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoYSl7ZnVuY3Rpb24gZShiKXtyZXR1cm4gRChiKXx8SChiKT9mdW5jdGlvbihjLGQpe3JldHVybiBhLmludm9rZShiLHRoaXMseyRlbGVtZW50OmMsJGF0dHJzOmR9KX06Yn12YXIgZj1iLnRlbXBsYXRlfHxiLnRlbXBsYXRlVXJsP2IudGVtcGxhdGU6XCJcIixnPXtjb250cm9sbGVyOmQsY29udHJvbGxlckFzOnFnKGIuY29udHJvbGxlcil8fGIuY29udHJvbGxlckFzfHxcIiRjdHJsXCIsdGVtcGxhdGU6ZShmKSx0ZW1wbGF0ZVVybDplKGIudGVtcGxhdGVVcmwpLHRyYW5zY2x1ZGU6Yi50cmFuc2NsdWRlLHNjb3BlOnt9LGJpbmRUb0NvbnRyb2xsZXI6Yi5iaW5kaW5nc3x8e30scmVzdHJpY3Q6XCJFXCIscmVxdWlyZTpiLnJlcXVpcmV9O1xucShiLGZ1bmN0aW9uKGEsYil7XCIkXCI9PT1iLmNoYXJBdCgwKSYmKGdbYl09YSl9KTtyZXR1cm4gZ312YXIgZD1iLmNvbnRyb2xsZXJ8fGZ1bmN0aW9uKCl7fTtxKGIsZnVuY3Rpb24oYSxiKXtcIiRcIj09PWIuY2hhckF0KDApJiYoY1tiXT1hLEQoZCkmJihkW2JdPWEpKX0pO2MuJGluamVjdD1bXCIkaW5qZWN0b3JcIl07cmV0dXJuIHRoaXMuZGlyZWN0aXZlKGEsYyl9O3RoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q9ZnVuY3Rpb24oYSl7cmV0dXJuIHUoYSk/KGIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYSksdGhpcyk6Yi5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCgpfTt0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihhKXtyZXR1cm4gdShhKT8oYi5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoYSksdGhpcyk6Yi5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKX07dmFyIHA9ITA7dGhpcy5kZWJ1Z0luZm9FbmFibGVkPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpP1xuKHA9YSx0aGlzKTpwfTt2YXIgcj0hMTt0aGlzLnByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZD1mdW5jdGlvbihhKXtyZXR1cm4gdShhKT8ocj1hLHRoaXMpOnJ9O3ZhciBKPTEwO3RoaXMub25DaGFuZ2VzVHRsPWZ1bmN0aW9uKGEpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPyhKPWEsdGhpcyk6Sn07dmFyIHY9ITA7dGhpcy5jb21tZW50RGlyZWN0aXZlc0VuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHY9YSx0aGlzKTp2fTt2YXIgdD0hMDt0aGlzLmNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg/KHQ9YSx0aGlzKTp0fTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRleGNlcHRpb25IYW5kbGVyXCIsXCIkdGVtcGxhdGVSZXF1ZXN0XCIsXCIkcGFyc2VcIixcIiRjb250cm9sbGVyXCIsXCIkcm9vdFNjb3BlXCIsXCIkc2NlXCIsXCIkYW5pbWF0ZVwiLFwiJCRzYW5pdGl6ZVVyaVwiLGZ1bmN0aW9uKGEsXG5iLGMsZSxuLEUsRyx5LE8sWCl7ZnVuY3Rpb24gUCgpe3RyeXtpZighLS15YSl0aHJvdyBpYT12b2lkIDAsZmEoXCJpbmZjaG5nXCIsSik7Ry4kYXBwbHkoZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj0wLGM9aWEubGVuZ3RoO2I8YzsrK2IpdHJ5e2lhW2JdKCl9Y2F0Y2goZCl7YS5wdXNoKGQpfWlhPXZvaWQgMDtpZihhLmxlbmd0aCl0aHJvdyBhO30pfWZpbmFsbHl7eWErK319ZnVuY3Rpb24gcyhhLGIpe2lmKGIpe3ZhciBjPU9iamVjdC5rZXlzKGIpLGQsZSxmO2Q9MDtmb3IoZT1jLmxlbmd0aDtkPGU7ZCsrKWY9Y1tkXSx0aGlzW2ZdPWJbZl19ZWxzZSB0aGlzLiRhdHRyPXt9O3RoaXMuJCRlbGVtZW50PWF9ZnVuY3Rpb24gUihhLGIsYyl7dGEuaW5uZXJIVE1MPVwiPHNwYW4gXCIrYitcIj5cIjtiPXRhLmZpcnN0Q2hpbGQuYXR0cmlidXRlczt2YXIgZD1iWzBdO2IucmVtb3ZlTmFtZWRJdGVtKGQubmFtZSk7ZC52YWx1ZT1jO2EuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW0oZCl9ZnVuY3Rpb24gTGEoYSxcbmIpe3RyeXthLmFkZENsYXNzKGIpfWNhdGNoKGMpe319ZnVuY3Rpb24gY2EoYSxiLGMsZCxlKXthIGluc3RhbmNlb2YgQnx8KGE9QihhKSk7dmFyIGY9TWEoYSxiLGEsYyxkLGUpO2NhLiQkYWRkU2NvcGVDbGFzcyhhKTt2YXIgZz1udWxsO3JldHVybiBmdW5jdGlvbihiLGMsZCl7aWYoIWEpdGhyb3cgZmEoXCJtdWx0aWxpbmtcIik7ZmIoYixcInNjb3BlXCIpO2UmJmUubmVlZHNOZXdTY29wZSYmKGI9Yi4kcGFyZW50LiRuZXcoKSk7ZD1kfHx7fTt2YXIgaD1kLnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLGs9ZC50cmFuc2NsdWRlQ29udHJvbGxlcnM7ZD1kLmZ1dHVyZVBhcmVudEVsZW1lbnQ7aCYmaC4kJGJvdW5kVHJhbnNjbHVkZSYmKGg9aC4kJGJvdW5kVHJhbnNjbHVkZSk7Z3x8KGc9KGQ9ZCYmZFswXSk/XCJmb3JlaWdub2JqZWN0XCIhPT13YShkKSYmbWEuY2FsbChkKS5tYXRjaCgvU1ZHLyk/XCJzdmdcIjpcImh0bWxcIjpcImh0bWxcIik7ZD1cImh0bWxcIiE9PWc/QihoYShnLEIoXCI8ZGl2PlwiKS5hcHBlbmQoYSkuaHRtbCgpKSk6XG5jP05hLmNsb25lLmNhbGwoYSk6YTtpZihrKWZvcih2YXIgbCBpbiBrKWQuZGF0YShcIiRcIitsK1wiQ29udHJvbGxlclwiLGtbbF0uaW5zdGFuY2UpO2NhLiQkYWRkU2NvcGVJbmZvKGQsYik7YyYmYyhkLGIpO2YmJmYoYixkLGQsaCk7Y3x8KGE9Zj1udWxsKTtyZXR1cm4gZH19ZnVuY3Rpb24gTWEoYSxiLGMsZCxlLGYpe2Z1bmN0aW9uIGcoYSxjLGQsZSl7dmFyIGYsayxsLG0sbixwLHI7aWYoSylmb3Iocj1BcnJheShjLmxlbmd0aCksbT0wO208aC5sZW5ndGg7bSs9MylmPWhbbV0scltmXT1jW2ZdO2Vsc2Ugcj1jO209MDtmb3Iobj1oLmxlbmd0aDttPG47KWs9cltoW20rK11dLGM9aFttKytdLGY9aFttKytdLGM/KGMuc2NvcGU/KGw9YS4kbmV3KCksY2EuJCRhZGRTY29wZUluZm8oQihrKSxsKSk6bD1hLHA9Yy50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9qYShhLGMudHJhbnNjbHVkZSxlKTohYy50ZW1wbGF0ZU9uVGhpc0VsZW1lbnQmJmU/ZTohZSYmYj9qYShhLGIpOm51bGwsYyhmLGwsXG5rLGQscCkpOmYmJmYoYSxrLmNoaWxkTm9kZXMsdm9pZCAwLGUpfWZvcih2YXIgaD1bXSxrPUgoYSl8fGEgaW5zdGFuY2VvZiBCLGwsbSxuLHAsSyxyPTA7cjxhLmxlbmd0aDtyKyspe2w9bmV3IHM7MTE9PT16YSYmTChhLHIsayk7bT1qYyhhW3JdLFtdLGwsMD09PXI/ZDp2b2lkIDAsZSk7KGY9bS5sZW5ndGg/VyhtLGFbcl0sbCxiLGMsbnVsbCxbXSxbXSxmKTpudWxsKSYmZi5zY29wZSYmY2EuJCRhZGRTY29wZUNsYXNzKGwuJCRlbGVtZW50KTtsPWYmJmYudGVybWluYWx8fCEobj1hW3JdLmNoaWxkTm9kZXMpfHwhbi5sZW5ndGg/bnVsbDpNYShuLGY/KGYudHJhbnNjbHVkZU9uVGhpc0VsZW1lbnR8fCFmLnRlbXBsYXRlT25UaGlzRWxlbWVudCkmJmYudHJhbnNjbHVkZTpiKTtpZihmfHxsKWgucHVzaChyLGYsbCkscD0hMCxLPUt8fGY7Zj1udWxsfXJldHVybiBwP2c6bnVsbH1mdW5jdGlvbiBMKGEsYixjKXt2YXIgZD1hW2JdLGU9ZC5wYXJlbnROb2RlLGY7aWYoZC5ub2RlVHlwZT09PVxuSWEpZm9yKDs7KXtmPWU/ZC5uZXh0U2libGluZzphW2IrMV07aWYoIWZ8fGYubm9kZVR5cGUhPT1JYSlicmVhaztkLm5vZGVWYWx1ZSs9Zi5ub2RlVmFsdWU7Zi5wYXJlbnROb2RlJiZmLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZik7YyYmZj09PWFbYisxXSYmYS5zcGxpY2UoYisxLDEpfX1mdW5jdGlvbiBqYShhLGIsYyl7ZnVuY3Rpb24gZChlLGYsZyxoLGspe2V8fChlPWEuJG5ldyghMSxrKSxlLiQkdHJhbnNjbHVkZWQ9ITApO3JldHVybiBiKGUsZix7cGFyZW50Qm91bmRUcmFuc2NsdWRlRm46Yyx0cmFuc2NsdWRlQ29udHJvbGxlcnM6ZyxmdXR1cmVQYXJlbnRFbGVtZW50Omh9KX12YXIgZT1kLiQkc2xvdHM9VigpLGY7Zm9yKGYgaW4gYi4kJHNsb3RzKWVbZl09Yi4kJHNsb3RzW2ZdP2phKGEsYi4kJHNsb3RzW2ZdLGMpOm51bGw7cmV0dXJuIGR9ZnVuY3Rpb24gamMoYSxiLGMsZCxlKXt2YXIgZj1jLiRhdHRyLGc7c3dpdGNoKGEubm9kZVR5cGUpe2Nhc2UgMTpnPXdhKGEpO1koYixcbkJhKGcpLFwiRVwiLGQsZSk7Zm9yKHZhciBrLGwsbSxuLHA9YS5hdHRyaWJ1dGVzLEs9MCxyPXAmJnAubGVuZ3RoO0s8cjtLKyspe3ZhciBHPSExLEU9ITE7az1wW0tdO2w9ay5uYW1lO209ay52YWx1ZTtrPUJhKGwpOyhuPUphLnRlc3QoaykpJiYobD1sLnJlcGxhY2UobWQsXCJcIikuc3Vic3RyKDgpLnJlcGxhY2UoL18oLikvZyxmdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9KSk7KGs9ay5tYXRjaChLYSkpJiZaKGtbMV0pJiYoRz1sLEU9bC5zdWJzdHIoMCxsLmxlbmd0aC01KStcImVuZFwiLGw9bC5zdWJzdHIoMCxsLmxlbmd0aC02KSk7az1CYShsLnRvTG93ZXJDYXNlKCkpO2Zba109bDtpZihufHwhYy5oYXNPd25Qcm9wZXJ0eShrKSljW2tdPW0saWQoYSxrKSYmKGNba109ITApO3BhKGEsYixtLGssbik7WShiLGssXCJBXCIsZCxlLEcsRSl9XCJpbnB1dFwiPT09ZyYmXCJoaWRkZW5cIj09PWEuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSYmYS5zZXRBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIixcblwib2ZmXCIpO2lmKCFHYSlicmVhaztmPWEuY2xhc3NOYW1lO0MoZikmJihmPWYuYW5pbVZhbCk7aWYoRihmKSYmXCJcIiE9PWYpZm9yKDthPWguZXhlYyhmKTspaz1CYShhWzJdKSxZKGIsayxcIkNcIixkLGUpJiYoY1trXT1UKGFbM10pKSxmPWYuc3Vic3RyKGEuaW5kZXgrYVswXS5sZW5ndGgpO2JyZWFrO2Nhc2UgSWE6bGEoYixhLm5vZGVWYWx1ZSk7YnJlYWs7Y2FzZSA4OmlmKCFGYSlicmVhaztqYihhLGIsYyxkLGUpfWIuc29ydChlYSk7cmV0dXJuIGJ9ZnVuY3Rpb24gamIoYSxiLGMsZCxlKXt0cnl7dmFyIGY9Zy5leGVjKGEubm9kZVZhbHVlKTtpZihmKXt2YXIgaD1CYShmWzFdKTtZKGIsaCxcIk1cIixkLGUpJiYoY1toXT1UKGZbMl0pKX19Y2F0Y2goayl7fX1mdW5jdGlvbiBuZChhLGIsYyl7dmFyIGQ9W10sZT0wO2lmKGImJmEuaGFzQXR0cmlidXRlJiZhLmhhc0F0dHJpYnV0ZShiKSl7ZG97aWYoIWEpdGhyb3cgZmEoXCJ1dGVyZGlyXCIsYixjKTsxPT09YS5ub2RlVHlwZSYmKGEuaGFzQXR0cmlidXRlKGIpJiZcbmUrKyxhLmhhc0F0dHJpYnV0ZShjKSYmZS0tKTtkLnB1c2goYSk7YT1hLm5leHRTaWJsaW5nfXdoaWxlKDA8ZSl9ZWxzZSBkLnB1c2goYSk7cmV0dXJuIEIoZCl9ZnVuY3Rpb24gb2QoYSxiLGMpe3JldHVybiBmdW5jdGlvbihkLGUsZixnLGgpe2U9bmQoZVswXSxiLGMpO3JldHVybiBhKGQsZSxmLGcsaCl9fWZ1bmN0aW9uIGtjKGEsYixjLGQsZSxmKXt2YXIgZztyZXR1cm4gYT9jYShiLGMsZCxlLGYpOmZ1bmN0aW9uKCl7Z3x8KGc9Y2EoYixjLGQsZSxmKSxiPWM9Zj1udWxsKTtyZXR1cm4gZy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFcoYSxiLGQsZSxmLGcsaCxrLGwpe2Z1bmN0aW9uIG0oYSxiLGMsZCl7aWYoYSl7YyYmKGE9b2QoYSxjLGQpKTthLnJlcXVpcmU9eS5yZXF1aXJlO2EuZGlyZWN0aXZlTmFtZT1QO2lmKEU9PT15fHx5LiQkaXNvbGF0ZVNjb3BlKWE9cWEoYSx7aXNvbGF0ZVNjb3BlOiEwfSk7aC5wdXNoKGEpfWlmKGIpe2MmJihiPW9kKGIsYyxkKSk7Yi5yZXF1aXJlPVxueS5yZXF1aXJlO2IuZGlyZWN0aXZlTmFtZT1QO2lmKEU9PT15fHx5LiQkaXNvbGF0ZVNjb3BlKWI9cWEoYix7aXNvbGF0ZVNjb3BlOiEwfSk7ay5wdXNoKGIpfX1mdW5jdGlvbiBuKGEsZSxmLGcsbCl7ZnVuY3Rpb24gbShhLGIsYyxkKXt2YXIgZTtaYShhKXx8KGQ9YyxjPWIsYj1hLGE9dm9pZCAwKTtYJiYoZT1PKTtjfHwoYz1YP1AucGFyZW50KCk6UCk7aWYoZCl7dmFyIGY9bC4kJHNsb3RzW2RdO2lmKGYpcmV0dXJuIGYoYSxiLGUsYyxSKTtpZih3KGYpKXRocm93IGZhKFwibm9zbG90XCIsZCx4YShQKSk7fWVsc2UgcmV0dXJuIGwoYSxiLGUsYyxSKX12YXIgcCx5LHQsdixKLE8sTixQO2I9PT1mPyhnPWQsUD1kLiQkZWxlbWVudCk6KFA9QihmKSxnPW5ldyBzKFAsZCkpO0o9ZTtFP3Y9ZS4kbmV3KCEwKTpLJiYoSj1lLiRwYXJlbnQpO2wmJihOPW0sTi4kJGJvdW5kVHJhbnNjbHVkZT1sLE4uaXNTbG90RmlsbGVkPWZ1bmN0aW9uKGEpe3JldHVybiEhbC4kJHNsb3RzW2FdfSk7RyYmKE89XG5iYShQLGcsTixHLHYsZSxFKSk7RSYmKGNhLiQkYWRkU2NvcGVJbmZvKFAsdiwhMCwhKEkmJihJPT09RXx8ST09PUUuJCRvcmlnaW5hbERpcmVjdGl2ZSkpKSxjYS4kJGFkZFNjb3BlQ2xhc3MoUCwhMCksdi4kJGlzb2xhdGVCaW5kaW5ncz1FLiQkaXNvbGF0ZUJpbmRpbmdzLHk9bmEoZSxnLHYsdi4kJGlzb2xhdGVCaW5kaW5ncyxFKSx5LnJlbW92ZVdhdGNoZXMmJnYuJG9uKFwiJGRlc3Ryb3lcIix5LnJlbW92ZVdhdGNoZXMpKTtmb3IocCBpbiBPKXt5PUdbcF07dD1PW3BdO3ZhciBIYj15LiQkYmluZGluZ3MuYmluZFRvQ29udHJvbGxlcjtpZihyKXt0LmJpbmRpbmdJbmZvPUhiP25hKEosZyx0Lmluc3RhbmNlLEhiLHkpOnt9O3ZhciBBPXQoKTtBIT09dC5pbnN0YW5jZSYmKHQuaW5zdGFuY2U9QSxQLmRhdGEoXCIkXCIreS5uYW1lK1wiQ29udHJvbGxlclwiLEEpLHQuYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcyYmdC5iaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKCksdC5iaW5kaW5nSW5mbz1cbm5hKEosZyx0Lmluc3RhbmNlLEhiLHkpKX1lbHNlIHQuaW5zdGFuY2U9dCgpLFAuZGF0YShcIiRcIit5Lm5hbWUrXCJDb250cm9sbGVyXCIsdC5pbnN0YW5jZSksdC5iaW5kaW5nSW5mbz1uYShKLGcsdC5pbnN0YW5jZSxIYix5KX1xKEcsZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnJlcXVpcmU7YS5iaW5kVG9Db250cm9sbGVyJiYhSChjKSYmQyhjKSYmUyhPW2JdLmluc3RhbmNlLFUoYixjLFAsTykpfSk7cShPLGZ1bmN0aW9uKGEpe3ZhciBiPWEuaW5zdGFuY2U7aWYoRChiLiRvbkNoYW5nZXMpKXRyeXtiLiRvbkNoYW5nZXMoYS5iaW5kaW5nSW5mby5pbml0aWFsQ2hhbmdlcyl9Y2F0Y2goZCl7YyhkKX1pZihEKGIuJG9uSW5pdCkpdHJ5e2IuJG9uSW5pdCgpfWNhdGNoKGUpe2MoZSl9RChiLiRkb0NoZWNrKSYmKEouJHdhdGNoKGZ1bmN0aW9uKCl7Yi4kZG9DaGVjaygpfSksYi4kZG9DaGVjaygpKTtEKGIuJG9uRGVzdHJveSkmJkouJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2IuJG9uRGVzdHJveSgpfSl9KTtcbnA9MDtmb3IoeT1oLmxlbmd0aDtwPHk7cCsrKXQ9aFtwXSxyYSh0LHQuaXNvbGF0ZVNjb3BlP3Y6ZSxQLGcsdC5yZXF1aXJlJiZVKHQuZGlyZWN0aXZlTmFtZSx0LnJlcXVpcmUsUCxPKSxOKTt2YXIgUj1lO0UmJihFLnRlbXBsYXRlfHxudWxsPT09RS50ZW1wbGF0ZVVybCkmJihSPXYpO2EmJmEoUixmLmNoaWxkTm9kZXMsdm9pZCAwLGwpO2ZvcihwPWsubGVuZ3RoLTE7MDw9cDtwLS0pdD1rW3BdLHJhKHQsdC5pc29sYXRlU2NvcGU/djplLFAsZyx0LnJlcXVpcmUmJlUodC5kaXJlY3RpdmVOYW1lLHQucmVxdWlyZSxQLE8pLE4pO3EoTyxmdW5jdGlvbihhKXthPWEuaW5zdGFuY2U7RChhLiRwb3N0TGluaykmJmEuJHBvc3RMaW5rKCl9KX1sPWx8fHt9O2Zvcih2YXIgcD0tTnVtYmVyLk1BWF9WQUxVRSxLPWwubmV3U2NvcGVEaXJlY3RpdmUsRz1sLmNvbnRyb2xsZXJEaXJlY3RpdmVzLEU9bC5uZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsST1sLnRlbXBsYXRlRGlyZWN0aXZlLHQ9bC5ub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlLFxuSj0hMSxPPSExLFg9bC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSx2PWQuJCRlbGVtZW50PUIoYikseSxQLE4sQT1lLFIsdT0hMSxMYT0hMSx4LHo9MCxGPWEubGVuZ3RoO3o8Rjt6Kyspe3k9YVt6XTt2YXIgTWE9eS4kJHN0YXJ0LEw9eS4kJGVuZDtNYSYmKHY9bmQoYixNYSxMKSk7Tj12b2lkIDA7aWYocD55LnByaW9yaXR5KWJyZWFrO2lmKHg9eS5zY29wZSl5LnRlbXBsYXRlVXJsfHwoQyh4KT8oJChcIm5ldy9pc29sYXRlZCBzY29wZVwiLEV8fEsseSx2KSxFPXkpOiQoXCJuZXcvaXNvbGF0ZWQgc2NvcGVcIixFLHksdikpLEs9S3x8eTtQPXkubmFtZTtpZighdSYmKHkucmVwbGFjZSYmKHkudGVtcGxhdGVVcmx8fHkudGVtcGxhdGUpfHx5LnRyYW5zY2x1ZGUmJiF5LiQkdGxiKSl7Zm9yKHg9eisxO3U9YVt4KytdOylpZih1LnRyYW5zY2x1ZGUmJiF1LiQkdGxifHx1LnJlcGxhY2UmJih1LnRlbXBsYXRlVXJsfHx1LnRlbXBsYXRlKSl7TGE9ITA7YnJlYWt9dT0hMH0heS50ZW1wbGF0ZVVybCYmXG55LmNvbnRyb2xsZXImJihHPUd8fFYoKSwkKFwiJ1wiK1ArXCInIGNvbnRyb2xsZXJcIixHW1BdLHksdiksR1tQXT15KTtpZih4PXkudHJhbnNjbHVkZSlpZihKPSEwLHkuJCR0bGJ8fCgkKFwidHJhbnNjbHVzaW9uXCIsdCx5LHYpLHQ9eSksXCJlbGVtZW50XCI9PT14KVg9ITAscD15LnByaW9yaXR5LE49dix2PWQuJCRlbGVtZW50PUIoY2EuJCRjcmVhdGVDb21tZW50KFAsZFtQXSkpLGI9dlswXSxrYShmLHZhLmNhbGwoTiwwKSxiKSxOWzBdLiQkcGFyZW50Tm9kZT1OWzBdLnBhcmVudE5vZGUsQT1rYyhMYSxOLGUscCxnJiZnLm5hbWUse25vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6dH0pO2Vsc2V7dmFyIGphPVYoKTtpZihDKHgpKXtOPVtdO3ZhciBRPVYoKSxqYj1WKCk7cSh4LGZ1bmN0aW9uKGEsYil7dmFyIGM9XCI/XCI9PT1hLmNoYXJBdCgwKTthPWM/YS5zdWJzdHJpbmcoMSk6YTtRW2FdPWI7amFbYl09bnVsbDtqYltiXT1jfSk7cSh2LmNvbnRlbnRzKCksZnVuY3Rpb24oYSl7dmFyIGI9UVtCYSh3YShhKSldO1xuYj8oamJbYl09ITAsamFbYl09amFbYl18fFtdLGphW2JdLnB1c2goYSkpOk4ucHVzaChhKX0pO3EoamIsZnVuY3Rpb24oYSxiKXtpZighYSl0aHJvdyBmYShcInJlcXNsb3RcIixiKTt9KTtmb3IodmFyIGljIGluIGphKWphW2ljXSYmKGphW2ljXT1rYyhMYSxqYVtpY10sZSkpfWVsc2UgTj1CKGZjKGIpKS5jb250ZW50cygpO3YuZW1wdHkoKTtBPWtjKExhLE4sZSx2b2lkIDAsdm9pZCAwLHtuZWVkc05ld1Njb3BlOnkuJCRpc29sYXRlU2NvcGV8fHkuJCRuZXdTY29wZX0pO0EuJCRzbG90cz1qYX1pZih5LnRlbXBsYXRlKWlmKE89ITAsJChcInRlbXBsYXRlXCIsSSx5LHYpLEk9eSx4PUQoeS50ZW1wbGF0ZSk/eS50ZW1wbGF0ZSh2LGQpOnkudGVtcGxhdGUseD1FYSh4KSx5LnJlcGxhY2Upe2c9eTtOPWNjLnRlc3QoeCk/cGQoaGEoeS50ZW1wbGF0ZU5hbWVzcGFjZSxUKHgpKSk6W107Yj1OWzBdO2lmKDEhPT1OLmxlbmd0aHx8MSE9PWIubm9kZVR5cGUpdGhyb3cgZmEoXCJ0cGxydFwiLFAsXCJcIik7XG5rYShmLHYsYik7Rj17JGF0dHI6e319O3g9amMoYixbXSxGKTt2YXIgWT1hLnNwbGljZSh6KzEsYS5sZW5ndGgtKHorMSkpOyhFfHxLKSYmYWEoeCxFLEspO2E9YS5jb25jYXQoeCkuY29uY2F0KFkpO2RhKGQsRik7Rj1hLmxlbmd0aH1lbHNlIHYuaHRtbCh4KTtpZih5LnRlbXBsYXRlVXJsKU89ITAsJChcInRlbXBsYXRlXCIsSSx5LHYpLEk9eSx5LnJlcGxhY2UmJihnPXkpLG49Z2EoYS5zcGxpY2UoeixhLmxlbmd0aC16KSx2LGQsZixKJiZBLGgsayx7Y29udHJvbGxlckRpcmVjdGl2ZXM6RyxuZXdTY29wZURpcmVjdGl2ZTpLIT09eSYmSyxuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6RSx0ZW1wbGF0ZURpcmVjdGl2ZTpJLG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmU6dH0pLEY9YS5sZW5ndGg7ZWxzZSBpZih5LmNvbXBpbGUpdHJ5e1I9eS5jb21waWxlKHYsZCxBKTt2YXIgWj15LiQkb3JpZ2luYWxEaXJlY3RpdmV8fHk7RChSKT9tKG51bGwsYmIoWixSKSxNYSxMKTpSJiZtKGJiKFosUi5wcmUpLFxuYmIoWixSLnBvc3QpLE1hLEwpfWNhdGNoKGVhKXtjKGVhLHhhKHYpKX15LnRlcm1pbmFsJiYobi50ZXJtaW5hbD0hMCxwPU1hdGgubWF4KHAseS5wcmlvcml0eSkpfW4uc2NvcGU9SyYmITA9PT1LLnNjb3BlO24udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQ9SjtuLnRlbXBsYXRlT25UaGlzRWxlbWVudD1PO24udHJhbnNjbHVkZT1BO2wuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmU9WDtyZXR1cm4gbn1mdW5jdGlvbiBVKGEsYixjLGQpe3ZhciBlO2lmKEYoYikpe3ZhciBmPWIubWF0Y2gobCk7Yj1iLnN1YnN0cmluZyhmWzBdLmxlbmd0aCk7dmFyIGc9ZlsxXXx8ZlszXSxmPVwiP1wiPT09ZlsyXTtcIl5eXCI9PT1nP2M9Yy5wYXJlbnQoKTplPShlPWQmJmRbYl0pJiZlLmluc3RhbmNlO2lmKCFlKXt2YXIgaD1cIiRcIitiK1wiQ29udHJvbGxlclwiO2U9Zz9jLmluaGVyaXRlZERhdGEoaCk6Yy5kYXRhKGgpfWlmKCFlJiYhZil0aHJvdyBmYShcImN0cmVxXCIsYixhKTt9ZWxzZSBpZihIKGIpKWZvcihlPVxuW10sZz0wLGY9Yi5sZW5ndGg7ZzxmO2crKyllW2ddPVUoYSxiW2ddLGMsZCk7ZWxzZSBDKGIpJiYoZT17fSxxKGIsZnVuY3Rpb24oYixmKXtlW2ZdPVUoYSxiLGMsZCl9KSk7cmV0dXJuIGV8fG51bGx9ZnVuY3Rpb24gYmEoYSxiLGMsZCxlLGYsZyl7dmFyIGg9VigpLGs7Zm9yKGsgaW4gZCl7dmFyIGw9ZFtrXSxtPXskc2NvcGU6bD09PWd8fGwuJCRpc29sYXRlU2NvcGU/ZTpmLCRlbGVtZW50OmEsJGF0dHJzOmIsJHRyYW5zY2x1ZGU6Y30sbj1sLmNvbnRyb2xsZXI7XCJAXCI9PT1uJiYobj1iW2wubmFtZV0pO209RShuLG0sITAsbC5jb250cm9sbGVyQXMpO2hbbC5uYW1lXT1tO2EuZGF0YShcIiRcIitsLm5hbWUrXCJDb250cm9sbGVyXCIsbS5pbnN0YW5jZSl9cmV0dXJuIGh9ZnVuY3Rpb24gYWEoYSxiLGMpe2Zvcih2YXIgZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylhW2RdPVZiKGFbZF0seyQkaXNvbGF0ZVNjb3BlOmIsJCRuZXdTY29wZTpjfSl9ZnVuY3Rpb24gWShiLGMsZSxnLGgsayxsKXtpZihjPT09XG5oKXJldHVybiBudWxsO3ZhciBtPW51bGw7aWYoZi5oYXNPd25Qcm9wZXJ0eShjKSl7aD1hLmdldChjK1wiRGlyZWN0aXZlXCIpO2Zvcih2YXIgbj0wLHA9aC5sZW5ndGg7bjxwO24rKylpZihjPWhbbl0sKHcoZyl8fGc+Yy5wcmlvcml0eSkmJi0xIT09Yy5yZXN0cmljdC5pbmRleE9mKGUpKXtrJiYoYz1WYihjLHskJHN0YXJ0OmssJCRlbmQ6bH0pKTtpZighYy4kJGJpbmRpbmdzKXt2YXIgSz1tPWMscj1jLm5hbWUsdD17aXNvbGF0ZVNjb3BlOm51bGwsYmluZFRvQ29udHJvbGxlcjpudWxsfTtDKEsuc2NvcGUpJiYoITA9PT1LLmJpbmRUb0NvbnRyb2xsZXI/KHQuYmluZFRvQ29udHJvbGxlcj1kKEsuc2NvcGUsciwhMCksdC5pc29sYXRlU2NvcGU9e30pOnQuaXNvbGF0ZVNjb3BlPWQoSy5zY29wZSxyLCExKSk7QyhLLmJpbmRUb0NvbnRyb2xsZXIpJiYodC5iaW5kVG9Db250cm9sbGVyPWQoSy5iaW5kVG9Db250cm9sbGVyLHIsITApKTtpZih0LmJpbmRUb0NvbnRyb2xsZXImJiFLLmNvbnRyb2xsZXIpdGhyb3cgZmEoXCJub2N0cmxcIixcbnIpO209bS4kJGJpbmRpbmdzPXQ7QyhtLmlzb2xhdGVTY29wZSkmJihjLiQkaXNvbGF0ZUJpbmRpbmdzPW0uaXNvbGF0ZVNjb3BlKX1iLnB1c2goYyk7bT1jfX1yZXR1cm4gbX1mdW5jdGlvbiBaKGIpe2lmKGYuaGFzT3duUHJvcGVydHkoYikpZm9yKHZhciBjPWEuZ2V0KGIrXCJEaXJlY3RpdmVcIiksZD0wLGU9Yy5sZW5ndGg7ZDxlO2QrKylpZihiPWNbZF0sYi5tdWx0aUVsZW1lbnQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gZGEoYSxiKXt2YXIgYz1iLiRhdHRyLGQ9YS4kYXR0cjtxKGEsZnVuY3Rpb24oZCxlKXtcIiRcIiE9PWUuY2hhckF0KDApJiYoYltlXSYmYltlXSE9PWQmJihkPWQubGVuZ3RoP2QrKChcInN0eWxlXCI9PT1lP1wiO1wiOlwiIFwiKStiW2VdKTpiW2VdKSxhLiRzZXQoZSxkLCEwLGNbZV0pKX0pO3EoYixmdW5jdGlvbihiLGUpe2EuaGFzT3duUHJvcGVydHkoZSl8fFwiJFwiPT09ZS5jaGFyQXQoMCl8fChhW2VdPWIsXCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSYmKGRbZV09Y1tlXSkpfSl9XG5mdW5jdGlvbiBnYShhLGIsZCxmLGcsaCxrLGwpe3ZhciBtPVtdLG4scCxLPWJbMF0scj1hLnNoaWZ0KCksdD1WYihyLHt0ZW1wbGF0ZVVybDpudWxsLHRyYW5zY2x1ZGU6bnVsbCxyZXBsYWNlOm51bGwsJCRvcmlnaW5hbERpcmVjdGl2ZTpyfSkseT1EKHIudGVtcGxhdGVVcmwpP3IudGVtcGxhdGVVcmwoYixkKTpyLnRlbXBsYXRlVXJsLEU9ci50ZW1wbGF0ZU5hbWVzcGFjZTtiLmVtcHR5KCk7ZSh5KS50aGVuKGZ1bmN0aW9uKGMpe3ZhciBlLEc7Yz1FYShjKTtpZihyLnJlcGxhY2Upe2M9Y2MudGVzdChjKT9wZChoYShFLFQoYykpKTpbXTtlPWNbMF07aWYoMSE9PWMubGVuZ3RofHwxIT09ZS5ub2RlVHlwZSl0aHJvdyBmYShcInRwbHJ0XCIsci5uYW1lLHkpO2M9eyRhdHRyOnt9fTtrYShmLGIsZSk7dmFyIEk9amMoZSxbXSxjKTtDKHIuc2NvcGUpJiZhYShJLCEwKTthPUkuY29uY2F0KGEpO2RhKGQsYyl9ZWxzZSBlPUssYi5odG1sKGMpO2EudW5zaGlmdCh0KTtuPVcoYSxlLGQsZyxiLFxucixoLGssbCk7cShmLGZ1bmN0aW9uKGEsYyl7YT09PWUmJihmW2NdPWJbMF0pfSk7Zm9yKHA9TWEoYlswXS5jaGlsZE5vZGVzLGcpO20ubGVuZ3RoOyl7Yz1tLnNoaWZ0KCk7Rz1tLnNoaWZ0KCk7dmFyIHY9bS5zaGlmdCgpLEo9bS5zaGlmdCgpLEk9YlswXTtpZighYy4kJGRlc3Ryb3llZCl7aWYoRyE9PUspe3ZhciBPPUcuY2xhc3NOYW1lO2wuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUmJnIucmVwbGFjZXx8KEk9ZmMoZSkpO2thKHYsQihHKSxJKTtMYShCKEkpLE8pfUc9bi50cmFuc2NsdWRlT25UaGlzRWxlbWVudD9qYShjLG4udHJhbnNjbHVkZSxKKTpKO24ocCxjLEksZixHKX19bT1udWxsfSkuY2F0Y2goZnVuY3Rpb24oYSl7YSBpbnN0YW5jZW9mIEVycm9yJiZjKGEpfSk7cmV0dXJuIGZ1bmN0aW9uKGEsYixjLGQsZSl7YT1lO2IuJCRkZXN0cm95ZWR8fChtP20ucHVzaChiLGMsZCxhKToobi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCYmKGE9amEoYixuLnRyYW5zY2x1ZGUsXG5lKSksbihwLGIsYyxkLGEpKSl9fWZ1bmN0aW9uIGVhKGEsYil7dmFyIGM9Yi5wcmlvcml0eS1hLnByaW9yaXR5O3JldHVybiAwIT09Yz9jOmEubmFtZSE9PWIubmFtZT9hLm5hbWU8Yi5uYW1lPy0xOjE6YS5pbmRleC1iLmluZGV4fWZ1bmN0aW9uICQoYSxiLGMsZCl7ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT9cIiAobW9kdWxlOiBcIithK1wiKVwiOlwiXCJ9aWYoYil0aHJvdyBmYShcIm11bHRpZGlyXCIsYi5uYW1lLGUoYi4kJG1vZHVsZU5hbWUpLGMubmFtZSxlKGMuJCRtb2R1bGVOYW1lKSxhLHhhKGQpKTt9ZnVuY3Rpb24gbGEoYSxjKXt2YXIgZD1iKGMsITApO2QmJmEucHVzaCh7cHJpb3JpdHk6MCxjb21waWxlOmZ1bmN0aW9uKGEpe2E9YS5wYXJlbnQoKTt2YXIgYj0hIWEubGVuZ3RoO2ImJmNhLiQkYWRkQmluZGluZ0NsYXNzKGEpO3JldHVybiBmdW5jdGlvbihhLGMpe3ZhciBlPWMucGFyZW50KCk7Ynx8Y2EuJCRhZGRCaW5kaW5nQ2xhc3MoZSk7Y2EuJCRhZGRCaW5kaW5nSW5mbyhlLGQuZXhwcmVzc2lvbnMpO1xuYS4kd2F0Y2goZCxmdW5jdGlvbihhKXtjWzBdLm5vZGVWYWx1ZT1hfSl9fX0pfWZ1bmN0aW9uIGhhKGEsYil7YT1RKGF8fFwiaHRtbFwiKTtzd2l0Y2goYSl7Y2FzZSBcInN2Z1wiOmNhc2UgXCJtYXRoXCI6dmFyIGM9eC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2MuaW5uZXJIVE1MPVwiPFwiK2ErXCI+XCIrYitcIjwvXCIrYStcIj5cIjtyZXR1cm4gYy5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7ZGVmYXVsdDpyZXR1cm4gYn19ZnVuY3Rpb24gb2EoYSxiKXtpZihcInNyY2RvY1wiPT09YilyZXR1cm4geS5IVE1MO3ZhciBjPXdhKGEpO2lmKFwic3JjXCI9PT1ifHxcIm5nU3JjXCI9PT1iKXtpZigtMT09PVtcImltZ1wiLFwidmlkZW9cIixcImF1ZGlvXCIsXCJzb3VyY2VcIixcInRyYWNrXCJdLmluZGV4T2YoYykpcmV0dXJuIHkuUkVTT1VSQ0VfVVJMfWVsc2UgaWYoXCJ4bGlua0hyZWZcIj09PWJ8fFwiZm9ybVwiPT09YyYmXCJhY3Rpb25cIj09PWJ8fFwibGlua1wiPT09YyYmXCJocmVmXCI9PT1iKXJldHVybiB5LlJFU09VUkNFX1VSTH1mdW5jdGlvbiBwYShhLFxuYyxkLGUsZil7dmFyIGc9b2EoYSxlKSxoPWtbZV18fGYsbD1iKGQsIWYsZyxoKTtpZihsKXtpZihcIm11bHRpcGxlXCI9PT1lJiZcInNlbGVjdFwiPT09d2EoYSkpdGhyb3cgZmEoXCJzZWxtdWx0aVwiLHhhKGEpKTtpZihtLnRlc3QoZSkpdGhyb3cgZmEoXCJub2RvbWV2ZW50c1wiKTtjLnB1c2goe3ByaW9yaXR5OjEwMCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGMsZil7Yz1mLiQkb2JzZXJ2ZXJzfHwoZi4kJG9ic2VydmVycz1WKCkpO3ZhciBrPWZbZV07ayE9PWQmJihsPWsmJmIoaywhMCxnLGgpLGQ9ayk7bCYmKGZbZV09bChhKSwoY1tlXXx8KGNbZV09W10pKS4kJGludGVyPSEwLChmLiQkb2JzZXJ2ZXJzJiZmLiQkb2JzZXJ2ZXJzW2VdLiQkc2NvcGV8fGEpLiR3YXRjaChsLGZ1bmN0aW9uKGEsYil7XCJjbGFzc1wiPT09ZSYmYSE9PWI/Zi4kdXBkYXRlQ2xhc3MoYSxiKTpmLiRzZXQoZSxhKX0pKX19fX0pfX1mdW5jdGlvbiBrYShhLGIsYyl7dmFyIGQ9YlswXSxlPVxuYi5sZW5ndGgsZj1kLnBhcmVudE5vZGUsZyxoO2lmKGEpZm9yKGc9MCxoPWEubGVuZ3RoO2c8aDtnKyspaWYoYVtnXT09PWQpe2FbZysrXT1jO2g9ZytlLTE7Zm9yKHZhciBrPWEubGVuZ3RoO2c8aztnKyssaCsrKWg8az9hW2ddPWFbaF06ZGVsZXRlIGFbZ107YS5sZW5ndGgtPWUtMTthLmNvbnRleHQ9PT1kJiYoYS5jb250ZXh0PWMpO2JyZWFrfWYmJmYucmVwbGFjZUNoaWxkKGMsZCk7YT14LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3IoZz0wO2c8ZTtnKyspYS5hcHBlbmRDaGlsZChiW2ddKTtCLmhhc0RhdGEoZCkmJihCLmRhdGEoYyxCLmRhdGEoZCkpLEIoZCkub2ZmKFwiJGRlc3Ryb3lcIikpO0IuY2xlYW5EYXRhKGEucXVlcnlTZWxlY3RvckFsbChcIipcIikpO2ZvcihnPTE7ZzxlO2crKylkZWxldGUgYltnXTtiWzBdPWM7Yi5sZW5ndGg9MX1mdW5jdGlvbiBxYShhLGIpe3JldHVybiBTKGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxcbmEsYil9ZnVuY3Rpb24gcmEoYSxiLGQsZSxmLGcpe3RyeXthKGIsZCxlLGYsZyl9Y2F0Y2goaCl7YyhoLHhhKGQpKX19ZnVuY3Rpb24gbmEoYSxjLGQsZSxmKXtmdW5jdGlvbiBnKGIsYyxlKXtEKGQuJG9uQ2hhbmdlcykmJiFYYihjLGUpJiYoaWF8fChhLiQkcG9zdERpZ2VzdChQKSxpYT1bXSksbXx8KG09e30saWEucHVzaChoKSksbVtiXSYmKGU9bVtiXS5wcmV2aW91c1ZhbHVlKSxtW2JdPW5ldyBJYihlLGMpKX1mdW5jdGlvbiBoKCl7ZC4kb25DaGFuZ2VzKG0pO209dm9pZCAwfXZhciBrPVtdLGw9e30sbTtxKGUsZnVuY3Rpb24oZSxoKXt2YXIgbT1lLmF0dHJOYW1lLHA9ZS5vcHRpb25hbCxyLHQseSxHO3N3aXRjaChlLm1vZGUpe2Nhc2UgXCJAXCI6cHx8dWEuY2FsbChjLG0pfHwoZFtoXT1jW21dPXZvaWQgMCk7cD1jLiRvYnNlcnZlKG0sZnVuY3Rpb24oYSl7aWYoRihhKXx8SGEoYSkpZyhoLGEsZFtoXSksZFtoXT1hfSk7Yy4kJG9ic2VydmVyc1ttXS4kJHNjb3BlPWE7cj1jW21dO1xuRihyKT9kW2hdPWIocikoYSk6SGEocikmJihkW2hdPXIpO2xbaF09bmV3IEliKGxjLGRbaF0pO2sucHVzaChwKTticmVhaztjYXNlIFwiPVwiOmlmKCF1YS5jYWxsKGMsbSkpe2lmKHApYnJlYWs7Y1ttXT12b2lkIDB9aWYocCYmIWNbbV0pYnJlYWs7dD1uKGNbbV0pO0c9dC5saXRlcmFsP3NhOlhiO3k9dC5hc3NpZ258fGZ1bmN0aW9uKCl7cj1kW2hdPXQoYSk7dGhyb3cgZmEoXCJub25hc3NpZ25cIixjW21dLG0sZi5uYW1lKTt9O3I9ZFtoXT10KGEpO3A9ZnVuY3Rpb24oYil7RyhiLGRbaF0pfHwoRyhiLHIpP3koYSxiPWRbaF0pOmRbaF09Yik7cmV0dXJuIHI9Yn07cC4kc3RhdGVmdWw9ITA7cD1lLmNvbGxlY3Rpb24/YS4kd2F0Y2hDb2xsZWN0aW9uKGNbbV0scCk6YS4kd2F0Y2gobihjW21dLHApLG51bGwsdC5saXRlcmFsKTtrLnB1c2gocCk7YnJlYWs7Y2FzZSBcIjxcIjppZighdWEuY2FsbChjLG0pKXtpZihwKWJyZWFrO2NbbV09dm9pZCAwfWlmKHAmJiFjW21dKWJyZWFrO3Q9bihjW21dKTtcbnZhciBFPXQubGl0ZXJhbCxJPWRbaF09dChhKTtsW2hdPW5ldyBJYihsYyxkW2hdKTtwPWEuJHdhdGNoKHQsZnVuY3Rpb24oYSxiKXtpZihiPT09YSl7aWYoYj09PUl8fEUmJnNhKGIsSSkpcmV0dXJuO2I9SX1nKGgsYSxiKTtkW2hdPWF9LEUpO2sucHVzaChwKTticmVhaztjYXNlIFwiJlwiOnQ9Yy5oYXNPd25Qcm9wZXJ0eShtKT9uKGNbbV0pOno7aWYodD09PXomJnApYnJlYWs7ZFtoXT1mdW5jdGlvbihiKXtyZXR1cm4gdChhLGIpfX19KTtyZXR1cm57aW5pdGlhbENoYW5nZXM6bCxyZW1vdmVXYXRjaGVzOmsubGVuZ3RoJiZmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI9ay5sZW5ndGg7YTxiOysrYSlrW2FdKCl9fX12YXIgQ2E9L15cXHcvLHRhPXguZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxGYT12LEdhPXQseWE9SixpYTtzLnByb3RvdHlwZT17JG5vcm1hbGl6ZTpCYSwkYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7YSYmMDxhLmxlbmd0aCYmTy5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxcbmEpfSwkcmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7YSYmMDxhLmxlbmd0aCYmTy5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxhKX0sJHVwZGF0ZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9cWQoYSxiKTtjJiZjLmxlbmd0aCYmTy5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxjKTsoYz1xZChiLGEpKSYmYy5sZW5ndGgmJk8ucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsYyl9LCRzZXQ6ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGY9aWQodGhpcy4kJGVsZW1lbnRbMF0sYSksZz1yZFthXSxoPWE7Zj8odGhpcy4kJGVsZW1lbnQucHJvcChhLGIpLGU9Zik6ZyYmKHRoaXNbZ109YixoPWcpO3RoaXNbYV09YjtlP3RoaXMuJGF0dHJbYV09ZTooZT10aGlzLiRhdHRyW2FdKXx8KHRoaXMuJGF0dHJbYV09ZT1UYyhhLFwiLVwiKSk7Zj13YSh0aGlzLiQkZWxlbWVudCk7aWYoXCJhXCI9PT1mJiYoXCJocmVmXCI9PT1hfHxcInhsaW5rSHJlZlwiPT09YSl8fFwiaW1nXCI9PT1mJiZcInNyY1wiPT09YSl0aGlzW2FdPVxuYj1YKGIsXCJzcmNcIj09PWEpO2Vsc2UgaWYoXCJpbWdcIj09PWYmJlwic3Jjc2V0XCI9PT1hJiZ1KGIpKXtmb3IodmFyIGY9XCJcIixnPVQoYiksaz0vKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS8saz0vXFxzLy50ZXN0KGcpP2s6LygsKS8sZz1nLnNwbGl0KGspLGs9TWF0aC5mbG9vcihnLmxlbmd0aC8yKSxsPTA7bDxrO2wrKyl2YXIgbT0yKmwsZj1mK1goVChnW21dKSwhMCksZj1mKyhcIiBcIitUKGdbbSsxXSkpO2c9VChnWzIqbF0pLnNwbGl0KC9cXHMvKTtmKz1YKFQoZ1swXSksITApOzI9PT1nLmxlbmd0aCYmKGYrPVwiIFwiK1QoZ1sxXSkpO3RoaXNbYV09Yj1mfSExIT09ZCYmKG51bGw9PT1ifHx3KGIpP3RoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoZSk6Q2EudGVzdChlKT90aGlzLiQkZWxlbWVudC5hdHRyKGUsYik6Uih0aGlzLiQkZWxlbWVudFswXSxlLGIpKTsoYT10aGlzLiQkb2JzZXJ2ZXJzKSYmcShhW2hdLGZ1bmN0aW9uKGEpe3RyeXthKGIpfWNhdGNoKGQpe2MoZCl9fSl9LFxuJG9ic2VydmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy4kJG9ic2VydmVyc3x8KGMuJCRvYnNlcnZlcnM9VigpKSxlPWRbYV18fChkW2FdPVtdKTtlLnB1c2goYik7Ry4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7ZS4kJGludGVyfHwhYy5oYXNPd25Qcm9wZXJ0eShhKXx8dyhjW2FdKXx8YihjW2FdKX0pO3JldHVybiBmdW5jdGlvbigpeyRhKGUsYil9fX07dmFyIEFhPWIuc3RhcnRTeW1ib2woKSxEYT1iLmVuZFN5bWJvbCgpLEVhPVwie3tcIj09PUFhJiZcIn19XCI9PT1EYT9ZYTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9cXHtcXHsvZyxBYSkucmVwbGFjZSgvfX0vZyxEYSl9LEphPS9ebmdBdHRyW0EtWl0vLEthPS9eKC4rKVN0YXJ0JC87Y2EuJCRhZGRCaW5kaW5nSW5mbz1wP2Z1bmN0aW9uKGEsYil7dmFyIGM9YS5kYXRhKFwiJGJpbmRpbmdcIil8fFtdO0goYik/Yz1jLmNvbmNhdChiKTpjLnB1c2goYik7YS5kYXRhKFwiJGJpbmRpbmdcIixjKX06ejtjYS4kJGFkZEJpbmRpbmdDbGFzcz1cbnA/ZnVuY3Rpb24oYSl7TGEoYSxcIm5nLWJpbmRpbmdcIil9Ono7Y2EuJCRhZGRTY29wZUluZm89cD9mdW5jdGlvbihhLGIsYyxkKXthLmRhdGEoYz9kP1wiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGVcIjpcIiRpc29sYXRlU2NvcGVcIjpcIiRzY29wZVwiLGIpfTp6O2NhLiQkYWRkU2NvcGVDbGFzcz1wP2Z1bmN0aW9uKGEsYil7TGEoYSxiP1wibmctaXNvbGF0ZS1zY29wZVwiOlwibmctc2NvcGVcIil9Ono7Y2EuJCRjcmVhdGVDb21tZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9XCJcIjtwJiYoYz1cIiBcIisoYXx8XCJcIikrXCI6IFwiLGImJihjKz1iK1wiIFwiKSk7cmV0dXJuIHguZG9jdW1lbnQuY3JlYXRlQ29tbWVudChjKX07cmV0dXJuIGNhfV19ZnVuY3Rpb24gSWIoYSxiKXt0aGlzLnByZXZpb3VzVmFsdWU9YTt0aGlzLmN1cnJlbnRWYWx1ZT1ifWZ1bmN0aW9uIEJhKGEpe3JldHVybiBhLnJlcGxhY2UobWQsXCJcIikucmVwbGFjZShyZyxnYil9ZnVuY3Rpb24gcWQoYSxiKXt2YXIgZD1cIlwiLGM9YS5zcGxpdCgvXFxzKy8pLFxuZT1iLnNwbGl0KC9cXHMrLyksZj0wO2E6Zm9yKDtmPGMubGVuZ3RoO2YrKyl7Zm9yKHZhciBnPWNbZl0saD0wO2g8ZS5sZW5ndGg7aCsrKWlmKGc9PT1lW2hdKWNvbnRpbnVlIGE7ZCs9KDA8ZC5sZW5ndGg/XCIgXCI6XCJcIikrZ31yZXR1cm4gZH1mdW5jdGlvbiBwZChhKXthPUIoYSk7dmFyIGI9YS5sZW5ndGg7aWYoMT49YilyZXR1cm4gYTtmb3IoO2ItLTspe3ZhciBkPWFbYl07KDg9PT1kLm5vZGVUeXBlfHxkLm5vZGVUeXBlPT09SWEmJlwiXCI9PT1kLm5vZGVWYWx1ZS50cmltKCkpJiZzZy5jYWxsKGEsYiwxKX1yZXR1cm4gYX1mdW5jdGlvbiBxZyhhLGIpe2lmKGImJkYoYikpcmV0dXJuIGI7aWYoRihhKSl7dmFyIGQ9c2QuZXhlYyhhKTtpZihkKXJldHVybiBkWzNdfX1mdW5jdGlvbiB3Zigpe3ZhciBhPXt9LGI9ITE7dGhpcy5oYXM9ZnVuY3Rpb24oYil7cmV0dXJuIGEuaGFzT3duUHJvcGVydHkoYil9O3RoaXMucmVnaXN0ZXI9ZnVuY3Rpb24oYixjKXtLYShiLFwiY29udHJvbGxlclwiKTtDKGIpP1xuUyhhLGIpOmFbYl09Y307dGhpcy5hbGxvd0dsb2JhbHM9ZnVuY3Rpb24oKXtiPSEwfTt0aGlzLiRnZXQ9W1wiJGluamVjdG9yXCIsXCIkd2luZG93XCIsZnVuY3Rpb24oZCxjKXtmdW5jdGlvbiBlKGEsYixjLGQpe2lmKCFhfHwhQyhhLiRzY29wZSkpdGhyb3cgTChcIiRjb250cm9sbGVyXCIpKFwibm9zY3BcIixkLGIpO2EuJHNjb3BlW2JdPWN9cmV0dXJuIGZ1bmN0aW9uKGYsZyxoLGspe3ZhciBsLG0sbjtoPSEwPT09aDtrJiZGKGspJiYobj1rKTtpZihGKGYpKXtrPWYubWF0Y2goc2QpO2lmKCFrKXRocm93IHRkKFwiY3RybGZtdFwiLGYpO209a1sxXTtuPW58fGtbM107Zj1hLmhhc093blByb3BlcnR5KG0pP2FbbV06VmMoZy4kc2NvcGUsbSwhMCl8fChiP1ZjKGMsbSwhMCk6dm9pZCAwKTtpZighZil0aHJvdyB0ZChcImN0cmxyZWdcIixtKTtzYihmLG0sITApfWlmKGgpcmV0dXJuIGg9KEgoZik/ZltmLmxlbmd0aC0xXTpmKS5wcm90b3R5cGUsbD1PYmplY3QuY3JlYXRlKGh8fG51bGwpLG4mJmUoZyxuLFxubCxtfHxmLm5hbWUpLFMoZnVuY3Rpb24oKXt2YXIgYT1kLmludm9rZShmLGwsZyxtKTthIT09bCYmKEMoYSl8fEQoYSkpJiYobD1hLG4mJmUoZyxuLGwsbXx8Zi5uYW1lKSk7cmV0dXJuIGx9LHtpbnN0YW5jZTpsLGlkZW50aWZpZXI6bn0pO2w9ZC5pbnN0YW50aWF0ZShmLGcsbSk7biYmZShnLG4sbCxtfHxmLm5hbWUpO3JldHVybiBsfX1dfWZ1bmN0aW9uIHhmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixmdW5jdGlvbihhKXtyZXR1cm4gQihhLmRvY3VtZW50KX1dfWZ1bmN0aW9uIHlmKCl7dGhpcy4kZ2V0PVtcIiRkb2N1bWVudFwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZCgpe2U9Yy5oaWRkZW59dmFyIGM9YVswXSxlPWMmJmMuaGlkZGVuO2Eub24oXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsZCk7Yi4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7YS5vZmYoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsZCl9KTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZX19XX1mdW5jdGlvbiB6Zigpe3RoaXMuJGdldD1cbltcIiRsb2dcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYixkKXthLmVycm9yLmFwcGx5KGEsYXJndW1lbnRzKX19XX1mdW5jdGlvbiBtYyhhKXtyZXR1cm4gQyhhKT9nYShhKT9hLnRvSVNPU3RyaW5nKCk6Y2IoYSk6YX1mdW5jdGlvbiBFZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihhKXtpZighYSlyZXR1cm5cIlwiO3ZhciBiPVtdO0tjKGEsZnVuY3Rpb24oYSxjKXtudWxsPT09YXx8dyhhKXx8KEgoYSk/cShhLGZ1bmN0aW9uKGEpe2IucHVzaCgkKGMpK1wiPVwiKyQobWMoYSkpKX0pOmIucHVzaCgkKGMpK1wiPVwiKyQobWMoYSkpKSl9KTtyZXR1cm4gYi5qb2luKFwiJlwiKX19fWZ1bmN0aW9uIEZmKCl7dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSxlLGYpe251bGw9PT1hfHx3KGEpfHwoSChhKT9xKGEsZnVuY3Rpb24oYSxjKXtiKGEsZStcIltcIisoQyhhKT9jOlwiXCIpK1wiXVwiKX0pOkMoYSkmJiFnYShhKT9LYyhhLGZ1bmN0aW9uKGEsXG5jKXtiKGEsZSsoZj9cIlwiOlwiW1wiKStjKyhmP1wiXCI6XCJdXCIpKX0pOmQucHVzaCgkKGUpK1wiPVwiKyQobWMoYSkpKSl9aWYoIWEpcmV0dXJuXCJcIjt2YXIgZD1bXTtiKGEsXCJcIiwhMCk7cmV0dXJuIGQuam9pbihcIiZcIil9fX1mdW5jdGlvbiBuYyhhLGIpe2lmKEYoYSkpe3ZhciBkPWEucmVwbGFjZSh0ZyxcIlwiKS50cmltKCk7aWYoZCl7dmFyIGM9YihcIkNvbnRlbnQtVHlwZVwiKTsoYz1jJiYwPT09Yy5pbmRleE9mKHVkKSl8fChjPShjPWQubWF0Y2godWcpKSYmdmdbY1swXV0udGVzdChkKSk7aWYoYyl0cnl7YT1PYyhkKX1jYXRjaChlKXt0aHJvdyBvYyhcImJhZGRhdGFcIixhLGUpO319fXJldHVybiBhfWZ1bmN0aW9uIHZkKGEpe3ZhciBiPVYoKSxkO0YoYSk/cShhLnNwbGl0KFwiXFxuXCIpLGZ1bmN0aW9uKGEpe2Q9YS5pbmRleE9mKFwiOlwiKTt2YXIgZT1RKFQoYS5zdWJzdHIoMCxkKSkpO2E9VChhLnN1YnN0cihkKzEpKTtlJiYoYltlXT1iW2VdP2JbZV0rXCIsIFwiK2E6YSl9KTpDKGEpJiZxKGEsZnVuY3Rpb24oYSxcbmQpe3ZhciBmPVEoZCksZz1UKGEpO2YmJihiW2ZdPWJbZl0/YltmXStcIiwgXCIrZzpnKX0pO3JldHVybiBifWZ1bmN0aW9uIHdkKGEpe3ZhciBiO3JldHVybiBmdW5jdGlvbihkKXtifHwoYj12ZChhKSk7cmV0dXJuIGQ/KGQ9YltRKGQpXSx2b2lkIDA9PT1kJiYoZD1udWxsKSxkKTpifX1mdW5jdGlvbiB4ZChhLGIsZCxjKXtpZihEKGMpKXJldHVybiBjKGEsYixkKTtxKGMsZnVuY3Rpb24oYyl7YT1jKGEsYixkKX0pO3JldHVybiBhfWZ1bmN0aW9uIERmKCl7dmFyIGE9dGhpcy5kZWZhdWx0cz17dHJhbnNmb3JtUmVzcG9uc2U6W25jXSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihhKXtyZXR1cm4gQyhhKSYmXCJbb2JqZWN0IEZpbGVdXCIhPT1tYS5jYWxsKGEpJiZcIltvYmplY3QgQmxvYl1cIiE9PW1hLmNhbGwoYSkmJlwiW29iamVjdCBGb3JtRGF0YV1cIiE9PW1hLmNhbGwoYSk/Y2IoYSk6YX1dLGhlYWRlcnM6e2NvbW1vbjp7QWNjZXB0OlwiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qXCJ9LFxucG9zdDpwYShwYykscHV0OnBhKHBjKSxwYXRjaDpwYShwYyl9LHhzcmZDb29raWVOYW1lOlwiWFNSRi1UT0tFTlwiLHhzcmZIZWFkZXJOYW1lOlwiWC1YU1JGLVRPS0VOXCIscGFyYW1TZXJpYWxpemVyOlwiJGh0dHBQYXJhbVNlcmlhbGl6ZXJcIixqc29ucENhbGxiYWNrUGFyYW06XCJjYWxsYmFja1wifSxiPSExO3RoaXMudXNlQXBwbHlBc3luYz1mdW5jdGlvbihhKXtyZXR1cm4gdShhKT8oYj0hIWEsdGhpcyk6Yn07dmFyIGQ9dGhpcy5pbnRlcmNlcHRvcnM9W107dGhpcy4kZ2V0PVtcIiRicm93c2VyXCIsXCIkaHR0cEJhY2tlbmRcIixcIiQkY29va2llUmVhZGVyXCIsXCIkY2FjaGVGYWN0b3J5XCIsXCIkcm9vdFNjb3BlXCIsXCIkcVwiLFwiJGluamVjdG9yXCIsXCIkc2NlXCIsZnVuY3Rpb24oYyxlLGYsZyxoLGssbCxtKXtmdW5jdGlvbiBuKGIpe2Z1bmN0aW9uIGQoYSxiKXtmb3IodmFyIGM9MCxlPWIubGVuZ3RoO2M8ZTspe3ZhciBmPWJbYysrXSxnPWJbYysrXTthPWEudGhlbihmLGcpfWIubGVuZ3RoPTA7cmV0dXJuIGF9XG5mdW5jdGlvbiBlKGEsYil7dmFyIGMsZD17fTtxKGEsZnVuY3Rpb24oYSxlKXtEKGEpPyhjPWEoYiksbnVsbCE9YyYmKGRbZV09YykpOmRbZV09YX0pO3JldHVybiBkfWZ1bmN0aW9uIGYoYSl7dmFyIGI9Uyh7fSxhKTtiLmRhdGE9eGQoYS5kYXRhLGEuaGVhZGVycyxhLnN0YXR1cyxnLnRyYW5zZm9ybVJlc3BvbnNlKTthPWEuc3RhdHVzO3JldHVybiAyMDA8PWEmJjMwMD5hP2I6ay5yZWplY3QoYil9aWYoIUMoYikpdGhyb3cgTChcIiRodHRwXCIpKFwiYmFkcmVxXCIsYik7aWYoIUYobS52YWx1ZU9mKGIudXJsKSkpdGhyb3cgTChcIiRodHRwXCIpKFwiYmFkcmVxXCIsYi51cmwpO3ZhciBnPVMoe21ldGhvZDpcImdldFwiLHRyYW5zZm9ybVJlcXVlc3Q6YS50cmFuc2Zvcm1SZXF1ZXN0LHRyYW5zZm9ybVJlc3BvbnNlOmEudHJhbnNmb3JtUmVzcG9uc2UscGFyYW1TZXJpYWxpemVyOmEucGFyYW1TZXJpYWxpemVyLGpzb25wQ2FsbGJhY2tQYXJhbTphLmpzb25wQ2FsbGJhY2tQYXJhbX0sYik7Zy5oZWFkZXJzPVxuZnVuY3Rpb24oYil7dmFyIGM9YS5oZWFkZXJzLGQ9Uyh7fSxiLmhlYWRlcnMpLGYsZyxoLGM9Uyh7fSxjLmNvbW1vbixjW1EoYi5tZXRob2QpXSk7YTpmb3IoZiBpbiBjKXtnPVEoZik7Zm9yKGggaW4gZClpZihRKGgpPT09Zyljb250aW51ZSBhO2RbZl09Y1tmXX1yZXR1cm4gZShkLHBhKGIpKX0oYik7Zy5tZXRob2Q9dWIoZy5tZXRob2QpO2cucGFyYW1TZXJpYWxpemVyPUYoZy5wYXJhbVNlcmlhbGl6ZXIpP2wuZ2V0KGcucGFyYW1TZXJpYWxpemVyKTpnLnBhcmFtU2VyaWFsaXplcjtjLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQoKTt2YXIgaD1bXSxuPVtdO2I9ay5yZXNvbHZlKGcpO3EodCxmdW5jdGlvbihhKXsoYS5yZXF1ZXN0fHxhLnJlcXVlc3RFcnJvcikmJmgudW5zaGlmdChhLnJlcXVlc3QsYS5yZXF1ZXN0RXJyb3IpOyhhLnJlc3BvbnNlfHxhLnJlc3BvbnNlRXJyb3IpJiZuLnB1c2goYS5yZXNwb25zZSxhLnJlc3BvbnNlRXJyb3IpfSk7Yj1kKGIsaCk7Yj1iLnRoZW4oZnVuY3Rpb24oYil7dmFyIGM9XG5iLmhlYWRlcnMsZD14ZChiLmRhdGEsd2QoYyksdm9pZCAwLGIudHJhbnNmb3JtUmVxdWVzdCk7dyhkKSYmcShjLGZ1bmN0aW9uKGEsYil7XCJjb250ZW50LXR5cGVcIj09PVEoYikmJmRlbGV0ZSBjW2JdfSk7dyhiLndpdGhDcmVkZW50aWFscykmJiF3KGEud2l0aENyZWRlbnRpYWxzKSYmKGIud2l0aENyZWRlbnRpYWxzPWEud2l0aENyZWRlbnRpYWxzKTtyZXR1cm4gcChiLGQpLnRoZW4oZixmKX0pO2I9ZChiLG4pO3JldHVybiBiPWIuZmluYWxseShmdW5jdGlvbigpe2MuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCh6KX0pfWZ1bmN0aW9uIHAoYyxkKXtmdW5jdGlvbiBnKGEpe2lmKGEpe3ZhciBjPXt9O3EoYSxmdW5jdGlvbihhLGQpe2NbZF09ZnVuY3Rpb24oYyl7ZnVuY3Rpb24gZCgpe2EoYyl9Yj9oLiRhcHBseUFzeW5jKGQpOmguJCRwaGFzZT9kKCk6aC4kYXBwbHkoZCl9fSk7cmV0dXJuIGN9fWZ1bmN0aW9uIGwoYSxjLGQsZSl7ZnVuY3Rpb24gZigpe3AoYyxhLGQsZSl9TyYmXG4oMjAwPD1hJiYzMDA+YT9PLnB1dChSLFthLGMsdmQoZCksZV0pOk8ucmVtb3ZlKFIpKTtiP2guJGFwcGx5QXN5bmMoZik6KGYoKSxoLiQkcGhhc2V8fGguJGFwcGx5KCkpfWZ1bmN0aW9uIHAoYSxiLGQsZSl7Yj0tMTw9Yj9iOjA7KDIwMDw9YiYmMzAwPmI/Ry5yZXNvbHZlOkcucmVqZWN0KSh7ZGF0YTphLHN0YXR1czpiLGhlYWRlcnM6d2QoZCksY29uZmlnOmMsc3RhdHVzVGV4dDplfSl9ZnVuY3Rpb24gSyhhKXtwKGEuZGF0YSxhLnN0YXR1cyxwYShhLmhlYWRlcnMoKSksYS5zdGF0dXNUZXh0KX1mdW5jdGlvbiB0KCl7dmFyIGE9bi5wZW5kaW5nUmVxdWVzdHMuaW5kZXhPZihjKTstMSE9PWEmJm4ucGVuZGluZ1JlcXVlc3RzLnNwbGljZShhLDEpfXZhciBHPWsuZGVmZXIoKSx5PUcucHJvbWlzZSxPLFgsUD1jLmhlYWRlcnMscz1cImpzb25wXCI9PT1RKGMubWV0aG9kKSxSPWMudXJsO3M/Uj1tLmdldFRydXN0ZWRSZXNvdXJjZVVybChSKTpGKFIpfHwoUj1tLnZhbHVlT2YoUikpO1I9cihSLFxuYy5wYXJhbVNlcmlhbGl6ZXIoYy5wYXJhbXMpKTtzJiYoUj1KKFIsYy5qc29ucENhbGxiYWNrUGFyYW0pKTtuLnBlbmRpbmdSZXF1ZXN0cy5wdXNoKGMpO3kudGhlbih0LHQpOyFjLmNhY2hlJiYhYS5jYWNoZXx8ITE9PT1jLmNhY2hlfHxcIkdFVFwiIT09Yy5tZXRob2QmJlwiSlNPTlBcIiE9PWMubWV0aG9kfHwoTz1DKGMuY2FjaGUpP2MuY2FjaGU6QyhhLmNhY2hlKT9hLmNhY2hlOnYpO08mJihYPU8uZ2V0KFIpLHUoWCk/WCYmRChYLnRoZW4pP1gudGhlbihLLEspOkgoWCk/cChYWzFdLFhbMF0scGEoWFsyXSksWFszXSk6cChYLDIwMCx7fSxcIk9LXCIpOk8ucHV0KFIseSkpO3coWCkmJigoWD15ZChjLnVybCk/ZigpW2MueHNyZkNvb2tpZU5hbWV8fGEueHNyZkNvb2tpZU5hbWVdOnZvaWQgMCkmJihQW2MueHNyZkhlYWRlck5hbWV8fGEueHNyZkhlYWRlck5hbWVdPVgpLGUoYy5tZXRob2QsUixkLGwsUCxjLnRpbWVvdXQsYy53aXRoQ3JlZGVudGlhbHMsYy5yZXNwb25zZVR5cGUsZyhjLmV2ZW50SGFuZGxlcnMpLFxuZyhjLnVwbG9hZEV2ZW50SGFuZGxlcnMpKSk7cmV0dXJuIHl9ZnVuY3Rpb24gcihhLGIpezA8Yi5sZW5ndGgmJihhKz0oLTE9PT1hLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiKStiKTtyZXR1cm4gYX1mdW5jdGlvbiBKKGEsYil7aWYoL1smP11bXj1dKz1KU09OX0NBTExCQUNLLy50ZXN0KGEpKXRocm93IG9jKFwiYmFkanNvbnBcIixhKTtpZigobmV3IFJlZ0V4cChcIlsmP11cIitiK1wiPVwiKSkudGVzdChhKSl0aHJvdyBvYyhcImJhZGpzb25wXCIsYixhKTtyZXR1cm4gYSs9KC0xPT09YS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrYitcIj1KU09OX0NBTExCQUNLXCJ9dmFyIHY9ZyhcIiRodHRwXCIpO2EucGFyYW1TZXJpYWxpemVyPUYoYS5wYXJhbVNlcmlhbGl6ZXIpP2wuZ2V0KGEucGFyYW1TZXJpYWxpemVyKTphLnBhcmFtU2VyaWFsaXplcjt2YXIgdD1bXTtxKGQsZnVuY3Rpb24oYSl7dC51bnNoaWZ0KEYoYSk/bC5nZXQoYSk6bC5pbnZva2UoYSkpfSk7bi5wZW5kaW5nUmVxdWVzdHM9W107KGZ1bmN0aW9uKGEpe3EoYXJndW1lbnRzLFxuZnVuY3Rpb24oYSl7blthXT1mdW5jdGlvbihiLGMpe3JldHVybiBuKFMoe30sY3x8e30se21ldGhvZDphLHVybDpifSkpfX0pfSkoXCJnZXRcIixcImRlbGV0ZVwiLFwiaGVhZFwiLFwianNvbnBcIik7KGZ1bmN0aW9uKGEpe3EoYXJndW1lbnRzLGZ1bmN0aW9uKGEpe25bYV09ZnVuY3Rpb24oYixjLGQpe3JldHVybiBuKFMoe30sZHx8e30se21ldGhvZDphLHVybDpiLGRhdGE6Y30pKX19KX0pKFwicG9zdFwiLFwicHV0XCIsXCJwYXRjaFwiKTtuLmRlZmF1bHRzPWE7cmV0dXJuIG59XX1mdW5jdGlvbiBIZigpe3RoaXMuJGdldD1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgeC5YTUxIdHRwUmVxdWVzdH19fWZ1bmN0aW9uIEdmKCl7dGhpcy4kZ2V0PVtcIiRicm93c2VyXCIsXCIkanNvbnBDYWxsYmFja3NcIixcIiRkb2N1bWVudFwiLFwiJHhockZhY3RvcnlcIixmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gd2coYSxjLGEuZGVmZXIsYixkWzBdKX1dfWZ1bmN0aW9uIHdnKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihhLFxuYixkKXthPWEucmVwbGFjZShcIkpTT05fQ0FMTEJBQ0tcIixiKTt2YXIgZj1lLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIiksbT1udWxsO2YudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2Yuc3JjPWE7Zi5hc3luYz0hMDttPWZ1bmN0aW9uKGEpe2YucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImxvYWRcIixtKTtmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLG0pO2UuYm9keS5yZW1vdmVDaGlsZChmKTtmPW51bGw7dmFyIGc9LTEscj1cInVua25vd25cIjthJiYoXCJsb2FkXCIhPT1hLnR5cGV8fGMud2FzQ2FsbGVkKGIpfHwoYT17dHlwZTpcImVycm9yXCJ9KSxyPWEudHlwZSxnPVwiZXJyb3JcIj09PWEudHlwZT80MDQ6MjAwKTtkJiZkKGcscil9O2YuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixtKTtmLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLG0pO2UuYm9keS5hcHBlbmRDaGlsZChmKTtyZXR1cm4gbX1yZXR1cm4gZnVuY3Rpb24oZSxoLGssbCxtLG4scCxyLEosdil7ZnVuY3Rpb24gdCgpe04mJk4oKTtBJiZcbkEuYWJvcnQoKX1oPWh8fGEudXJsKCk7aWYoXCJqc29ucFwiPT09UShlKSl2YXIgTT1jLmNyZWF0ZUNhbGxiYWNrKGgpLE49ZihoLE0sZnVuY3Rpb24oYSxiKXt2YXIgZT0yMDA9PT1hJiZjLmdldFJlc3BvbnNlKE0pO3UoSSkmJmQuY2FuY2VsKEkpO049QT1udWxsO2woYSxlLFwiXCIsYik7Yy5yZW1vdmVDYWxsYmFjayhNKX0pO2Vsc2V7dmFyIEE9YihlLGgpO0Eub3BlbihlLGgsITApO3EobSxmdW5jdGlvbihhLGIpe3UoYSkmJkEuc2V0UmVxdWVzdEhlYWRlcihiLGEpfSk7QS5vbmxvYWQ9ZnVuY3Rpb24oKXt2YXIgYT1BLnN0YXR1c1RleHR8fFwiXCIsYj1cInJlc3BvbnNlXCJpbiBBP0EucmVzcG9uc2U6QS5yZXNwb25zZVRleHQsYz0xMjIzPT09QS5zdGF0dXM/MjA0OkEuc3RhdHVzOzA9PT1jJiYoYz1iPzIwMDpcImZpbGVcIj09PUNhKGgpLnByb3RvY29sPzQwNDowKTt2YXIgZT1BLmdldEFsbFJlc3BvbnNlSGVhZGVycygpO3UoSSkmJmQuY2FuY2VsKEkpO049QT1udWxsO2woYyxiLGUsYSl9O2U9XG5mdW5jdGlvbigpe3UoSSkmJmQuY2FuY2VsKEkpO049QT1udWxsO2woLTEsbnVsbCxudWxsLFwiXCIpfTtBLm9uZXJyb3I9ZTtBLm9uYWJvcnQ9ZTtBLm9udGltZW91dD1lO3EoSixmdW5jdGlvbihhLGIpe0EuYWRkRXZlbnRMaXN0ZW5lcihiLGEpfSk7cSh2LGZ1bmN0aW9uKGEsYil7QS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihiLGEpfSk7cCYmKEEud2l0aENyZWRlbnRpYWxzPSEwKTtpZihyKXRyeXtBLnJlc3BvbnNlVHlwZT1yfWNhdGNoKHMpe2lmKFwianNvblwiIT09cil0aHJvdyBzO31BLnNlbmQodyhrKT9udWxsOmspfWlmKDA8bil2YXIgST1kKHQsbik7ZWxzZSBuJiZEKG4udGhlbikmJm4udGhlbih0KX19ZnVuY3Rpb24gQmYoKXt2YXIgYT1cInt7XCIsYj1cIn19XCI7dGhpcy5zdGFydFN5bWJvbD1mdW5jdGlvbihiKXtyZXR1cm4gYj8oYT1iLHRoaXMpOmF9O3RoaXMuZW5kU3ltYm9sPWZ1bmN0aW9uKGEpe3JldHVybiBhPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PVtcIiRwYXJzZVwiLFwiJGV4Y2VwdGlvbkhhbmRsZXJcIixcblwiJHNjZVwiLGZ1bmN0aW9uKGQsYyxlKXtmdW5jdGlvbiBmKGEpe3JldHVyblwiXFxcXFxcXFxcXFxcXCIrYX1mdW5jdGlvbiBnKGMpe3JldHVybiBjLnJlcGxhY2UobixhKS5yZXBsYWNlKHAsYil9ZnVuY3Rpb24gaChhLGIsYyxkKXt2YXIgZT1hLiR3YXRjaChmdW5jdGlvbihhKXtlKCk7cmV0dXJuIGQoYSl9LGIsYyk7cmV0dXJuIGV9ZnVuY3Rpb24gayhmLGssbixwKXtmdW5jdGlvbiBNKGEpe3RyeXt2YXIgYj1hO2E9bj9lLmdldFRydXN0ZWQobixiKTplLnZhbHVlT2YoYik7cmV0dXJuIHAmJiF1KGEpP2E6JGIoYSl9Y2F0Y2goZCl7YyhEYS5pbnRlcnIoZixkKSl9fWlmKCFmLmxlbmd0aHx8LTE9PT1mLmluZGV4T2YoYSkpe3ZhciBxO2t8fChrPWcoZikscT1sYShrKSxxLmV4cD1mLHEuZXhwcmVzc2lvbnM9W10scS4kJHdhdGNoRGVsZWdhdGU9aCk7cmV0dXJuIHF9cD0hIXA7dmFyIEEscyxJPTAsSz1bXSxFPVtdO3E9Zi5sZW5ndGg7Zm9yKHZhciBHPVtdLHk9W107STxxOylpZigtMSE9PShBPWYuaW5kZXhPZihhLFxuSSkpJiYtMSE9PShzPWYuaW5kZXhPZihiLEErbCkpKUkhPT1BJiZHLnB1c2goZyhmLnN1YnN0cmluZyhJLEEpKSksST1mLnN1YnN0cmluZyhBK2wscyksSy5wdXNoKEkpLEUucHVzaChkKEksTSkpLEk9cyttLHkucHVzaChHLmxlbmd0aCksRy5wdXNoKFwiXCIpO2Vsc2V7SSE9PXEmJkcucHVzaChnKGYuc3Vic3RyaW5nKEkpKSk7YnJlYWt9biYmMTxHLmxlbmd0aCYmRGEudGhyb3dOb2NvbmNhdChmKTtpZigha3x8Sy5sZW5ndGgpe3ZhciBPPWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9Sy5sZW5ndGg7YjxjO2IrKyl7aWYocCYmdyhhW2JdKSlyZXR1cm47R1t5W2JdXT1hW2JdfXJldHVybiBHLmpvaW4oXCJcIil9O3JldHVybiBTKGZ1bmN0aW9uKGEpe3ZhciBiPTAsZD1LLmxlbmd0aCxlPUFycmF5KGQpO3RyeXtmb3IoO2I8ZDtiKyspZVtiXT1FW2JdKGEpO3JldHVybiBPKGUpfWNhdGNoKGcpe2MoRGEuaW50ZXJyKGYsZykpfX0se2V4cDpmLGV4cHJlc3Npb25zOkssJCR3YXRjaERlbGVnYXRlOmZ1bmN0aW9uKGEsXG5iKXt2YXIgYztyZXR1cm4gYS4kd2F0Y2hHcm91cChFLGZ1bmN0aW9uKGQsZSl7dmFyIGY9TyhkKTtEKGIpJiZiLmNhbGwodGhpcyxmLGQhPT1lP2M6ZixhKTtjPWZ9KX19KX19dmFyIGw9YS5sZW5ndGgsbT1iLmxlbmd0aCxuPW5ldyBSZWdFeHAoYS5yZXBsYWNlKC8uL2csZiksXCJnXCIpLHA9bmV3IFJlZ0V4cChiLnJlcGxhY2UoLy4vZyxmKSxcImdcIik7ay5zdGFydFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBhfTtrLmVuZFN5bWJvbD1mdW5jdGlvbigpe3JldHVybiBifTtyZXR1cm4ga31dfWZ1bmN0aW9uIENmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiR3aW5kb3dcIixcIiRxXCIsXCIkJHFcIixcIiRicm93c2VyXCIsZnVuY3Rpb24oYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGYsayxsLG0pe2Z1bmN0aW9uIG4oKXtwP2YuYXBwbHkobnVsbCxyKTpmKHQpfXZhciBwPTQ8YXJndW1lbnRzLmxlbmd0aCxyPXA/dmEuY2FsbChhcmd1bWVudHMsNCk6W10sSj1iLnNldEludGVydmFsLHY9Yi5jbGVhckludGVydmFsLFxudD0wLE09dShtKSYmIW0scT0oTT9jOmQpLmRlZmVyKCksQT1xLnByb21pc2U7bD11KGwpP2w6MDtBLiQkaW50ZXJ2YWxJZD1KKGZ1bmN0aW9uKCl7TT9lLmRlZmVyKG4pOmEuJGV2YWxBc3luYyhuKTtxLm5vdGlmeSh0KyspOzA8bCYmdD49bCYmKHEucmVzb2x2ZSh0KSx2KEEuJCRpbnRlcnZhbElkKSxkZWxldGUgZ1tBLiQkaW50ZXJ2YWxJZF0pO018fGEuJGFwcGx5KCl9LGspO2dbQS4kJGludGVydmFsSWRdPXE7cmV0dXJuIEF9dmFyIGc9e307Zi5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuJCRpbnRlcnZhbElkIGluIGc/KGdbYS4kJGludGVydmFsSWRdLnByb21pc2UuY2F0Y2goeiksZ1thLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksYi5jbGVhckludGVydmFsKGEuJCRpbnRlcnZhbElkKSxkZWxldGUgZ1thLiQkaW50ZXJ2YWxJZF0sITApOiExfTtyZXR1cm4gZn1dfWZ1bmN0aW9uIHFjKGEpe2E9YS5zcGxpdChcIi9cIik7Zm9yKHZhciBiPWEubGVuZ3RoO2ItLTspYVtiXT1cbmRiKGFbYl0pO3JldHVybiBhLmpvaW4oXCIvXCIpfWZ1bmN0aW9uIHpkKGEsYil7dmFyIGQ9Q2EoYSk7Yi4kJHByb3RvY29sPWQucHJvdG9jb2w7Yi4kJGhvc3Q9ZC5ob3N0bmFtZTtiLiQkcG9ydD1aKGQucG9ydCl8fHhnW2QucHJvdG9jb2xdfHxudWxsfWZ1bmN0aW9uIEFkKGEsYil7aWYoeWcudGVzdChhKSl0aHJvdyBrYihcImJhZHBhdGhcIixhKTt2YXIgZD1cIi9cIiE9PWEuY2hhckF0KDApO2QmJihhPVwiL1wiK2EpO3ZhciBjPUNhKGEpO2IuJCRwYXRoPWRlY29kZVVSSUNvbXBvbmVudChkJiZcIi9cIj09PWMucGF0aG5hbWUuY2hhckF0KDApP2MucGF0aG5hbWUuc3Vic3RyaW5nKDEpOmMucGF0aG5hbWUpO2IuJCRzZWFyY2g9UmMoYy5zZWFyY2gpO2IuJCRoYXNoPWRlY29kZVVSSUNvbXBvbmVudChjLmhhc2gpO2IuJCRwYXRoJiZcIi9cIiE9PWIuJCRwYXRoLmNoYXJBdCgwKSYmKGIuJCRwYXRoPVwiL1wiK2IuJCRwYXRoKX1mdW5jdGlvbiByYyhhLGIpe3JldHVybiBhLnNsaWNlKDAsYi5sZW5ndGgpPT09XG5ifWZ1bmN0aW9uIGthKGEsYil7aWYocmMoYixhKSlyZXR1cm4gYi5zdWJzdHIoYS5sZW5ndGgpfWZ1bmN0aW9uIEFhKGEpe3ZhciBiPWEuaW5kZXhPZihcIiNcIik7cmV0dXJuLTE9PT1iP2E6YS5zdWJzdHIoMCxiKX1mdW5jdGlvbiBsYihhKXtyZXR1cm4gYS5yZXBsYWNlKC8oIy4rKXwjJC8sXCIkMVwiKX1mdW5jdGlvbiBzYyhhLGIsZCl7dGhpcy4kJGh0bWw1PSEwO2Q9ZHx8XCJcIjt6ZChhLHRoaXMpO3RoaXMuJCRwYXJzZT1mdW5jdGlvbihhKXt2YXIgZD1rYShiLGEpO2lmKCFGKGQpKXRocm93IGtiKFwiaXB0aHByZnhcIixhLGIpO0FkKGQsdGhpcyk7dGhpcy4kJHBhdGh8fCh0aGlzLiQkcGF0aD1cIi9cIik7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYT1aYih0aGlzLiQkc2VhcmNoKSxkPXRoaXMuJCRoYXNoP1wiI1wiK2RiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9cWModGhpcy4kJHBhdGgpKyhhP1wiP1wiK2E6XCJcIikrZDt0aGlzLiQkYWJzVXJsPWIrXG50aGlzLiQkdXJsLnN1YnN0cigxKTt0aGlzLiQkdXJsVXBkYXRlZEJ5TG9jYXRpb249ITB9O3RoaXMuJCRwYXJzZUxpbmtVcmw9ZnVuY3Rpb24oYyxlKXtpZihlJiZcIiNcIj09PWVbMF0pcmV0dXJuIHRoaXMuaGFzaChlLnNsaWNlKDEpKSwhMDt2YXIgZixnO3UoZj1rYShhLGMpKT8oZz1mLGc9ZCYmdShmPWthKGQsZikpP2IrKGthKFwiL1wiLGYpfHxmKTphK2cpOnUoZj1rYShiLGMpKT9nPWIrZjpiPT09YytcIi9cIiYmKGc9Yik7ZyYmdGhpcy4kJHBhcnNlKGcpO3JldHVybiEhZ319ZnVuY3Rpb24gdGMoYSxiLGQpe3pkKGEsdGhpcyk7dGhpcy4kJHBhcnNlPWZ1bmN0aW9uKGMpe3ZhciBlPWthKGEsYyl8fGthKGIsYyksZjt3KGUpfHxcIiNcIiE9PWUuY2hhckF0KDApP3RoaXMuJCRodG1sNT9mPWU6KGY9XCJcIix3KGUpJiYoYT1jLHRoaXMucmVwbGFjZSgpKSk6KGY9a2EoZCxlKSx3KGYpJiYoZj1lKSk7QWQoZix0aGlzKTtjPXRoaXMuJCRwYXRoO3ZhciBlPWEsZz0vXlxcL1tBLVpdOihcXC8uKikvO3JjKGYsXG5lKSYmKGY9Zi5yZXBsYWNlKGUsXCJcIikpO2cuZXhlYyhmKXx8KGM9KGY9Zy5leGVjKGMpKT9mWzFdOmMpO3RoaXMuJCRwYXRoPWM7dGhpcy4kJGNvbXBvc2UoKX07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYj1aYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoP1wiI1wiK2RiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9cWModGhpcy4kJHBhdGgpKyhiP1wiP1wiK2I6XCJcIikrZTt0aGlzLiQkYWJzVXJsPWErKHRoaXMuJCR1cmw/ZCt0aGlzLiQkdXJsOlwiXCIpO3RoaXMuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbj0hMH07dGhpcy4kJHBhcnNlTGlua1VybD1mdW5jdGlvbihiLGQpe3JldHVybiBBYShhKT09PUFhKGIpPyh0aGlzLiQkcGFyc2UoYiksITApOiExfX1mdW5jdGlvbiBCZChhLGIsZCl7dGhpcy4kJGh0bWw1PSEwO3RjLmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLiQkcGFyc2VMaW5rVXJsPWZ1bmN0aW9uKGMsZSl7aWYoZSYmXCIjXCI9PT1lWzBdKXJldHVybiB0aGlzLmhhc2goZS5zbGljZSgxKSksXG4hMDt2YXIgZixnO2E9PT1BYShjKT9mPWM6KGc9a2EoYixjKSk/Zj1hK2QrZzpiPT09YytcIi9cIiYmKGY9Yik7ZiYmdGhpcy4kJHBhcnNlKGYpO3JldHVybiEhZn07dGhpcy4kJGNvbXBvc2U9ZnVuY3Rpb24oKXt2YXIgYj1aYih0aGlzLiQkc2VhcmNoKSxlPXRoaXMuJCRoYXNoP1wiI1wiK2RiKHRoaXMuJCRoYXNoKTpcIlwiO3RoaXMuJCR1cmw9cWModGhpcy4kJHBhdGgpKyhiP1wiP1wiK2I6XCJcIikrZTt0aGlzLiQkYWJzVXJsPWErZCt0aGlzLiQkdXJsO3RoaXMuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbj0hMH19ZnVuY3Rpb24gSmIoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYV19fWZ1bmN0aW9uIENkKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGQpe2lmKHcoZCkpcmV0dXJuIHRoaXNbYV07dGhpc1thXT1iKGQpO3RoaXMuJCRjb21wb3NlKCk7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIEpmKCl7dmFyIGE9XCIhXCIsYj17ZW5hYmxlZDohMSxyZXF1aXJlQmFzZTohMCxyZXdyaXRlTGlua3M6ITB9O1xudGhpcy5oYXNoUHJlZml4PWZ1bmN0aW9uKGIpe3JldHVybiB1KGIpPyhhPWIsdGhpcyk6YX07dGhpcy5odG1sNU1vZGU9ZnVuY3Rpb24oYSl7aWYoSGEoYSkpcmV0dXJuIGIuZW5hYmxlZD1hLHRoaXM7aWYoQyhhKSl7SGEoYS5lbmFibGVkKSYmKGIuZW5hYmxlZD1hLmVuYWJsZWQpO0hhKGEucmVxdWlyZUJhc2UpJiYoYi5yZXF1aXJlQmFzZT1hLnJlcXVpcmVCYXNlKTtpZihIYShhLnJld3JpdGVMaW5rcyl8fEYoYS5yZXdyaXRlTGlua3MpKWIucmV3cml0ZUxpbmtzPWEucmV3cml0ZUxpbmtzO3JldHVybiB0aGlzfXJldHVybiBifTt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCIsXCIkcm9vdEVsZW1lbnRcIixcIiR3aW5kb3dcIixmdW5jdGlvbihkLGMsZSxmLGcpe2Z1bmN0aW9uIGgoYSxiLGQpe3ZhciBlPWwudXJsKCksZj1sLiQkc3RhdGU7dHJ5e2MudXJsKGEsYixkKSxsLiQkc3RhdGU9Yy5zdGF0ZSgpfWNhdGNoKGcpe3Rocm93IGwudXJsKGUpLGwuJCRzdGF0ZT1cbmYsZzt9fWZ1bmN0aW9uIGsoYSxiKXtkLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdWNjZXNzXCIsbC5hYnNVcmwoKSxhLGwuJCRzdGF0ZSxiKX12YXIgbCxtO209Yy5iYXNlSHJlZigpO3ZhciBuPWMudXJsKCkscDtpZihiLmVuYWJsZWQpe2lmKCFtJiZiLnJlcXVpcmVCYXNlKXRocm93IGtiKFwibm9iYXNlXCIpO3A9bi5zdWJzdHJpbmcoMCxuLmluZGV4T2YoXCIvXCIsbi5pbmRleE9mKFwiLy9cIikrMikpKyhtfHxcIi9cIik7bT1lLmhpc3Rvcnk/c2M6QmR9ZWxzZSBwPUFhKG4pLG09dGM7dmFyIHI9cC5zdWJzdHIoMCxBYShwKS5sYXN0SW5kZXhPZihcIi9cIikrMSk7bD1uZXcgbShwLHIsXCIjXCIrYSk7bC4kJHBhcnNlTGlua1VybChuLG4pO2wuJCRzdGF0ZT1jLnN0YXRlKCk7dmFyIEo9L15cXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTtmLm9uKFwiY2xpY2tcIixmdW5jdGlvbihhKXt2YXIgZT1iLnJld3JpdGVMaW5rcztpZihlJiYhYS5jdHJsS2V5JiYhYS5tZXRhS2V5JiYhYS5zaGlmdEtleSYmXG4yIT09YS53aGljaCYmMiE9PWEuYnV0dG9uKXtmb3IodmFyIGg9QihhLnRhcmdldCk7XCJhXCIhPT13YShoWzBdKTspaWYoaFswXT09PWZbMF18fCEoaD1oLnBhcmVudCgpKVswXSlyZXR1cm47aWYoIUYoZSl8fCF3KGguYXR0cihlKSkpe3ZhciBlPWgucHJvcChcImhyZWZcIiksaz1oLmF0dHIoXCJocmVmXCIpfHxoLmF0dHIoXCJ4bGluazpocmVmXCIpO0MoZSkmJlwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PWUudG9TdHJpbmcoKSYmKGU9Q2EoZS5hbmltVmFsKS5ocmVmKTtKLnRlc3QoZSl8fCFlfHxoLmF0dHIoXCJ0YXJnZXRcIil8fGEuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFsLiQkcGFyc2VMaW5rVXJsKGUsayl8fChhLnByZXZlbnREZWZhdWx0KCksbC5hYnNVcmwoKSE9PWMudXJsKCkmJihkLiRhcHBseSgpLGcuYW5ndWxhcltcImZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdFwiXT0hMCkpfX19KTtsYihsLmFic1VybCgpKSE9PWxiKG4pJiZjLnVybChsLmFic1VybCgpLCEwKTt2YXIgdj0hMDtcbmMub25VcmxDaGFuZ2UoZnVuY3Rpb24oYSxiKXtyYyhhLHIpPyhkLiRldmFsQXN5bmMoZnVuY3Rpb24oKXt2YXIgYz1sLmFic1VybCgpLGU9bC4kJHN0YXRlLGY7YT1sYihhKTtsLiQkcGFyc2UoYSk7bC4kJHN0YXRlPWI7Zj1kLiRicm9hZGNhc3QoXCIkbG9jYXRpb25DaGFuZ2VTdGFydFwiLGEsYyxiLGUpLmRlZmF1bHRQcmV2ZW50ZWQ7bC5hYnNVcmwoKT09PWEmJihmPyhsLiQkcGFyc2UoYyksbC4kJHN0YXRlPWUsaChjLCExLGUpKToodj0hMSxrKGMsZSkpKX0pLGQuJCRwaGFzZXx8ZC4kZGlnZXN0KCkpOmcubG9jYXRpb24uaHJlZj1hfSk7ZC4kd2F0Y2goZnVuY3Rpb24oKXtpZih2fHxsLiQkdXJsVXBkYXRlZEJ5TG9jYXRpb24pe2wuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbj0hMTt2YXIgYT1sYihjLnVybCgpKSxiPWxiKGwuYWJzVXJsKCkpLGY9Yy5zdGF0ZSgpLGc9bC4kJHJlcGxhY2UsbT1hIT09Ynx8bC4kJGh0bWw1JiZlLmhpc3RvcnkmJmYhPT1sLiQkc3RhdGU7aWYodnx8bSl2PVxuITEsZC4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7dmFyIGI9bC5hYnNVcmwoKSxjPWQuJGJyb2FkY2FzdChcIiRsb2NhdGlvbkNoYW5nZVN0YXJ0XCIsYixhLGwuJCRzdGF0ZSxmKS5kZWZhdWx0UHJldmVudGVkO2wuYWJzVXJsKCk9PT1iJiYoYz8obC4kJHBhcnNlKGEpLGwuJCRzdGF0ZT1mKToobSYmaChiLGcsZj09PWwuJCRzdGF0ZT9udWxsOmwuJCRzdGF0ZSksayhhLGYpKSl9KX1sLiQkcmVwbGFjZT0hMX0pO3JldHVybiBsfV19ZnVuY3Rpb24gS2YoKXt2YXIgYT0hMCxiPXRoaXM7dGhpcy5kZWJ1Z0VuYWJsZWQ9ZnVuY3Rpb24oYil7cmV0dXJuIHUoYik/KGE9Yix0aGlzKTphfTt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLGZ1bmN0aW9uKGQpe2Z1bmN0aW9uIGMoYSl7YSBpbnN0YW5jZW9mIEVycm9yJiYoYS5zdGFjayYmZj9hPWEubWVzc2FnZSYmLTE9PT1hLnN0YWNrLmluZGV4T2YoYS5tZXNzYWdlKT9cIkVycm9yOiBcIithLm1lc3NhZ2UrXCJcXG5cIithLnN0YWNrOmEuc3RhY2s6YS5zb3VyY2VVUkwmJlxuKGE9YS5tZXNzYWdlK1wiXFxuXCIrYS5zb3VyY2VVUkwrXCI6XCIrYS5saW5lKSk7cmV0dXJuIGF9ZnVuY3Rpb24gZShhKXt2YXIgYj1kLmNvbnNvbGV8fHt9LGU9YlthXXx8Yi5sb2d8fHo7YT0hMTt0cnl7YT0hIWUuYXBwbHl9Y2F0Y2goZil7fXJldHVybiBhP2Z1bmN0aW9uKCl7dmFyIGE9W107cShhcmd1bWVudHMsZnVuY3Rpb24oYil7YS5wdXNoKGMoYikpfSk7cmV0dXJuIGUuYXBwbHkoYixhKX06ZnVuY3Rpb24oYSxiKXtlKGEsbnVsbD09Yj9cIlwiOmIpfX12YXIgZj16YXx8L1xcYkVkZ2VcXC8vLnRlc3QoZC5uYXZpZ2F0b3ImJmQubmF2aWdhdG9yLnVzZXJBZ2VudCk7cmV0dXJue2xvZzplKFwibG9nXCIpLGluZm86ZShcImluZm9cIiksd2FybjplKFwid2FyblwiKSxlcnJvcjplKFwiZXJyb3JcIiksZGVidWc6ZnVuY3Rpb24oKXt2YXIgYz1lKFwiZGVidWdcIik7cmV0dXJuIGZ1bmN0aW9uKCl7YSYmYy5hcHBseShiLGFyZ3VtZW50cyl9fSgpfX1dfWZ1bmN0aW9uIHpnKGEpe3JldHVybiBhK1wiXCJ9ZnVuY3Rpb24gQWcoYSxcbmIpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgYT9hOmJ9ZnVuY3Rpb24gRGQoYSxiKXtyZXR1cm5cInVuZGVmaW5lZFwiPT09dHlwZW9mIGE/YjpcInVuZGVmaW5lZFwiPT09dHlwZW9mIGI/YTphK2J9ZnVuY3Rpb24gVShhLGIpe3ZhciBkLGMsZTtzd2l0Y2goYS50eXBlKXtjYXNlIHMuUHJvZ3JhbTpkPSEwO3EoYS5ib2R5LGZ1bmN0aW9uKGEpe1UoYS5leHByZXNzaW9uLGIpO2Q9ZCYmYS5leHByZXNzaW9uLmNvbnN0YW50fSk7YS5jb25zdGFudD1kO2JyZWFrO2Nhc2Ugcy5MaXRlcmFsOmEuY29uc3RhbnQ9ITA7YS50b1dhdGNoPVtdO2JyZWFrO2Nhc2Ugcy5VbmFyeUV4cHJlc3Npb246VShhLmFyZ3VtZW50LGIpO2EuY29uc3RhbnQ9YS5hcmd1bWVudC5jb25zdGFudDthLnRvV2F0Y2g9YS5hcmd1bWVudC50b1dhdGNoO2JyZWFrO2Nhc2Ugcy5CaW5hcnlFeHByZXNzaW9uOlUoYS5sZWZ0LGIpO1UoYS5yaWdodCxiKTthLmNvbnN0YW50PWEubGVmdC5jb25zdGFudCYmYS5yaWdodC5jb25zdGFudDtcbmEudG9XYXRjaD1hLmxlZnQudG9XYXRjaC5jb25jYXQoYS5yaWdodC50b1dhdGNoKTticmVhaztjYXNlIHMuTG9naWNhbEV4cHJlc3Npb246VShhLmxlZnQsYik7VShhLnJpZ2h0LGIpO2EuY29uc3RhbnQ9YS5sZWZ0LmNvbnN0YW50JiZhLnJpZ2h0LmNvbnN0YW50O2EudG9XYXRjaD1hLmNvbnN0YW50P1tdOlthXTticmVhaztjYXNlIHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlUoYS50ZXN0LGIpO1UoYS5hbHRlcm5hdGUsYik7VShhLmNvbnNlcXVlbnQsYik7YS5jb25zdGFudD1hLnRlc3QuY29uc3RhbnQmJmEuYWx0ZXJuYXRlLmNvbnN0YW50JiZhLmNvbnNlcXVlbnQuY29uc3RhbnQ7YS50b1dhdGNoPWEuY29uc3RhbnQ/W106W2FdO2JyZWFrO2Nhc2Ugcy5JZGVudGlmaWVyOmEuY29uc3RhbnQ9ITE7YS50b1dhdGNoPVthXTticmVhaztjYXNlIHMuTWVtYmVyRXhwcmVzc2lvbjpVKGEub2JqZWN0LGIpO2EuY29tcHV0ZWQmJlUoYS5wcm9wZXJ0eSxiKTthLmNvbnN0YW50PWEub2JqZWN0LmNvbnN0YW50JiZcbighYS5jb21wdXRlZHx8YS5wcm9wZXJ0eS5jb25zdGFudCk7YS50b1dhdGNoPVthXTticmVhaztjYXNlIHMuQ2FsbEV4cHJlc3Npb246ZD1lPWEuZmlsdGVyPyFiKGEuY2FsbGVlLm5hbWUpLiRzdGF0ZWZ1bDohMTtjPVtdO3EoYS5hcmd1bWVudHMsZnVuY3Rpb24oYSl7VShhLGIpO2Q9ZCYmYS5jb25zdGFudDthLmNvbnN0YW50fHxjLnB1c2guYXBwbHkoYyxhLnRvV2F0Y2gpfSk7YS5jb25zdGFudD1kO2EudG9XYXRjaD1lP2M6W2FdO2JyZWFrO2Nhc2Ugcy5Bc3NpZ25tZW50RXhwcmVzc2lvbjpVKGEubGVmdCxiKTtVKGEucmlnaHQsYik7YS5jb25zdGFudD1hLmxlZnQuY29uc3RhbnQmJmEucmlnaHQuY29uc3RhbnQ7YS50b1dhdGNoPVthXTticmVhaztjYXNlIHMuQXJyYXlFeHByZXNzaW9uOmQ9ITA7Yz1bXTtxKGEuZWxlbWVudHMsZnVuY3Rpb24oYSl7VShhLGIpO2Q9ZCYmYS5jb25zdGFudDthLmNvbnN0YW50fHxjLnB1c2guYXBwbHkoYyxhLnRvV2F0Y2gpfSk7YS5jb25zdGFudD1cbmQ7YS50b1dhdGNoPWM7YnJlYWs7Y2FzZSBzLk9iamVjdEV4cHJlc3Npb246ZD0hMDtjPVtdO3EoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe1UoYS52YWx1ZSxiKTtkPWQmJmEudmFsdWUuY29uc3RhbnQmJiFhLmNvbXB1dGVkO2EudmFsdWUuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEudmFsdWUudG9XYXRjaCk7YS5jb21wdXRlZCYmKFUoYS5rZXksYiksYS5rZXkuY29uc3RhbnR8fGMucHVzaC5hcHBseShjLGEua2V5LnRvV2F0Y2gpKX0pO2EuY29uc3RhbnQ9ZDthLnRvV2F0Y2g9YzticmVhaztjYXNlIHMuVGhpc0V4cHJlc3Npb246YS5jb25zdGFudD0hMTthLnRvV2F0Y2g9W107YnJlYWs7Y2FzZSBzLkxvY2Fsc0V4cHJlc3Npb246YS5jb25zdGFudD0hMSxhLnRvV2F0Y2g9W119fWZ1bmN0aW9uIEVkKGEpe2lmKDE9PT1hLmxlbmd0aCl7YT1hWzBdLmV4cHJlc3Npb247dmFyIGI9YS50b1dhdGNoO3JldHVybiAxIT09Yi5sZW5ndGg/YjpiWzBdIT09YT9iOnZvaWQgMH19ZnVuY3Rpb24gRmQoYSl7cmV0dXJuIGEudHlwZT09PVxucy5JZGVudGlmaWVyfHxhLnR5cGU9PT1zLk1lbWJlckV4cHJlc3Npb259ZnVuY3Rpb24gR2QoYSl7aWYoMT09PWEuYm9keS5sZW5ndGgmJkZkKGEuYm9keVswXS5leHByZXNzaW9uKSlyZXR1cm57dHlwZTpzLkFzc2lnbm1lbnRFeHByZXNzaW9uLGxlZnQ6YS5ib2R5WzBdLmV4cHJlc3Npb24scmlnaHQ6e3R5cGU6cy5OR1ZhbHVlUGFyYW1ldGVyfSxvcGVyYXRvcjpcIj1cIn19ZnVuY3Rpb24gSGQoYSl7dGhpcy4kZmlsdGVyPWF9ZnVuY3Rpb24gSWQoYSl7dGhpcy4kZmlsdGVyPWF9ZnVuY3Rpb24gdWMoYSxiLGQpe3RoaXMuYXN0PW5ldyBzKGEsZCk7dGhpcy5hc3RDb21waWxlcj1kLmNzcD9uZXcgSWQoYik6bmV3IEhkKGIpfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBEKGEudmFsdWVPZik/YS52YWx1ZU9mKCk6QmcuY2FsbChhKX1mdW5jdGlvbiBMZigpe3ZhciBhPVYoKSxiPXtcInRydWVcIjohMCxcImZhbHNlXCI6ITEsXCJudWxsXCI6bnVsbCx1bmRlZmluZWQ6dm9pZCAwfSxkLGM7dGhpcy5hZGRMaXRlcmFsPVxuZnVuY3Rpb24oYSxjKXtiW2FdPWN9O3RoaXMuc2V0SWRlbnRpZmllckZucz1mdW5jdGlvbihhLGIpe2Q9YTtjPWI7cmV0dXJuIHRoaXN9O3RoaXMuJGdldD1bXCIkZmlsdGVyXCIsZnVuY3Rpb24oZSl7ZnVuY3Rpb24gZihhLGIsYyl7cmV0dXJuIG51bGw9PWF8fG51bGw9PWI/YT09PWI6XCJvYmplY3RcIiE9PXR5cGVvZiBhfHwoYT12YyhhKSxcIm9iamVjdFwiIT09dHlwZW9mIGF8fGMpP2E9PT1ifHxhIT09YSYmYiE9PWI6ITF9ZnVuY3Rpb24gZyhhLGIsYyxkLGUpe3ZhciBnPWQuaW5wdXRzLGg7aWYoMT09PWcubGVuZ3RoKXt2YXIgaz1mLGc9Z1swXTtyZXR1cm4gYS4kd2F0Y2goZnVuY3Rpb24oYSl7dmFyIGI9ZyhhKTtmKGIsayxkLmxpdGVyYWwpfHwoaD1kKGEsdm9pZCAwLHZvaWQgMCxbYl0pLGs9YiYmdmMoYikpO3JldHVybiBofSxiLGMsZSl9Zm9yKHZhciBsPVtdLG09W10sbj0wLEU9Zy5sZW5ndGg7bjxFO24rKylsW25dPWYsbVtuXT1udWxsO3JldHVybiBhLiR3YXRjaChmdW5jdGlvbihhKXtmb3IodmFyIGI9XG4hMSxjPTAsZT1nLmxlbmd0aDtjPGU7YysrKXt2YXIgaz1nW2NdKGEpO2lmKGJ8fChiPSFmKGssbFtjXSxkLmxpdGVyYWwpKSltW2NdPWssbFtjXT1rJiZ2YyhrKX1iJiYoaD1kKGEsdm9pZCAwLHZvaWQgMCxtKSk7cmV0dXJuIGh9LGIsYyxlKX1mdW5jdGlvbiBoKGEsYixjLGQsZSl7ZnVuY3Rpb24gZihhKXtyZXR1cm4gZChhKX1mdW5jdGlvbiBoKGEsYyxkKXtuPWE7RChiKSYmYihhLGMsZCk7bChhKSYmZC4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXtsKG4pJiZtKCl9KX12YXIgbD1kLmxpdGVyYWw/azp1LG0sbjtyZXR1cm4gbT1kLmlucHV0cz9nKGEsaCxjLGQsZSk6YS4kd2F0Y2goZixoLGMpfWZ1bmN0aW9uIGsoYSl7dmFyIGI9ITA7cShhLGZ1bmN0aW9uKGEpe3UoYSl8fChiPSExKX0pO3JldHVybiBifWZ1bmN0aW9uIGwoYSxiLGMsZCl7dmFyIGU9YS4kd2F0Y2goZnVuY3Rpb24oYSl7ZSgpO3JldHVybiBkKGEpfSxiLGMpO3JldHVybiBlfWZ1bmN0aW9uIG0oYSxiKXtmdW5jdGlvbiBjKGQsXG5lLGcsaCl7Zz1mJiZoP2hbMF06YShkLGUsZyxoKTtyZXR1cm4gYihnLGQsZSl9ZnVuY3Rpb24gZChjLGUsZyxrKXtnPWYmJms/a1swXTphKGMsZSxnLGspO2M9YihnLGMsZSk7cmV0dXJuIGgoZyk/YzpnfWlmKCFiKXJldHVybiBhO3ZhciBlPWEuJCR3YXRjaERlbGVnYXRlLGY9ITEsaD1hLmxpdGVyYWw/azp1LGw9YS5vbmVUaW1lP2Q6YztsLmxpdGVyYWw9YS5saXRlcmFsO2wub25lVGltZT1hLm9uZVRpbWU7Zj0hYS5pbnB1dHM7ZSYmZSE9PWc/KGwuJCR3YXRjaERlbGVnYXRlPWUsbC5pbnB1dHM9YS5pbnB1dHMpOmIuJHN0YXRlZnVsfHwobC4kJHdhdGNoRGVsZWdhdGU9ZyxsLmlucHV0cz1hLmlucHV0cz9hLmlucHV0czpbYV0pO3JldHVybiBsfXZhciBuPXtjc3A6R2EoKS5ub1Vuc2FmZUV2YWwsbGl0ZXJhbHM6cmEoYiksaXNJZGVudGlmaWVyU3RhcnQ6RChkKSYmZCxpc0lkZW50aWZpZXJDb250aW51ZTpEKGMpJiZjfTtyZXR1cm4gZnVuY3Rpb24oYixjKXt2YXIgZCxmLGs7c3dpdGNoKHR5cGVvZiBiKXtjYXNlIFwic3RyaW5nXCI6cmV0dXJuIGs9XG5iPWIudHJpbSgpLGQ9YVtrXSxkfHwoXCI6XCI9PT1iLmNoYXJBdCgwKSYmXCI6XCI9PT1iLmNoYXJBdCgxKSYmKGY9ITAsYj1iLnN1YnN0cmluZygyKSksZD1uZXcgd2MobiksZD0obmV3IHVjKGQsZSxuKSkucGFyc2UoYiksZC5jb25zdGFudD9kLiQkd2F0Y2hEZWxlZ2F0ZT1sOmY/KGQub25lVGltZT0hMCxkLiQkd2F0Y2hEZWxlZ2F0ZT1oKTpkLmlucHV0cyYmKGQuJCR3YXRjaERlbGVnYXRlPWcpLGFba109ZCksbShkLGMpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiBtKGIsYyk7ZGVmYXVsdDpyZXR1cm4gbSh6LGMpfX19XX1mdW5jdGlvbiBOZigpe3ZhciBhPSEwO3RoaXMuJGdldD1bXCIkcm9vdFNjb3BlXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIEpkKGZ1bmN0aW9uKGEpe2IuJGV2YWxBc3luYyhhKX0sZCxhKX1dO3RoaXMuZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnM9ZnVuY3Rpb24oYil7cmV0dXJuIHUoYik/KGE9Yix0aGlzKTphfX1mdW5jdGlvbiBPZigpe3ZhciBhPVxuITA7dGhpcy4kZ2V0PVtcIiRicm93c2VyXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGIsZCl7cmV0dXJuIEpkKGZ1bmN0aW9uKGEpe2IuZGVmZXIoYSl9LGQsYSl9XTt0aGlzLmVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zPWZ1bmN0aW9uKGIpe3JldHVybiB1KGIpPyhhPWIsdGhpcyk6YX19ZnVuY3Rpb24gSmQoYSxiLGQpe2Z1bmN0aW9uIGMoKXtyZXR1cm4gbmV3IGV9ZnVuY3Rpb24gZSgpe3ZhciBhPXRoaXMucHJvbWlzZT1uZXcgZjt0aGlzLnJlc29sdmU9ZnVuY3Rpb24oYil7ayhhLGIpfTt0aGlzLnJlamVjdD1mdW5jdGlvbihiKXttKGEsYil9O3RoaXMubm90aWZ5PWZ1bmN0aW9uKGIpe3AoYSxiKX19ZnVuY3Rpb24gZigpe3RoaXMuJCRzdGF0ZT17c3RhdHVzOjB9fWZ1bmN0aW9uIGcoKXtmb3IoOyFzJiZBLmxlbmd0aDspe3ZhciBhPUEuc2hpZnQoKTtpZighYS5wdXIpe2EucHVyPSEwO3ZhciBjPWEudmFsdWUsYz1cIlBvc3NpYmx5IHVuaGFuZGxlZCByZWplY3Rpb246IFwiK1xuKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBjP2MudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sXCJcIik6dyhjKT9cInVuZGVmaW5lZFwiOlwic3RyaW5nXCIhPT10eXBlb2YgYz9CZShjLHZvaWQgMCk6Yyk7YS52YWx1ZSBpbnN0YW5jZW9mIEVycm9yP2IoYS52YWx1ZSxjKTpiKGMpfX19ZnVuY3Rpb24gaChiKXshZHx8Yi5wZW5kaW5nfHwyIT09Yi5zdGF0dXN8fGIucHVyfHwoMD09PXMmJjA9PT1BLmxlbmd0aCYmYShnKSxBLnB1c2goYikpOyFiLnByb2Nlc3NTY2hlZHVsZWQmJmIucGVuZGluZyYmKGIucHJvY2Vzc1NjaGVkdWxlZD0hMCwrK3MsYShmdW5jdGlvbigpe3ZhciBjLGUsZjtmPWIucGVuZGluZztiLnByb2Nlc3NTY2hlZHVsZWQ9ITE7Yi5wZW5kaW5nPXZvaWQgMDt0cnl7Zm9yKHZhciBoPTAsbD1mLmxlbmd0aDtoPGw7KytoKXtiLnB1cj0hMDtlPWZbaF1bMF07Yz1mW2hdW2Iuc3RhdHVzXTt0cnl7RChjKT9rKGUsYyhiLnZhbHVlKSk6MT09PWIuc3RhdHVzP2soZSxiLnZhbHVlKTpcbm0oZSxiLnZhbHVlKX1jYXRjaChuKXttKGUsbil9fX1maW5hbGx5ey0tcyxkJiYwPT09cyYmYShnKX19KSl9ZnVuY3Rpb24gayhhLGIpe2EuJCRzdGF0ZS5zdGF0dXN8fChiPT09YT9uKGEsTShcInFjeWNsZVwiLGIpKTpsKGEsYikpfWZ1bmN0aW9uIGwoYSxiKXtmdW5jdGlvbiBjKGIpe2d8fChnPSEwLGwoYSxiKSl9ZnVuY3Rpb24gZChiKXtnfHwoZz0hMCxuKGEsYikpfWZ1bmN0aW9uIGUoYil7cChhLGIpfXZhciBmLGc9ITE7dHJ5e2lmKEMoYil8fEQoYikpZj1iLnRoZW47RChmKT8oYS4kJHN0YXRlLnN0YXR1cz0tMSxmLmNhbGwoYixjLGQsZSkpOihhLiQkc3RhdGUudmFsdWU9YixhLiQkc3RhdGUuc3RhdHVzPTEsaChhLiQkc3RhdGUpKX1jYXRjaChrKXtkKGspfX1mdW5jdGlvbiBtKGEsYil7YS4kJHN0YXRlLnN0YXR1c3x8bihhLGIpfWZ1bmN0aW9uIG4oYSxiKXthLiQkc3RhdGUudmFsdWU9YjthLiQkc3RhdGUuc3RhdHVzPTI7aChhLiQkc3RhdGUpfWZ1bmN0aW9uIHAoYyxkKXt2YXIgZT1cbmMuJCRzdGF0ZS5wZW5kaW5nOzA+PWMuJCRzdGF0ZS5zdGF0dXMmJmUmJmUubGVuZ3RoJiZhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhLGMsZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKyl7Yz1lW2ZdWzBdO2E9ZVtmXVszXTt0cnl7cChjLEQoYSk/YShkKTpkKX1jYXRjaChoKXtiKGgpfX19KX1mdW5jdGlvbiByKGEpe3ZhciBiPW5ldyBmO20oYixhKTtyZXR1cm4gYn1mdW5jdGlvbiBKKGEsYixjKXt2YXIgZD1udWxsO3RyeXtEKGMpJiYoZD1jKCkpfWNhdGNoKGUpe3JldHVybiByKGUpfXJldHVybiBkJiZEKGQudGhlbik/ZC50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGIoYSl9LHIpOmIoYSl9ZnVuY3Rpb24gdihhLGIsYyxkKXt2YXIgZT1uZXcgZjtrKGUsYSk7cmV0dXJuIGUudGhlbihiLGMsZCl9ZnVuY3Rpb24gdChhKXtpZighRChhKSl0aHJvdyBNKFwibm9yc2x2clwiLGEpO3ZhciBiPW5ldyBmO2EoZnVuY3Rpb24oYSl7ayhiLGEpfSxmdW5jdGlvbihhKXttKGIsYSl9KTtyZXR1cm4gYn12YXIgTT1cbkwoXCIkcVwiLFR5cGVFcnJvcikscz0wLEE9W107UyhmLnByb3RvdHlwZSx7dGhlbjpmdW5jdGlvbihhLGIsYyl7aWYodyhhKSYmdyhiKSYmdyhjKSlyZXR1cm4gdGhpczt2YXIgZD1uZXcgZjt0aGlzLiQkc3RhdGUucGVuZGluZz10aGlzLiQkc3RhdGUucGVuZGluZ3x8W107dGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbZCxhLGIsY10pOzA8dGhpcy4kJHN0YXRlLnN0YXR1cyYmaCh0aGlzLiQkc3RhdGUpO3JldHVybiBkfSxcImNhdGNoXCI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudGhlbihudWxsLGEpfSxcImZpbmFsbHlcIjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24oYil7cmV0dXJuIEooYix1LGEpfSxmdW5jdGlvbihiKXtyZXR1cm4gSihiLHIsYSl9LGIpfX0pO3ZhciB1PXY7dC5wcm90b3R5cGU9Zi5wcm90b3R5cGU7dC5kZWZlcj1jO3QucmVqZWN0PXI7dC53aGVuPXY7dC5yZXNvbHZlPXU7dC5hbGw9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IGYsYz0wLGQ9SChhKT9cbltdOnt9O3EoYSxmdW5jdGlvbihhLGUpe2MrKzt2KGEpLnRoZW4oZnVuY3Rpb24oYSl7ZFtlXT1hOy0tY3x8ayhiLGQpfSxmdW5jdGlvbihhKXttKGIsYSl9KX0pOzA9PT1jJiZrKGIsZCk7cmV0dXJuIGJ9O3QucmFjZT1mdW5jdGlvbihhKXt2YXIgYj1jKCk7cShhLGZ1bmN0aW9uKGEpe3YoYSkudGhlbihiLnJlc29sdmUsYi5yZWplY3QpfSk7cmV0dXJuIGIucHJvbWlzZX07cmV0dXJuIHR9ZnVuY3Rpb24gWGYoKXt0aGlzLiRnZXQ9W1wiJHdpbmRvd1wiLFwiJHRpbWVvdXRcIixmdW5jdGlvbihhLGIpe3ZhciBkPWEucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxhLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSxjPWEuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fGEud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWV8fGEud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lLGU9ISFkLGY9ZT9mdW5jdGlvbihhKXt2YXIgYj1kKGEpO3JldHVybiBmdW5jdGlvbigpe2MoYil9fTpmdW5jdGlvbihhKXt2YXIgYz1cbmIoYSwxNi42NiwhMSk7cmV0dXJuIGZ1bmN0aW9uKCl7Yi5jYW5jZWwoYyl9fTtmLnN1cHBvcnRlZD1lO3JldHVybiBmfV19ZnVuY3Rpb24gTWYoKXtmdW5jdGlvbiBhKGEpe2Z1bmN0aW9uIGIoKXt0aGlzLiQkd2F0Y2hlcnM9dGhpcy4kJG5leHRTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9e307dGhpcy4kJHdhdGNoZXJzQ291bnQ9MDt0aGlzLiRpZD0rK3FiO3RoaXMuJCRDaGlsZFNjb3BlPW51bGx9Yi5wcm90b3R5cGU9YTtyZXR1cm4gYn12YXIgYj0xMCxkPUwoXCIkcm9vdFNjb3BlXCIpLGM9bnVsbCxlPW51bGw7dGhpcy5kaWdlc3RUdGw9ZnVuY3Rpb24oYSl7YXJndW1lbnRzLmxlbmd0aCYmKGI9YSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1bXCIkZXhjZXB0aW9uSGFuZGxlclwiLFwiJHBhcnNlXCIsXCIkYnJvd3NlclwiLGZ1bmN0aW9uKGYsZyxoKXtmdW5jdGlvbiBrKGEpe2EuY3VycmVudFNjb3BlLiQkZGVzdHJveWVkPVxuITB9ZnVuY3Rpb24gbChhKXs5PT09emEmJihhLiQkY2hpbGRIZWFkJiZsKGEuJCRjaGlsZEhlYWQpLGEuJCRuZXh0U2libGluZyYmbChhLiQkbmV4dFNpYmxpbmcpKTthLiRwYXJlbnQ9YS4kJG5leHRTaWJsaW5nPWEuJCRwcmV2U2libGluZz1hLiQkY2hpbGRIZWFkPWEuJCRjaGlsZFRhaWw9YS4kcm9vdD1hLiQkd2F0Y2hlcnM9bnVsbH1mdW5jdGlvbiBtKCl7dGhpcy4kaWQ9KytxYjt0aGlzLiQkcGhhc2U9dGhpcy4kcGFyZW50PXRoaXMuJCR3YXRjaGVycz10aGlzLiQkbmV4dFNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nPXRoaXMuJCRjaGlsZEhlYWQ9dGhpcy4kJGNoaWxkVGFpbD1udWxsO3RoaXMuJHJvb3Q9dGhpczt0aGlzLiQkZGVzdHJveWVkPSExO3RoaXMuJCRsaXN0ZW5lcnM9e307dGhpcy4kJGxpc3RlbmVyQ291bnQ9e307dGhpcy4kJHdhdGNoZXJzQ291bnQ9MDt0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzPW51bGx9ZnVuY3Rpb24gbihhKXtpZihNLiQkcGhhc2UpdGhyb3cgZChcImlucHJvZ1wiLFxuTS4kJHBoYXNlKTtNLiQkcGhhc2U9YX1mdW5jdGlvbiBwKGEsYil7ZG8gYS4kJHdhdGNoZXJzQ291bnQrPWI7d2hpbGUoYT1hLiRwYXJlbnQpfWZ1bmN0aW9uIHIoYSxiLGMpe2RvIGEuJCRsaXN0ZW5lckNvdW50W2NdLT1iLDA9PT1hLiQkbGlzdGVuZXJDb3VudFtjXSYmZGVsZXRlIGEuJCRsaXN0ZW5lckNvdW50W2NdO3doaWxlKGE9YS4kcGFyZW50KX1mdW5jdGlvbiBKKCl7fWZ1bmN0aW9uIHYoKXtmb3IoO3UubGVuZ3RoOyl0cnl7dS5zaGlmdCgpKCl9Y2F0Y2goYSl7ZihhKX1lPW51bGx9ZnVuY3Rpb24gdCgpe251bGw9PT1lJiYoZT1oLmRlZmVyKGZ1bmN0aW9uKCl7TS4kYXBwbHkodil9KSl9bS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOm0sJG5ldzpmdW5jdGlvbihiLGMpe3ZhciBkO2M9Y3x8dGhpcztiPyhkPW5ldyBtLGQuJHJvb3Q9dGhpcy4kcm9vdCk6KHRoaXMuJCRDaGlsZFNjb3BlfHwodGhpcy4kJENoaWxkU2NvcGU9YSh0aGlzKSksZD1uZXcgdGhpcy4kJENoaWxkU2NvcGUpO1xuZC4kcGFyZW50PWM7ZC4kJHByZXZTaWJsaW5nPWMuJCRjaGlsZFRhaWw7Yy4kJGNoaWxkSGVhZD8oYy4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nPWQsYy4kJGNoaWxkVGFpbD1kKTpjLiQkY2hpbGRIZWFkPWMuJCRjaGlsZFRhaWw9ZDsoYnx8YyE9PXRoaXMpJiZkLiRvbihcIiRkZXN0cm95XCIsayk7cmV0dXJuIGR9LCR3YXRjaDpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1nKGEpO2lmKGYuJCR3YXRjaERlbGVnYXRlKXJldHVybiBmLiQkd2F0Y2hEZWxlZ2F0ZSh0aGlzLGIsZCxmLGEpO3ZhciBoPXRoaXMsaz1oLiQkd2F0Y2hlcnMsbD17Zm46YixsYXN0OkosZ2V0OmYsZXhwOmV8fGEsZXE6ISFkfTtjPW51bGw7RChiKXx8KGwuZm49eik7a3x8KGs9aC4kJHdhdGNoZXJzPVtdLGsuJCRkaWdlc3RXYXRjaEluZGV4PS0xKTtrLnVuc2hpZnQobCk7ay4kJGRpZ2VzdFdhdGNoSW5kZXgrKztwKHRoaXMsMSk7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGE9JGEoayxsKTswPD1hJiYocChoLC0xKSxcbmE8ay4kJGRpZ2VzdFdhdGNoSW5kZXgmJmsuJCRkaWdlc3RXYXRjaEluZGV4LS0pO2M9bnVsbH19LCR3YXRjaEdyb3VwOmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2g9ITE7az8oaz0hMSxiKGUsZSxnKSk6YihlLGQsZyl9dmFyIGQ9QXJyYXkoYS5sZW5ndGgpLGU9QXJyYXkoYS5sZW5ndGgpLGY9W10sZz10aGlzLGg9ITEsaz0hMDtpZighYS5sZW5ndGgpe3ZhciBsPSEwO2cuJGV2YWxBc3luYyhmdW5jdGlvbigpe2wmJmIoZSxlLGcpfSk7cmV0dXJuIGZ1bmN0aW9uKCl7bD0hMX19aWYoMT09PWEubGVuZ3RoKXJldHVybiB0aGlzLiR3YXRjaChhWzBdLGZ1bmN0aW9uKGEsYyxmKXtlWzBdPWE7ZFswXT1jO2IoZSxhPT09Yz9lOmQsZil9KTtxKGEsZnVuY3Rpb24oYSxiKXt2YXIgaz1nLiR3YXRjaChhLGZ1bmN0aW9uKGEsZil7ZVtiXT1hO2RbYl09ZjtofHwoaD0hMCxnLiRldmFsQXN5bmMoYykpfSk7Zi5wdXNoKGspfSk7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKDtmLmxlbmd0aDspZi5zaGlmdCgpKCl9fSxcbiR3YXRjaENvbGxlY3Rpb246ZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKGEpe2U9YTt2YXIgYixkLGcsaDtpZighdyhlKSl7aWYoQyhlKSlpZihxYShlKSlmb3IoZiE9PW4mJihmPW4sdD1mLmxlbmd0aD0wLGwrKyksYT1lLmxlbmd0aCx0IT09YSYmKGwrKyxmLmxlbmd0aD10PWEpLGI9MDtiPGE7YisrKWg9ZltiXSxnPWVbYl0sZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKTtlbHNle2YhPT1wJiYoZj1wPXt9LHQ9MCxsKyspO2E9MDtmb3IoYiBpbiBlKXVhLmNhbGwoZSxiKSYmKGErKyxnPWVbYl0saD1mW2JdLGIgaW4gZj8oZD1oIT09aCYmZyE9PWcsZHx8aD09PWd8fChsKyssZltiXT1nKSk6KHQrKyxmW2JdPWcsbCsrKSk7aWYodD5hKWZvcihiIGluIGwrKyxmKXVhLmNhbGwoZSxiKXx8KHQtLSxkZWxldGUgZltiXSl9ZWxzZSBmIT09ZSYmKGY9ZSxsKyspO3JldHVybiBsfX1jLiRzdGF0ZWZ1bD0hMDt2YXIgZD10aGlzLGUsZixoLGs9MTxiLmxlbmd0aCxsPTAsbT1cbmcoYSxjKSxuPVtdLHA9e30scj0hMCx0PTA7cmV0dXJuIHRoaXMuJHdhdGNoKG0sZnVuY3Rpb24oKXtyPyhyPSExLGIoZSxlLGQpKTpiKGUsaCxkKTtpZihrKWlmKEMoZSkpaWYocWEoZSkpe2g9QXJyYXkoZS5sZW5ndGgpO2Zvcih2YXIgYT0wO2E8ZS5sZW5ndGg7YSsrKWhbYV09ZVthXX1lbHNlIGZvcihhIGluIGg9e30sZSl1YS5jYWxsKGUsYSkmJihoW2FdPWVbYV0pO2Vsc2UgaD1lfSl9LCRkaWdlc3Q6ZnVuY3Rpb24oKXt2YXIgYSxnLGssbCxtLHAscix0PWIscSx1PVtdLHcseDtuKFwiJGRpZ2VzdFwiKTtoLiQkY2hlY2tVcmxDaGFuZ2UoKTt0aGlzPT09TSYmbnVsbCE9PWUmJihoLmRlZmVyLmNhbmNlbChlKSx2KCkpO2M9bnVsbDtkb3tyPSExO3E9dGhpcztmb3IocD0wO3A8cy5sZW5ndGg7cCsrKXt0cnl7eD1zW3BdLGw9eC5mbixsKHguc2NvcGUseC5sb2NhbHMpfWNhdGNoKHope2Yoeil9Yz1udWxsfXMubGVuZ3RoPTA7YTpkb3tpZihwPXEuJCR3YXRjaGVycylmb3IocC4kJGRpZ2VzdFdhdGNoSW5kZXg9XG5wLmxlbmd0aDtwLiQkZGlnZXN0V2F0Y2hJbmRleC0tOyl0cnl7aWYoYT1wW3AuJCRkaWdlc3RXYXRjaEluZGV4XSlpZihtPWEuZ2V0LChnPW0ocSkpIT09KGs9YS5sYXN0KSYmIShhLmVxP3NhKGcsayk6ZGEoZykmJmRhKGspKSlyPSEwLGM9YSxhLmxhc3Q9YS5lcT9yYShnLG51bGwpOmcsbD1hLmZuLGwoZyxrPT09Sj9nOmsscSksNT50JiYodz00LXQsdVt3XXx8KHVbd109W10pLHVbd10ucHVzaCh7bXNnOkQoYS5leHApP1wiZm46IFwiKyhhLmV4cC5uYW1lfHxhLmV4cC50b1N0cmluZygpKTphLmV4cCxuZXdWYWw6ZyxvbGRWYWw6a30pKTtlbHNlIGlmKGE9PT1jKXtyPSExO2JyZWFrIGF9fWNhdGNoKEIpe2YoQil9aWYoIShwPXEuJCR3YXRjaGVyc0NvdW50JiZxLiQkY2hpbGRIZWFkfHxxIT09dGhpcyYmcS4kJG5leHRTaWJsaW5nKSlmb3IoO3EhPT10aGlzJiYhKHA9cS4kJG5leHRTaWJsaW5nKTspcT1xLiRwYXJlbnR9d2hpbGUocT1wKTtpZigocnx8cy5sZW5ndGgpJiYhdC0tKXRocm93IE0uJCRwaGFzZT1cbm51bGwsZChcImluZmRpZ1wiLGIsdSk7fXdoaWxlKHJ8fHMubGVuZ3RoKTtmb3IoTS4kJHBoYXNlPW51bGw7STxBLmxlbmd0aDspdHJ5e0FbSSsrXSgpfWNhdGNoKEYpe2YoRil9QS5sZW5ndGg9ST0wO2guJCRjaGVja1VybENoYW5nZSgpfSwkZGVzdHJveTpmdW5jdGlvbigpe2lmKCF0aGlzLiQkZGVzdHJveWVkKXt2YXIgYT10aGlzLiRwYXJlbnQ7dGhpcy4kYnJvYWRjYXN0KFwiJGRlc3Ryb3lcIik7dGhpcy4kJGRlc3Ryb3llZD0hMDt0aGlzPT09TSYmaC4kJGFwcGxpY2F0aW9uRGVzdHJveWVkKCk7cCh0aGlzLC10aGlzLiQkd2F0Y2hlcnNDb3VudCk7Zm9yKHZhciBiIGluIHRoaXMuJCRsaXN0ZW5lckNvdW50KXIodGhpcyx0aGlzLiQkbGlzdGVuZXJDb3VudFtiXSxiKTthJiZhLiQkY2hpbGRIZWFkPT09dGhpcyYmKGEuJCRjaGlsZEhlYWQ9dGhpcy4kJG5leHRTaWJsaW5nKTthJiZhLiQkY2hpbGRUYWlsPT09dGhpcyYmKGEuJCRjaGlsZFRhaWw9dGhpcy4kJHByZXZTaWJsaW5nKTt0aGlzLiQkcHJldlNpYmxpbmcmJlxuKHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nPXRoaXMuJCRuZXh0U2libGluZyk7dGhpcy4kJG5leHRTaWJsaW5nJiYodGhpcy4kJG5leHRTaWJsaW5nLiQkcHJldlNpYmxpbmc9dGhpcy4kJHByZXZTaWJsaW5nKTt0aGlzLiRkZXN0cm95PXRoaXMuJGRpZ2VzdD10aGlzLiRhcHBseT10aGlzLiRldmFsQXN5bmM9dGhpcy4kYXBwbHlBc3luYz16O3RoaXMuJG9uPXRoaXMuJHdhdGNoPXRoaXMuJHdhdGNoR3JvdXA9ZnVuY3Rpb24oKXtyZXR1cm4gen07dGhpcy4kJGxpc3RlbmVycz17fTt0aGlzLiQkbmV4dFNpYmxpbmc9bnVsbDtsKHRoaXMpfX0sJGV2YWw6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZyhhKSh0aGlzLGIpfSwkZXZhbEFzeW5jOmZ1bmN0aW9uKGEsYil7TS4kJHBoYXNlfHxzLmxlbmd0aHx8aC5kZWZlcihmdW5jdGlvbigpe3MubGVuZ3RoJiZNLiRkaWdlc3QoKX0pO3MucHVzaCh7c2NvcGU6dGhpcyxmbjpnKGEpLGxvY2FsczpifSl9LCQkcG9zdERpZ2VzdDpmdW5jdGlvbihhKXtBLnB1c2goYSl9LFxuJGFwcGx5OmZ1bmN0aW9uKGEpe3RyeXtuKFwiJGFwcGx5XCIpO3RyeXtyZXR1cm4gdGhpcy4kZXZhbChhKX1maW5hbGx5e00uJCRwaGFzZT1udWxsfX1jYXRjaChiKXtmKGIpfWZpbmFsbHl7dHJ5e00uJGRpZ2VzdCgpfWNhdGNoKGMpe3Rocm93IGYoYyksYzt9fX0sJGFwcGx5QXN5bmM6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYigpe2MuJGV2YWwoYSl9dmFyIGM9dGhpczthJiZ1LnB1c2goYik7YT1nKGEpO3QoKX0sJG9uOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcy4kJGxpc3RlbmVyc1thXTtjfHwodGhpcy4kJGxpc3RlbmVyc1thXT1jPVtdKTtjLnB1c2goYik7dmFyIGQ9dGhpcztkbyBkLiQkbGlzdGVuZXJDb3VudFthXXx8KGQuJCRsaXN0ZW5lckNvdW50W2FdPTApLGQuJCRsaXN0ZW5lckNvdW50W2FdKys7d2hpbGUoZD1kLiRwYXJlbnQpO3ZhciBlPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGQ9Yy5pbmRleE9mKGIpOy0xIT09ZCYmKGNbZF09bnVsbCxyKGUsMSxhKSl9fSwkZW1pdDpmdW5jdGlvbihhLFxuYil7dmFyIGM9W10sZCxlPXRoaXMsZz0hMSxoPXtuYW1lOmEsdGFyZ2V0U2NvcGU6ZSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXtnPSEwfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2guZGVmYXVsdFByZXZlbnRlZD0hMH0sZGVmYXVsdFByZXZlbnRlZDohMX0saz1hYihbaF0sYXJndW1lbnRzLDEpLGwsbTtkb3tkPWUuJCRsaXN0ZW5lcnNbYV18fGM7aC5jdXJyZW50U2NvcGU9ZTtsPTA7Zm9yKG09ZC5sZW5ndGg7bDxtO2wrKylpZihkW2xdKXRyeXtkW2xdLmFwcGx5KG51bGwsayl9Y2F0Y2gobil7ZihuKX1lbHNlIGQuc3BsaWNlKGwsMSksbC0tLG0tLTtpZihnKXJldHVybiBoLmN1cnJlbnRTY29wZT1udWxsLGg7ZT1lLiRwYXJlbnR9d2hpbGUoZSk7aC5jdXJyZW50U2NvcGU9bnVsbDtyZXR1cm4gaH0sJGJyb2FkY2FzdDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMsZD10aGlzLGU9e25hbWU6YSx0YXJnZXRTY29wZTp0aGlzLHByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7ZS5kZWZhdWx0UHJldmVudGVkPVxuITB9LGRlZmF1bHRQcmV2ZW50ZWQ6ITF9O2lmKCF0aGlzLiQkbGlzdGVuZXJDb3VudFthXSlyZXR1cm4gZTtmb3IodmFyIGc9YWIoW2VdLGFyZ3VtZW50cywxKSxoLGs7Yz1kOyl7ZS5jdXJyZW50U2NvcGU9YztkPWMuJCRsaXN0ZW5lcnNbYV18fFtdO2g9MDtmb3Ioaz1kLmxlbmd0aDtoPGs7aCsrKWlmKGRbaF0pdHJ5e2RbaF0uYXBwbHkobnVsbCxnKX1jYXRjaChsKXtmKGwpfWVsc2UgZC5zcGxpY2UoaCwxKSxoLS0say0tO2lmKCEoZD1jLiQkbGlzdGVuZXJDb3VudFthXSYmYy4kJGNoaWxkSGVhZHx8YyE9PXRoaXMmJmMuJCRuZXh0U2libGluZykpZm9yKDtjIT09dGhpcyYmIShkPWMuJCRuZXh0U2libGluZyk7KWM9Yy4kcGFyZW50fWUuY3VycmVudFNjb3BlPW51bGw7cmV0dXJuIGV9fTt2YXIgTT1uZXcgbSxzPU0uJCRhc3luY1F1ZXVlPVtdLEE9TS4kJHBvc3REaWdlc3RRdWV1ZT1bXSx1PU0uJCRhcHBseUFzeW5jUXVldWU9W10sST0wO3JldHVybiBNfV19ZnVuY3Rpb24gRWUoKXt2YXIgYT1cbi9eXFxzKihodHRwcz98ZnRwfG1haWx0b3x0ZWx8ZmlsZSk6LyxiPS9eXFxzKigoaHR0cHM/fGZ0cHxmaWxlfGJsb2IpOnxkYXRhOmltYWdlXFwvKS87dGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdD1mdW5jdGlvbihiKXtyZXR1cm4gdShiKT8oYT1iLHRoaXMpOmF9O3RoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0PWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpPyhiPWEsdGhpcyk6Yn07dGhpcy4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGU9Yz9iOmEsZjtmPUNhKGQpLmhyZWY7cmV0dXJuXCJcIj09PWZ8fGYubWF0Y2goZSk/ZDpcInVuc2FmZTpcIitmfX19ZnVuY3Rpb24gQ2coYSl7aWYoXCJzZWxmXCI9PT1hKXJldHVybiBhO2lmKEYoYSkpe2lmKC0xPGEuaW5kZXhPZihcIioqKlwiKSl0aHJvdyB0YShcIml3Y2FyZFwiLGEpO2E9S2QoYSkucmVwbGFjZSgvXFxcXFxcKlxcXFxcXCovZyxcIi4qXCIpLnJlcGxhY2UoL1xcXFxcXCovZyxcIlteOi8uPyY7XSpcIik7cmV0dXJuIG5ldyBSZWdFeHAoXCJeXCIrXG5hK1wiJFwiKX1pZihYYShhKSlyZXR1cm4gbmV3IFJlZ0V4cChcIl5cIithLnNvdXJjZStcIiRcIik7dGhyb3cgdGEoXCJpbWF0Y2hlclwiKTt9ZnVuY3Rpb24gTGQoYSl7dmFyIGI9W107dShhKSYmcShhLGZ1bmN0aW9uKGEpe2IucHVzaChDZyhhKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBRZigpe3RoaXMuU0NFX0NPTlRFWFRTPW9hO3ZhciBhPVtcInNlbGZcIl0sYj1bXTt0aGlzLnJlc291cmNlVXJsV2hpdGVsaXN0PWZ1bmN0aW9uKGIpe2FyZ3VtZW50cy5sZW5ndGgmJihhPUxkKGIpKTtyZXR1cm4gYX07dGhpcy5yZXNvdXJjZVVybEJsYWNrbGlzdD1mdW5jdGlvbihhKXthcmd1bWVudHMubGVuZ3RoJiYoYj1MZChhKSk7cmV0dXJuIGJ9O3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihkKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuXCJzZWxmXCI9PT1hP3lkKGIpOiEhYS5leGVjKGIuaHJlZil9ZnVuY3Rpb24gZShhKXt2YXIgYj1mdW5jdGlvbihhKXt0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlPVxuZnVuY3Rpb24oKXtyZXR1cm4gYX19O2EmJihiLnByb3RvdHlwZT1uZXcgYSk7Yi5wcm90b3R5cGUudmFsdWVPZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCl9O2IucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpfTtyZXR1cm4gYn12YXIgZj1mdW5jdGlvbihhKXt0aHJvdyB0YShcInVuc2FmZVwiKTt9O2QuaGFzKFwiJHNhbml0aXplXCIpJiYoZj1kLmdldChcIiRzYW5pdGl6ZVwiKSk7dmFyIGc9ZSgpLGg9e307aFtvYS5IVE1MXT1lKGcpO2hbb2EuQ1NTXT1lKGcpO2hbb2EuVVJMXT1lKGcpO2hbb2EuSlNdPWUoZyk7aFtvYS5SRVNPVVJDRV9VUkxdPWUoaFtvYS5VUkxdKTtyZXR1cm57dHJ1c3RBczpmdW5jdGlvbihhLGIpe3ZhciBjPWguaGFzT3duUHJvcGVydHkoYSk/aFthXTpudWxsO2lmKCFjKXRocm93IHRhKFwiaWNvbnRleHRcIixhLGIpO2lmKG51bGw9PT1ifHx3KGIpfHxcblwiXCI9PT1iKXJldHVybiBiO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYil0aHJvdyB0YShcIml0eXBlXCIsYSk7cmV0dXJuIG5ldyBjKGIpfSxnZXRUcnVzdGVkOmZ1bmN0aW9uKGQsZSl7aWYobnVsbD09PWV8fHcoZSl8fFwiXCI9PT1lKXJldHVybiBlO3ZhciBnPWguaGFzT3duUHJvcGVydHkoZCk/aFtkXTpudWxsO2lmKGcmJmUgaW5zdGFuY2VvZiBnKXJldHVybiBlLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7aWYoZD09PW9hLlJFU09VUkNFX1VSTCl7dmFyIGc9Q2EoZS50b1N0cmluZygpKSxuLHAscj0hMTtuPTA7Zm9yKHA9YS5sZW5ndGg7bjxwO24rKylpZihjKGFbbl0sZykpe3I9ITA7YnJlYWt9aWYocilmb3Iobj0wLHA9Yi5sZW5ndGg7bjxwO24rKylpZihjKGJbbl0sZykpe3I9ITE7YnJlYWt9aWYocilyZXR1cm4gZTt0aHJvdyB0YShcImluc2VjdXJsXCIsZS50b1N0cmluZygpKTt9aWYoZD09PW9hLkhUTUwpcmV0dXJuIGYoZSk7dGhyb3cgdGEoXCJ1bnNhZmVcIik7fSx2YWx1ZU9mOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2Zcbmc/YS4kJHVud3JhcFRydXN0ZWRWYWx1ZSgpOmF9fX1dfWZ1bmN0aW9uIFBmKCl7dmFyIGE9ITA7dGhpcy5lbmFibGVkPWZ1bmN0aW9uKGIpe2FyZ3VtZW50cy5sZW5ndGgmJihhPSEhYik7cmV0dXJuIGF9O3RoaXMuJGdldD1bXCIkcGFyc2VcIixcIiRzY2VEZWxlZ2F0ZVwiLGZ1bmN0aW9uKGIsZCl7aWYoYSYmOD56YSl0aHJvdyB0YShcImllcXVpcmtzXCIpO3ZhciBjPXBhKG9hKTtjLmlzRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBhfTtjLnRydXN0QXM9ZC50cnVzdEFzO2MuZ2V0VHJ1c3RlZD1kLmdldFRydXN0ZWQ7Yy52YWx1ZU9mPWQudmFsdWVPZjthfHwoYy50cnVzdEFzPWMuZ2V0VHJ1c3RlZD1mdW5jdGlvbihhLGIpe3JldHVybiBifSxjLnZhbHVlT2Y9WWEpO2MucGFyc2VBcz1mdW5jdGlvbihhLGQpe3ZhciBlPWIoZCk7cmV0dXJuIGUubGl0ZXJhbCYmZS5jb25zdGFudD9lOmIoZCxmdW5jdGlvbihiKXtyZXR1cm4gYy5nZXRUcnVzdGVkKGEsYil9KX07dmFyIGU9Yy5wYXJzZUFzLFxuZj1jLmdldFRydXN0ZWQsZz1jLnRydXN0QXM7cShvYSxmdW5jdGlvbihhLGIpe3ZhciBkPVEoYik7Y1soXCJwYXJzZV9hc19cIitkKS5yZXBsYWNlKHhjLGdiKV09ZnVuY3Rpb24oYil7cmV0dXJuIGUoYSxiKX07Y1soXCJnZXRfdHJ1c3RlZF9cIitkKS5yZXBsYWNlKHhjLGdiKV09ZnVuY3Rpb24oYil7cmV0dXJuIGYoYSxiKX07Y1soXCJ0cnVzdF9hc19cIitkKS5yZXBsYWNlKHhjLGdiKV09ZnVuY3Rpb24oYil7cmV0dXJuIGcoYSxiKX19KTtyZXR1cm4gY31dfWZ1bmN0aW9uIFJmKCl7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEsYil7dmFyIGQ9e30sYz0hKCghYS5ud3x8IWEubncucHJvY2VzcykmJmEuY2hyb21lJiYoYS5jaHJvbWUuYXBwJiZhLmNocm9tZS5hcHAucnVudGltZXx8IWEuY2hyb21lLmFwcCYmYS5jaHJvbWUucnVudGltZSYmYS5jaHJvbWUucnVudGltZS5pZCkpJiZhLmhpc3RvcnkmJmEuaGlzdG9yeS5wdXNoU3RhdGUsZT1aKCgvYW5kcm9pZCAoXFxkKykvLmV4ZWMoUSgoYS5uYXZpZ2F0b3J8fFxue30pLnVzZXJBZ2VudCkpfHxbXSlbMV0pLGY9L0JveGVlL2kudGVzdCgoYS5uYXZpZ2F0b3J8fHt9KS51c2VyQWdlbnQpLGc9YlswXXx8e30saD1nLmJvZHkmJmcuYm9keS5zdHlsZSxrPSExLGw9ITE7aCYmKGs9ISEoXCJ0cmFuc2l0aW9uXCJpbiBofHxcIndlYmtpdFRyYW5zaXRpb25cImluIGgpLGw9ISEoXCJhbmltYXRpb25cImluIGh8fFwid2Via2l0QW5pbWF0aW9uXCJpbiBoKSk7cmV0dXJue2hpc3Rvcnk6ISghY3x8ND5lfHxmKSxoYXNFdmVudDpmdW5jdGlvbihhKXtpZihcImlucHV0XCI9PT1hJiZ6YSlyZXR1cm4hMTtpZih3KGRbYV0pKXt2YXIgYj1nLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7ZFthXT1cIm9uXCIrYSBpbiBifXJldHVybiBkW2FdfSxjc3A6R2EoKSx0cmFuc2l0aW9uczprLGFuaW1hdGlvbnM6bCxhbmRyb2lkOmV9fV19ZnVuY3Rpb24gVGYoKXt2YXIgYTt0aGlzLmh0dHBPcHRpb25zPWZ1bmN0aW9uKGIpe3JldHVybiBiPyhhPWIsdGhpcyk6YX07dGhpcy4kZ2V0PVtcIiRleGNlcHRpb25IYW5kbGVyXCIsXG5cIiR0ZW1wbGF0ZUNhY2hlXCIsXCIkaHR0cFwiLFwiJHFcIixcIiRzY2VcIixmdW5jdGlvbihiLGQsYyxlLGYpe2Z1bmN0aW9uIGcoaCxrKXtnLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7aWYoIUYoaCl8fHcoZC5nZXQoaCkpKWg9Zi5nZXRUcnVzdGVkUmVzb3VyY2VVcmwoaCk7dmFyIGw9Yy5kZWZhdWx0cyYmYy5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZTtIKGwpP2w9bC5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1uY30pOmw9PT1uYyYmKGw9bnVsbCk7cmV0dXJuIGMuZ2V0KGgsUyh7Y2FjaGU6ZCx0cmFuc2Zvcm1SZXNwb25zZTpsfSxhKSkuZmluYWxseShmdW5jdGlvbigpe2cudG90YWxQZW5kaW5nUmVxdWVzdHMtLX0pLnRoZW4oZnVuY3Rpb24oYSl7ZC5wdXQoaCxhLmRhdGEpO3JldHVybiBhLmRhdGF9LGZ1bmN0aW9uKGEpe2t8fChhPURnKFwidHBsb2FkXCIsaCxhLnN0YXR1cyxhLnN0YXR1c1RleHQpLGIoYSkpO3JldHVybiBlLnJlamVjdChhKX0pfWcudG90YWxQZW5kaW5nUmVxdWVzdHM9XG4wO3JldHVybiBnfV19ZnVuY3Rpb24gVWYoKXt0aGlzLiRnZXQ9W1wiJHJvb3RTY29wZVwiLFwiJGJyb3dzZXJcIixcIiRsb2NhdGlvblwiLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm57ZmluZEJpbmRpbmdzOmZ1bmN0aW9uKGEsYixkKXthPWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm5nLWJpbmRpbmdcIik7dmFyIGc9W107cShhLGZ1bmN0aW9uKGEpe3ZhciBjPWVhLmVsZW1lbnQoYSkuZGF0YShcIiRiaW5kaW5nXCIpO2MmJnEoYyxmdW5jdGlvbihjKXtkPyhuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIrS2QoYikrXCIoXFxcXHN8XFxcXHx8JClcIikpLnRlc3QoYykmJmcucHVzaChhKTotMSE9PWMuaW5kZXhPZihiKSYmZy5wdXNoKGEpfSl9KTtyZXR1cm4gZ30sZmluZE1vZGVsczpmdW5jdGlvbihhLGIsZCl7Zm9yKHZhciBnPVtcIm5nLVwiLFwiZGF0YS1uZy1cIixcIm5nXFxcXDpcIl0saD0wO2g8Zy5sZW5ndGg7KytoKXt2YXIgaz1hLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIrZ1toXStcIm1vZGVsXCIrKGQ/XCI9XCI6XCIqPVwiKSsnXCInK2IrXG4nXCJdJyk7aWYoay5sZW5ndGgpcmV0dXJuIGt9fSxnZXRMb2NhdGlvbjpmdW5jdGlvbigpe3JldHVybiBkLnVybCgpfSxzZXRMb2NhdGlvbjpmdW5jdGlvbihiKXtiIT09ZC51cmwoKSYmKGQudXJsKGIpLGEuJGRpZ2VzdCgpKX0sd2hlblN0YWJsZTpmdW5jdGlvbihhKXtiLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoYSl9fX1dfWZ1bmN0aW9uIFZmKCl7dGhpcy4kZ2V0PVtcIiRyb290U2NvcGVcIixcIiRicm93c2VyXCIsXCIkcVwiLFwiJCRxXCIsXCIkZXhjZXB0aW9uSGFuZGxlclwiLGZ1bmN0aW9uKGEsYixkLGMsZSl7ZnVuY3Rpb24gZihmLGssbCl7RChmKXx8KGw9ayxrPWYsZj16KTt2YXIgbT12YS5jYWxsKGFyZ3VtZW50cywzKSxuPXUobCkmJiFsLHA9KG4/YzpkKS5kZWZlcigpLHI9cC5wcm9taXNlLHE7cT1iLmRlZmVyKGZ1bmN0aW9uKCl7dHJ5e3AucmVzb2x2ZShmLmFwcGx5KG51bGwsbSkpfWNhdGNoKGIpe3AucmVqZWN0KGIpLGUoYil9ZmluYWxseXtkZWxldGUgZ1tyLiQkdGltZW91dElkXX1ufHxcbmEuJGFwcGx5KCl9LGspO3IuJCR0aW1lb3V0SWQ9cTtnW3FdPXA7cmV0dXJuIHJ9dmFyIGc9e307Zi5jYW5jZWw9ZnVuY3Rpb24oYSl7cmV0dXJuIGEmJmEuJCR0aW1lb3V0SWQgaW4gZz8oZ1thLiQkdGltZW91dElkXS5wcm9taXNlLmNhdGNoKHopLGdbYS4kJHRpbWVvdXRJZF0ucmVqZWN0KFwiY2FuY2VsZWRcIiksZGVsZXRlIGdbYS4kJHRpbWVvdXRJZF0sYi5kZWZlci5jYW5jZWwoYS4kJHRpbWVvdXRJZCkpOiExfTtyZXR1cm4gZn1dfWZ1bmN0aW9uIENhKGEpe3phJiYoYWEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLGEpLGE9YWEuaHJlZik7YWEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLGEpO3JldHVybntocmVmOmFhLmhyZWYscHJvdG9jb2w6YWEucHJvdG9jb2w/YWEucHJvdG9jb2wucmVwbGFjZSgvOiQvLFwiXCIpOlwiXCIsaG9zdDphYS5ob3N0LHNlYXJjaDphYS5zZWFyY2g/YWEuc2VhcmNoLnJlcGxhY2UoL15cXD8vLFwiXCIpOlwiXCIsaGFzaDphYS5oYXNoP2FhLmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlxuXCJcIixob3N0bmFtZTphYS5ob3N0bmFtZSxwb3J0OmFhLnBvcnQscGF0aG5hbWU6XCIvXCI9PT1hYS5wYXRobmFtZS5jaGFyQXQoMCk/YWEucGF0aG5hbWU6XCIvXCIrYWEucGF0aG5hbWV9fWZ1bmN0aW9uIHlkKGEpe2E9RihhKT9DYShhKTphO3JldHVybiBhLnByb3RvY29sPT09TWQucHJvdG9jb2wmJmEuaG9zdD09PU1kLmhvc3R9ZnVuY3Rpb24gV2YoKXt0aGlzLiRnZXQ9bGEoeCl9ZnVuY3Rpb24gTmQoYSl7ZnVuY3Rpb24gYihhKXt0cnl7cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhKX1jYXRjaChiKXtyZXR1cm4gYX19dmFyIGQ9YVswXXx8e30sYz17fSxlPVwiXCI7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGEsZyxoLGssbDt0cnl7YT1kLmNvb2tpZXx8XCJcIn1jYXRjaChtKXthPVwiXCJ9aWYoYSE9PWUpZm9yKGU9YSxhPWUuc3BsaXQoXCI7IFwiKSxjPXt9LGg9MDtoPGEubGVuZ3RoO2grKylnPWFbaF0saz1nLmluZGV4T2YoXCI9XCIpLDA8ayYmKGw9YihnLnN1YnN0cmluZygwLGspKSx3KGNbbF0pJiZcbihjW2xdPWIoZy5zdWJzdHJpbmcoaysxKSkpKTtyZXR1cm4gY319ZnVuY3Rpb24gJGYoKXt0aGlzLiRnZXQ9TmR9ZnVuY3Rpb24gY2QoYSl7ZnVuY3Rpb24gYihkLGMpe2lmKEMoZCkpe3ZhciBlPXt9O3EoZCxmdW5jdGlvbihhLGMpe2VbY109YihjLGEpfSk7cmV0dXJuIGV9cmV0dXJuIGEuZmFjdG9yeShkK1wiRmlsdGVyXCIsYyl9dGhpcy5yZWdpc3Rlcj1iO3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGEuZ2V0KGIrXCJGaWx0ZXJcIil9fV07YihcImN1cnJlbmN5XCIsT2QpO2IoXCJkYXRlXCIsUGQpO2IoXCJmaWx0ZXJcIixFZyk7YihcImpzb25cIixGZyk7YihcImxpbWl0VG9cIixHZyk7YihcImxvd2VyY2FzZVwiLEhnKTtiKFwibnVtYmVyXCIsUWQpO2IoXCJvcmRlckJ5XCIsUmQpO2IoXCJ1cHBlcmNhc2VcIixJZyl9ZnVuY3Rpb24gRWcoKXtyZXR1cm4gZnVuY3Rpb24oYSxiLGQsYyl7aWYoIXFhKGEpKXtpZihudWxsPT1hKXJldHVybiBhO3Rocm93IEwoXCJmaWx0ZXJcIikoXCJub3RhcnJheVwiLFxuYSk7fWM9Y3x8XCIkXCI7dmFyIGU7c3dpdGNoKHljKGIpKXtjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztjYXNlIFwiYm9vbGVhblwiOmNhc2UgXCJudWxsXCI6Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJzdHJpbmdcIjplPSEwO2Nhc2UgXCJvYmplY3RcIjpiPUpnKGIsZCxjLGUpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGF9cmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhLGIpfX1mdW5jdGlvbiBKZyhhLGIsZCxjKXt2YXIgZT1DKGEpJiZkIGluIGE7ITA9PT1iP2I9c2E6RChiKXx8KGI9ZnVuY3Rpb24oYSxiKXtpZih3KGEpKXJldHVybiExO2lmKG51bGw9PT1hfHxudWxsPT09YilyZXR1cm4gYT09PWI7aWYoQyhiKXx8QyhhKSYmIVdiKGEpKXJldHVybiExO2E9UShcIlwiK2EpO2I9UShcIlwiK2IpO3JldHVybi0xIT09YS5pbmRleE9mKGIpfSk7cmV0dXJuIGZ1bmN0aW9uKGYpe3JldHVybiBlJiYhQyhmKT9FYShmLGFbZF0sYixkLCExKTpFYShmLGEsYixkLGMpfX1mdW5jdGlvbiBFYShhLGIsZCxjLGUsXG5mKXt2YXIgZz15YyhhKSxoPXljKGIpO2lmKFwic3RyaW5nXCI9PT1oJiZcIiFcIj09PWIuY2hhckF0KDApKXJldHVybiFFYShhLGIuc3Vic3RyaW5nKDEpLGQsYyxlKTtpZihIKGEpKXJldHVybiBhLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIEVhKGEsYixkLGMsZSl9KTtzd2l0Y2goZyl7Y2FzZSBcIm9iamVjdFwiOnZhciBrO2lmKGUpe2ZvcihrIGluIGEpaWYoay5jaGFyQXQmJlwiJFwiIT09ay5jaGFyQXQoMCkmJkVhKGFba10sYixkLGMsITApKXJldHVybiEwO3JldHVybiBmPyExOkVhKGEsYixkLGMsITEpfWlmKFwib2JqZWN0XCI9PT1oKXtmb3IoayBpbiBiKWlmKGY9YltrXSwhRChmKSYmIXcoZikmJihnPWs9PT1jLCFFYShnP2E6YVtrXSxmLGQsYyxnLGcpKSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4gZChhLGIpO2Nhc2UgXCJmdW5jdGlvblwiOnJldHVybiExO2RlZmF1bHQ6cmV0dXJuIGQoYSxiKX19ZnVuY3Rpb24geWMoYSl7cmV0dXJuIG51bGw9PT1hP1wibnVsbFwiOnR5cGVvZiBhfWZ1bmN0aW9uIE9kKGEpe3ZhciBiPVxuYS5OVU1CRVJfRk9STUFUUztyZXR1cm4gZnVuY3Rpb24oYSxjLGUpe3coYykmJihjPWIuQ1VSUkVOQ1lfU1lNKTt3KGUpJiYoZT1iLlBBVFRFUk5TWzFdLm1heEZyYWMpO3JldHVybiBudWxsPT1hP2E6U2QoYSxiLlBBVFRFUk5TWzFdLGIuR1JPVVBfU0VQLGIuREVDSU1BTF9TRVAsZSkucmVwbGFjZSgvXFx1MDBBNC9nLGMpfX1mdW5jdGlvbiBRZChhKXt2YXIgYj1hLk5VTUJFUl9GT1JNQVRTO3JldHVybiBmdW5jdGlvbihhLGMpe3JldHVybiBudWxsPT1hP2E6U2QoYSxiLlBBVFRFUk5TWzBdLGIuR1JPVVBfU0VQLGIuREVDSU1BTF9TRVAsYyl9fWZ1bmN0aW9uIEtnKGEpe3ZhciBiPTAsZCxjLGUsZixnOy0xPChjPWEuaW5kZXhPZihUZCkpJiYoYT1hLnJlcGxhY2UoVGQsXCJcIikpOzA8KGU9YS5zZWFyY2goL2UvaSkpPygwPmMmJihjPWUpLGMrPSthLnNsaWNlKGUrMSksYT1hLnN1YnN0cmluZygwLGUpKTowPmMmJihjPWEubGVuZ3RoKTtmb3IoZT0wO2EuY2hhckF0KGUpPT09emM7ZSsrKTtcbmlmKGU9PT0oZz1hLmxlbmd0aCkpZD1bMF0sYz0xO2Vsc2V7Zm9yKGctLTthLmNoYXJBdChnKT09PXpjOylnLS07Yy09ZTtkPVtdO2ZvcihmPTA7ZTw9ZztlKyssZisrKWRbZl09K2EuY2hhckF0KGUpfWM+VWQmJihkPWQuc3BsaWNlKDAsVWQtMSksYj1jLTEsYz0xKTtyZXR1cm57ZDpkLGU6YixpOmN9fWZ1bmN0aW9uIExnKGEsYixkLGMpe3ZhciBlPWEuZCxmPWUubGVuZ3RoLWEuaTtiPXcoYik/TWF0aC5taW4oTWF0aC5tYXgoZCxmKSxjKTorYjtkPWIrYS5pO2M9ZVtkXTtpZigwPGQpe2Uuc3BsaWNlKE1hdGgubWF4KGEuaSxkKSk7Zm9yKHZhciBnPWQ7ZzxlLmxlbmd0aDtnKyspZVtnXT0wfWVsc2UgZm9yKGY9TWF0aC5tYXgoMCxmKSxhLmk9MSxlLmxlbmd0aD1NYXRoLm1heCgxLGQ9YisxKSxlWzBdPTAsZz0xO2c8ZDtnKyspZVtnXT0wO2lmKDU8PWMpaWYoMD5kLTEpe2ZvcihjPTA7Yz5kO2MtLSllLnVuc2hpZnQoMCksYS5pKys7ZS51bnNoaWZ0KDEpO2EuaSsrfWVsc2UgZVtkLVxuMV0rKztmb3IoO2Y8TWF0aC5tYXgoMCxiKTtmKyspZS5wdXNoKDApO2lmKGI9ZS5yZWR1Y2VSaWdodChmdW5jdGlvbihhLGIsYyxkKXtiKz1hO2RbY109YiUxMDtyZXR1cm4gTWF0aC5mbG9vcihiLzEwKX0sMCkpZS51bnNoaWZ0KGIpLGEuaSsrfWZ1bmN0aW9uIFNkKGEsYixkLGMsZSl7aWYoIUYoYSkmJiFiYShhKXx8aXNOYU4oYSkpcmV0dXJuXCJcIjt2YXIgZj0haXNGaW5pdGUoYSksZz0hMSxoPU1hdGguYWJzKGEpK1wiXCIsaz1cIlwiO2lmKGYpaz1cIlxcdTIyMWVcIjtlbHNle2c9S2coaCk7TGcoZyxlLGIubWluRnJhYyxiLm1heEZyYWMpO2s9Zy5kO2g9Zy5pO2U9Zy5lO2Y9W107Zm9yKGc9ay5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSYmIWJ9LCEwKTswPmg7KWsudW5zaGlmdCgwKSxoKys7MDxoP2Y9ay5zcGxpY2UoaCxrLmxlbmd0aCk6KGY9ayxrPVswXSk7aD1bXTtmb3Ioay5sZW5ndGg+PWIubGdTaXplJiZoLnVuc2hpZnQoay5zcGxpY2UoLWIubGdTaXplLGsubGVuZ3RoKS5qb2luKFwiXCIpKTtrLmxlbmd0aD5cbmIuZ1NpemU7KWgudW5zaGlmdChrLnNwbGljZSgtYi5nU2l6ZSxrLmxlbmd0aCkuam9pbihcIlwiKSk7ay5sZW5ndGgmJmgudW5zaGlmdChrLmpvaW4oXCJcIikpO2s9aC5qb2luKGQpO2YubGVuZ3RoJiYoays9YytmLmpvaW4oXCJcIikpO2UmJihrKz1cImUrXCIrZSl9cmV0dXJuIDA+YSYmIWc/Yi5uZWdQcmUraytiLm5lZ1N1ZjpiLnBvc1ByZStrK2IucG9zU3VmfWZ1bmN0aW9uIEtiKGEsYixkLGMpe3ZhciBlPVwiXCI7aWYoMD5hfHxjJiYwPj1hKWM/YT0tYSsxOihhPS1hLGU9XCItXCIpO2ZvcihhPVwiXCIrYTthLmxlbmd0aDxiOylhPXpjK2E7ZCYmKGE9YS5zdWJzdHIoYS5sZW5ndGgtYikpO3JldHVybiBlK2F9ZnVuY3Rpb24gWShhLGIsZCxjLGUpe2Q9ZHx8MDtyZXR1cm4gZnVuY3Rpb24oZil7Zj1mW1wiZ2V0XCIrYV0oKTtpZigwPGR8fGY+LWQpZis9ZDswPT09ZiYmLTEyPT09ZCYmKGY9MTIpO3JldHVybiBLYihmLGIsYyxlKX19ZnVuY3Rpb24gbWIoYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUpe3ZhciBmPVxuY1tcImdldFwiK2FdKCksZz11YigoZD9cIlNUQU5EQUxPTkVcIjpcIlwiKSsoYj9cIlNIT1JUXCI6XCJcIikrYSk7cmV0dXJuIGVbZ11bZl19fWZ1bmN0aW9uIFZkKGEpe3ZhciBiPShuZXcgRGF0ZShhLDAsMSkpLmdldERheSgpO3JldHVybiBuZXcgRGF0ZShhLDAsKDQ+PWI/NToxMiktYil9ZnVuY3Rpb24gV2QoYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBkPVZkKGIuZ2V0RnVsbFllYXIoKSk7Yj0rbmV3IERhdGUoYi5nZXRGdWxsWWVhcigpLGIuZ2V0TW9udGgoKSxiLmdldERhdGUoKSsoNC1iLmdldERheSgpKSktK2Q7Yj0xK01hdGgucm91bmQoYi82MDQ4RTUpO3JldHVybiBLYihiLGEpfX1mdW5jdGlvbiBBYyhhLGIpe3JldHVybiAwPj1hLmdldEZ1bGxZZWFyKCk/Yi5FUkFTWzBdOmIuRVJBU1sxXX1mdW5jdGlvbiBQZChhKXtmdW5jdGlvbiBiKGEpe3ZhciBiO2lmKGI9YS5tYXRjaChkKSl7YT1uZXcgRGF0ZSgwKTt2YXIgZj0wLGc9MCxoPWJbOF0/YS5zZXRVVENGdWxsWWVhcjphLnNldEZ1bGxZZWFyLFxuaz1iWzhdP2Euc2V0VVRDSG91cnM6YS5zZXRIb3VycztiWzldJiYoZj1aKGJbOV0rYlsxMF0pLGc9WihiWzldK2JbMTFdKSk7aC5jYWxsKGEsWihiWzFdKSxaKGJbMl0pLTEsWihiWzNdKSk7Zj1aKGJbNF18fDApLWY7Zz1aKGJbNV18fDApLWc7aD1aKGJbNl18fDApO2I9TWF0aC5yb3VuZCgxRTMqcGFyc2VGbG9hdChcIjAuXCIrKGJbN118fDApKSk7ay5jYWxsKGEsZixnLGgsYil9cmV0dXJuIGF9dmFyIGQ9L14oXFxkezR9KS0/KFxcZFxcZCktPyhcXGRcXGQpKD86VChcXGRcXGQpKD86Oj8oXFxkXFxkKSg/Ojo/KFxcZFxcZCkoPzpcXC4oXFxkKykpPyk/KT8oWnwoWystXSkoXFxkXFxkKTo/KFxcZFxcZCkpPyk/JC87cmV0dXJuIGZ1bmN0aW9uKGMsZCxmKXt2YXIgZz1cIlwiLGg9W10sayxsO2Q9ZHx8XCJtZWRpdW1EYXRlXCI7ZD1hLkRBVEVUSU1FX0ZPUk1BVFNbZF18fGQ7RihjKSYmKGM9TWcudGVzdChjKT9aKGMpOmIoYykpO2JhKGMpJiYoYz1uZXcgRGF0ZShjKSk7aWYoIWdhKGMpfHwhaXNGaW5pdGUoYy5nZXRUaW1lKCkpKXJldHVybiBjO1xuZm9yKDtkOykobD1OZy5leGVjKGQpKT8oaD1hYihoLGwsMSksZD1oLnBvcCgpKTooaC5wdXNoKGQpLGQ9bnVsbCk7dmFyIG09Yy5nZXRUaW1lem9uZU9mZnNldCgpO2YmJihtPVBjKGYsbSksYz1ZYihjLGYsITApKTtxKGgsZnVuY3Rpb24oYil7az1PZ1tiXTtnKz1rP2soYyxhLkRBVEVUSU1FX0ZPUk1BVFMsbSk6XCInJ1wiPT09Yj9cIidcIjpiLnJlcGxhY2UoLyheJ3wnJCkvZyxcIlwiKS5yZXBsYWNlKC8nJy9nLFwiJ1wiKX0pO3JldHVybiBnfX1mdW5jdGlvbiBGZygpe3JldHVybiBmdW5jdGlvbihhLGIpe3coYikmJihiPTIpO3JldHVybiBjYihhLGIpfX1mdW5jdGlvbiBHZygpe3JldHVybiBmdW5jdGlvbihhLGIsZCl7Yj1JbmZpbml0eT09PU1hdGguYWJzKE51bWJlcihiKSk/TnVtYmVyKGIpOlooYik7aWYoZGEoYikpcmV0dXJuIGE7YmEoYSkmJihhPWEudG9TdHJpbmcoKSk7aWYoIXFhKGEpKXJldHVybiBhO2Q9IWR8fGlzTmFOKGQpPzA6WihkKTtkPTA+ZD9NYXRoLm1heCgwLGEubGVuZ3RoK1xuZCk6ZDtyZXR1cm4gMDw9Yj9CYyhhLGQsZCtiKTowPT09ZD9CYyhhLGIsYS5sZW5ndGgpOkJjKGEsTWF0aC5tYXgoMCxkK2IpLGQpfX1mdW5jdGlvbiBCYyhhLGIsZCl7cmV0dXJuIEYoYSk/YS5zbGljZShiLGQpOnZhLmNhbGwoYSxiLGQpfWZ1bmN0aW9uIFJkKGEpe2Z1bmN0aW9uIGIoYil7cmV0dXJuIGIubWFwKGZ1bmN0aW9uKGIpe3ZhciBjPTEsZD1ZYTtpZihEKGIpKWQ9YjtlbHNlIGlmKEYoYikpe2lmKFwiK1wiPT09Yi5jaGFyQXQoMCl8fFwiLVwiPT09Yi5jaGFyQXQoMCkpYz1cIi1cIj09PWIuY2hhckF0KDApPy0xOjEsYj1iLnN1YnN0cmluZygxKTtpZihcIlwiIT09YiYmKGQ9YShiKSxkLmNvbnN0YW50KSl2YXIgZT1kKCksZD1mdW5jdGlvbihhKXtyZXR1cm4gYVtlXX19cmV0dXJue2dldDpkLGRlc2NlbmRpbmc6Y319KX1mdW5jdGlvbiBkKGEpe3N3aXRjaCh0eXBlb2YgYSl7Y2FzZSBcIm51bWJlclwiOmNhc2UgXCJib29sZWFuXCI6Y2FzZSBcInN0cmluZ1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fVxuZnVuY3Rpb24gYyhhLGIpe3ZhciBjPTAsZD1hLnR5cGUsaz1iLnR5cGU7aWYoZD09PWspe3ZhciBrPWEudmFsdWUsbD1iLnZhbHVlO1wic3RyaW5nXCI9PT1kPyhrPWsudG9Mb3dlckNhc2UoKSxsPWwudG9Mb3dlckNhc2UoKSk6XCJvYmplY3RcIj09PWQmJihDKGspJiYoaz1hLmluZGV4KSxDKGwpJiYobD1iLmluZGV4KSk7ayE9PWwmJihjPWs8bD8tMToxKX1lbHNlIGM9ZDxrPy0xOjE7cmV0dXJuIGN9cmV0dXJuIGZ1bmN0aW9uKGEsZixnLGgpe2lmKG51bGw9PWEpcmV0dXJuIGE7aWYoIXFhKGEpKXRocm93IEwoXCJvcmRlckJ5XCIpKFwibm90YXJyYXlcIixhKTtIKGYpfHwoZj1bZl0pOzA9PT1mLmxlbmd0aCYmKGY9W1wiK1wiXSk7dmFyIGs9YihmKSxsPWc/LTE6MSxtPUQoaCk/aDpjO2E9QXJyYXkucHJvdG90eXBlLm1hcC5jYWxsKGEsZnVuY3Rpb24oYSxiKXtyZXR1cm57dmFsdWU6YSx0aWVCcmVha2VyOnt2YWx1ZTpiLHR5cGU6XCJudW1iZXJcIixpbmRleDpifSxwcmVkaWNhdGVWYWx1ZXM6ay5tYXAoZnVuY3Rpb24oYyl7dmFyIGU9XG5jLmdldChhKTtjPXR5cGVvZiBlO2lmKG51bGw9PT1lKWM9XCJzdHJpbmdcIixlPVwibnVsbFwiO2Vsc2UgaWYoXCJvYmplY3RcIj09PWMpYTp7aWYoRChlLnZhbHVlT2YpJiYoZT1lLnZhbHVlT2YoKSxkKGUpKSlicmVhayBhO1diKGUpJiYoZT1lLnRvU3RyaW5nKCksZChlKSl9cmV0dXJue3ZhbHVlOmUsdHlwZTpjLGluZGV4OmJ9fSl9fSk7YS5zb3J0KGZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPTAsZD1rLmxlbmd0aDtjPGQ7YysrKXt2YXIgZT1tKGEucHJlZGljYXRlVmFsdWVzW2NdLGIucHJlZGljYXRlVmFsdWVzW2NdKTtpZihlKXJldHVybiBlKmtbY10uZGVzY2VuZGluZypsfXJldHVybiBtKGEudGllQnJlYWtlcixiLnRpZUJyZWFrZXIpKmx9KTtyZXR1cm4gYT1hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52YWx1ZX0pfX1mdW5jdGlvbiBRYShhKXtEKGEpJiYoYT17bGluazphfSk7YS5yZXN0cmljdD1hLnJlc3RyaWN0fHxcIkFDXCI7cmV0dXJuIGxhKGEpfWZ1bmN0aW9uIExiKGEsYixkLFxuYyxlKXt0aGlzLiQkY29udHJvbHM9W107dGhpcy4kZXJyb3I9e307dGhpcy4kJHN1Y2Nlc3M9e307dGhpcy4kcGVuZGluZz12b2lkIDA7dGhpcy4kbmFtZT1lKGIubmFtZXx8Yi5uZ0Zvcm18fFwiXCIpKGQpO3RoaXMuJGRpcnR5PSExO3RoaXMuJHZhbGlkPXRoaXMuJHByaXN0aW5lPSEwO3RoaXMuJHN1Ym1pdHRlZD10aGlzLiRpbnZhbGlkPSExO3RoaXMuJCRwYXJlbnRGb3JtPU1iO3RoaXMuJCRlbGVtZW50PWE7dGhpcy4kJGFuaW1hdGU9YztYZCh0aGlzKX1mdW5jdGlvbiBYZChhKXthLiQkY2xhc3NDYWNoZT17fTthLiQkY2xhc3NDYWNoZVtZZF09IShhLiQkY2xhc3NDYWNoZVtuYl09YS4kJGVsZW1lbnQuaGFzQ2xhc3MobmIpKX1mdW5jdGlvbiBaZChhKXtmdW5jdGlvbiBiKGEsYixjKXtjJiYhYS4kJGNsYXNzQ2FjaGVbYl0/KGEuJCRhbmltYXRlLmFkZENsYXNzKGEuJCRlbGVtZW50LGIpLGEuJCRjbGFzc0NhY2hlW2JdPSEwKTohYyYmYS4kJGNsYXNzQ2FjaGVbYl0mJihhLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyhhLiQkZWxlbWVudCxcbmIpLGEuJCRjbGFzc0NhY2hlW2JdPSExKX1mdW5jdGlvbiBkKGEsYyxkKXtjPWM/XCItXCIrVGMoYyxcIi1cIik6XCJcIjtiKGEsbmIrYywhMD09PWQpO2IoYSxZZCtjLCExPT09ZCl9dmFyIGM9YS5zZXQsZT1hLnVuc2V0O2EuY2xhenoucHJvdG90eXBlLiRzZXRWYWxpZGl0eT1mdW5jdGlvbihhLGcsaCl7dyhnKT8odGhpcy4kcGVuZGluZ3x8KHRoaXMuJHBlbmRpbmc9e30pLGModGhpcy4kcGVuZGluZyxhLGgpKToodGhpcy4kcGVuZGluZyYmZSh0aGlzLiRwZW5kaW5nLGEsaCksJGQodGhpcy4kcGVuZGluZykmJih0aGlzLiRwZW5kaW5nPXZvaWQgMCkpO0hhKGcpP2c/KGUodGhpcy4kZXJyb3IsYSxoKSxjKHRoaXMuJCRzdWNjZXNzLGEsaCkpOihjKHRoaXMuJGVycm9yLGEsaCksZSh0aGlzLiQkc3VjY2VzcyxhLGgpKTooZSh0aGlzLiRlcnJvcixhLGgpLGUodGhpcy4kJHN1Y2Nlc3MsYSxoKSk7dGhpcy4kcGVuZGluZz8oYih0aGlzLFwibmctcGVuZGluZ1wiLCEwKSx0aGlzLiR2YWxpZD10aGlzLiRpbnZhbGlkPVxudm9pZCAwLGQodGhpcyxcIlwiLG51bGwpKTooYih0aGlzLFwibmctcGVuZGluZ1wiLCExKSx0aGlzLiR2YWxpZD0kZCh0aGlzLiRlcnJvciksdGhpcy4kaW52YWxpZD0hdGhpcy4kdmFsaWQsZCh0aGlzLFwiXCIsdGhpcy4kdmFsaWQpKTtnPXRoaXMuJHBlbmRpbmcmJnRoaXMuJHBlbmRpbmdbYV0/dm9pZCAwOnRoaXMuJGVycm9yW2FdPyExOnRoaXMuJCRzdWNjZXNzW2FdPyEwOm51bGw7ZCh0aGlzLGEsZyk7dGhpcy4kJHBhcmVudEZvcm0uJHNldFZhbGlkaXR5KGEsZyx0aGlzKX19ZnVuY3Rpb24gJGQoYSl7aWYoYSlmb3IodmFyIGIgaW4gYSlpZihhLmhhc093blByb3BlcnR5KGIpKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIENjKGEpe2EuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihiKXtyZXR1cm4gYS4kaXNFbXB0eShiKT9iOmIudG9TdHJpbmcoKX0pfWZ1bmN0aW9uIFJhKGEsYixkLGMsZSxmKXt2YXIgZz1RKGJbMF0udHlwZSk7aWYoIWUuYW5kcm9pZCl7dmFyIGg9ITE7Yi5vbihcImNvbXBvc2l0aW9uc3RhcnRcIixcbmZ1bmN0aW9uKCl7aD0hMH0pO2Iub24oXCJjb21wb3NpdGlvbmVuZFwiLGZ1bmN0aW9uKCl7aD0hMTtsKCl9KX12YXIgayxsPWZ1bmN0aW9uKGEpe2smJihmLmRlZmVyLmNhbmNlbChrKSxrPW51bGwpO2lmKCFoKXt2YXIgZT1iLnZhbCgpO2E9YSYmYS50eXBlO1wicGFzc3dvcmRcIj09PWd8fGQubmdUcmltJiZcImZhbHNlXCI9PT1kLm5nVHJpbXx8KGU9VChlKSk7KGMuJHZpZXdWYWx1ZSE9PWV8fFwiXCI9PT1lJiZjLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykmJmMuJHNldFZpZXdWYWx1ZShlLGEpfX07aWYoZS5oYXNFdmVudChcImlucHV0XCIpKWIub24oXCJpbnB1dFwiLGwpO2Vsc2V7dmFyIG09ZnVuY3Rpb24oYSxiLGMpe2t8fChrPWYuZGVmZXIoZnVuY3Rpb24oKXtrPW51bGw7YiYmYi52YWx1ZT09PWN8fGwoYSl9KSl9O2Iub24oXCJrZXlkb3duXCIsZnVuY3Rpb24oYSl7dmFyIGI9YS5rZXlDb2RlOzkxPT09Ynx8MTU8YiYmMTk+Ynx8Mzc8PWImJjQwPj1ifHxtKGEsdGhpcyx0aGlzLnZhbHVlKX0pO2lmKGUuaGFzRXZlbnQoXCJwYXN0ZVwiKSliLm9uKFwicGFzdGUgY3V0XCIsXG5tKX1iLm9uKFwiY2hhbmdlXCIsbCk7aWYoYWVbZ10mJmMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzJiZnPT09ZC50eXBlKWIub24oXCJrZXlkb3duIHdoZWVsIG1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2lmKCFrKXt2YXIgYj10aGlzLnZhbGlkaXR5LGM9Yi5iYWRJbnB1dCxkPWIudHlwZU1pc21hdGNoO2s9Zi5kZWZlcihmdW5jdGlvbigpe2s9bnVsbDtiLmJhZElucHV0PT09YyYmYi50eXBlTWlzbWF0Y2g9PT1kfHxsKGEpfSl9fSk7Yy4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9Yy4kaXNFbXB0eShjLiR2aWV3VmFsdWUpP1wiXCI6Yy4kdmlld1ZhbHVlO2IudmFsKCkhPT1hJiZiLnZhbChhKX19ZnVuY3Rpb24gTmIoYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjKXt2YXIgZSxmO2lmKGdhKGQpKXJldHVybiBkO2lmKEYoZCkpeydcIic9PT1kLmNoYXJBdCgwKSYmJ1wiJz09PWQuY2hhckF0KGQubGVuZ3RoLTEpJiYoZD1kLnN1YnN0cmluZygxLGQubGVuZ3RoLTEpKTtpZihQZy50ZXN0KGQpKXJldHVybiBuZXcgRGF0ZShkKTtcbmEubGFzdEluZGV4PTA7aWYoZT1hLmV4ZWMoZCkpcmV0dXJuIGUuc2hpZnQoKSxmPWM/e3l5eXk6Yy5nZXRGdWxsWWVhcigpLE1NOmMuZ2V0TW9udGgoKSsxLGRkOmMuZ2V0RGF0ZSgpLEhIOmMuZ2V0SG91cnMoKSxtbTpjLmdldE1pbnV0ZXMoKSxzczpjLmdldFNlY29uZHMoKSxzc3M6Yy5nZXRNaWxsaXNlY29uZHMoKS8xRTN9Ont5eXl5OjE5NzAsTU06MSxkZDoxLEhIOjAsbW06MCxzczowLHNzczowfSxxKGUsZnVuY3Rpb24oYSxjKXtjPGIubGVuZ3RoJiYoZltiW2NdXT0rYSl9KSxuZXcgRGF0ZShmLnl5eXksZi5NTS0xLGYuZGQsZi5ISCxmLm1tLGYuc3N8fDAsMUUzKmYuc3NzfHwwKX1yZXR1cm4gTmFOfX1mdW5jdGlvbiBvYihhLGIsZCxjKXtyZXR1cm4gZnVuY3Rpb24oZSxmLGcsaCxrLGwsbSl7ZnVuY3Rpb24gbihhKXtyZXR1cm4gYSYmIShhLmdldFRpbWUmJmEuZ2V0VGltZSgpIT09YS5nZXRUaW1lKCkpfWZ1bmN0aW9uIHAoYSl7cmV0dXJuIHUoYSkmJiFnYShhKT9kKGEpfHxcbnZvaWQgMDphfURjKGUsZixnLGgpO1JhKGUsZixnLGgsayxsKTt2YXIgcj1oJiZoLiRvcHRpb25zLmdldE9wdGlvbihcInRpbWV6b25lXCIpLHE7aC4kJHBhcnNlck5hbWU9YTtoLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoaC4kaXNFbXB0eShhKSlyZXR1cm4gbnVsbDtpZihiLnRlc3QoYSkpcmV0dXJuIGE9ZChhLHEpLHImJihhPVliKGEscikpLGF9KTtoLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7aWYoYSYmIWdhKGEpKXRocm93IHBiKFwiZGF0ZWZtdFwiLGEpO2lmKG4oYSkpcmV0dXJuKHE9YSkmJnImJihxPVliKHEsciwhMCkpLG0oXCJkYXRlXCIpKGEsYyxyKTtxPW51bGw7cmV0dXJuXCJcIn0pO2lmKHUoZy5taW4pfHxnLm5nTWluKXt2YXIgdjtoLiR2YWxpZGF0b3JzLm1pbj1mdW5jdGlvbihhKXtyZXR1cm4hbihhKXx8dyh2KXx8ZChhKT49dn07Zy4kb2JzZXJ2ZShcIm1pblwiLGZ1bmN0aW9uKGEpe3Y9cChhKTtoLiR2YWxpZGF0ZSgpfSl9aWYodShnLm1heCl8fGcubmdNYXgpe3ZhciB0O1xuaC4kdmFsaWRhdG9ycy5tYXg9ZnVuY3Rpb24oYSl7cmV0dXJuIW4oYSl8fHcodCl8fGQoYSk8PXR9O2cuJG9ic2VydmUoXCJtYXhcIixmdW5jdGlvbihhKXt0PXAoYSk7aC4kdmFsaWRhdGUoKX0pfX19ZnVuY3Rpb24gRGMoYSxiLGQsYyl7KGMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzPUMoYlswXS52YWxpZGl0eSkpJiZjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7dmFyIGM9Yi5wcm9wKFwidmFsaWRpdHlcIil8fHt9O3JldHVybiBjLmJhZElucHV0fHxjLnR5cGVNaXNtYXRjaD92b2lkIDA6YX0pfWZ1bmN0aW9uIGJlKGEpe2EuJCRwYXJzZXJOYW1lPVwibnVtYmVyXCI7YS4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKGIpe2lmKGEuJGlzRW1wdHkoYikpcmV0dXJuIG51bGw7aWYoUWcudGVzdChiKSlyZXR1cm4gcGFyc2VGbG9hdChiKX0pO2EuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihiKXtpZighYS4kaXNFbXB0eShiKSl7aWYoIWJhKGIpKXRocm93IHBiKFwibnVtZm10XCIsYik7Yj1iLnRvU3RyaW5nKCl9cmV0dXJuIGJ9KX1cbmZ1bmN0aW9uIFNhKGEpe3UoYSkmJiFiYShhKSYmKGE9cGFyc2VGbG9hdChhKSk7cmV0dXJuIGRhKGEpP3ZvaWQgMDphfWZ1bmN0aW9uIEVjKGEpe3ZhciBiPWEudG9TdHJpbmcoKSxkPWIuaW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PT1kPy0xPGEmJjE+YSYmKGE9L2UtKFxcZCspJC8uZXhlYyhiKSk/TnVtYmVyKGFbMV0pOjA6Yi5sZW5ndGgtZC0xfWZ1bmN0aW9uIGNlKGEsYixkKXthPU51bWJlcihhKTt2YXIgYz0oYXwwKSE9PWEsZT0oYnwwKSE9PWIsZj0oZHwwKSE9PWQ7aWYoY3x8ZXx8Zil7dmFyIGc9Yz9FYyhhKTowLGg9ZT9FYyhiKTowLGs9Zj9FYyhkKTowLGc9TWF0aC5tYXgoZyxoLGspLGc9TWF0aC5wb3coMTAsZyk7YSo9ZztiKj1nO2QqPWc7YyYmKGE9TWF0aC5yb3VuZChhKSk7ZSYmKGI9TWF0aC5yb3VuZChiKSk7ZiYmKGQ9TWF0aC5yb3VuZChkKSl9cmV0dXJuIDA9PT0oYS1iKSVkfWZ1bmN0aW9uIGRlKGEsYixkLGMsZSl7aWYodShjKSl7YT1hKGMpO2lmKCFhLmNvbnN0YW50KXRocm93IHBiKFwiY29uc3RleHByXCIsXG5kLGMpO3JldHVybiBhKGIpfXJldHVybiBlfWZ1bmN0aW9uIEZjKGEsYil7ZnVuY3Rpb24gZChhLGIpe2lmKCFhfHwhYS5sZW5ndGgpcmV0dXJuW107aWYoIWJ8fCFiLmxlbmd0aClyZXR1cm4gYTt2YXIgYz1bXSxkPTA7YTpmb3IoO2Q8YS5sZW5ndGg7ZCsrKXtmb3IodmFyIGU9YVtkXSxtPTA7bTxiLmxlbmd0aDttKyspaWYoZT09PWJbbV0pY29udGludWUgYTtjLnB1c2goZSl9cmV0dXJuIGN9ZnVuY3Rpb24gYyhhKXt2YXIgYj1hO0goYSk/Yj1hLm1hcChjKS5qb2luKFwiIFwiKTpDKGEpJiYoYj1PYmplY3Qua2V5cyhhKS5maWx0ZXIoZnVuY3Rpb24oYil7cmV0dXJuIGFbYl19KS5qb2luKFwiIFwiKSk7cmV0dXJuIGJ9YT1cIm5nQ2xhc3NcIithO3ZhciBlO3JldHVybltcIiRwYXJzZVwiLGZ1bmN0aW9uKGYpe3JldHVybntyZXN0cmljdDpcIkFDXCIsbGluazpmdW5jdGlvbihnLGgsayl7ZnVuY3Rpb24gbChhLGIpe3ZhciBjPVtdO3EoYSxmdW5jdGlvbihhKXtpZigwPGJ8fG5bYV0pblthXT0oblthXXx8XG4wKStiLG5bYV09PT0rKDA8YikmJmMucHVzaChhKX0pO3JldHVybiBjLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIG0oYSl7aWYoYT09PWIpe3ZhciBjPXIsYz1sKGMmJmMuc3BsaXQoXCIgXCIpLDEpO2suJGFkZENsYXNzKGMpfWVsc2UgYz1yLGM9bChjJiZjLnNwbGl0KFwiIFwiKSwtMSksay4kcmVtb3ZlQ2xhc3MoYyk7cD1hfXZhciBuPWguZGF0YShcIiRjbGFzc0NvdW50c1wiKSxwPSEwLHI7bnx8KG49VigpLGguZGF0YShcIiRjbGFzc0NvdW50c1wiLG4pKTtcIm5nQ2xhc3NcIiE9PWEmJihlfHwoZT1mKFwiJGluZGV4XCIsZnVuY3Rpb24oYSl7cmV0dXJuIGEmMX0pKSxnLiR3YXRjaChlLG0pKTtnLiR3YXRjaChmKGtbYV0sYyksZnVuY3Rpb24oYSl7RihhKXx8KGE9YyhhKSk7aWYocD09PWIpe3ZhciBlPWEsZj1yJiZyLnNwbGl0KFwiIFwiKSxnPWUmJmUuc3BsaXQoXCIgXCIpLGU9ZChmLGcpLGY9ZChnLGYpLGU9bChlLC0xKSxmPWwoZiwxKTtrLiRhZGRDbGFzcyhmKTtrLiRyZW1vdmVDbGFzcyhlKX1yPWF9KX19fV19XG5mdW5jdGlvbiBPYihhLGIsZCxjLGUsZixnLGgsayl7dGhpcy4kbW9kZWxWYWx1ZT10aGlzLiR2aWV3VmFsdWU9TnVtYmVyLk5hTjt0aGlzLiQkcmF3TW9kZWxWYWx1ZT12b2lkIDA7dGhpcy4kdmFsaWRhdG9ycz17fTt0aGlzLiRhc3luY1ZhbGlkYXRvcnM9e307dGhpcy4kcGFyc2Vycz1bXTt0aGlzLiRmb3JtYXR0ZXJzPVtdO3RoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnM9W107dGhpcy4kdW50b3VjaGVkPSEwO3RoaXMuJHRvdWNoZWQ9ITE7dGhpcy4kcHJpc3RpbmU9ITA7dGhpcy4kZGlydHk9ITE7dGhpcy4kdmFsaWQ9ITA7dGhpcy4kaW52YWxpZD0hMTt0aGlzLiRlcnJvcj17fTt0aGlzLiQkc3VjY2Vzcz17fTt0aGlzLiRwZW5kaW5nPXZvaWQgMDt0aGlzLiRuYW1lPWsoZC5uYW1lfHxcIlwiLCExKShhKTt0aGlzLiQkcGFyZW50Rm9ybT1NYjt0aGlzLiRvcHRpb25zPVBiO3RoaXMuJCRwYXJzZWROZ01vZGVsPWUoZC5uZ01vZGVsKTt0aGlzLiQkcGFyc2VkTmdNb2RlbEFzc2lnbj10aGlzLiQkcGFyc2VkTmdNb2RlbC5hc3NpZ247XG50aGlzLiQkbmdNb2RlbEdldD10aGlzLiQkcGFyc2VkTmdNb2RlbDt0aGlzLiQkbmdNb2RlbFNldD10aGlzLiQkcGFyc2VkTmdNb2RlbEFzc2lnbjt0aGlzLiQkcGVuZGluZ0RlYm91bmNlPW51bGw7dGhpcy4kJHBhcnNlclZhbGlkPXZvaWQgMDt0aGlzLiQkY3VycmVudFZhbGlkYXRpb25SdW5JZD0wO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLFwiJCRzY29wZVwiLHt2YWx1ZTphfSk7dGhpcy4kJGF0dHI9ZDt0aGlzLiQkZWxlbWVudD1jO3RoaXMuJCRhbmltYXRlPWY7dGhpcy4kJHRpbWVvdXQ9Zzt0aGlzLiQkcGFyc2U9ZTt0aGlzLiQkcT1oO3RoaXMuJCRleGNlcHRpb25IYW5kbGVyPWI7WGQodGhpcyk7UmcodGhpcyl9ZnVuY3Rpb24gUmcoYSl7YS4kJHNjb3BlLiR3YXRjaChmdW5jdGlvbihiKXtiPWEuJCRuZ01vZGVsR2V0KGIpO2lmKGIhPT1hLiRtb2RlbFZhbHVlJiYoYS4kbW9kZWxWYWx1ZT09PWEuJG1vZGVsVmFsdWV8fGI9PT1iKSl7YS4kbW9kZWxWYWx1ZT1hLiQkcmF3TW9kZWxWYWx1ZT1cbmI7YS4kJHBhcnNlclZhbGlkPXZvaWQgMDtmb3IodmFyIGQ9YS4kZm9ybWF0dGVycyxjPWQubGVuZ3RoLGU9YjtjLS07KWU9ZFtjXShlKTthLiR2aWV3VmFsdWUhPT1lJiYoYS4kJHVwZGF0ZUVtcHR5Q2xhc3NlcyhlKSxhLiR2aWV3VmFsdWU9YS4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU9ZSxhLiRyZW5kZXIoKSxhLiQkcnVuVmFsaWRhdG9ycyhhLiRtb2RlbFZhbHVlLGEuJHZpZXdWYWx1ZSx6KSl9cmV0dXJuIGJ9KX1mdW5jdGlvbiBHYyhhKXt0aGlzLiQkb3B0aW9ucz1hfWZ1bmN0aW9uIGVlKGEsYil7cShiLGZ1bmN0aW9uKGIsYyl7dShhW2NdKXx8KGFbY109Yil9KX1mdW5jdGlvbiBUYShhLGIpe2EucHJvcChcInNlbGVjdGVkXCIsYik7YS5hdHRyKFwic2VsZWN0ZWRcIixiKX12YXIgU2c9L15cXC8oLispXFwvKFthLXpdKikkLyx1YT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEljPXtvYmplY3RNYXhEZXB0aDo1fSxRPWZ1bmN0aW9uKGEpe3JldHVybiBGKGEpP2EudG9Mb3dlckNhc2UoKTpcbmF9LHViPWZ1bmN0aW9uKGEpe3JldHVybiBGKGEpP2EudG9VcHBlckNhc2UoKTphfSx6YSxCLG5hLHZhPVtdLnNsaWNlLHNnPVtdLnNwbGljZSxUZz1bXS5wdXNoLG1hPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsTWM9T2JqZWN0LmdldFByb3RvdHlwZU9mLEZhPUwoXCJuZ1wiKSxlYT14LmFuZ3VsYXJ8fCh4LmFuZ3VsYXI9e30pLGFjLHFiPTA7emE9eC5kb2N1bWVudC5kb2N1bWVudE1vZGU7dmFyIGRhPU51bWJlci5pc05hTnx8ZnVuY3Rpb24oYSl7cmV0dXJuIGEhPT1hfTt6LiRpbmplY3Q9W107WWEuJGluamVjdD1bXTt2YXIgSD1BcnJheS5pc0FycmF5LHFlPS9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XSQvLFQ9ZnVuY3Rpb24oYSl7cmV0dXJuIEYoYSk/YS50cmltKCk6YX0sS2Q9ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvKFstKClbXFxde30rPyouJF58LDojPCFcXFxcXSkvZyxcblwiXFxcXCQxXCIpLnJlcGxhY2UoL1xceDA4L2csXCJcXFxceDA4XCIpfSxHYT1mdW5jdGlvbigpe2lmKCF1KEdhLnJ1bGVzKSl7dmFyIGE9eC5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW25nLWNzcF1cIil8fHguZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLW5nLWNzcF1cIik7aWYoYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoXCJuZy1jc3BcIil8fGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1uZy1jc3BcIik7R2EucnVsZXM9e25vVW5zYWZlRXZhbDohYnx8LTEhPT1iLmluZGV4T2YoXCJuby11bnNhZmUtZXZhbFwiKSxub0lubGluZVN0eWxlOiFifHwtMSE9PWIuaW5kZXhPZihcIm5vLWlubGluZS1zdHlsZVwiKX19ZWxzZXthPUdhO3RyeXtuZXcgRnVuY3Rpb24oXCJcIiksYj0hMX1jYXRjaChkKXtiPSEwfWEucnVsZXM9e25vVW5zYWZlRXZhbDpiLG5vSW5saW5lU3R5bGU6ITF9fX1yZXR1cm4gR2EucnVsZXN9LHJiPWZ1bmN0aW9uKCl7aWYodShyYi5uYW1lXykpcmV0dXJuIHJiLm5hbWVfO3ZhciBhLGIsZD1KYS5sZW5ndGgsXG5jLGU7Zm9yKGI9MDtiPGQ7KytiKWlmKGM9SmFbYl0sYT14LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJbXCIrYy5yZXBsYWNlKFwiOlwiLFwiXFxcXDpcIikrXCJqcV1cIikpe2U9YS5nZXRBdHRyaWJ1dGUoYytcImpxXCIpO2JyZWFrfXJldHVybiByYi5uYW1lXz1lfSxzZT0vOi9nLEphPVtcIm5nLVwiLFwiZGF0YS1uZy1cIixcIm5nOlwiLFwieC1uZy1cIl0sdmU9ZnVuY3Rpb24oYSl7dmFyIGI9YS5jdXJyZW50U2NyaXB0O2lmKCFiKXJldHVybiEwO2lmKCEoYiBpbnN0YW5jZW9mIHguSFRNTFNjcmlwdEVsZW1lbnR8fGIgaW5zdGFuY2VvZiB4LlNWR1NjcmlwdEVsZW1lbnQpKXJldHVybiExO2I9Yi5hdHRyaWJ1dGVzO3JldHVybltiLmdldE5hbWVkSXRlbShcInNyY1wiKSxiLmdldE5hbWVkSXRlbShcImhyZWZcIiksYi5nZXROYW1lZEl0ZW0oXCJ4bGluazpocmVmXCIpXS5ldmVyeShmdW5jdGlvbihiKXtpZighYilyZXR1cm4hMDtpZighYi52YWx1ZSlyZXR1cm4hMTt2YXIgYz1hLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2MuaHJlZj1cbmIudmFsdWU7aWYoYS5sb2NhdGlvbi5vcmlnaW49PT1jLm9yaWdpbilyZXR1cm4hMDtzd2l0Y2goYy5wcm90b2NvbCl7Y2FzZSBcImh0dHA6XCI6Y2FzZSBcImh0dHBzOlwiOmNhc2UgXCJmdHA6XCI6Y2FzZSBcImJsb2I6XCI6Y2FzZSBcImZpbGU6XCI6Y2FzZSBcImRhdGE6XCI6cmV0dXJuITA7ZGVmYXVsdDpyZXR1cm4hMX19KX0oeC5kb2N1bWVudCkseWU9L1tBLVpdL2csVWM9ITEsSWE9MyxEZT17ZnVsbDpcIjEuNi40XCIsbWFqb3I6MSxtaW5vcjo2LGRvdDo0LGNvZGVOYW1lOlwicGhlbm9tZW5hbC1mb290bm90ZVwifTtXLmV4cGFuZG89XCJuZzMzOVwiO3ZhciBoYj1XLmNhY2hlPXt9LGVnPTE7Vy5fZGF0YT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jYWNoZVthW3RoaXMuZXhwYW5kb11dfHx7fX07dmFyIGFnPS8tKFthLXpdKS9nLFVnPS9eLW1zLS8semI9e21vdXNlbGVhdmU6XCJtb3VzZW91dFwiLG1vdXNlZW50ZXI6XCJtb3VzZW92ZXJcIn0sZGM9TChcImpxTGl0ZVwiKSxkZz0vXjwoW1xcdy1dKylcXHMqXFwvPz4oPzo8XFwvXFwxPnwpJC8sXG5jYz0vPHwmIz9cXHcrOy8sYmc9LzwoW1xcdzotXSspLyxjZz0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpLGhhPXtvcHRpb246WzEsJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsXCI8L3NlbGVjdD5cIl0sdGhlYWQ6WzEsXCI8dGFibGU+XCIsXCI8L3RhYmxlPlwiXSxjb2w6WzIsXCI8dGFibGU+PGNvbGdyb3VwPlwiLFwiPC9jb2xncm91cD48L3RhYmxlPlwiXSx0cjpbMixcIjx0YWJsZT48dGJvZHk+XCIsXCI8L3Rib2R5PjwvdGFibGU+XCJdLHRkOlszLFwiPHRhYmxlPjx0Ym9keT48dHI+XCIsXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIl0sX2RlZmF1bHQ6WzAsXCJcIixcIlwiXX07aGEub3B0Z3JvdXA9aGEub3B0aW9uO2hhLnRib2R5PWhhLnRmb290PWhhLmNvbGdyb3VwPWhhLmNhcHRpb249aGEudGhlYWQ7aGEudGg9aGEudGQ7dmFyIGpnPXguTm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKGEpe3JldHVybiEhKHRoaXMuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYSkmXG4xNil9LE5hPVcucHJvdG90eXBlPXtyZWFkeTplZCx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBhPVtdO3EodGhpcyxmdW5jdGlvbihiKXthLnB1c2goXCJcIitiKX0pO3JldHVyblwiW1wiK2Euam9pbihcIiwgXCIpK1wiXVwifSxlcTpmdW5jdGlvbihhKXtyZXR1cm4gMDw9YT9CKHRoaXNbYV0pOkIodGhpc1t0aGlzLmxlbmd0aCthXSl9LGxlbmd0aDowLHB1c2g6VGcsc29ydDpbXS5zb3J0LHNwbGljZTpbXS5zcGxpY2V9LEZiPXt9O3EoXCJtdWx0aXBsZSBzZWxlY3RlZCBjaGVja2VkIGRpc2FibGVkIHJlYWRPbmx5IHJlcXVpcmVkIG9wZW5cIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7RmJbUShhKV09YX0pO3ZhciBqZD17fTtxKFwiaW5wdXQgc2VsZWN0IG9wdGlvbiB0ZXh0YXJlYSBidXR0b24gZm9ybSBkZXRhaWxzXCIuc3BsaXQoXCIgXCIpLGZ1bmN0aW9uKGEpe2pkW2FdPSEwfSk7dmFyIHJkPXtuZ01pbmxlbmd0aDpcIm1pbmxlbmd0aFwiLG5nTWF4bGVuZ3RoOlwibWF4bGVuZ3RoXCIsbmdNaW46XCJtaW5cIixuZ01heDpcIm1heFwiLFxubmdQYXR0ZXJuOlwicGF0dGVyblwiLG5nU3RlcDpcInN0ZXBcIn07cSh7ZGF0YTpoYyxyZW1vdmVEYXRhOmdjLGhhc0RhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGhiW2EubmczMzldKXJldHVybiEwO3JldHVybiExfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPTAsZD1hLmxlbmd0aDtiPGQ7YisrKWdjKGFbYl0pfX0sZnVuY3Rpb24oYSxiKXtXW2JdPWF9KTtxKHtkYXRhOmhjLGluaGVyaXRlZERhdGE6RGIsc2NvcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIEIuZGF0YShhLFwiJHNjb3BlXCIpfHxEYihhLnBhcmVudE5vZGV8fGEsW1wiJGlzb2xhdGVTY29wZVwiLFwiJHNjb3BlXCJdKX0saXNvbGF0ZVNjb3BlOmZ1bmN0aW9uKGEpe3JldHVybiBCLmRhdGEoYSxcIiRpc29sYXRlU2NvcGVcIil8fEIuZGF0YShhLFwiJGlzb2xhdGVTY29wZU5vVGVtcGxhdGVcIil9LGNvbnRyb2xsZXI6Z2QsaW5qZWN0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIERiKGEsXCIkaW5qZWN0b3JcIil9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxcbmIpe2EucmVtb3ZlQXR0cmlidXRlKGIpfSxoYXNDbGFzczpBYixjc3M6ZnVuY3Rpb24oYSxiLGQpe2I9d2IoYi5yZXBsYWNlKFVnLFwibXMtXCIpKTtpZih1KGQpKWEuc3R5bGVbYl09ZDtlbHNlIHJldHVybiBhLnN0eWxlW2JdfSxhdHRyOmZ1bmN0aW9uKGEsYixkKXt2YXIgYz1hLm5vZGVUeXBlO2lmKGMhPT1JYSYmMiE9PWMmJjghPT1jJiZhLmdldEF0dHJpYnV0ZSl7dmFyIGM9UShiKSxlPUZiW2NdO2lmKHUoZCkpbnVsbD09PWR8fCExPT09ZCYmZT9hLnJlbW92ZUF0dHJpYnV0ZShiKTphLnNldEF0dHJpYnV0ZShiLGU/YzpkKTtlbHNlIHJldHVybiBhPWEuZ2V0QXR0cmlidXRlKGIpLGUmJm51bGwhPT1hJiYoYT1jKSxudWxsPT09YT92b2lkIDA6YX19LHByb3A6ZnVuY3Rpb24oYSxiLGQpe2lmKHUoZCkpYVtiXT1kO2Vsc2UgcmV0dXJuIGFbYl19LHRleHQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsZCl7aWYodyhkKSl7dmFyIGM9YS5ub2RlVHlwZTtyZXR1cm4gMT09PWN8fGM9PT1JYT9cbmEudGV4dENvbnRlbnQ6XCJcIn1hLnRleHRDb250ZW50PWR9YS4kZHY9XCJcIjtyZXR1cm4gYX0oKSx2YWw6ZnVuY3Rpb24oYSxiKXtpZih3KGIpKXtpZihhLm11bHRpcGxlJiZcInNlbGVjdFwiPT09d2EoYSkpe3ZhciBkPVtdO3EoYS5vcHRpb25zLGZ1bmN0aW9uKGEpe2Euc2VsZWN0ZWQmJmQucHVzaChhLnZhbHVlfHxhLnRleHQpfSk7cmV0dXJuIGR9cmV0dXJuIGEudmFsdWV9YS52YWx1ZT1ifSxodG1sOmZ1bmN0aW9uKGEsYil7aWYodyhiKSlyZXR1cm4gYS5pbm5lckhUTUw7eGIoYSwhMCk7YS5pbm5lckhUTUw9Yn0sZW1wdHk6aGR9LGZ1bmN0aW9uKGEsYil7Vy5wcm90b3R5cGVbYl09ZnVuY3Rpb24oYixjKXt2YXIgZSxmLGc9dGhpcy5sZW5ndGg7aWYoYSE9PWhkJiZ3KDI9PT1hLmxlbmd0aCYmYSE9PUFiJiZhIT09Z2Q/YjpjKSl7aWYoQyhiKSl7Zm9yKGU9MDtlPGc7ZSsrKWlmKGE9PT1oYylhKHRoaXNbZV0sYik7ZWxzZSBmb3IoZiBpbiBiKWEodGhpc1tlXSxmLGJbZl0pO3JldHVybiB0aGlzfWU9XG5hLiRkdjtnPXcoZSk/TWF0aC5taW4oZywxKTpnO2ZvcihmPTA7ZjxnO2YrKyl7dmFyIGg9YSh0aGlzW2ZdLGIsYyk7ZT1lP2UraDpofXJldHVybiBlfWZvcihlPTA7ZTxnO2UrKylhKHRoaXNbZV0sYixjKTtyZXR1cm4gdGhpc319KTtxKHtyZW1vdmVEYXRhOmdjLG9uOmZ1bmN0aW9uKGEsYixkLGMpe2lmKHUoYykpdGhyb3cgZGMoXCJvbmFyZ3NcIik7aWYoYmMoYSkpe2M9eWIoYSwhMCk7dmFyIGU9Yy5ldmVudHMsZj1jLmhhbmRsZTtmfHwoZj1jLmhhbmRsZT1nZyhhLGUpKTtjPTA8PWIuaW5kZXhPZihcIiBcIik/Yi5zcGxpdChcIiBcIik6W2JdO2Zvcih2YXIgZz1jLmxlbmd0aCxoPWZ1bmN0aW9uKGIsYyxnKXt2YXIgaD1lW2JdO2h8fChoPWVbYl09W10saC5zcGVjaWFsSGFuZGxlcldyYXBwZXI9YyxcIiRkZXN0cm95XCI9PT1ifHxnfHxhLmFkZEV2ZW50TGlzdGVuZXIoYixmKSk7aC5wdXNoKGQpfTtnLS07KWI9Y1tnXSx6YltiXT8oaCh6YltiXSxpZyksaChiLHZvaWQgMCwhMCkpOmgoYil9fSxcbm9mZjpmZCxvbmU6ZnVuY3Rpb24oYSxiLGQpe2E9QihhKTthLm9uKGIsZnVuY3Rpb24gZSgpe2Eub2ZmKGIsZCk7YS5vZmYoYixlKX0pO2Eub24oYixkKX0scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSxiKXt2YXIgZCxjPWEucGFyZW50Tm9kZTt4YihhKTtxKG5ldyBXKGIpLGZ1bmN0aW9uKGIpe2Q/Yy5pbnNlcnRCZWZvcmUoYixkLm5leHRTaWJsaW5nKTpjLnJlcGxhY2VDaGlsZChiLGEpO2Q9Yn0pfSxjaGlsZHJlbjpmdW5jdGlvbihhKXt2YXIgYj1bXTtxKGEuY2hpbGROb2RlcyxmdW5jdGlvbihhKXsxPT09YS5ub2RlVHlwZSYmYi5wdXNoKGEpfSk7cmV0dXJuIGJ9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNvbnRlbnREb2N1bWVudHx8YS5jaGlsZE5vZGVzfHxbXX0sYXBwZW5kOmZ1bmN0aW9uKGEsYil7dmFyIGQ9YS5ub2RlVHlwZTtpZigxPT09ZHx8MTE9PT1kKXtiPW5ldyBXKGIpO2Zvcih2YXIgZD0wLGM9Yi5sZW5ndGg7ZDxjO2QrKylhLmFwcGVuZENoaWxkKGJbZF0pfX0sXG5wcmVwZW5kOmZ1bmN0aW9uKGEsYil7aWYoMT09PWEubm9kZVR5cGUpe3ZhciBkPWEuZmlyc3RDaGlsZDtxKG5ldyBXKGIpLGZ1bmN0aW9uKGIpe2EuaW5zZXJ0QmVmb3JlKGIsZCl9KX19LHdyYXA6ZnVuY3Rpb24oYSxiKXt2YXIgZD1CKGIpLmVxKDApLmNsb25lKClbMF0sYz1hLnBhcmVudE5vZGU7YyYmYy5yZXBsYWNlQ2hpbGQoZCxhKTtkLmFwcGVuZENoaWxkKGEpfSxyZW1vdmU6RWIsZGV0YWNoOmZ1bmN0aW9uKGEpe0ViKGEsITApfSxhZnRlcjpmdW5jdGlvbihhLGIpe3ZhciBkPWEsYz1hLnBhcmVudE5vZGU7aWYoYyl7Yj1uZXcgVyhiKTtmb3IodmFyIGU9MCxmPWIubGVuZ3RoO2U8ZjtlKyspe3ZhciBnPWJbZV07Yy5pbnNlcnRCZWZvcmUoZyxkLm5leHRTaWJsaW5nKTtkPWd9fX0sYWRkQ2xhc3M6Q2IscmVtb3ZlQ2xhc3M6QmIsdG9nZ2xlQ2xhc3M6ZnVuY3Rpb24oYSxiLGQpe2ImJnEoYi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYil7dmFyIGU9ZDt3KGUpJiYoZT0hQWIoYSxiKSk7XG4oZT9DYjpCYikoYSxiKX0pfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wYXJlbnROb2RlKSYmMTEhPT1hLm5vZGVUeXBlP2E6bnVsbH0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYS5uZXh0RWxlbWVudFNpYmxpbmd9LGZpbmQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5nZXRFbGVtZW50c0J5VGFnTmFtZT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKGIpOltdfSxjbG9uZTpmYyx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmPWIudHlwZXx8YixnPXliKGEpO2lmKGc9KGc9ZyYmZy5ldmVudHMpJiZnW2ZdKWM9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5kZWZhdWx0UHJldmVudGVkPSEwfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMD09PXRoaXMuZGVmYXVsdFByZXZlbnRlZH0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9ITB9LGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOmZ1bmN0aW9uKCl7cmV0dXJuITA9PT1cbnRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkfSxzdG9wUHJvcGFnYXRpb246eix0eXBlOmYsdGFyZ2V0OmF9LGIudHlwZSYmKGM9UyhjLGIpKSxiPXBhKGcpLGU9ZD9bY10uY29uY2F0KGQpOltjXSxxKGIsZnVuY3Rpb24oYil7Yy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpfHxiLmFwcGx5KGEsZSl9KX19LGZ1bmN0aW9uKGEsYil7Vy5wcm90b3R5cGVbYl09ZnVuY3Rpb24oYixjLGUpe2Zvcih2YXIgZixnPTAsaD10aGlzLmxlbmd0aDtnPGg7ZysrKXcoZik/KGY9YSh0aGlzW2ddLGIsYyxlKSx1KGYpJiYoZj1CKGYpKSk6ZWMoZixhKHRoaXNbZ10sYixjLGUpKTtyZXR1cm4gdShmKT9mOnRoaXN9fSk7Vy5wcm90b3R5cGUuYmluZD1XLnByb3RvdHlwZS5vbjtXLnByb3RvdHlwZS51bmJpbmQ9Vy5wcm90b3R5cGUub2ZmO3ZhciBWZz1PYmplY3QuY3JlYXRlKG51bGwpO2tkLnByb3RvdHlwZT17X2lkeDpmdW5jdGlvbihhKXtpZihhPT09dGhpcy5fbGFzdEtleSlyZXR1cm4gdGhpcy5fbGFzdEluZGV4O1xudGhpcy5fbGFzdEtleT1hO3JldHVybiB0aGlzLl9sYXN0SW5kZXg9dGhpcy5fa2V5cy5pbmRleE9mKGEpfSxfdHJhbnNmb3JtS2V5OmZ1bmN0aW9uKGEpe3JldHVybiBkYShhKT9WZzphfSxnZXQ6ZnVuY3Rpb24oYSl7YT10aGlzLl90cmFuc2Zvcm1LZXkoYSk7YT10aGlzLl9pZHgoYSk7aWYoLTEhPT1hKXJldHVybiB0aGlzLl92YWx1ZXNbYV19LHNldDpmdW5jdGlvbihhLGIpe2E9dGhpcy5fdHJhbnNmb3JtS2V5KGEpO3ZhciBkPXRoaXMuX2lkeChhKTstMT09PWQmJihkPXRoaXMuX2xhc3RJbmRleD10aGlzLl9rZXlzLmxlbmd0aCk7dGhpcy5fa2V5c1tkXT1hO3RoaXMuX3ZhbHVlc1tkXT1ifSxkZWxldGU6ZnVuY3Rpb24oYSl7YT10aGlzLl90cmFuc2Zvcm1LZXkoYSk7YT10aGlzLl9pZHgoYSk7aWYoLTE9PT1hKXJldHVybiExO3RoaXMuX2tleXMuc3BsaWNlKGEsMSk7dGhpcy5fdmFsdWVzLnNwbGljZShhLDEpO3RoaXMuX2xhc3RLZXk9TmFOO3RoaXMuX2xhc3RJbmRleD0tMTtyZXR1cm4hMH19O1xudmFyIEdiPWtkLFpmPVtmdW5jdGlvbigpe3RoaXMuJGdldD1bZnVuY3Rpb24oKXtyZXR1cm4gR2J9XX1dLGxnPS9eKFteKF0rPyk9Pi8sbWc9L15bXihdKlxcKFxccyooW14pXSopXFwpL20sV2c9LywvLFhnPS9eXFxzKihfPykoXFxTKz8pXFwxXFxzKiQvLGtnPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZyx5YT1MKFwiJGluamVjdG9yXCIpO2ViLiQkYW5ub3RhdGU9ZnVuY3Rpb24oYSxiLGQpe3ZhciBjO2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKXtpZighKGM9YS4kaW5qZWN0KSl7Yz1bXTtpZihhLmxlbmd0aCl7aWYoYil0aHJvdyBGKGQpJiZkfHwoZD1hLm5hbWV8fG5nKGEpKSx5YShcInN0cmljdGRpXCIsZCk7Yj1sZChhKTtxKGJbMV0uc3BsaXQoV2cpLGZ1bmN0aW9uKGEpe2EucmVwbGFjZShYZyxmdW5jdGlvbihhLGIsZCl7Yy5wdXNoKGQpfSl9KX1hLiRpbmplY3Q9Y319ZWxzZSBIKGEpPyhiPWEubGVuZ3RoLTEsc2IoYVtiXSxcImZuXCIpLGM9YS5zbGljZSgwLGIpKTpzYihhLFwiZm5cIixcbiEwKTtyZXR1cm4gY307dmFyIGZlPUwoXCIkYW5pbWF0ZVwiKSxxZj1mdW5jdGlvbigpe3RoaXMuJGdldD16fSxyZj1mdW5jdGlvbigpe3ZhciBhPW5ldyBHYixiPVtdO3RoaXMuJGdldD1bXCIkJEFuaW1hdGVSdW5uZXJcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihkLGMpe2Z1bmN0aW9uIGUoYSxiLGMpe3ZhciBkPSExO2ImJihiPUYoYik/Yi5zcGxpdChcIiBcIik6SChiKT9iOltdLHEoYixmdW5jdGlvbihiKXtiJiYoZD0hMCxhW2JdPWMpfSkpO3JldHVybiBkfWZ1bmN0aW9uIGYoKXtxKGIsZnVuY3Rpb24oYil7dmFyIGM9YS5nZXQoYik7aWYoYyl7dmFyIGQ9b2coYi5hdHRyKFwiY2xhc3NcIikpLGU9XCJcIixmPVwiXCI7cShjLGZ1bmN0aW9uKGEsYil7YSE9PSEhZFtiXSYmKGE/ZSs9KGUubGVuZ3RoP1wiIFwiOlwiXCIpK2I6Zis9KGYubGVuZ3RoP1wiIFwiOlwiXCIpK2IpfSk7cShiLGZ1bmN0aW9uKGEpe2UmJkNiKGEsZSk7ZiYmQmIoYSxmKX0pO2EuZGVsZXRlKGIpfX0pO2IubGVuZ3RoPTB9cmV0dXJue2VuYWJsZWQ6eixcbm9uOnosb2ZmOnoscGluOnoscHVzaDpmdW5jdGlvbihnLGgsayxsKXtsJiZsKCk7az1rfHx7fTtrLmZyb20mJmcuY3NzKGsuZnJvbSk7ay50byYmZy5jc3Moay50byk7aWYoay5hZGRDbGFzc3x8ay5yZW1vdmVDbGFzcylpZihoPWsuYWRkQ2xhc3MsbD1rLnJlbW92ZUNsYXNzLGs9YS5nZXQoZyl8fHt9LGg9ZShrLGgsITApLGw9ZShrLGwsITEpLGh8fGwpYS5zZXQoZyxrKSxiLnB1c2goZyksMT09PWIubGVuZ3RoJiZjLiQkcG9zdERpZ2VzdChmKTtnPW5ldyBkO2cuY29tcGxldGUoKTtyZXR1cm4gZ319fV19LG9mPVtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxkPW51bGw7dGhpcy4kJHJlZ2lzdGVyZWRBbmltYXRpb25zPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5yZWdpc3Rlcj1mdW5jdGlvbihjLGQpe2lmKGMmJlwiLlwiIT09Yy5jaGFyQXQoMCkpdGhyb3cgZmUoXCJub3Rjc2VsXCIsYyk7dmFyIGY9YytcIi1hbmltYXRpb25cIjtiLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbYy5zdWJzdHIoMSldPVxuZjthLmZhY3RvcnkoZixkKX07dGhpcy5jbGFzc05hbWVGaWx0ZXI9ZnVuY3Rpb24oYSl7aWYoMT09PWFyZ3VtZW50cy5sZW5ndGgmJihkPWEgaW5zdGFuY2VvZiBSZWdFeHA/YTpudWxsKSYmL1soXFxzfFxcLyldbmctYW5pbWF0ZVsoXFxzfFxcLyldLy50ZXN0KGQudG9TdHJpbmcoKSkpdGhyb3cgZD1udWxsLGZlKFwibm9uZ2Nsc1wiLFwibmctYW5pbWF0ZVwiKTtyZXR1cm4gZH07dGhpcy4kZ2V0PVtcIiQkYW5pbWF0ZVF1ZXVlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhLGMsZCl7aWYoZCl7dmFyIGU7YTp7Zm9yKGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGw9ZFtlXTtpZigxPT09bC5ub2RlVHlwZSl7ZT1sO2JyZWFrIGF9fWU9dm9pZCAwfSFlfHxlLnBhcmVudE5vZGV8fGUucHJldmlvdXNFbGVtZW50U2libGluZ3x8KGQ9bnVsbCl9ZD9kLmFmdGVyKGEpOmMucHJlcGVuZChhKX1yZXR1cm57b246YS5vbixvZmY6YS5vZmYscGluOmEucGluLGVuYWJsZWQ6YS5lbmFibGVkLGNhbmNlbDpmdW5jdGlvbihhKXthLmVuZCYmXG5hLmVuZCgpfSxlbnRlcjpmdW5jdGlvbihkLGcsaCxrKXtnPWcmJkIoZyk7aD1oJiZCKGgpO2c9Z3x8aC5wYXJlbnQoKTtiKGQsZyxoKTtyZXR1cm4gYS5wdXNoKGQsXCJlbnRlclwiLGlhKGspKX0sbW92ZTpmdW5jdGlvbihkLGcsaCxrKXtnPWcmJkIoZyk7aD1oJiZCKGgpO2c9Z3x8aC5wYXJlbnQoKTtiKGQsZyxoKTtyZXR1cm4gYS5wdXNoKGQsXCJtb3ZlXCIsaWEoaykpfSxsZWF2ZTpmdW5jdGlvbihiLGQpe3JldHVybiBhLnB1c2goYixcImxlYXZlXCIsaWEoZCksZnVuY3Rpb24oKXtiLnJlbW92ZSgpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGIsZCxlKXtlPWlhKGUpO2UuYWRkQ2xhc3M9aWIoZS5hZGRjbGFzcyxkKTtyZXR1cm4gYS5wdXNoKGIsXCJhZGRDbGFzc1wiLGUpfSxyZW1vdmVDbGFzczpmdW5jdGlvbihiLGQsZSl7ZT1pYShlKTtlLnJlbW92ZUNsYXNzPWliKGUucmVtb3ZlQ2xhc3MsZCk7cmV0dXJuIGEucHVzaChiLFwicmVtb3ZlQ2xhc3NcIixlKX0sc2V0Q2xhc3M6ZnVuY3Rpb24oYixkLFxuZSxrKXtrPWlhKGspO2suYWRkQ2xhc3M9aWIoay5hZGRDbGFzcyxkKTtrLnJlbW92ZUNsYXNzPWliKGsucmVtb3ZlQ2xhc3MsZSk7cmV0dXJuIGEucHVzaChiLFwic2V0Q2xhc3NcIixrKX0sYW5pbWF0ZTpmdW5jdGlvbihiLGQsZSxrLGwpe2w9aWEobCk7bC5mcm9tPWwuZnJvbT9TKGwuZnJvbSxkKTpkO2wudG89bC50bz9TKGwudG8sZSk6ZTtsLnRlbXBDbGFzc2VzPWliKGwudGVtcENsYXNzZXMsa3x8XCJuZy1pbmxpbmUtYW5pbWF0ZVwiKTtyZXR1cm4gYS5wdXNoKGIsXCJhbmltYXRlXCIsbCl9fX1dfV0sdGY9ZnVuY3Rpb24oKXt0aGlzLiRnZXQ9W1wiJCRyQUZcIixmdW5jdGlvbihhKXtmdW5jdGlvbiBiKGIpe2QucHVzaChiKTsxPGQubGVuZ3RofHxhKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTA7YTxkLmxlbmd0aDthKyspZFthXSgpO2Q9W119KX12YXIgZD1bXTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgYT0hMTtiKGZ1bmN0aW9uKCl7YT0hMH0pO3JldHVybiBmdW5jdGlvbihkKXthP2QoKTpiKGQpfX19XX0sXG5zZj1mdW5jdGlvbigpe3RoaXMuJGdldD1bXCIkcVwiLFwiJHNuaWZmZXJcIixcIiQkYW5pbWF0ZUFzeW5jUnVuXCIsXCIkJGlzRG9jdW1lbnRIaWRkZW5cIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24oYSxiLGQsYyxlKXtmdW5jdGlvbiBmKGEpe3RoaXMuc2V0SG9zdChhKTt2YXIgYj1kKCk7dGhpcy5fZG9uZUNhbGxiYWNrcz1bXTt0aGlzLl90aWNrPWZ1bmN0aW9uKGEpe2MoKT9lKGEsMCwhMSk6YihhKX07dGhpcy5fc3RhdGU9MH1mLmNoYWluPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYygpe2lmKGQ9PT1hLmxlbmd0aCliKCEwKTtlbHNlIGFbZF0oZnVuY3Rpb24oYSl7ITE9PT1hP2IoITEpOihkKyssYygpKX0pfXZhciBkPTA7YygpfTtmLmFsbD1mdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoZil7ZT1lJiZmOysrZD09PWEubGVuZ3RoJiZiKGUpfXZhciBkPTAsZT0hMDtxKGEsZnVuY3Rpb24oYSl7YS5kb25lKGMpfSl9O2YucHJvdG90eXBlPXtzZXRIb3N0OmZ1bmN0aW9uKGEpe3RoaXMuaG9zdD1hfHx7fX0sXG5kb25lOmZ1bmN0aW9uKGEpezI9PT10aGlzLl9zdGF0ZT9hKCk6dGhpcy5fZG9uZUNhbGxiYWNrcy5wdXNoKGEpfSxwcm9ncmVzczp6LGdldFByb21pc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5wcm9taXNlKXt2YXIgYj10aGlzO3RoaXMucHJvbWlzZT1hKGZ1bmN0aW9uKGEsYyl7Yi5kb25lKGZ1bmN0aW9uKGIpeyExPT09Yj9jKCk6YSgpfSl9KX1yZXR1cm4gdGhpcy5wcm9taXNlfSx0aGVuOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpLnRoZW4oYSxiKX0sXCJjYXRjaFwiOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFByb21pc2UoKVtcImNhdGNoXCJdKGEpfSxcImZpbmFsbHlcIjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRQcm9taXNlKClbXCJmaW5hbGx5XCJdKGEpfSxwYXVzZTpmdW5jdGlvbigpe3RoaXMuaG9zdC5wYXVzZSYmdGhpcy5ob3N0LnBhdXNlKCl9LHJlc3VtZTpmdW5jdGlvbigpe3RoaXMuaG9zdC5yZXN1bWUmJnRoaXMuaG9zdC5yZXN1bWUoKX0sZW5kOmZ1bmN0aW9uKCl7dGhpcy5ob3N0LmVuZCYmXG50aGlzLmhvc3QuZW5kKCk7dGhpcy5fcmVzb2x2ZSghMCl9LGNhbmNlbDpmdW5jdGlvbigpe3RoaXMuaG9zdC5jYW5jZWwmJnRoaXMuaG9zdC5jYW5jZWwoKTt0aGlzLl9yZXNvbHZlKCExKX0sY29tcGxldGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczswPT09Yi5fc3RhdGUmJihiLl9zdGF0ZT0xLGIuX3RpY2soZnVuY3Rpb24oKXtiLl9yZXNvbHZlKGEpfSkpfSxfcmVzb2x2ZTpmdW5jdGlvbihhKXsyIT09dGhpcy5fc3RhdGUmJihxKHRoaXMuX2RvbmVDYWxsYmFja3MsZnVuY3Rpb24oYil7YihhKX0pLHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoPTAsdGhpcy5fc3RhdGU9Mil9fTtyZXR1cm4gZn1dfSxwZj1mdW5jdGlvbigpe3RoaXMuJGdldD1bXCIkJHJBRlwiLFwiJHFcIixcIiQkQW5pbWF0ZVJ1bm5lclwiLGZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYixlKXtmdW5jdGlvbiBmKCl7YShmdW5jdGlvbigpe2cuYWRkQ2xhc3MmJihiLmFkZENsYXNzKGcuYWRkQ2xhc3MpLGcuYWRkQ2xhc3M9XG5udWxsKTtnLnJlbW92ZUNsYXNzJiYoYi5yZW1vdmVDbGFzcyhnLnJlbW92ZUNsYXNzKSxnLnJlbW92ZUNsYXNzPW51bGwpO2cudG8mJihiLmNzcyhnLnRvKSxnLnRvPW51bGwpO2h8fGsuY29tcGxldGUoKTtoPSEwfSk7cmV0dXJuIGt9dmFyIGc9ZXx8e307Zy4kJHByZXBhcmVkfHwoZz1yYShnKSk7Zy5jbGVhbnVwU3R5bGVzJiYoZy5mcm9tPWcudG89bnVsbCk7Zy5mcm9tJiYoYi5jc3MoZy5mcm9tKSxnLmZyb209bnVsbCk7dmFyIGgsaz1uZXcgZDtyZXR1cm57c3RhcnQ6ZixlbmQ6Zn19fV19LGZhPUwoXCIkY29tcGlsZVwiKSxsYz1uZXcgZnVuY3Rpb24oKXt9O1djLiRpbmplY3Q9W1wiJHByb3ZpZGVcIixcIiQkc2FuaXRpemVVcmlQcm92aWRlclwiXTtJYi5wcm90b3R5cGUuaXNGaXJzdENoYW5nZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZpb3VzVmFsdWU9PT1sY307dmFyIG1kPS9eKCg/Onh8ZGF0YSlbOlxcLV9dKS9pLHJnPS9bOlxcLV9dKyguKS9nLHRkPUwoXCIkY29udHJvbGxlclwiKSxcbnNkPS9eKFxcUyspKFxccythc1xccysoW1xcdyRdKykpPyQvLEFmPWZ1bmN0aW9uKCl7dGhpcy4kZ2V0PVtcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtiPyFiLm5vZGVUeXBlJiZiIGluc3RhbmNlb2YgQiYmKGI9YlswXSk6Yj1hWzBdLmJvZHk7cmV0dXJuIGIub2Zmc2V0V2lkdGgrMX19XX0sdWQ9XCJhcHBsaWNhdGlvbi9qc29uXCIscGM9e1wiQ29udGVudC1UeXBlXCI6dWQrXCI7Y2hhcnNldD11dGYtOFwifSx1Zz0vXlxcW3xeXFx7KD8hXFx7KS8sdmc9e1wiW1wiOi9dJC8sXCJ7XCI6L30kL30sdGc9L15cXCldXFx9Jyw/XFxuLyxvYz1MKFwiJGh0dHBcIiksRGE9ZWEuJGludGVycG9sYXRlTWluRXJyPUwoXCIkaW50ZXJwb2xhdGVcIik7RGEudGhyb3dOb2NvbmNhdD1mdW5jdGlvbihhKXt0aHJvdyBEYShcIm5vY29uY2F0XCIsYSk7fTtEYS5pbnRlcnI9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRGEoXCJpbnRlcnJcIixhLGIudG9TdHJpbmcoKSl9O3ZhciBJZj1mdW5jdGlvbigpe3RoaXMuJGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dmFyIGI9XG5mdW5jdGlvbihhKXtiLmRhdGE9YTtiLmNhbGxlZD0hMH07Yi5pZD1hO3JldHVybiBifXZhciBiPWVhLmNhbGxiYWNrcyxkPXt9O3JldHVybntjcmVhdGVDYWxsYmFjazpmdW5jdGlvbihjKXtjPVwiX1wiKyhiLiQkY291bnRlcisrKS50b1N0cmluZygzNik7dmFyIGU9XCJhbmd1bGFyLmNhbGxiYWNrcy5cIitjLGY9YShjKTtkW2VdPWJbY109ZjtyZXR1cm4gZX0sd2FzQ2FsbGVkOmZ1bmN0aW9uKGEpe3JldHVybiBkW2FdLmNhbGxlZH0sZ2V0UmVzcG9uc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGRbYV0uZGF0YX0scmVtb3ZlQ2FsbGJhY2s6ZnVuY3Rpb24oYSl7ZGVsZXRlIGJbZFthXS5pZF07ZGVsZXRlIGRbYV19fX19LFlnPS9eKFtePyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyx4Zz17aHR0cDo4MCxodHRwczo0NDMsZnRwOjIxfSxrYj1MKFwiJGxvY2F0aW9uXCIpLHlnPS9eXFxzKltcXFxcL117Mix9LyxaZz17JCRhYnNVcmw6XCJcIiwkJGh0bWw1OiExLCQkcmVwbGFjZTohMSxhYnNVcmw6SmIoXCIkJGFic1VybFwiKSxcbnVybDpmdW5jdGlvbihhKXtpZih3KGEpKXJldHVybiB0aGlzLiQkdXJsO3ZhciBiPVlnLmV4ZWMoYSk7KGJbMV18fFwiXCI9PT1hKSYmdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChiWzFdKSk7KGJbMl18fGJbMV18fFwiXCI9PT1hKSYmdGhpcy5zZWFyY2goYlszXXx8XCJcIik7dGhpcy5oYXNoKGJbNV18fFwiXCIpO3JldHVybiB0aGlzfSxwcm90b2NvbDpKYihcIiQkcHJvdG9jb2xcIiksaG9zdDpKYihcIiQkaG9zdFwiKSxwb3J0OkpiKFwiJCRwb3J0XCIpLHBhdGg6Q2QoXCIkJHBhdGhcIixmdW5jdGlvbihhKXthPW51bGwhPT1hP2EudG9TdHJpbmcoKTpcIlwiO3JldHVyblwiL1wiPT09YS5jaGFyQXQoMCk/YTpcIi9cIithfSksc2VhcmNoOmZ1bmN0aW9uKGEsYil7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gdGhpcy4kJHNlYXJjaDtjYXNlIDE6aWYoRihhKXx8YmEoYSkpYT1hLnRvU3RyaW5nKCksdGhpcy4kJHNlYXJjaD1SYyhhKTtlbHNlIGlmKEMoYSkpYT1yYShhLHt9KSxxKGEsZnVuY3Rpb24oYixcbmMpe251bGw9PWImJmRlbGV0ZSBhW2NdfSksdGhpcy4kJHNlYXJjaD1hO2Vsc2UgdGhyb3cga2IoXCJpc3JjaGFyZ1wiKTticmVhaztkZWZhdWx0OncoYil8fG51bGw9PT1iP2RlbGV0ZSB0aGlzLiQkc2VhcmNoW2FdOnRoaXMuJCRzZWFyY2hbYV09Yn10aGlzLiQkY29tcG9zZSgpO3JldHVybiB0aGlzfSxoYXNoOkNkKFwiJCRoYXNoXCIsZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPT1hP2EudG9TdHJpbmcoKTpcIlwifSkscmVwbGFjZTpmdW5jdGlvbigpe3RoaXMuJCRyZXBsYWNlPSEwO3JldHVybiB0aGlzfX07cShbQmQsdGMsc2NdLGZ1bmN0aW9uKGEpe2EucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoWmcpO2EucHJvdG90eXBlLnN0YXRlPWZ1bmN0aW9uKGIpe2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLiQkc3RhdGU7aWYoYSE9PXNjfHwhdGhpcy4kJGh0bWw1KXRocm93IGtiKFwibm9zdGF0ZVwiKTt0aGlzLiQkc3RhdGU9dyhiKT9udWxsOmI7dGhpcy4kJHVybFVwZGF0ZWRCeUxvY2F0aW9uPVxuITA7cmV0dXJuIHRoaXN9fSk7dmFyIFVhPUwoXCIkcGFyc2VcIiksQmc9e30uY29uc3RydWN0b3IucHJvdG90eXBlLnZhbHVlT2YsUWI9VigpO3EoXCIrIC0gKiAvICUgPT09ICE9PSA9PSAhPSA8ID4gPD0gPj0gJiYgfHwgISA9IHxcIi5zcGxpdChcIiBcIiksZnVuY3Rpb24oYSl7UWJbYV09ITB9KTt2YXIgJGc9e246XCJcXG5cIixmOlwiXFxmXCIscjpcIlxcclwiLHQ6XCJcXHRcIix2OlwiXFx2XCIsXCInXCI6XCInXCIsJ1wiJzonXCInfSx3Yz1mdW5jdGlvbihhKXt0aGlzLm9wdGlvbnM9YX07d2MucHJvdG90eXBlPXtjb25zdHJ1Y3Rvcjp3YyxsZXg6ZnVuY3Rpb24oYSl7dGhpcy50ZXh0PWE7dGhpcy5pbmRleD0wO2Zvcih0aGlzLnRva2Vucz1bXTt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KWlmKGE9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSwnXCInPT09YXx8XCInXCI9PT1hKXRoaXMucmVhZFN0cmluZyhhKTtlbHNlIGlmKHRoaXMuaXNOdW1iZXIoYSl8fFwiLlwiPT09YSYmdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpdGhpcy5yZWFkTnVtYmVyKCk7XG5lbHNlIGlmKHRoaXMuaXNJZGVudGlmaWVyU3RhcnQodGhpcy5wZWVrTXVsdGljaGFyKCkpKXRoaXMucmVhZElkZW50KCk7ZWxzZSBpZih0aGlzLmlzKGEsXCIoKXt9W10uLDs6P1wiKSl0aGlzLnRva2Vucy5wdXNoKHtpbmRleDp0aGlzLmluZGV4LHRleHQ6YX0pLHRoaXMuaW5kZXgrKztlbHNlIGlmKHRoaXMuaXNXaGl0ZXNwYWNlKGEpKXRoaXMuaW5kZXgrKztlbHNle3ZhciBiPWErdGhpcy5wZWVrKCksZD1iK3RoaXMucGVlaygyKSxjPVFiW2JdLGU9UWJbZF07UWJbYV18fGN8fGU/KGE9ZT9kOmM/YjphLHRoaXMudG9rZW5zLnB1c2goe2luZGV4OnRoaXMuaW5kZXgsdGV4dDphLG9wZXJhdG9yOiEwfSksdGhpcy5pbmRleCs9YS5sZW5ndGgpOnRoaXMudGhyb3dFcnJvcihcIlVuZXhwZWN0ZWQgbmV4dCBjaGFyYWN0ZXIgXCIsdGhpcy5pbmRleCx0aGlzLmluZGV4KzEpfXJldHVybiB0aGlzLnRva2Vuc30saXM6ZnVuY3Rpb24oYSxiKXtyZXR1cm4tMSE9PWIuaW5kZXhPZihhKX0scGVlazpmdW5jdGlvbihhKXthPVxuYXx8MTtyZXR1cm4gdGhpcy5pbmRleCthPHRoaXMudGV4dC5sZW5ndGg/dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4K2EpOiExfSxpc051bWJlcjpmdW5jdGlvbihhKXtyZXR1cm5cIjBcIjw9YSYmXCI5XCI+PWEmJlwic3RyaW5nXCI9PT10eXBlb2YgYX0saXNXaGl0ZXNwYWNlOmZ1bmN0aW9uKGEpe3JldHVyblwiIFwiPT09YXx8XCJcXHJcIj09PWF8fFwiXFx0XCI9PT1hfHxcIlxcblwiPT09YXx8XCJcXHZcIj09PWF8fFwiXFx1MDBhMFwiPT09YX0saXNJZGVudGlmaWVyU3RhcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydD90aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyU3RhcnQoYSx0aGlzLmNvZGVQb2ludEF0KGEpKTp0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoYSl9LGlzVmFsaWRJZGVudGlmaWVyU3RhcnQ6ZnVuY3Rpb24oYSl7cmV0dXJuXCJhXCI8PWEmJlwielwiPj1hfHxcIkFcIjw9YSYmXCJaXCI+PWF8fFwiX1wiPT09YXx8XCIkXCI9PT1hfSxpc0lkZW50aWZpZXJDb250aW51ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlP1xudGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlKGEsdGhpcy5jb2RlUG9pbnRBdChhKSk6dGhpcy5pc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlKGEpfSxpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuaXNWYWxpZElkZW50aWZpZXJTdGFydChhLGIpfHx0aGlzLmlzTnVtYmVyKGEpfSxjb2RlUG9pbnRBdDpmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEubGVuZ3RoP2EuY2hhckNvZGVBdCgwKTooYS5jaGFyQ29kZUF0KDApPDwxMCkrYS5jaGFyQ29kZUF0KDEpLTU2NjEzODg4fSxwZWVrTXVsdGljaGFyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxiPXRoaXMucGVlaygpO2lmKCFiKXJldHVybiBhO3ZhciBkPWEuY2hhckNvZGVBdCgwKSxjPWIuY2hhckNvZGVBdCgwKTtyZXR1cm4gNTUyOTY8PWQmJjU2MzE5Pj1kJiY1NjMyMDw9YyYmNTczNDM+PWM/YStiOmF9LGlzRXhwT3BlcmF0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuXCItXCI9PT1cbmF8fFwiK1wiPT09YXx8dGhpcy5pc051bWJlcihhKX0sdGhyb3dFcnJvcjpmdW5jdGlvbihhLGIsZCl7ZD1kfHx0aGlzLmluZGV4O2I9dShiKT9cInMgXCIrYitcIi1cIit0aGlzLmluZGV4K1wiIFtcIit0aGlzLnRleHQuc3Vic3RyaW5nKGIsZCkrXCJdXCI6XCIgXCIrZDt0aHJvdyBVYShcImxleGVyclwiLGEsYix0aGlzLnRleHQpO30scmVhZE51bWJlcjpmdW5jdGlvbigpe2Zvcih2YXIgYT1cIlwiLGI9dGhpcy5pbmRleDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgZD1RKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO2lmKFwiLlwiPT09ZHx8dGhpcy5pc051bWJlcihkKSlhKz1kO2Vsc2V7dmFyIGM9dGhpcy5wZWVrKCk7aWYoXCJlXCI9PT1kJiZ0aGlzLmlzRXhwT3BlcmF0b3IoYykpYSs9ZDtlbHNlIGlmKHRoaXMuaXNFeHBPcGVyYXRvcihkKSYmYyYmdGhpcy5pc051bWJlcihjKSYmXCJlXCI9PT1hLmNoYXJBdChhLmxlbmd0aC0xKSlhKz1kO2Vsc2UgaWYoIXRoaXMuaXNFeHBPcGVyYXRvcihkKXx8XG5jJiZ0aGlzLmlzTnVtYmVyKGMpfHxcImVcIiE9PWEuY2hhckF0KGEubGVuZ3RoLTEpKWJyZWFrO2Vsc2UgdGhpcy50aHJvd0Vycm9yKFwiSW52YWxpZCBleHBvbmVudFwiKX10aGlzLmluZGV4Kyt9dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yix0ZXh0OmEsY29uc3RhbnQ6ITAsdmFsdWU6TnVtYmVyKGEpfSl9LHJlYWRJZGVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaW5kZXg7Zm9yKHRoaXMuaW5kZXgrPXRoaXMucGVla011bHRpY2hhcigpLmxlbmd0aDt0aGlzLmluZGV4PHRoaXMudGV4dC5sZW5ndGg7KXt2YXIgYj10aGlzLnBlZWtNdWx0aWNoYXIoKTtpZighdGhpcy5pc0lkZW50aWZpZXJDb250aW51ZShiKSlicmVhazt0aGlzLmluZGV4Kz1iLmxlbmd0aH10aGlzLnRva2Vucy5wdXNoKHtpbmRleDphLHRleHQ6dGhpcy50ZXh0LnNsaWNlKGEsdGhpcy5pbmRleCksaWRlbnRpZmllcjohMH0pfSxyZWFkU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW5kZXg7dGhpcy5pbmRleCsrO1xuZm9yKHZhciBkPVwiXCIsYz1hLGU9ITE7dGhpcy5pbmRleDx0aGlzLnRleHQubGVuZ3RoOyl7dmFyIGY9dGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KSxjPWMrZjtpZihlKVwidVwiPT09Zj8oZT10aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXgrMSx0aGlzLmluZGV4KzUpLGUubWF0Y2goL1tcXGRhLWZdezR9L2kpfHx0aGlzLnRocm93RXJyb3IoXCJJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdVwiK2UrXCJdXCIpLHRoaXMuaW5kZXgrPTQsZCs9U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChlLDE2KSkpOmQrPSRnW2ZdfHxmLGU9ITE7ZWxzZSBpZihcIlxcXFxcIj09PWYpZT0hMDtlbHNle2lmKGY9PT1hKXt0aGlzLmluZGV4Kys7dGhpcy50b2tlbnMucHVzaCh7aW5kZXg6Yix0ZXh0OmMsY29uc3RhbnQ6ITAsdmFsdWU6ZH0pO3JldHVybn1kKz1mfXRoaXMuaW5kZXgrK310aGlzLnRocm93RXJyb3IoXCJVbnRlcm1pbmF0ZWQgcXVvdGVcIixiKX19O3ZhciBzPWZ1bmN0aW9uKGEsYil7dGhpcy5sZXhlcj1cbmE7dGhpcy5vcHRpb25zPWJ9O3MuUHJvZ3JhbT1cIlByb2dyYW1cIjtzLkV4cHJlc3Npb25TdGF0ZW1lbnQ9XCJFeHByZXNzaW9uU3RhdGVtZW50XCI7cy5Bc3NpZ25tZW50RXhwcmVzc2lvbj1cIkFzc2lnbm1lbnRFeHByZXNzaW9uXCI7cy5Db25kaXRpb25hbEV4cHJlc3Npb249XCJDb25kaXRpb25hbEV4cHJlc3Npb25cIjtzLkxvZ2ljYWxFeHByZXNzaW9uPVwiTG9naWNhbEV4cHJlc3Npb25cIjtzLkJpbmFyeUV4cHJlc3Npb249XCJCaW5hcnlFeHByZXNzaW9uXCI7cy5VbmFyeUV4cHJlc3Npb249XCJVbmFyeUV4cHJlc3Npb25cIjtzLkNhbGxFeHByZXNzaW9uPVwiQ2FsbEV4cHJlc3Npb25cIjtzLk1lbWJlckV4cHJlc3Npb249XCJNZW1iZXJFeHByZXNzaW9uXCI7cy5JZGVudGlmaWVyPVwiSWRlbnRpZmllclwiO3MuTGl0ZXJhbD1cIkxpdGVyYWxcIjtzLkFycmF5RXhwcmVzc2lvbj1cIkFycmF5RXhwcmVzc2lvblwiO3MuUHJvcGVydHk9XCJQcm9wZXJ0eVwiO3MuT2JqZWN0RXhwcmVzc2lvbj1cIk9iamVjdEV4cHJlc3Npb25cIjtcbnMuVGhpc0V4cHJlc3Npb249XCJUaGlzRXhwcmVzc2lvblwiO3MuTG9jYWxzRXhwcmVzc2lvbj1cIkxvY2Fsc0V4cHJlc3Npb25cIjtzLk5HVmFsdWVQYXJhbWV0ZXI9XCJOR1ZhbHVlUGFyYW1ldGVyXCI7cy5wcm90b3R5cGU9e2FzdDpmdW5jdGlvbihhKXt0aGlzLnRleHQ9YTt0aGlzLnRva2Vucz10aGlzLmxleGVyLmxleChhKTthPXRoaXMucHJvZ3JhbSgpOzAhPT10aGlzLnRva2Vucy5sZW5ndGgmJnRoaXMudGhyb3dFcnJvcihcImlzIGFuIHVuZXhwZWN0ZWQgdG9rZW5cIix0aGlzLnRva2Vuc1swXSk7cmV0dXJuIGF9LHByb2dyYW06ZnVuY3Rpb24oKXtmb3IodmFyIGE9W107OylpZigwPHRoaXMudG9rZW5zLmxlbmd0aCYmIXRoaXMucGVlayhcIn1cIixcIilcIixcIjtcIixcIl1cIikmJmEucHVzaCh0aGlzLmV4cHJlc3Npb25TdGF0ZW1lbnQoKSksIXRoaXMuZXhwZWN0KFwiO1wiKSlyZXR1cm57dHlwZTpzLlByb2dyYW0sYm9keTphfX0sZXhwcmVzc2lvblN0YXRlbWVudDpmdW5jdGlvbigpe3JldHVybnt0eXBlOnMuRXhwcmVzc2lvblN0YXRlbWVudCxcbmV4cHJlc3Npb246dGhpcy5maWx0ZXJDaGFpbigpfX0sZmlsdGVyQ2hhaW46ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5leHByZXNzaW9uKCk7dGhpcy5leHBlY3QoXCJ8XCIpOylhPXRoaXMuZmlsdGVyKGEpO3JldHVybiBhfSxleHByZXNzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXNzaWdubWVudCgpfSxhc3NpZ25tZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50ZXJuYXJ5KCk7aWYodGhpcy5leHBlY3QoXCI9XCIpKXtpZighRmQoYSkpdGhyb3cgVWEoXCJsdmFsXCIpO2E9e3R5cGU6cy5Bc3NpZ25tZW50RXhwcmVzc2lvbixsZWZ0OmEscmlnaHQ6dGhpcy5hc3NpZ25tZW50KCksb3BlcmF0b3I6XCI9XCJ9fXJldHVybiBhfSx0ZXJuYXJ5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sb2dpY2FsT1IoKSxiLGQ7cmV0dXJuIHRoaXMuZXhwZWN0KFwiP1wiKSYmKGI9dGhpcy5leHByZXNzaW9uKCksdGhpcy5jb25zdW1lKFwiOlwiKSk/KGQ9dGhpcy5leHByZXNzaW9uKCkse3R5cGU6cy5Db25kaXRpb25hbEV4cHJlc3Npb24sXG50ZXN0OmEsYWx0ZXJuYXRlOmIsY29uc2VxdWVudDpkfSk6YX0sbG9naWNhbE9SOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubG9naWNhbEFORCgpO3RoaXMuZXhwZWN0KFwifHxcIik7KWE9e3R5cGU6cy5Mb2dpY2FsRXhwcmVzc2lvbixvcGVyYXRvcjpcInx8XCIsbGVmdDphLHJpZ2h0OnRoaXMubG9naWNhbEFORCgpfTtyZXR1cm4gYX0sbG9naWNhbEFORDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmVxdWFsaXR5KCk7dGhpcy5leHBlY3QoXCImJlwiKTspYT17dHlwZTpzLkxvZ2ljYWxFeHByZXNzaW9uLG9wZXJhdG9yOlwiJiZcIixsZWZ0OmEscmlnaHQ6dGhpcy5lcXVhbGl0eSgpfTtyZXR1cm4gYX0sZXF1YWxpdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGE9dGhpcy5yZWxhdGlvbmFsKCksYjtiPXRoaXMuZXhwZWN0KFwiPT1cIixcIiE9XCIsXCI9PT1cIixcIiE9PVwiKTspYT17dHlwZTpzLkJpbmFyeUV4cHJlc3Npb24sb3BlcmF0b3I6Yi50ZXh0LGxlZnQ6YSxyaWdodDp0aGlzLnJlbGF0aW9uYWwoKX07XG5yZXR1cm4gYX0scmVsYXRpb25hbDpmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLmFkZGl0aXZlKCksYjtiPXRoaXMuZXhwZWN0KFwiPFwiLFwiPlwiLFwiPD1cIixcIj49XCIpOylhPXt0eXBlOnMuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMuYWRkaXRpdmUoKX07cmV0dXJuIGF9LGFkZGl0aXZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMubXVsdGlwbGljYXRpdmUoKSxiO2I9dGhpcy5leHBlY3QoXCIrXCIsXCItXCIpOylhPXt0eXBlOnMuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMubXVsdGlwbGljYXRpdmUoKX07cmV0dXJuIGF9LG11bHRpcGxpY2F0aXZlOmZ1bmN0aW9uKCl7Zm9yKHZhciBhPXRoaXMudW5hcnkoKSxiO2I9dGhpcy5leHBlY3QoXCIqXCIsXCIvXCIsXCIlXCIpOylhPXt0eXBlOnMuQmluYXJ5RXhwcmVzc2lvbixvcGVyYXRvcjpiLnRleHQsbGVmdDphLHJpZ2h0OnRoaXMudW5hcnkoKX07cmV0dXJuIGF9LFxudW5hcnk6ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4oYT10aGlzLmV4cGVjdChcIitcIixcIi1cIixcIiFcIikpP3t0eXBlOnMuVW5hcnlFeHByZXNzaW9uLG9wZXJhdG9yOmEudGV4dCxwcmVmaXg6ITAsYXJndW1lbnQ6dGhpcy51bmFyeSgpfTp0aGlzLnByaW1hcnkoKX0scHJpbWFyeTpmdW5jdGlvbigpe3ZhciBhO3RoaXMuZXhwZWN0KFwiKFwiKT8oYT10aGlzLmZpbHRlckNoYWluKCksdGhpcy5jb25zdW1lKFwiKVwiKSk6dGhpcy5leHBlY3QoXCJbXCIpP2E9dGhpcy5hcnJheURlY2xhcmF0aW9uKCk6dGhpcy5leHBlY3QoXCJ7XCIpP2E9dGhpcy5vYmplY3QoKTp0aGlzLnNlbGZSZWZlcmVudGlhbC5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KT9hPXJhKHRoaXMuc2VsZlJlZmVyZW50aWFsW3RoaXMuY29uc3VtZSgpLnRleHRdKTp0aGlzLm9wdGlvbnMubGl0ZXJhbHMuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCk/YT17dHlwZTpzLkxpdGVyYWwsdmFsdWU6dGhpcy5vcHRpb25zLmxpdGVyYWxzW3RoaXMuY29uc3VtZSgpLnRleHRdfTpcbnRoaXMucGVlaygpLmlkZW50aWZpZXI/YT10aGlzLmlkZW50aWZpZXIoKTp0aGlzLnBlZWsoKS5jb25zdGFudD9hPXRoaXMuY29uc3RhbnQoKTp0aGlzLnRocm93RXJyb3IoXCJub3QgYSBwcmltYXJ5IGV4cHJlc3Npb25cIix0aGlzLnBlZWsoKSk7Zm9yKHZhciBiO2I9dGhpcy5leHBlY3QoXCIoXCIsXCJbXCIsXCIuXCIpOylcIihcIj09PWIudGV4dD8oYT17dHlwZTpzLkNhbGxFeHByZXNzaW9uLGNhbGxlZTphLGFyZ3VtZW50czp0aGlzLnBhcnNlQXJndW1lbnRzKCl9LHRoaXMuY29uc3VtZShcIilcIikpOlwiW1wiPT09Yi50ZXh0PyhhPXt0eXBlOnMuTWVtYmVyRXhwcmVzc2lvbixvYmplY3Q6YSxwcm9wZXJ0eTp0aGlzLmV4cHJlc3Npb24oKSxjb21wdXRlZDohMH0sdGhpcy5jb25zdW1lKFwiXVwiKSk6XCIuXCI9PT1iLnRleHQ/YT17dHlwZTpzLk1lbWJlckV4cHJlc3Npb24sb2JqZWN0OmEscHJvcGVydHk6dGhpcy5pZGVudGlmaWVyKCksY29tcHV0ZWQ6ITF9OnRoaXMudGhyb3dFcnJvcihcIklNUE9TU0lCTEVcIik7XG5yZXR1cm4gYX0sZmlsdGVyOmZ1bmN0aW9uKGEpe2E9W2FdO2Zvcih2YXIgYj17dHlwZTpzLkNhbGxFeHByZXNzaW9uLGNhbGxlZTp0aGlzLmlkZW50aWZpZXIoKSxhcmd1bWVudHM6YSxmaWx0ZXI6ITB9O3RoaXMuZXhwZWN0KFwiOlwiKTspYS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtyZXR1cm4gYn0scGFyc2VBcmd1bWVudHM6ZnVuY3Rpb24oKXt2YXIgYT1bXTtpZihcIilcIiE9PXRoaXMucGVla1Rva2VuKCkudGV4dCl7ZG8gYS5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7d2hpbGUodGhpcy5leHBlY3QoXCIsXCIpKX1yZXR1cm4gYX0saWRlbnRpZmllcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY29uc3VtZSgpO2EuaWRlbnRpZmllcnx8dGhpcy50aHJvd0Vycm9yKFwiaXMgbm90IGEgdmFsaWQgaWRlbnRpZmllclwiLGEpO3JldHVybnt0eXBlOnMuSWRlbnRpZmllcixuYW1lOmEudGV4dH19LGNvbnN0YW50OmZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6cy5MaXRlcmFsLHZhbHVlOnRoaXMuY29uc3VtZSgpLnZhbHVlfX0sXG5hcnJheURlY2xhcmF0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9W107aWYoXCJdXCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2Rve2lmKHRoaXMucGVlayhcIl1cIikpYnJlYWs7YS5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKX13aGlsZSh0aGlzLmV4cGVjdChcIixcIikpfXRoaXMuY29uc3VtZShcIl1cIik7cmV0dXJue3R5cGU6cy5BcnJheUV4cHJlc3Npb24sZWxlbWVudHM6YX19LG9iamVjdDpmdW5jdGlvbigpe3ZhciBhPVtdLGI7aWYoXCJ9XCIhPT10aGlzLnBlZWtUb2tlbigpLnRleHQpe2Rve2lmKHRoaXMucGVlayhcIn1cIikpYnJlYWs7Yj17dHlwZTpzLlByb3BlcnR5LGtpbmQ6XCJpbml0XCJ9O3RoaXMucGVlaygpLmNvbnN0YW50PyhiLmtleT10aGlzLmNvbnN0YW50KCksYi5jb21wdXRlZD0hMSx0aGlzLmNvbnN1bWUoXCI6XCIpLGIudmFsdWU9dGhpcy5leHByZXNzaW9uKCkpOnRoaXMucGVlaygpLmlkZW50aWZpZXI/KGIua2V5PXRoaXMuaWRlbnRpZmllcigpLGIuY29tcHV0ZWQ9ITEsdGhpcy5wZWVrKFwiOlwiKT9cbih0aGlzLmNvbnN1bWUoXCI6XCIpLGIudmFsdWU9dGhpcy5leHByZXNzaW9uKCkpOmIudmFsdWU9Yi5rZXkpOnRoaXMucGVlayhcIltcIik/KHRoaXMuY29uc3VtZShcIltcIiksYi5rZXk9dGhpcy5leHByZXNzaW9uKCksdGhpcy5jb25zdW1lKFwiXVwiKSxiLmNvbXB1dGVkPSEwLHRoaXMuY29uc3VtZShcIjpcIiksYi52YWx1ZT10aGlzLmV4cHJlc3Npb24oKSk6dGhpcy50aHJvd0Vycm9yKFwiaW52YWxpZCBrZXlcIix0aGlzLnBlZWsoKSk7YS5wdXNoKGIpfXdoaWxlKHRoaXMuZXhwZWN0KFwiLFwiKSl9dGhpcy5jb25zdW1lKFwifVwiKTtyZXR1cm57dHlwZTpzLk9iamVjdEV4cHJlc3Npb24scHJvcGVydGllczphfX0sdGhyb3dFcnJvcjpmdW5jdGlvbihhLGIpe3Rocm93IFVhKFwic3ludGF4XCIsYi50ZXh0LGEsYi5pbmRleCsxLHRoaXMudGV4dCx0aGlzLnRleHQuc3Vic3RyaW5nKGIuaW5kZXgpKTt9LGNvbnN1bWU6ZnVuY3Rpb24oYSl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBVYShcInVlb2VcIixcbnRoaXMudGV4dCk7dmFyIGI9dGhpcy5leHBlY3QoYSk7Ynx8dGhpcy50aHJvd0Vycm9yKFwiaXMgdW5leHBlY3RlZCwgZXhwZWN0aW5nIFtcIithK1wiXVwiLHRoaXMucGVlaygpKTtyZXR1cm4gYn0scGVla1Rva2VuOmZ1bmN0aW9uKCl7aWYoMD09PXRoaXMudG9rZW5zLmxlbmd0aCl0aHJvdyBVYShcInVlb2VcIix0aGlzLnRleHQpO3JldHVybiB0aGlzLnRva2Vuc1swXX0scGVlazpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCxhLGIsZCxjKX0scGVla0FoZWFkOmZ1bmN0aW9uKGEsYixkLGMsZSl7aWYodGhpcy50b2tlbnMubGVuZ3RoPmEpe2E9dGhpcy50b2tlbnNbYV07dmFyIGY9YS50ZXh0O2lmKGY9PT1ifHxmPT09ZHx8Zj09PWN8fGY9PT1lfHwhKGJ8fGR8fGN8fGUpKXJldHVybiBhfXJldHVybiExfSxleHBlY3Q6ZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuKGE9dGhpcy5wZWVrKGEsYixkLGMpKT8odGhpcy50b2tlbnMuc2hpZnQoKSxhKTohMX0sc2VsZlJlZmVyZW50aWFsOntcInRoaXNcIjp7dHlwZTpzLlRoaXNFeHByZXNzaW9ufSxcbiRsb2NhbHM6e3R5cGU6cy5Mb2NhbHNFeHByZXNzaW9ufX19O0hkLnByb3RvdHlwZT17Y29tcGlsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO3RoaXMuc3RhdGU9e25leHRJZDowLGZpbHRlcnM6e30sZm46e3ZhcnM6W10sYm9keTpbXSxvd246e319LGFzc2lnbjp7dmFyczpbXSxib2R5OltdLG93bjp7fX0saW5wdXRzOltdfTtVKGEsYi4kZmlsdGVyKTt2YXIgZD1cIlwiLGM7dGhpcy5zdGFnZT1cImFzc2lnblwiO2lmKGM9R2QoYSkpdGhpcy5zdGF0ZS5jb21wdXRpbmc9XCJhc3NpZ25cIixkPXRoaXMubmV4dElkKCksdGhpcy5yZWN1cnNlKGMsZCksdGhpcy5yZXR1cm5fKGQpLGQ9XCJmbi5hc3NpZ249XCIrdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKFwiYXNzaWduXCIsXCJzLHYsbFwiKTtjPUVkKGEuYm9keSk7Yi5zdGFnZT1cImlucHV0c1wiO3EoYyxmdW5jdGlvbihhLGMpe3ZhciBkPVwiZm5cIitjO2Iuc3RhdGVbZF09e3ZhcnM6W10sYm9keTpbXSxvd246e319O2Iuc3RhdGUuY29tcHV0aW5nPWQ7dmFyIGg9Yi5uZXh0SWQoKTtcbmIucmVjdXJzZShhLGgpO2IucmV0dXJuXyhoKTtiLnN0YXRlLmlucHV0cy5wdXNoKGQpO2Eud2F0Y2hJZD1jfSk7dGhpcy5zdGF0ZS5jb21wdXRpbmc9XCJmblwiO3RoaXMuc3RhZ2U9XCJtYWluXCI7dGhpcy5yZWN1cnNlKGEpO2E9J1wiJyt0aGlzLlVTRStcIiBcIit0aGlzLlNUUklDVCsnXCI7XFxuJyt0aGlzLmZpbHRlclByZWZpeCgpK1widmFyIGZuPVwiK3RoaXMuZ2VuZXJhdGVGdW5jdGlvbihcImZuXCIsXCJzLGwsYSxpXCIpK2QrdGhpcy53YXRjaEZucygpK1wicmV0dXJuIGZuO1wiO2E9KG5ldyBGdW5jdGlvbihcIiRmaWx0ZXJcIixcImdldFN0cmluZ1ZhbHVlXCIsXCJpZkRlZmluZWRcIixcInBsdXNcIixhKSkodGhpcy4kZmlsdGVyLHpnLEFnLERkKTt0aGlzLnN0YXRlPXRoaXMuc3RhZ2U9dm9pZCAwO3JldHVybiBhfSxVU0U6XCJ1c2VcIixTVFJJQ1Q6XCJzdHJpY3RcIix3YXRjaEZuczpmdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5zdGF0ZS5pbnB1dHMsZD10aGlzO3EoYixmdW5jdGlvbihiKXthLnB1c2goXCJ2YXIgXCIrXG5iK1wiPVwiK2QuZ2VuZXJhdGVGdW5jdGlvbihiLFwic1wiKSl9KTtiLmxlbmd0aCYmYS5wdXNoKFwiZm4uaW5wdXRzPVtcIitiLmpvaW4oXCIsXCIpK1wiXTtcIik7cmV0dXJuIGEuam9pbihcIlwiKX0sZ2VuZXJhdGVGdW5jdGlvbjpmdW5jdGlvbihhLGIpe3JldHVyblwiZnVuY3Rpb24oXCIrYitcIil7XCIrdGhpcy52YXJzUHJlZml4KGEpK3RoaXMuYm9keShhKStcIn07XCJ9LGZpbHRlclByZWZpeDpmdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcztxKHRoaXMuc3RhdGUuZmlsdGVycyxmdW5jdGlvbihkLGMpe2EucHVzaChkK1wiPSRmaWx0ZXIoXCIrYi5lc2NhcGUoYykrXCIpXCIpfSk7cmV0dXJuIGEubGVuZ3RoP1widmFyIFwiK2Euam9pbihcIixcIikrXCI7XCI6XCJcIn0sdmFyc1ByZWZpeDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGF0ZVthXS52YXJzLmxlbmd0aD9cInZhciBcIit0aGlzLnN0YXRlW2FdLnZhcnMuam9pbihcIixcIikrXCI7XCI6XCJcIn0sYm9keTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5zdGF0ZVthXS5ib2R5LmpvaW4oXCJcIil9LFxucmVjdXJzZTpmdW5jdGlvbihhLGIsZCxjLGUsZil7dmFyIGcsaCxrPXRoaXMsbCxtLG47Yz1jfHx6O2lmKCFmJiZ1KGEud2F0Y2hJZCkpYj1ifHx0aGlzLm5leHRJZCgpLHRoaXMuaWZfKFwiaVwiLHRoaXMubGF6eUFzc2lnbihiLHRoaXMuY29tcHV0ZWRNZW1iZXIoXCJpXCIsYS53YXRjaElkKSksdGhpcy5sYXp5UmVjdXJzZShhLGIsZCxjLGUsITApKTtlbHNlIHN3aXRjaChhLnR5cGUpe2Nhc2Ugcy5Qcm9ncmFtOnEoYS5ib2R5LGZ1bmN0aW9uKGIsYyl7ay5yZWN1cnNlKGIuZXhwcmVzc2lvbix2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKGEpe2g9YX0pO2MhPT1hLmJvZHkubGVuZ3RoLTE/ay5jdXJyZW50KCkuYm9keS5wdXNoKGgsXCI7XCIpOmsucmV0dXJuXyhoKX0pO2JyZWFrO2Nhc2Ugcy5MaXRlcmFsOm09dGhpcy5lc2NhcGUoYS52YWx1ZSk7dGhpcy5hc3NpZ24oYixtKTtjKGJ8fG0pO2JyZWFrO2Nhc2Ugcy5VbmFyeUV4cHJlc3Npb246dGhpcy5yZWN1cnNlKGEuYXJndW1lbnQsdm9pZCAwLFxudm9pZCAwLGZ1bmN0aW9uKGEpe2g9YX0pO209YS5vcGVyYXRvcitcIihcIit0aGlzLmlmRGVmaW5lZChoLDApK1wiKVwiO3RoaXMuYXNzaWduKGIsbSk7YyhtKTticmVhaztjYXNlIHMuQmluYXJ5RXhwcmVzc2lvbjp0aGlzLnJlY3Vyc2UoYS5sZWZ0LHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oYSl7Zz1hfSk7dGhpcy5yZWN1cnNlKGEucmlnaHQsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbihhKXtoPWF9KTttPVwiK1wiPT09YS5vcGVyYXRvcj90aGlzLnBsdXMoZyxoKTpcIi1cIj09PWEub3BlcmF0b3I/dGhpcy5pZkRlZmluZWQoZywwKSthLm9wZXJhdG9yK3RoaXMuaWZEZWZpbmVkKGgsMCk6XCIoXCIrZytcIilcIithLm9wZXJhdG9yK1wiKFwiK2grXCIpXCI7dGhpcy5hc3NpZ24oYixtKTtjKG0pO2JyZWFrO2Nhc2Ugcy5Mb2dpY2FsRXhwcmVzc2lvbjpiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEubGVmdCxiKTtrLmlmXyhcIiYmXCI9PT1hLm9wZXJhdG9yP2I6ay5ub3QoYiksay5sYXp5UmVjdXJzZShhLnJpZ2h0LFxuYikpO2MoYik7YnJlYWs7Y2FzZSBzLkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpiPWJ8fHRoaXMubmV4dElkKCk7ay5yZWN1cnNlKGEudGVzdCxiKTtrLmlmXyhiLGsubGF6eVJlY3Vyc2UoYS5hbHRlcm5hdGUsYiksay5sYXp5UmVjdXJzZShhLmNvbnNlcXVlbnQsYikpO2MoYik7YnJlYWs7Y2FzZSBzLklkZW50aWZpZXI6Yj1ifHx0aGlzLm5leHRJZCgpO2QmJihkLmNvbnRleHQ9XCJpbnB1dHNcIj09PWsuc3RhZ2U/XCJzXCI6dGhpcy5hc3NpZ24odGhpcy5uZXh0SWQoKSx0aGlzLmdldEhhc093blByb3BlcnR5KFwibFwiLGEubmFtZSkrXCI/bDpzXCIpLGQuY29tcHV0ZWQ9ITEsZC5uYW1lPWEubmFtZSk7ay5pZl8oXCJpbnB1dHNcIj09PWsuc3RhZ2V8fGsubm90KGsuZ2V0SGFzT3duUHJvcGVydHkoXCJsXCIsYS5uYW1lKSksZnVuY3Rpb24oKXtrLmlmXyhcImlucHV0c1wiPT09ay5zdGFnZXx8XCJzXCIsZnVuY3Rpb24oKXtlJiYxIT09ZSYmay5pZl8oay5pc051bGwoay5ub25Db21wdXRlZE1lbWJlcihcInNcIixhLm5hbWUpKSxcbmsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKFwic1wiLGEubmFtZSksXCJ7fVwiKSk7ay5hc3NpZ24oYixrLm5vbkNvbXB1dGVkTWVtYmVyKFwic1wiLGEubmFtZSkpfSl9LGImJmsubGF6eUFzc2lnbihiLGsubm9uQ29tcHV0ZWRNZW1iZXIoXCJsXCIsYS5uYW1lKSkpO2MoYik7YnJlYWs7Y2FzZSBzLk1lbWJlckV4cHJlc3Npb246Zz1kJiYoZC5jb250ZXh0PXRoaXMubmV4dElkKCkpfHx0aGlzLm5leHRJZCgpO2I9Ynx8dGhpcy5uZXh0SWQoKTtrLnJlY3Vyc2UoYS5vYmplY3QsZyx2b2lkIDAsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoZyksZnVuY3Rpb24oKXthLmNvbXB1dGVkPyhoPWsubmV4dElkKCksay5yZWN1cnNlKGEucHJvcGVydHksaCksay5nZXRTdHJpbmdWYWx1ZShoKSxlJiYxIT09ZSYmay5pZl8oay5ub3Qoay5jb21wdXRlZE1lbWJlcihnLGgpKSxrLmxhenlBc3NpZ24oay5jb21wdXRlZE1lbWJlcihnLGgpLFwie31cIikpLG09ay5jb21wdXRlZE1lbWJlcihnLGgpLGsuYXNzaWduKGIsXG5tKSxkJiYoZC5jb21wdXRlZD0hMCxkLm5hbWU9aCkpOihlJiYxIT09ZSYmay5pZl8oay5pc051bGwoay5ub25Db21wdXRlZE1lbWJlcihnLGEucHJvcGVydHkubmFtZSkpLGsubGF6eUFzc2lnbihrLm5vbkNvbXB1dGVkTWVtYmVyKGcsYS5wcm9wZXJ0eS5uYW1lKSxcInt9XCIpKSxtPWsubm9uQ29tcHV0ZWRNZW1iZXIoZyxhLnByb3BlcnR5Lm5hbWUpLGsuYXNzaWduKGIsbSksZCYmKGQuY29tcHV0ZWQ9ITEsZC5uYW1lPWEucHJvcGVydHkubmFtZSkpfSxmdW5jdGlvbigpe2suYXNzaWduKGIsXCJ1bmRlZmluZWRcIil9KTtjKGIpfSwhIWUpO2JyZWFrO2Nhc2Ugcy5DYWxsRXhwcmVzc2lvbjpiPWJ8fHRoaXMubmV4dElkKCk7YS5maWx0ZXI/KGg9ay5maWx0ZXIoYS5jYWxsZWUubmFtZSksbD1bXSxxKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGEpe3ZhciBiPWsubmV4dElkKCk7ay5yZWN1cnNlKGEsYik7bC5wdXNoKGIpfSksbT1oK1wiKFwiK2wuam9pbihcIixcIikrXCIpXCIsay5hc3NpZ24oYixtKSxjKGIpKTpcbihoPWsubmV4dElkKCksZz17fSxsPVtdLGsucmVjdXJzZShhLmNhbGxlZSxoLGcsZnVuY3Rpb24oKXtrLmlmXyhrLm5vdE51bGwoaCksZnVuY3Rpb24oKXtxKGEuYXJndW1lbnRzLGZ1bmN0aW9uKGIpe2sucmVjdXJzZShiLGEuY29uc3RhbnQ/dm9pZCAwOmsubmV4dElkKCksdm9pZCAwLGZ1bmN0aW9uKGEpe2wucHVzaChhKX0pfSk7bT1nLm5hbWU/ay5tZW1iZXIoZy5jb250ZXh0LGcubmFtZSxnLmNvbXB1dGVkKStcIihcIitsLmpvaW4oXCIsXCIpK1wiKVwiOmgrXCIoXCIrbC5qb2luKFwiLFwiKStcIilcIjtrLmFzc2lnbihiLG0pfSxmdW5jdGlvbigpe2suYXNzaWduKGIsXCJ1bmRlZmluZWRcIil9KTtjKGIpfSkpO2JyZWFrO2Nhc2Ugcy5Bc3NpZ25tZW50RXhwcmVzc2lvbjpoPXRoaXMubmV4dElkKCk7Zz17fTt0aGlzLnJlY3Vyc2UoYS5sZWZ0LHZvaWQgMCxnLGZ1bmN0aW9uKCl7ay5pZl8oay5ub3ROdWxsKGcuY29udGV4dCksZnVuY3Rpb24oKXtrLnJlY3Vyc2UoYS5yaWdodCxoKTttPWsubWVtYmVyKGcuY29udGV4dCxcbmcubmFtZSxnLmNvbXB1dGVkKSthLm9wZXJhdG9yK2g7ay5hc3NpZ24oYixtKTtjKGJ8fG0pfSl9LDEpO2JyZWFrO2Nhc2Ugcy5BcnJheUV4cHJlc3Npb246bD1bXTtxKGEuZWxlbWVudHMsZnVuY3Rpb24oYil7ay5yZWN1cnNlKGIsYS5jb25zdGFudD92b2lkIDA6ay5uZXh0SWQoKSx2b2lkIDAsZnVuY3Rpb24oYSl7bC5wdXNoKGEpfSl9KTttPVwiW1wiK2wuam9pbihcIixcIikrXCJdXCI7dGhpcy5hc3NpZ24oYixtKTtjKGJ8fG0pO2JyZWFrO2Nhc2Ugcy5PYmplY3RFeHByZXNzaW9uOmw9W107bj0hMTtxKGEucHJvcGVydGllcyxmdW5jdGlvbihhKXthLmNvbXB1dGVkJiYobj0hMCl9KTtuPyhiPWJ8fHRoaXMubmV4dElkKCksdGhpcy5hc3NpZ24oYixcInt9XCIpLHEoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2EuY29tcHV0ZWQ/KGc9ay5uZXh0SWQoKSxrLnJlY3Vyc2UoYS5rZXksZykpOmc9YS5rZXkudHlwZT09PXMuSWRlbnRpZmllcj9hLmtleS5uYW1lOlwiXCIrYS5rZXkudmFsdWU7aD1rLm5leHRJZCgpO1xuay5yZWN1cnNlKGEudmFsdWUsaCk7ay5hc3NpZ24oay5tZW1iZXIoYixnLGEuY29tcHV0ZWQpLGgpfSkpOihxKGEucHJvcGVydGllcyxmdW5jdGlvbihiKXtrLnJlY3Vyc2UoYi52YWx1ZSxhLmNvbnN0YW50P3ZvaWQgMDprLm5leHRJZCgpLHZvaWQgMCxmdW5jdGlvbihhKXtsLnB1c2goay5lc2NhcGUoYi5rZXkudHlwZT09PXMuSWRlbnRpZmllcj9iLmtleS5uYW1lOlwiXCIrYi5rZXkudmFsdWUpK1wiOlwiK2EpfSl9KSxtPVwie1wiK2wuam9pbihcIixcIikrXCJ9XCIsdGhpcy5hc3NpZ24oYixtKSk7YyhifHxtKTticmVhaztjYXNlIHMuVGhpc0V4cHJlc3Npb246dGhpcy5hc3NpZ24oYixcInNcIik7YyhifHxcInNcIik7YnJlYWs7Y2FzZSBzLkxvY2Fsc0V4cHJlc3Npb246dGhpcy5hc3NpZ24oYixcImxcIik7YyhifHxcImxcIik7YnJlYWs7Y2FzZSBzLk5HVmFsdWVQYXJhbWV0ZXI6dGhpcy5hc3NpZ24oYixcInZcIiksYyhifHxcInZcIil9fSxnZXRIYXNPd25Qcm9wZXJ0eTpmdW5jdGlvbihhLGIpe3ZhciBkPWErXCIuXCIrXG5iLGM9dGhpcy5jdXJyZW50KCkub3duO2MuaGFzT3duUHJvcGVydHkoZCl8fChjW2RdPXRoaXMubmV4dElkKCExLGErXCImJihcIit0aGlzLmVzY2FwZShiKStcIiBpbiBcIithK1wiKVwiKSk7cmV0dXJuIGNbZF19LGFzc2lnbjpmdW5jdGlvbihhLGIpe2lmKGEpcmV0dXJuIHRoaXMuY3VycmVudCgpLmJvZHkucHVzaChhLFwiPVwiLGIsXCI7XCIpLGF9LGZpbHRlcjpmdW5jdGlvbihhKXt0aGlzLnN0YXRlLmZpbHRlcnMuaGFzT3duUHJvcGVydHkoYSl8fCh0aGlzLnN0YXRlLmZpbHRlcnNbYV09dGhpcy5uZXh0SWQoITApKTtyZXR1cm4gdGhpcy5zdGF0ZS5maWx0ZXJzW2FdfSxpZkRlZmluZWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm5cImlmRGVmaW5lZChcIithK1wiLFwiK3RoaXMuZXNjYXBlKGIpK1wiKVwifSxwbHVzOmZ1bmN0aW9uKGEsYil7cmV0dXJuXCJwbHVzKFwiK2ErXCIsXCIrYitcIilcIn0scmV0dXJuXzpmdW5jdGlvbihhKXt0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goXCJyZXR1cm4gXCIsYSxcIjtcIil9LGlmXzpmdW5jdGlvbihhLFxuYixkKXtpZighMD09PWEpYigpO2Vsc2V7dmFyIGM9dGhpcy5jdXJyZW50KCkuYm9keTtjLnB1c2goXCJpZihcIixhLFwiKXtcIik7YigpO2MucHVzaChcIn1cIik7ZCYmKGMucHVzaChcImVsc2V7XCIpLGQoKSxjLnB1c2goXCJ9XCIpKX19LG5vdDpmdW5jdGlvbihhKXtyZXR1cm5cIiEoXCIrYStcIilcIn0saXNOdWxsOmZ1bmN0aW9uKGEpe3JldHVybiBhK1wiPT1udWxsXCJ9LG5vdE51bGw6ZnVuY3Rpb24oYSl7cmV0dXJuIGErXCIhPW51bGxcIn0sbm9uQ29tcHV0ZWRNZW1iZXI6ZnVuY3Rpb24oYSxiKXt2YXIgZD0vW14kX2EtekEtWjAtOV0vZztyZXR1cm4vXlskX2EtekEtWl1bJF9hLXpBLVowLTldKiQvLnRlc3QoYik/YStcIi5cIitiOmErJ1tcIicrYi5yZXBsYWNlKGQsdGhpcy5zdHJpbmdFc2NhcGVGbikrJ1wiXSd9LGNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGErXCJbXCIrYitcIl1cIn0sbWVtYmVyOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZD90aGlzLmNvbXB1dGVkTWVtYmVyKGEsYik6dGhpcy5ub25Db21wdXRlZE1lbWJlcihhLFxuYil9LGdldFN0cmluZ1ZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMuYXNzaWduKGEsXCJnZXRTdHJpbmdWYWx1ZShcIithK1wiKVwiKX0sbGF6eVJlY3Vyc2U6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe3ZhciBnPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKCl7Zy5yZWN1cnNlKGEsYixkLGMsZSxmKX19LGxhenlBc3NpZ246ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzO3JldHVybiBmdW5jdGlvbigpe2QuYXNzaWduKGEsYil9fSxzdHJpbmdFc2NhcGVSZWdleDovW14gYS16QS1aMC05XS9nLHN0cmluZ0VzY2FwZUZuOmZ1bmN0aW9uKGEpe3JldHVyblwiXFxcXHVcIisoXCIwMDAwXCIrYS5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpfSxlc2NhcGU6ZnVuY3Rpb24oYSl7aWYoRihhKSlyZXR1cm5cIidcIithLnJlcGxhY2UodGhpcy5zdHJpbmdFc2NhcGVSZWdleCx0aGlzLnN0cmluZ0VzY2FwZUZuKStcIidcIjtpZihiYShhKSlyZXR1cm4gYS50b1N0cmluZygpO2lmKCEwPT09YSlyZXR1cm5cInRydWVcIjtpZighMT09PVxuYSlyZXR1cm5cImZhbHNlXCI7aWYobnVsbD09PWEpcmV0dXJuXCJudWxsXCI7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhKXJldHVyblwidW5kZWZpbmVkXCI7dGhyb3cgVWEoXCJlc2NcIik7fSxuZXh0SWQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1cInZcIit0aGlzLnN0YXRlLm5leHRJZCsrO2F8fHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChkKyhiP1wiPVwiK2I6XCJcIikpO3JldHVybiBkfSxjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5zdGF0ZS5jb21wdXRpbmddfX07SWQucHJvdG90eXBlPXtjb21waWxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7VShhLGIuJGZpbHRlcik7dmFyIGQsYztpZihkPUdkKGEpKWM9dGhpcy5yZWN1cnNlKGQpO2Q9RWQoYS5ib2R5KTt2YXIgZTtkJiYoZT1bXSxxKGQsZnVuY3Rpb24oYSxjKXt2YXIgZD1iLnJlY3Vyc2UoYSk7YS5pbnB1dD1kO2UucHVzaChkKTthLndhdGNoSWQ9Y30pKTt2YXIgZj1bXTtxKGEuYm9keSxmdW5jdGlvbihhKXtmLnB1c2goYi5yZWN1cnNlKGEuZXhwcmVzc2lvbikpfSk7XG5hPTA9PT1hLmJvZHkubGVuZ3RoP3o6MT09PWEuYm9keS5sZW5ndGg/ZlswXTpmdW5jdGlvbihhLGIpe3ZhciBjO3EoZixmdW5jdGlvbihkKXtjPWQoYSxiKX0pO3JldHVybiBjfTtjJiYoYS5hc3NpZ249ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjKGEsZCxiKX0pO2UmJihhLmlucHV0cz1lKTtyZXR1cm4gYX0scmVjdXJzZTpmdW5jdGlvbihhLGIsZCl7dmFyIGMsZSxmPXRoaXMsZztpZihhLmlucHV0KXJldHVybiB0aGlzLmlucHV0cyhhLmlucHV0LGEud2F0Y2hJZCk7c3dpdGNoKGEudHlwZSl7Y2FzZSBzLkxpdGVyYWw6cmV0dXJuIHRoaXMudmFsdWUoYS52YWx1ZSxiKTtjYXNlIHMuVW5hcnlFeHByZXNzaW9uOnJldHVybiBlPXRoaXMucmVjdXJzZShhLmFyZ3VtZW50KSx0aGlzW1widW5hcnlcIithLm9wZXJhdG9yXShlLGIpO2Nhc2Ugcy5CaW5hcnlFeHByZXNzaW9uOnJldHVybiBjPXRoaXMucmVjdXJzZShhLmxlZnQpLGU9dGhpcy5yZWN1cnNlKGEucmlnaHQpLHRoaXNbXCJiaW5hcnlcIitcbmEub3BlcmF0b3JdKGMsZSxiKTtjYXNlIHMuTG9naWNhbEV4cHJlc3Npb246cmV0dXJuIGM9dGhpcy5yZWN1cnNlKGEubGVmdCksZT10aGlzLnJlY3Vyc2UoYS5yaWdodCksdGhpc1tcImJpbmFyeVwiK2Eub3BlcmF0b3JdKGMsZSxiKTtjYXNlIHMuQ29uZGl0aW9uYWxFeHByZXNzaW9uOnJldHVybiB0aGlzW1widGVybmFyeT86XCJdKHRoaXMucmVjdXJzZShhLnRlc3QpLHRoaXMucmVjdXJzZShhLmFsdGVybmF0ZSksdGhpcy5yZWN1cnNlKGEuY29uc2VxdWVudCksYik7Y2FzZSBzLklkZW50aWZpZXI6cmV0dXJuIGYuaWRlbnRpZmllcihhLm5hbWUsYixkKTtjYXNlIHMuTWVtYmVyRXhwcmVzc2lvbjpyZXR1cm4gYz10aGlzLnJlY3Vyc2UoYS5vYmplY3QsITEsISFkKSxhLmNvbXB1dGVkfHwoZT1hLnByb3BlcnR5Lm5hbWUpLGEuY29tcHV0ZWQmJihlPXRoaXMucmVjdXJzZShhLnByb3BlcnR5KSksYS5jb21wdXRlZD90aGlzLmNvbXB1dGVkTWVtYmVyKGMsZSxiLGQpOnRoaXMubm9uQ29tcHV0ZWRNZW1iZXIoYyxcbmUsYixkKTtjYXNlIHMuQ2FsbEV4cHJlc3Npb246cmV0dXJuIGc9W10scShhLmFyZ3VtZW50cyxmdW5jdGlvbihhKXtnLnB1c2goZi5yZWN1cnNlKGEpKX0pLGEuZmlsdGVyJiYoZT10aGlzLiRmaWx0ZXIoYS5jYWxsZWUubmFtZSkpLGEuZmlsdGVyfHwoZT10aGlzLnJlY3Vyc2UoYS5jYWxsZWUsITApKSxhLmZpbHRlcj9mdW5jdGlvbihhLGMsZCxmKXtmb3IodmFyIG49W10scD0wO3A8Zy5sZW5ndGg7KytwKW4ucHVzaChnW3BdKGEsYyxkLGYpKTthPWUuYXBwbHkodm9pZCAwLG4sZik7cmV0dXJuIGI/e2NvbnRleHQ6dm9pZCAwLG5hbWU6dm9pZCAwLHZhbHVlOmF9OmF9OmZ1bmN0aW9uKGEsYyxkLGYpe3ZhciBuPWUoYSxjLGQsZikscDtpZihudWxsIT1uLnZhbHVlKXtwPVtdO2Zvcih2YXIgcj0wO3I8Zy5sZW5ndGg7KytyKXAucHVzaChnW3JdKGEsYyxkLGYpKTtwPW4udmFsdWUuYXBwbHkobi5jb250ZXh0LHApfXJldHVybiBiP3t2YWx1ZTpwfTpwfTtjYXNlIHMuQXNzaWdubWVudEV4cHJlc3Npb246cmV0dXJuIGM9XG50aGlzLnJlY3Vyc2UoYS5sZWZ0LCEwLDEpLGU9dGhpcy5yZWN1cnNlKGEucmlnaHQpLGZ1bmN0aW9uKGEsZCxmLGcpe3ZhciBuPWMoYSxkLGYsZyk7YT1lKGEsZCxmLGcpO24uY29udGV4dFtuLm5hbWVdPWE7cmV0dXJuIGI/e3ZhbHVlOmF9OmF9O2Nhc2Ugcy5BcnJheUV4cHJlc3Npb246cmV0dXJuIGc9W10scShhLmVsZW1lbnRzLGZ1bmN0aW9uKGEpe2cucHVzaChmLnJlY3Vyc2UoYSkpfSksZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPVtdLHA9MDtwPGcubGVuZ3RoOysrcClmLnB1c2goZ1twXShhLGMsZCxlKSk7cmV0dXJuIGI/e3ZhbHVlOmZ9OmZ9O2Nhc2Ugcy5PYmplY3RFeHByZXNzaW9uOnJldHVybiBnPVtdLHEoYS5wcm9wZXJ0aWVzLGZ1bmN0aW9uKGEpe2EuY29tcHV0ZWQ/Zy5wdXNoKHtrZXk6Zi5yZWN1cnNlKGEua2V5KSxjb21wdXRlZDohMCx2YWx1ZTpmLnJlY3Vyc2UoYS52YWx1ZSl9KTpnLnB1c2goe2tleTphLmtleS50eXBlPT09cy5JZGVudGlmaWVyP2Eua2V5Lm5hbWU6XG5cIlwiK2Eua2V5LnZhbHVlLGNvbXB1dGVkOiExLHZhbHVlOmYucmVjdXJzZShhLnZhbHVlKX0pfSksZnVuY3Rpb24oYSxjLGQsZSl7Zm9yKHZhciBmPXt9LHA9MDtwPGcubGVuZ3RoOysrcClnW3BdLmNvbXB1dGVkP2ZbZ1twXS5rZXkoYSxjLGQsZSldPWdbcF0udmFsdWUoYSxjLGQsZSk6ZltnW3BdLmtleV09Z1twXS52YWx1ZShhLGMsZCxlKTtyZXR1cm4gYj97dmFsdWU6Zn06Zn07Y2FzZSBzLlRoaXNFeHByZXNzaW9uOnJldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYj97dmFsdWU6YX06YX07Y2FzZSBzLkxvY2Fsc0V4cHJlc3Npb246cmV0dXJuIGZ1bmN0aW9uKGEsYyl7cmV0dXJuIGI/e3ZhbHVlOmN9OmN9O2Nhc2Ugcy5OR1ZhbHVlUGFyYW1ldGVyOnJldHVybiBmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGI/e3ZhbHVlOmR9OmR9fX0sXCJ1bmFyeStcIjpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtkPWEoZCxjLGUsZik7ZD11KGQpPytkOjA7cmV0dXJuIGI/e3ZhbHVlOmR9OlxuZH19LFwidW5hcnktXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7ZD1hKGQsYyxlLGYpO2Q9dShkKT8tZDotMDtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LFwidW5hcnkhXCI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZnVuY3Rpb24oZCxjLGUsZil7ZD0hYShkLGMsZSxmKTtyZXR1cm4gYj97dmFsdWU6ZH06ZH19LFwiYmluYXJ5K1wiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7dmFyIGg9YShjLGUsZixnKTtjPWIoYyxlLGYsZyk7aD1EZChoLGMpO3JldHVybiBkP3t2YWx1ZTpofTpofX0sXCJiaW5hcnktXCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXt2YXIgaD1hKGMsZSxmLGcpO2M9YihjLGUsZixnKTtoPSh1KGgpP2g6MCktKHUoYyk/YzowKTtyZXR1cm4gZD97dmFsdWU6aH06aH19LFwiYmluYXJ5KlwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpKmIoYyxlLGYsZyk7XG5yZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5L1wiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpL2IoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeSVcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSViKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk9PT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeSE9PVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpIT09YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PT1cIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKT09YihjLGUsZixnKTtyZXR1cm4gZD9cbnt2YWx1ZTpjfTpjfX0sXCJiaW5hcnkhPVwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpIT1iKGMsZSxmLGcpO3JldHVybiBkP3t2YWx1ZTpjfTpjfX0sXCJiaW5hcnk8XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk8YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5PlwiOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gZnVuY3Rpb24oYyxlLGYsZyl7Yz1hKGMsZSxmLGcpPmIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeTw9XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk8PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OmN9fSxcImJpbmFyeT49XCI6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBmdW5jdGlvbihjLGUsZixnKXtjPWEoYyxlLGYsZyk+PWIoYyxlLGYsZyk7cmV0dXJuIGQ/e3ZhbHVlOmN9OlxuY319LFwiYmluYXJ5JiZcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKSYmYihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwiYmluYXJ5fHxcIjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9YShjLGUsZixnKXx8YihjLGUsZixnKTtyZXR1cm4gZD97dmFsdWU6Y306Y319LFwidGVybmFyeT86XCI6ZnVuY3Rpb24oYSxiLGQsYyl7cmV0dXJuIGZ1bmN0aW9uKGUsZixnLGgpe2U9YShlLGYsZyxoKT9iKGUsZixnLGgpOmQoZSxmLGcsaCk7cmV0dXJuIGM/e3ZhbHVlOmV9OmV9fSx2YWx1ZTpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiP3tjb250ZXh0OnZvaWQgMCxuYW1lOnZvaWQgMCx2YWx1ZTphfTphfX0saWRlbnRpZmllcjpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGZ1bmN0aW9uKGMsZSxmLGcpe2M9ZSYmYSBpbiBlP2U6YztkJiYxIT09ZCYmYyYmbnVsbD09Y1thXSYmKGNbYV09XG57fSk7ZT1jP2NbYV06dm9pZCAwO3JldHVybiBiP3tjb250ZXh0OmMsbmFtZTphLHZhbHVlOmV9OmV9fSxjb21wdXRlZE1lbWJlcjpmdW5jdGlvbihhLGIsZCxjKXtyZXR1cm4gZnVuY3Rpb24oZSxmLGcsaCl7dmFyIGs9YShlLGYsZyxoKSxsLG07bnVsbCE9ayYmKGw9YihlLGYsZyxoKSxsKz1cIlwiLGMmJjEhPT1jJiZrJiYha1tsXSYmKGtbbF09e30pLG09a1tsXSk7cmV0dXJuIGQ/e2NvbnRleHQ6ayxuYW1lOmwsdmFsdWU6bX06bX19LG5vbkNvbXB1dGVkTWVtYmVyOmZ1bmN0aW9uKGEsYixkLGMpe3JldHVybiBmdW5jdGlvbihlLGYsZyxoKXtlPWEoZSxmLGcsaCk7YyYmMSE9PWMmJmUmJm51bGw9PWVbYl0mJihlW2JdPXt9KTtmPW51bGwhPWU/ZVtiXTp2b2lkIDA7cmV0dXJuIGQ/e2NvbnRleHQ6ZSxuYW1lOmIsdmFsdWU6Zn06Zn19LGlucHV0czpmdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbihkLGMsZSxmKXtyZXR1cm4gZj9mW2JdOmEoZCxjLGUpfX19O3VjLnByb3RvdHlwZT1cbntjb25zdHJ1Y3Rvcjp1YyxwYXJzZTpmdW5jdGlvbihhKXthPXRoaXMuYXN0LmFzdChhKTt2YXIgYj10aGlzLmFzdENvbXBpbGVyLmNvbXBpbGUoYSk7Yi5saXRlcmFsPTA9PT1hLmJvZHkubGVuZ3RofHwxPT09YS5ib2R5Lmxlbmd0aCYmKGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1zLkxpdGVyYWx8fGEuYm9keVswXS5leHByZXNzaW9uLnR5cGU9PT1zLkFycmF5RXhwcmVzc2lvbnx8YS5ib2R5WzBdLmV4cHJlc3Npb24udHlwZT09PXMuT2JqZWN0RXhwcmVzc2lvbik7Yi5jb25zdGFudD1hLmNvbnN0YW50O3JldHVybiBifX07dmFyIHRhPUwoXCIkc2NlXCIpLG9hPXtIVE1MOlwiaHRtbFwiLENTUzpcImNzc1wiLFVSTDpcInVybFwiLFJFU09VUkNFX1VSTDpcInJlc291cmNlVXJsXCIsSlM6XCJqc1wifSx4Yz0vXyhbYS16XSkvZyxEZz1MKFwiJGNvbXBpbGVcIiksYWE9eC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxNZD1DYSh4LmxvY2F0aW9uLmhyZWYpO05kLiRpbmplY3Q9W1wiJGRvY3VtZW50XCJdO1xuY2QuJGluamVjdD1bXCIkcHJvdmlkZVwiXTt2YXIgVWQ9MjIsVGQ9XCIuXCIsemM9XCIwXCI7T2QuJGluamVjdD1bXCIkbG9jYWxlXCJdO1FkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTt2YXIgT2c9e3l5eXk6WShcIkZ1bGxZZWFyXCIsNCwwLCExLCEwKSx5eTpZKFwiRnVsbFllYXJcIiwyLDAsITAsITApLHk6WShcIkZ1bGxZZWFyXCIsMSwwLCExLCEwKSxNTU1NOm1iKFwiTW9udGhcIiksTU1NOm1iKFwiTW9udGhcIiwhMCksTU06WShcIk1vbnRoXCIsMiwxKSxNOlkoXCJNb250aFwiLDEsMSksTExMTDptYihcIk1vbnRoXCIsITEsITApLGRkOlkoXCJEYXRlXCIsMiksZDpZKFwiRGF0ZVwiLDEpLEhIOlkoXCJIb3Vyc1wiLDIpLEg6WShcIkhvdXJzXCIsMSksaGg6WShcIkhvdXJzXCIsMiwtMTIpLGg6WShcIkhvdXJzXCIsMSwtMTIpLG1tOlkoXCJNaW51dGVzXCIsMiksbTpZKFwiTWludXRlc1wiLDEpLHNzOlkoXCJTZWNvbmRzXCIsMiksczpZKFwiU2Vjb25kc1wiLDEpLHNzczpZKFwiTWlsbGlzZWNvbmRzXCIsMyksRUVFRTptYihcIkRheVwiKSxFRUU6bWIoXCJEYXlcIiwhMCksXG5hOmZ1bmN0aW9uKGEsYil7cmV0dXJuIDEyPmEuZ2V0SG91cnMoKT9iLkFNUE1TWzBdOmIuQU1QTVNbMV19LFo6ZnVuY3Rpb24oYSxiLGQpe2E9LTEqZDtyZXR1cm4gYT0oMDw9YT9cIitcIjpcIlwiKSsoS2IoTWF0aFswPGE/XCJmbG9vclwiOlwiY2VpbFwiXShhLzYwKSwyKStLYihNYXRoLmFicyhhJTYwKSwyKSl9LHd3OldkKDIpLHc6V2QoMSksRzpBYyxHRzpBYyxHR0c6QWMsR0dHRzpmdW5jdGlvbihhLGIpe3JldHVybiAwPj1hLmdldEZ1bGxZZWFyKCk/Yi5FUkFOQU1FU1swXTpiLkVSQU5BTUVTWzFdfX0sTmc9LygoPzpbXnlNTGRIaG1zYVpFd0cnXSspfCg/OicoPzpbXiddfCcnKSonKXwoPzpFK3x5K3xNK3xMK3xkK3xIK3xoK3xtK3xzK3xhfFp8Ryt8dyspKShbXFxzXFxTXSopLyxNZz0vXi0/XFxkKyQvO1BkLiRpbmplY3Q9W1wiJGxvY2FsZVwiXTt2YXIgSGc9bGEoUSksSWc9bGEodWIpO1JkLiRpbmplY3Q9W1wiJHBhcnNlXCJdO3ZhciBGZT1sYSh7cmVzdHJpY3Q6XCJFXCIsY29tcGlsZTpmdW5jdGlvbihhLFxuYil7aWYoIWIuaHJlZiYmIWIueGxpbmtIcmVmKXJldHVybiBmdW5jdGlvbihhLGIpe2lmKFwiYVwiPT09YlswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgZT1cIltvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddXCI9PT1tYS5jYWxsKGIucHJvcChcImhyZWZcIikpP1wieGxpbms6aHJlZlwiOlwiaHJlZlwiO2Iub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2IuYXR0cihlKXx8YS5wcmV2ZW50RGVmYXVsdCgpfSl9fX19KSx2Yj17fTtxKEZiLGZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZChhLGQsZSl7YS4kd2F0Y2goZVtjXSxmdW5jdGlvbihhKXtlLiRzZXQoYiwhIWEpfSl9aWYoXCJtdWx0aXBsZVwiIT09YSl7dmFyIGM9QmEoXCJuZy1cIitiKSxlPWQ7XCJjaGVja2VkXCI9PT1hJiYoZT1mdW5jdGlvbihhLGIsZSl7ZS5uZ01vZGVsIT09ZVtjXSYmZChhLGIsZSl9KTt2YltjXT1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsbGluazplfX19fSk7cShyZCxmdW5jdGlvbihhLGIpe3ZiW2JdPVxuZnVuY3Rpb24oKXtyZXR1cm57cHJpb3JpdHk6MTAwLGxpbms6ZnVuY3Rpb24oYSxjLGUpe2lmKFwibmdQYXR0ZXJuXCI9PT1iJiZcIi9cIj09PWUubmdQYXR0ZXJuLmNoYXJBdCgwKSYmKGM9ZS5uZ1BhdHRlcm4ubWF0Y2goU2cpKSl7ZS4kc2V0KFwibmdQYXR0ZXJuXCIsbmV3IFJlZ0V4cChjWzFdLGNbMl0pKTtyZXR1cm59YS4kd2F0Y2goZVtiXSxmdW5jdGlvbihhKXtlLiRzZXQoYixhKX0pfX19fSk7cShbXCJzcmNcIixcInNyY3NldFwiLFwiaHJlZlwiXSxmdW5jdGlvbihhKXt2YXIgYj1CYShcIm5nLVwiK2EpO3ZiW2JdPWZ1bmN0aW9uKCl7cmV0dXJue3ByaW9yaXR5Ojk5LGxpbms6ZnVuY3Rpb24oZCxjLGUpe3ZhciBmPWEsZz1hO1wiaHJlZlwiPT09YSYmXCJbb2JqZWN0IFNWR0FuaW1hdGVkU3RyaW5nXVwiPT09bWEuY2FsbChjLnByb3AoXCJocmVmXCIpKSYmKGc9XCJ4bGlua0hyZWZcIixlLiRhdHRyW2ddPVwieGxpbms6aHJlZlwiLGY9bnVsbCk7ZS4kb2JzZXJ2ZShiLGZ1bmN0aW9uKGIpe2I/KGUuJHNldChnLGIpLFxuemEmJmYmJmMucHJvcChmLGVbZ10pKTpcImhyZWZcIj09PWEmJmUuJHNldChnLG51bGwpfSl9fX19KTt2YXIgTWI9eyRhZGRDb250cm9sOnosJCRyZW5hbWVDb250cm9sOmZ1bmN0aW9uKGEsYil7YS4kbmFtZT1ifSwkcmVtb3ZlQ29udHJvbDp6LCRzZXRWYWxpZGl0eTp6LCRzZXREaXJ0eTp6LCRzZXRQcmlzdGluZTp6LCRzZXRTdWJtaXR0ZWQ6en07TGIuJGluamVjdD1bXCIkZWxlbWVudFwiLFwiJGF0dHJzXCIsXCIkc2NvcGVcIixcIiRhbmltYXRlXCIsXCIkaW50ZXJwb2xhdGVcIl07TGIucHJvdG90eXBlPXskcm9sbGJhY2tWaWV3VmFsdWU6ZnVuY3Rpb24oKXtxKHRoaXMuJCRjb250cm9scyxmdW5jdGlvbihhKXthLiRyb2xsYmFja1ZpZXdWYWx1ZSgpfSl9LCRjb21taXRWaWV3VmFsdWU6ZnVuY3Rpb24oKXtxKHRoaXMuJCRjb250cm9scyxmdW5jdGlvbihhKXthLiRjb21taXRWaWV3VmFsdWUoKX0pfSwkYWRkQ29udHJvbDpmdW5jdGlvbihhKXtLYShhLiRuYW1lLFwiaW5wdXRcIik7dGhpcy4kJGNvbnRyb2xzLnB1c2goYSk7XG5hLiRuYW1lJiYodGhpc1thLiRuYW1lXT1hKTthLiQkcGFyZW50Rm9ybT10aGlzfSwkJHJlbmFtZUNvbnRyb2w6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLiRuYW1lO3RoaXNbZF09PT1hJiZkZWxldGUgdGhpc1tkXTt0aGlzW2JdPWE7YS4kbmFtZT1ifSwkcmVtb3ZlQ29udHJvbDpmdW5jdGlvbihhKXthLiRuYW1lJiZ0aGlzW2EuJG5hbWVdPT09YSYmZGVsZXRlIHRoaXNbYS4kbmFtZV07cSh0aGlzLiRwZW5kaW5nLGZ1bmN0aW9uKGIsZCl7dGhpcy4kc2V0VmFsaWRpdHkoZCxudWxsLGEpfSx0aGlzKTtxKHRoaXMuJGVycm9yLGZ1bmN0aW9uKGIsZCl7dGhpcy4kc2V0VmFsaWRpdHkoZCxudWxsLGEpfSx0aGlzKTtxKHRoaXMuJCRzdWNjZXNzLGZ1bmN0aW9uKGIsZCl7dGhpcy4kc2V0VmFsaWRpdHkoZCxudWxsLGEpfSx0aGlzKTskYSh0aGlzLiQkY29udHJvbHMsYSk7YS4kJHBhcmVudEZvcm09TWJ9LCRzZXREaXJ0eTpmdW5jdGlvbigpe3RoaXMuJCRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LFxuVmEpO3RoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LFJiKTt0aGlzLiRkaXJ0eT0hMDt0aGlzLiRwcmlzdGluZT0hMTt0aGlzLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKX0sJHNldFByaXN0aW5lOmZ1bmN0aW9uKCl7dGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsVmEsUmIrXCIgbmctc3VibWl0dGVkXCIpO3RoaXMuJGRpcnR5PSExO3RoaXMuJHByaXN0aW5lPSEwO3RoaXMuJHN1Ym1pdHRlZD0hMTtxKHRoaXMuJCRjb250cm9scyxmdW5jdGlvbihhKXthLiRzZXRQcmlzdGluZSgpfSl9LCRzZXRVbnRvdWNoZWQ6ZnVuY3Rpb24oKXtxKHRoaXMuJCRjb250cm9scyxmdW5jdGlvbihhKXthLiRzZXRVbnRvdWNoZWQoKX0pfSwkc2V0U3VibWl0dGVkOmZ1bmN0aW9uKCl7dGhpcy4kJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsXCJuZy1zdWJtaXR0ZWRcIik7dGhpcy4kc3VibWl0dGVkPSEwO3RoaXMuJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKX19O1xuWmQoe2NsYXp6OkxiLHNldDpmdW5jdGlvbihhLGIsZCl7dmFyIGM9YVtiXTtjPy0xPT09Yy5pbmRleE9mKGQpJiZjLnB1c2goZCk6YVtiXT1bZF19LHVuc2V0OmZ1bmN0aW9uKGEsYixkKXt2YXIgYz1hW2JdO2MmJigkYShjLGQpLDA9PT1jLmxlbmd0aCYmZGVsZXRlIGFbYl0pfX0pO3ZhciBnZT1mdW5jdGlvbihhKXtyZXR1cm5bXCIkdGltZW91dFwiLFwiJHBhcnNlXCIsZnVuY3Rpb24oYixkKXtmdW5jdGlvbiBjKGEpe3JldHVyblwiXCI9PT1hP2QoJ3RoaXNbXCJcIl0nKS5hc3NpZ246ZChhKS5hc3NpZ258fHp9cmV0dXJue25hbWU6XCJmb3JtXCIscmVzdHJpY3Q6YT9cIkVBQ1wiOlwiRVwiLHJlcXVpcmU6W1wiZm9ybVwiLFwiXl4/Zm9ybVwiXSxjb250cm9sbGVyOkxiLGNvbXBpbGU6ZnVuY3Rpb24oZCxmKXtkLmFkZENsYXNzKFZhKS5hZGRDbGFzcyhuYik7dmFyIGc9Zi5uYW1lP1wibmFtZVwiOmEmJmYubmdGb3JtP1wibmdGb3JtXCI6ITE7cmV0dXJue3ByZTpmdW5jdGlvbihhLGQsZSxmKXt2YXIgbj1mWzBdO2lmKCEoXCJhY3Rpb25cImluXG5lKSl7dmFyIHA9ZnVuY3Rpb24oYil7YS4kYXBwbHkoZnVuY3Rpb24oKXtuLiRjb21taXRWaWV3VmFsdWUoKTtuLiRzZXRTdWJtaXR0ZWQoKX0pO2IucHJldmVudERlZmF1bHQoKX07ZFswXS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIscCk7ZC5vbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtiKGZ1bmN0aW9uKCl7ZFswXS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIscCl9LDAsITEpfSl9KGZbMV18fG4uJCRwYXJlbnRGb3JtKS4kYWRkQ29udHJvbChuKTt2YXIgcj1nP2Mobi4kbmFtZSk6ejtnJiYocihhLG4pLGUuJG9ic2VydmUoZyxmdW5jdGlvbihiKXtuLiRuYW1lIT09YiYmKHIoYSx2b2lkIDApLG4uJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChuLGIpLHI9YyhuLiRuYW1lKSxyKGEsbikpfSkpO2Qub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7bi4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2wobik7cihhLHZvaWQgMCk7UyhuLE1iKX0pfX19fX1dfSxHZT1nZSgpLFxuU2U9Z2UoITApLFBnPS9eXFxkezQsfS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyg/OlsrLV1bMC0yXVxcZDpbMC01XVxcZHxaKSQvLGFoPS9eW2Etel1bYS16XFxkListXSo6XFwvKig/OlteOkBdKyg/OjpbXkBdKyk/QCk/KD86W15cXHM6Lz8jXSt8XFxbW2EtZlxcZDpdK10pKD86OlxcZCspPyg/OlxcL1tePyNdKik/KD86XFw/W14jXSopPyg/OiMuKik/JC9pLGJoPS9eKD89LnsxLDI1NH0kKSg/PS57MSw2NH1AKVstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSsoXFwuWy0hIyQlJicqKy8wLTk9P0EtWl5fYGEtent8fX5dKykqQFtBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8oXFwuW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dezAsNjF9W0EtWmEtejAtOV0pPykqJC8sUWc9L15cXHMqKC18XFwrKT8oXFxkK3woXFxkKihcXC5cXGQqKSkpKFtlRV1bKy1dP1xcZCspP1xccyokLyxoZT0vXihcXGR7NCx9KS0oXFxkezJ9KS0oXFxkezJ9KSQvLGllPS9eKFxcZHs0LH0pLShcXGRcXGQpLShcXGRcXGQpVChcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvLFxuSGM9L14oXFxkezQsfSktVyhcXGRcXGQpJC8samU9L14oXFxkezQsfSktKFxcZFxcZCkkLyxrZT0vXihcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvLGFlPVYoKTtxKFtcImRhdGVcIixcImRhdGV0aW1lLWxvY2FsXCIsXCJtb250aFwiLFwidGltZVwiLFwid2Vla1wiXSxmdW5jdGlvbihhKXthZVthXT0hMH0pO3ZhciBsZT17dGV4dDpmdW5jdGlvbihhLGIsZCxjLGUsZil7UmEoYSxiLGQsYyxlLGYpO0NjKGMpfSxkYXRlOm9iKFwiZGF0ZVwiLGhlLE5iKGhlLFtcInl5eXlcIixcIk1NXCIsXCJkZFwiXSksXCJ5eXl5LU1NLWRkXCIpLFwiZGF0ZXRpbWUtbG9jYWxcIjpvYihcImRhdGV0aW1lbG9jYWxcIixpZSxOYihpZSxcInl5eXkgTU0gZGQgSEggbW0gc3Mgc3NzXCIuc3BsaXQoXCIgXCIpKSxcInl5eXktTU0tZGRUSEg6bW06c3Muc3NzXCIpLHRpbWU6b2IoXCJ0aW1lXCIsa2UsTmIoa2UsW1wiSEhcIixcIm1tXCIsXCJzc1wiLFwic3NzXCJdKSxcIkhIOm1tOnNzLnNzc1wiKSx3ZWVrOm9iKFwid2Vla1wiLEhjLGZ1bmN0aW9uKGEsYil7aWYoZ2EoYSkpcmV0dXJuIGE7XG5pZihGKGEpKXtIYy5sYXN0SW5kZXg9MDt2YXIgZD1IYy5leGVjKGEpO2lmKGQpe3ZhciBjPStkWzFdLGU9K2RbMl0sZj1kPTAsZz0wLGg9MCxrPVZkKGMpLGU9NyooZS0xKTtiJiYoZD1iLmdldEhvdXJzKCksZj1iLmdldE1pbnV0ZXMoKSxnPWIuZ2V0U2Vjb25kcygpLGg9Yi5nZXRNaWxsaXNlY29uZHMoKSk7cmV0dXJuIG5ldyBEYXRlKGMsMCxrLmdldERhdGUoKStlLGQsZixnLGgpfX1yZXR1cm4gTmFOfSxcInl5eXktV3d3XCIpLG1vbnRoOm9iKFwibW9udGhcIixqZSxOYihqZSxbXCJ5eXl5XCIsXCJNTVwiXSksXCJ5eXl5LU1NXCIpLG51bWJlcjpmdW5jdGlvbihhLGIsZCxjLGUsZil7RGMoYSxiLGQsYyk7YmUoYyk7UmEoYSxiLGQsYyxlLGYpO3ZhciBnLGg7aWYodShkLm1pbil8fGQubmdNaW4pYy4kdmFsaWRhdG9ycy5taW49ZnVuY3Rpb24oYSl7cmV0dXJuIGMuJGlzRW1wdHkoYSl8fHcoZyl8fGE+PWd9LGQuJG9ic2VydmUoXCJtaW5cIixmdW5jdGlvbihhKXtnPVNhKGEpO2MuJHZhbGlkYXRlKCl9KTtcbmlmKHUoZC5tYXgpfHxkLm5nTWF4KWMuJHZhbGlkYXRvcnMubWF4PWZ1bmN0aW9uKGEpe3JldHVybiBjLiRpc0VtcHR5KGEpfHx3KGgpfHxhPD1ofSxkLiRvYnNlcnZlKFwibWF4XCIsZnVuY3Rpb24oYSl7aD1TYShhKTtjLiR2YWxpZGF0ZSgpfSk7aWYodShkLnN0ZXApfHxkLm5nU3RlcCl7dmFyIGs7Yy4kdmFsaWRhdG9ycy5zdGVwPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuJGlzRW1wdHkoYil8fHcoayl8fGNlKGIsZ3x8MCxrKX07ZC4kb2JzZXJ2ZShcInN0ZXBcIixmdW5jdGlvbihhKXtrPVNhKGEpO2MuJHZhbGlkYXRlKCl9KX19LHVybDpmdW5jdGlvbihhLGIsZCxjLGUsZil7UmEoYSxiLGQsYyxlLGYpO0NjKGMpO2MuJCRwYXJzZXJOYW1lPVwidXJsXCI7Yy4kdmFsaWRhdG9ycy51cmw9ZnVuY3Rpb24oYSxiKXt2YXIgZD1hfHxiO3JldHVybiBjLiRpc0VtcHR5KGQpfHxhaC50ZXN0KGQpfX0sZW1haWw6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe1JhKGEsYixkLGMsZSxmKTtDYyhjKTtjLiQkcGFyc2VyTmFtZT1cblwiZW1haWxcIjtjLiR2YWxpZGF0b3JzLmVtYWlsPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YXx8YjtyZXR1cm4gYy4kaXNFbXB0eShkKXx8YmgudGVzdChkKX19LHJhZGlvOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPSFkLm5nVHJpbXx8XCJmYWxzZVwiIT09VChkLm5nVHJpbSk7dyhkLm5hbWUpJiZiLmF0dHIoXCJuYW1lXCIsKytxYik7Yi5vbihcImNsaWNrXCIsZnVuY3Rpb24oYSl7dmFyIGc7YlswXS5jaGVja2VkJiYoZz1kLnZhbHVlLGUmJihnPVQoZykpLGMuJHNldFZpZXdWYWx1ZShnLGEmJmEudHlwZSkpfSk7Yy4kcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIGE9ZC52YWx1ZTtlJiYoYT1UKGEpKTtiWzBdLmNoZWNrZWQ9YT09PWMuJHZpZXdWYWx1ZX07ZC4kb2JzZXJ2ZShcInZhbHVlXCIsYy4kcmVuZGVyKX0scmFuZ2U6ZnVuY3Rpb24oYSxiLGQsYyxlLGYpe2Z1bmN0aW9uIGcoYSxjKXtiLmF0dHIoYSxkW2FdKTtkLiRvYnNlcnZlKGEsYyl9ZnVuY3Rpb24gaChhKXtuPVNhKGEpO2RhKGMuJG1vZGVsVmFsdWUpfHxcbihtPyhhPWIudmFsKCksbj5hJiYoYT1uLGIudmFsKGEpKSxjLiRzZXRWaWV3VmFsdWUoYSkpOmMuJHZhbGlkYXRlKCkpfWZ1bmN0aW9uIGsoYSl7cD1TYShhKTtkYShjLiRtb2RlbFZhbHVlKXx8KG0/KGE9Yi52YWwoKSxwPGEmJihiLnZhbChwKSxhPXA8bj9uOnApLGMuJHNldFZpZXdWYWx1ZShhKSk6Yy4kdmFsaWRhdGUoKSl9ZnVuY3Rpb24gbChhKXtyPVNhKGEpO2RhKGMuJG1vZGVsVmFsdWUpfHwobSYmYy4kdmlld1ZhbHVlIT09Yi52YWwoKT9jLiRzZXRWaWV3VmFsdWUoYi52YWwoKSk6Yy4kdmFsaWRhdGUoKSl9RGMoYSxiLGQsYyk7YmUoYyk7UmEoYSxiLGQsYyxlLGYpO3ZhciBtPWMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzJiZcInJhbmdlXCI9PT1iWzBdLnR5cGUsbj1tPzA6dm9pZCAwLHA9bT8xMDA6dm9pZCAwLHI9bT8xOnZvaWQgMCxxPWJbMF0udmFsaWRpdHk7YT11KGQubWluKTtlPXUoZC5tYXgpO2Y9dShkLnN0ZXApO3ZhciBzPWMuJHJlbmRlcjtjLiRyZW5kZXI9bSYmdShxLnJhbmdlVW5kZXJmbG93KSYmXG51KHEucmFuZ2VPdmVyZmxvdyk/ZnVuY3Rpb24oKXtzKCk7Yy4kc2V0Vmlld1ZhbHVlKGIudmFsKCkpfTpzO2EmJihjLiR2YWxpZGF0b3JzLm1pbj1tP2Z1bmN0aW9uKCl7cmV0dXJuITB9OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuJGlzRW1wdHkoYil8fHcobil8fGI+PW59LGcoXCJtaW5cIixoKSk7ZSYmKGMuJHZhbGlkYXRvcnMubWF4PW0/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8dyhwKXx8Yjw9cH0sZyhcIm1heFwiLGspKTtmJiYoYy4kdmFsaWRhdG9ycy5zdGVwPW0/ZnVuY3Rpb24oKXtyZXR1cm4hcS5zdGVwTWlzbWF0Y2h9OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuJGlzRW1wdHkoYil8fHcocil8fGNlKGIsbnx8MCxyKX0sZyhcInN0ZXBcIixsKSl9LGNoZWNrYm94OmZ1bmN0aW9uKGEsYixkLGMsZSxmLGcsaCl7dmFyIGs9ZGUoaCxhLFwibmdUcnVlVmFsdWVcIixkLm5nVHJ1ZVZhbHVlLCEwKSxsPWRlKGgsYSxcIm5nRmFsc2VWYWx1ZVwiLFxuZC5uZ0ZhbHNlVmFsdWUsITEpO2Iub24oXCJjbGlja1wiLGZ1bmN0aW9uKGEpe2MuJHNldFZpZXdWYWx1ZShiWzBdLmNoZWNrZWQsYSYmYS50eXBlKX0pO2MuJHJlbmRlcj1mdW5jdGlvbigpe2JbMF0uY2hlY2tlZD1jLiR2aWV3VmFsdWV9O2MuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuITE9PT1hfTtjLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIHNhKGEsayl9KTtjLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24oYSl7cmV0dXJuIGE/azpsfSl9LGhpZGRlbjp6LGJ1dHRvbjp6LHN1Ym1pdDp6LHJlc2V0OnosZmlsZTp6fSxYYz1bXCIkYnJvd3NlclwiLFwiJHNuaWZmZXJcIixcIiRmaWx0ZXJcIixcIiRwYXJzZVwiLGZ1bmN0aW9uKGEsYixkLGMpe3JldHVybntyZXN0cmljdDpcIkVcIixyZXF1aXJlOltcIj9uZ01vZGVsXCJdLGxpbms6e3ByZTpmdW5jdGlvbihlLGYsZyxoKXtoWzBdJiYobGVbUShnLnR5cGUpXXx8bGUudGV4dCkoZSxmLGcsaFswXSxiLGEsZCxjKX19fX1dLGNoPS9eKHRydWV8ZmFsc2V8XFxkKykkLyxcbmtmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGQsYyl7dmFyIGU9dShjKT9jOjk9PT16YT9cIlwiOm51bGw7YS5wcm9wKFwidmFsdWVcIixlKTtkLiRzZXQoXCJ2YWx1ZVwiLGMpfXJldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAsY29tcGlsZTpmdW5jdGlvbihiLGQpe3JldHVybiBjaC50ZXN0KGQubmdWYWx1ZSk/ZnVuY3Rpb24oYixkLGYpe2I9Yi4kZXZhbChmLm5nVmFsdWUpO2EoZCxmLGIpfTpmdW5jdGlvbihiLGQsZil7Yi4kd2F0Y2goZi5uZ1ZhbHVlLGZ1bmN0aW9uKGIpe2EoZCxmLGIpfSl9fX19LEtlPVtcIiRjb21waWxlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQUNcIixjb21waWxlOmZ1bmN0aW9uKGIpe2EuJCRhZGRCaW5kaW5nQ2xhc3MoYik7cmV0dXJuIGZ1bmN0aW9uKGIsYyxlKXthLiQkYWRkQmluZGluZ0luZm8oYyxlLm5nQmluZCk7Yz1jWzBdO2IuJHdhdGNoKGUubmdCaW5kLGZ1bmN0aW9uKGEpe2MudGV4dENvbnRlbnQ9JGIoYSl9KX19fX1dLE1lPVtcIiRpbnRlcnBvbGF0ZVwiLFxuXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue2NvbXBpbGU6ZnVuY3Rpb24oZCl7Yi4kJGFkZEJpbmRpbmdDbGFzcyhkKTtyZXR1cm4gZnVuY3Rpb24oYyxkLGYpe2M9YShkLmF0dHIoZi4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO2IuJCRhZGRCaW5kaW5nSW5mbyhkLGMuZXhwcmVzc2lvbnMpO2Q9ZFswXTtmLiRvYnNlcnZlKFwibmdCaW5kVGVtcGxhdGVcIixmdW5jdGlvbihhKXtkLnRleHRDb250ZW50PXcoYSk/XCJcIjphfSl9fX19XSxMZT1bXCIkc2NlXCIsXCIkcGFyc2VcIixcIiRjb21waWxlXCIsZnVuY3Rpb24oYSxiLGQpe3JldHVybntyZXN0cmljdDpcIkFcIixjb21waWxlOmZ1bmN0aW9uKGMsZSl7dmFyIGY9YihlLm5nQmluZEh0bWwpLGc9YihlLm5nQmluZEh0bWwsZnVuY3Rpb24oYil7cmV0dXJuIGEudmFsdWVPZihiKX0pO2QuJCRhZGRCaW5kaW5nQ2xhc3MoYyk7cmV0dXJuIGZ1bmN0aW9uKGIsYyxlKXtkLiQkYWRkQmluZGluZ0luZm8oYyxlLm5nQmluZEh0bWwpO2IuJHdhdGNoKGcsXG5mdW5jdGlvbigpe3ZhciBkPWYoYik7Yy5odG1sKGEuZ2V0VHJ1c3RlZEh0bWwoZCl8fFwiXCIpfSl9fX19XSxqZj1sYSh7cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2MuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpe2EuJGV2YWwoZC5uZ0NoYW5nZSl9KX19KSxOZT1GYyhcIlwiLCEwKSxQZT1GYyhcIk9kZFwiLDApLE9lPUZjKFwiRXZlblwiLDEpLFFlPVFhKHtjb21waWxlOmZ1bmN0aW9uKGEsYil7Yi4kc2V0KFwibmdDbG9ha1wiLHZvaWQgMCk7YS5yZW1vdmVDbGFzcyhcIm5nLWNsb2FrXCIpfX0pLFJlPVtmdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixzY29wZTohMCxjb250cm9sbGVyOlwiQFwiLHByaW9yaXR5OjUwMH19XSxiZD17fSxkaD17Ymx1cjohMCxmb2N1czohMH07cShcImNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGVcIi5zcGxpdChcIiBcIiksXG5mdW5jdGlvbihhKXt2YXIgYj1CYShcIm5nLVwiK2EpO2JkW2JdPVtcIiRwYXJzZVwiLFwiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGQsYyl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLGNvbXBpbGU6ZnVuY3Rpb24oZSxmKXt2YXIgZz1kKGZbYl0pO3JldHVybiBmdW5jdGlvbihiLGQpe2Qub24oYSxmdW5jdGlvbihkKXt2YXIgZT1mdW5jdGlvbigpe2coYix7JGV2ZW50OmR9KX07ZGhbYV0mJmMuJCRwaGFzZT9iLiRldmFsQXN5bmMoZSk6Yi4kYXBwbHkoZSl9KX19fX1dfSk7dmFyIFVlPVtcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue211bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjYwMCx0ZXJtaW5hbDohMCxyZXN0cmljdDpcIkFcIiwkJHRsYjohMCxsaW5rOmZ1bmN0aW9uKGQsYyxlLGYsZyl7dmFyIGgsayxsO2QuJHdhdGNoKGUubmdJZixmdW5jdGlvbihkKXtkP2t8fGcoZnVuY3Rpb24oZCxmKXtrPWY7ZFtkLmxlbmd0aCsrXT1iLiQkY3JlYXRlQ29tbWVudChcImVuZCBuZ0lmXCIsXG5lLm5nSWYpO2g9e2Nsb25lOmR9O2EuZW50ZXIoZCxjLnBhcmVudCgpLGMpfSk6KGwmJihsLnJlbW92ZSgpLGw9bnVsbCksayYmKGsuJGRlc3Ryb3koKSxrPW51bGwpLGgmJihsPXRiKGguY2xvbmUpLGEubGVhdmUobCkuZG9uZShmdW5jdGlvbihhKXshMSE9PWEmJihsPW51bGwpfSksaD1udWxsKSl9KX19fV0sVmU9W1wiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJGFuY2hvclNjcm9sbFwiLFwiJGFuaW1hdGVcIixmdW5jdGlvbihhLGIsZCl7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6NDAwLHRlcm1pbmFsOiEwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIsY29udHJvbGxlcjplYS5ub29wLGNvbXBpbGU6ZnVuY3Rpb24oYyxlKXt2YXIgZj1lLm5nSW5jbHVkZXx8ZS5zcmMsZz1lLm9ubG9hZHx8XCJcIixoPWUuYXV0b3Njcm9sbDtyZXR1cm4gZnVuY3Rpb24oYyxlLG0sbixwKXt2YXIgcj0wLHEscyx0LHc9ZnVuY3Rpb24oKXtzJiYocy5yZW1vdmUoKSxzPW51bGwpO3EmJihxLiRkZXN0cm95KCkscT1cbm51bGwpO3QmJihkLmxlYXZlKHQpLmRvbmUoZnVuY3Rpb24oYSl7ITEhPT1hJiYocz1udWxsKX0pLHM9dCx0PW51bGwpfTtjLiR3YXRjaChmLGZ1bmN0aW9uKGYpe3ZhciBtPWZ1bmN0aW9uKGEpeyExPT09YXx8IXUoaCl8fGgmJiFjLiRldmFsKGgpfHxiKCl9LHM9KytyO2Y/KGEoZiwhMCkudGhlbihmdW5jdGlvbihhKXtpZighYy4kJGRlc3Ryb3llZCYmcz09PXIpe3ZhciBiPWMuJG5ldygpO24udGVtcGxhdGU9YTthPXAoYixmdW5jdGlvbihhKXt3KCk7ZC5lbnRlcihhLG51bGwsZSkuZG9uZShtKX0pO3E9Yjt0PWE7cS4kZW1pdChcIiRpbmNsdWRlQ29udGVudExvYWRlZFwiLGYpO2MuJGV2YWwoZyl9fSxmdW5jdGlvbigpe2MuJCRkZXN0cm95ZWR8fHMhPT1yfHwodygpLGMuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRFcnJvclwiLGYpKX0pLGMuJGVtaXQoXCIkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcIixmKSk6KHcoKSxuLnRlbXBsYXRlPW51bGwpfSl9fX19XSxtZj1bXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVDQVwiLFxucHJpb3JpdHk6LTQwMCxyZXF1aXJlOlwibmdJbmNsdWRlXCIsbGluazpmdW5jdGlvbihiLGQsYyxlKXttYS5jYWxsKGRbMF0pLm1hdGNoKC9TVkcvKT8oZC5lbXB0eSgpLGEoZGQoZS50ZW1wbGF0ZSx4LmRvY3VtZW50KS5jaGlsZE5vZGVzKShiLGZ1bmN0aW9uKGEpe2QuYXBwZW5kKGEpfSx7ZnV0dXJlUGFyZW50RWxlbWVudDpkfSkpOihkLmh0bWwoZS50ZW1wbGF0ZSksYShkLmNvbnRlbnRzKCkpKGIpKX19fV0sV2U9UWEoe3ByaW9yaXR5OjQ1MCxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJue3ByZTpmdW5jdGlvbihhLGIsZCl7YS4kZXZhbChkLm5nSW5pdCl9fX19KSxoZj1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixwcmlvcml0eToxMDAscmVxdWlyZTpcIm5nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWQubmdMaXN0fHxcIiwgXCIsZj1cImZhbHNlXCIhPT1kLm5nVHJpbSxnPWY/VChlKTplO2MuJHBhcnNlcnMucHVzaChmdW5jdGlvbihhKXtpZighdyhhKSl7dmFyIGI9XG5bXTthJiZxKGEuc3BsaXQoZyksZnVuY3Rpb24oYSl7YSYmYi5wdXNoKGY/VChhKTphKX0pO3JldHVybiBifX0pO2MuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbihhKXtpZihIKGEpKXJldHVybiBhLmpvaW4oZSl9KTtjLiRpc0VtcHR5PWZ1bmN0aW9uKGEpe3JldHVybiFhfHwhYS5sZW5ndGh9fX19LG5iPVwibmctdmFsaWRcIixZZD1cIm5nLWludmFsaWRcIixWYT1cIm5nLXByaXN0aW5lXCIsUmI9XCJuZy1kaXJ0eVwiLHBiPUwoXCJuZ01vZGVsXCIpO09iLiRpbmplY3Q9XCIkc2NvcGUgJGV4Y2VwdGlvbkhhbmRsZXIgJGF0dHJzICRlbGVtZW50ICRwYXJzZSAkYW5pbWF0ZSAkdGltZW91dCAkcSAkaW50ZXJwb2xhdGVcIi5zcGxpdChcIiBcIik7T2IucHJvdG90eXBlPXskJGluaXRHZXR0ZXJTZXR0ZXJzOmZ1bmN0aW9uKCl7aWYodGhpcy4kb3B0aW9ucy5nZXRPcHRpb24oXCJnZXR0ZXJTZXR0ZXJcIikpe3ZhciBhPXRoaXMuJCRwYXJzZSh0aGlzLiQkYXR0ci5uZ01vZGVsK1wiKClcIiksYj10aGlzLiQkcGFyc2UodGhpcy4kJGF0dHIubmdNb2RlbCtcblwiKCQkJHApXCIpO3RoaXMuJCRuZ01vZGVsR2V0PWZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuJCRwYXJzZWROZ01vZGVsKGIpO0QoYykmJihjPWEoYikpO3JldHVybiBjfTt0aGlzLiQkbmdNb2RlbFNldD1mdW5jdGlvbihhLGMpe0QodGhpcy4kJHBhcnNlZE5nTW9kZWwoYSkpP2IoYSx7JCQkcDpjfSk6dGhpcy4kJHBhcnNlZE5nTW9kZWxBc3NpZ24oYSxjKX19ZWxzZSBpZighdGhpcy4kJHBhcnNlZE5nTW9kZWwuYXNzaWduKXRocm93IHBiKFwibm9uYXNzaWduXCIsdGhpcy4kJGF0dHIubmdNb2RlbCx4YSh0aGlzLiQkZWxlbWVudCkpO30sJHJlbmRlcjp6LCRpc0VtcHR5OmZ1bmN0aW9uKGEpe3JldHVybiB3KGEpfHxcIlwiPT09YXx8bnVsbD09PWF8fGEhPT1hfSwkJHVwZGF0ZUVtcHR5Q2xhc3NlczpmdW5jdGlvbihhKXt0aGlzLiRpc0VtcHR5KGEpPyh0aGlzLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxcIm5nLW5vdC1lbXB0eVwiKSx0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCxcblwibmctZW1wdHlcIikpOih0aGlzLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCxcIm5nLWVtcHR5XCIpLHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LFwibmctbm90LWVtcHR5XCIpKX0sJHNldFByaXN0aW5lOmZ1bmN0aW9uKCl7dGhpcy4kZGlydHk9ITE7dGhpcy4kcHJpc3RpbmU9ITA7dGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsUmIpO3RoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LFZhKX0sJHNldERpcnR5OmZ1bmN0aW9uKCl7dGhpcy4kZGlydHk9ITA7dGhpcy4kcHJpc3RpbmU9ITE7dGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsVmEpO3RoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LFJiKTt0aGlzLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKX0sJHNldFVudG91Y2hlZDpmdW5jdGlvbigpe3RoaXMuJHRvdWNoZWQ9ITE7dGhpcy4kdW50b3VjaGVkPVxuITA7dGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsXCJuZy11bnRvdWNoZWRcIixcIm5nLXRvdWNoZWRcIil9LCRzZXRUb3VjaGVkOmZ1bmN0aW9uKCl7dGhpcy4kdG91Y2hlZD0hMDt0aGlzLiR1bnRvdWNoZWQ9ITE7dGhpcy4kJGFuaW1hdGUuc2V0Q2xhc3ModGhpcy4kJGVsZW1lbnQsXCJuZy10b3VjaGVkXCIsXCJuZy11bnRvdWNoZWRcIil9LCRyb2xsYmFja1ZpZXdWYWx1ZTpmdW5jdGlvbigpe3RoaXMuJCR0aW1lb3V0LmNhbmNlbCh0aGlzLiQkcGVuZGluZ0RlYm91bmNlKTt0aGlzLiR2aWV3VmFsdWU9dGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7dGhpcy4kcmVuZGVyKCl9LCR2YWxpZGF0ZTpmdW5jdGlvbigpe2lmKCFkYSh0aGlzLiRtb2RlbFZhbHVlKSl7dmFyIGE9dGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUsYj10aGlzLiQkcmF3TW9kZWxWYWx1ZSxkPXRoaXMuJHZhbGlkLGM9dGhpcy4kbW9kZWxWYWx1ZSxlPXRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKFwiYWxsb3dJbnZhbGlkXCIpLFxuZj10aGlzO3RoaXMuJCRydW5WYWxpZGF0b3JzKGIsYSxmdW5jdGlvbihhKXtlfHxkPT09YXx8KGYuJG1vZGVsVmFsdWU9YT9iOnZvaWQgMCxmLiRtb2RlbFZhbHVlIT09YyYmZi4kJHdyaXRlTW9kZWxUb1Njb3BlKCkpfSl9fSwkJHJ1blZhbGlkYXRvcnM6ZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGMoKXt2YXIgYz0hMDtxKGsuJHZhbGlkYXRvcnMsZnVuY3Rpb24oZCxlKXt2YXIgZz1Cb29sZWFuKGQoYSxiKSk7Yz1jJiZnO2YoZSxnKX0pO3JldHVybiBjPyEwOihxKGsuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihhLGIpe2YoYixudWxsKX0pLCExKX1mdW5jdGlvbiBlKCl7dmFyIGM9W10sZD0hMDtxKGsuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihlLGcpe3ZhciBrPWUoYSxiKTtpZigha3x8IUQoay50aGVuKSl0aHJvdyBwYihcIm5vcHJvbWlzZVwiLGspO2YoZyx2b2lkIDApO2MucHVzaChrLnRoZW4oZnVuY3Rpb24oKXtmKGcsITApfSxmdW5jdGlvbigpe2Q9ITE7ZihnLCExKX0pKX0pO1xuYy5sZW5ndGg/ay4kJHEuYWxsKGMpLnRoZW4oZnVuY3Rpb24oKXtnKGQpfSx6KTpnKCEwKX1mdW5jdGlvbiBmKGEsYil7aD09PWsuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkJiZrLiRzZXRWYWxpZGl0eShhLGIpfWZ1bmN0aW9uIGcoYSl7aD09PWsuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkJiZkKGEpfXRoaXMuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKys7dmFyIGg9dGhpcy4kJGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQsaz10aGlzOyhmdW5jdGlvbigpe3ZhciBhPWsuJCRwYXJzZXJOYW1lfHxcInBhcnNlXCI7aWYodyhrLiQkcGFyc2VyVmFsaWQpKWYoYSxudWxsKTtlbHNlIHJldHVybiBrLiQkcGFyc2VyVmFsaWR8fChxKGsuJHZhbGlkYXRvcnMsZnVuY3Rpb24oYSxiKXtmKGIsbnVsbCl9KSxxKGsuJGFzeW5jVmFsaWRhdG9ycyxmdW5jdGlvbihhLGIpe2YoYixudWxsKX0pKSxmKGEsay4kJHBhcnNlclZhbGlkKSxrLiQkcGFyc2VyVmFsaWQ7cmV0dXJuITB9KSgpP2MoKT9lKCk6ZyghMSk6XG5nKCExKX0sJGNvbW1pdFZpZXdWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJHZpZXdWYWx1ZTt0aGlzLiQkdGltZW91dC5jYW5jZWwodGhpcy4kJHBlbmRpbmdEZWJvdW5jZSk7aWYodGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUhPT1hfHxcIlwiPT09YSYmdGhpcy4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpdGhpcy4kJHVwZGF0ZUVtcHR5Q2xhc3NlcyhhKSx0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZT1hLHRoaXMuJHByaXN0aW5lJiZ0aGlzLiRzZXREaXJ0eSgpLHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlKCl9LCQkcGFyc2VBbmRWYWxpZGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlLGI9dGhpcztpZih0aGlzLiQkcGFyc2VyVmFsaWQ9dyhhKT92b2lkIDA6ITApZm9yKHZhciBkPTA7ZDx0aGlzLiRwYXJzZXJzLmxlbmd0aDtkKyspaWYoYT10aGlzLiRwYXJzZXJzW2RdKGEpLHcoYSkpe3RoaXMuJCRwYXJzZXJWYWxpZD0hMTticmVha31kYSh0aGlzLiRtb2RlbFZhbHVlKSYmXG4odGhpcy4kbW9kZWxWYWx1ZT10aGlzLiQkbmdNb2RlbEdldCh0aGlzLiQkc2NvcGUpKTt2YXIgYz10aGlzLiRtb2RlbFZhbHVlLGU9dGhpcy4kb3B0aW9ucy5nZXRPcHRpb24oXCJhbGxvd0ludmFsaWRcIik7dGhpcy4kJHJhd01vZGVsVmFsdWU9YTtlJiYodGhpcy4kbW9kZWxWYWx1ZT1hLGIuJG1vZGVsVmFsdWUhPT1jJiZiLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSk7dGhpcy4kJHJ1blZhbGlkYXRvcnMoYSx0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSxmdW5jdGlvbihkKXtlfHwoYi4kbW9kZWxWYWx1ZT1kP2E6dm9pZCAwLGIuJG1vZGVsVmFsdWUhPT1jJiZiLiQkd3JpdGVNb2RlbFRvU2NvcGUoKSl9KX0sJCR3cml0ZU1vZGVsVG9TY29wZTpmdW5jdGlvbigpe3RoaXMuJCRuZ01vZGVsU2V0KHRoaXMuJCRzY29wZSx0aGlzLiRtb2RlbFZhbHVlKTtxKHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsZnVuY3Rpb24oYSl7dHJ5e2EoKX1jYXRjaChiKXt0aGlzLiQkZXhjZXB0aW9uSGFuZGxlcihiKX19LFxudGhpcyl9LCRzZXRWaWV3VmFsdWU6ZnVuY3Rpb24oYSxiKXt0aGlzLiR2aWV3VmFsdWU9YTt0aGlzLiRvcHRpb25zLmdldE9wdGlvbihcInVwZGF0ZU9uRGVmYXVsdFwiKSYmdGhpcy4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGIpfSwkJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKFwiZGVib3VuY2VcIik7YmEoYlthXSk/Yj1iW2FdOmJhKGJbXCJkZWZhdWx0XCJdKSYmKGI9YltcImRlZmF1bHRcIl0pO3RoaXMuJCR0aW1lb3V0LmNhbmNlbCh0aGlzLiQkcGVuZGluZ0RlYm91bmNlKTt2YXIgZD10aGlzOzA8Yj90aGlzLiQkcGVuZGluZ0RlYm91bmNlPXRoaXMuJCR0aW1lb3V0KGZ1bmN0aW9uKCl7ZC4kY29tbWl0Vmlld1ZhbHVlKCl9LGIpOnRoaXMuJCRzY29wZS4kcm9vdC4kJHBoYXNlP3RoaXMuJGNvbW1pdFZpZXdWYWx1ZSgpOnRoaXMuJCRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtkLiRjb21taXRWaWV3VmFsdWUoKX0pfSxcbiRvdmVycmlkZU1vZGVsT3B0aW9uczpmdW5jdGlvbihhKXt0aGlzLiRvcHRpb25zPXRoaXMuJG9wdGlvbnMuY3JlYXRlQ2hpbGQoYSl9fTtaZCh7Y2xheno6T2Isc2V0OmZ1bmN0aW9uKGEsYil7YVtiXT0hMH0sdW5zZXQ6ZnVuY3Rpb24oYSxiKXtkZWxldGUgYVtiXX19KTt2YXIgZ2Y9W1wiJHJvb3RTY29wZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIm5nTW9kZWxcIixcIl4/Zm9ybVwiLFwiXj9uZ01vZGVsT3B0aW9uc1wiXSxjb250cm9sbGVyOk9iLHByaW9yaXR5OjEsY29tcGlsZTpmdW5jdGlvbihiKXtiLmFkZENsYXNzKFZhKS5hZGRDbGFzcyhcIm5nLXVudG91Y2hlZFwiKS5hZGRDbGFzcyhuYik7cmV0dXJue3ByZTpmdW5jdGlvbihhLGIsZSxmKXt2YXIgZz1mWzBdO2I9ZlsxXXx8Zy4kJHBhcmVudEZvcm07aWYoZj1mWzJdKWcuJG9wdGlvbnM9Zi4kb3B0aW9ucztnLiQkaW5pdEdldHRlclNldHRlcnMoKTtiLiRhZGRDb250cm9sKGcpO2UuJG9ic2VydmUoXCJuYW1lXCIsXG5mdW5jdGlvbihhKXtnLiRuYW1lIT09YSYmZy4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKGcsYSl9KTthLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtnLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChnKX0pfSxwb3N0OmZ1bmN0aW9uKGIsYyxlLGYpe2Z1bmN0aW9uIGcoKXtoLiRzZXRUb3VjaGVkKCl9dmFyIGg9ZlswXTtpZihoLiRvcHRpb25zLmdldE9wdGlvbihcInVwZGF0ZU9uXCIpKWMub24oaC4kb3B0aW9ucy5nZXRPcHRpb24oXCJ1cGRhdGVPblwiKSxmdW5jdGlvbihhKXtoLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoYSYmYS50eXBlKX0pO2Mub24oXCJibHVyXCIsZnVuY3Rpb24oKXtoLiR0b3VjaGVkfHwoYS4kJHBoYXNlP2IuJGV2YWxBc3luYyhnKTpiLiRhcHBseShnKSl9KX19fX19XSxQYixlaD0vKFxccyt8XilkZWZhdWx0KFxccyt8JCkvO0djLnByb3RvdHlwZT17Z2V0T3B0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLiQkb3B0aW9uc1thXX0sY3JlYXRlQ2hpbGQ6ZnVuY3Rpb24oYSl7dmFyIGI9XG4hMTthPVMoe30sYSk7cShhLGZ1bmN0aW9uKGQsYyl7XCIkaW5oZXJpdFwiPT09ZD9cIipcIj09PWM/Yj0hMDooYVtjXT10aGlzLiQkb3B0aW9uc1tjXSxcInVwZGF0ZU9uXCI9PT1jJiYoYS51cGRhdGVPbkRlZmF1bHQ9dGhpcy4kJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0KSk6XCJ1cGRhdGVPblwiPT09YyYmKGEudXBkYXRlT25EZWZhdWx0PSExLGFbY109VChkLnJlcGxhY2UoZWgsZnVuY3Rpb24oKXthLnVwZGF0ZU9uRGVmYXVsdD0hMDtyZXR1cm5cIiBcIn0pKSl9LHRoaXMpO2ImJihkZWxldGUgYVtcIipcIl0sZWUoYSx0aGlzLiQkb3B0aW9ucykpO2VlKGEsUGIuJCRvcHRpb25zKTtyZXR1cm4gbmV3IEdjKGEpfX07UGI9bmV3IEdjKHt1cGRhdGVPbjpcIlwiLHVwZGF0ZU9uRGVmYXVsdDohMCxkZWJvdW5jZTowLGdldHRlclNldHRlcjohMSxhbGxvd0ludmFsaWQ6ITEsdGltZXpvbmU6bnVsbH0pO3ZhciBsZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxkKXt0aGlzLiQkYXR0cnM9YTt0aGlzLiQkc2NvcGU9XG5kfWEuJGluamVjdD1bXCIkYXR0cnNcIixcIiRzY29wZVwiXTthLnByb3RvdHlwZT17JG9uSW5pdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFyZW50Q3RybD90aGlzLnBhcmVudEN0cmwuJG9wdGlvbnM6UGIsZD10aGlzLiQkc2NvcGUuJGV2YWwodGhpcy4kJGF0dHJzLm5nTW9kZWxPcHRpb25zKTt0aGlzLiRvcHRpb25zPWEuY3JlYXRlQ2hpbGQoZCl9fTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscHJpb3JpdHk6MTAscmVxdWlyZTp7cGFyZW50Q3RybDpcIj9eXm5nTW9kZWxPcHRpb25zXCJ9LGJpbmRUb0NvbnRyb2xsZXI6ITAsY29udHJvbGxlcjphfX0sWGU9UWEoe3Rlcm1pbmFsOiEwLHByaW9yaXR5OjFFM30pLGZoPUwoXCJuZ09wdGlvbnNcIiksZ2g9L15cXHMqKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2dyb3VwXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK2Rpc2FibGVcXHMrd2hlblxccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFskXFx3XVskXFx3XSopfCg/OlxcKFxccyooWyRcXHddWyRcXHddKilcXHMqLFxccyooWyRcXHddWyRcXHddKilcXHMqXFwpKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/JC8sXG5lZj1bXCIkY29tcGlsZVwiLFwiJGRvY3VtZW50XCIsXCIkcGFyc2VcIixmdW5jdGlvbihhLGIsZCl7ZnVuY3Rpb24gYyhhLGIsYyl7ZnVuY3Rpb24gZShhLGIsYyxkLGYpe3RoaXMuc2VsZWN0VmFsdWU9YTt0aGlzLnZpZXdWYWx1ZT1iO3RoaXMubGFiZWw9Yzt0aGlzLmdyb3VwPWQ7dGhpcy5kaXNhYmxlZD1mfWZ1bmN0aW9uIGYoYSl7dmFyIGI7aWYoIXEmJnFhKGEpKWI9YTtlbHNle2I9W107Zm9yKHZhciBjIGluIGEpYS5oYXNPd25Qcm9wZXJ0eShjKSYmXCIkXCIhPT1jLmNoYXJBdCgwKSYmYi5wdXNoKGMpfXJldHVybiBifXZhciBuPWEubWF0Y2goZ2gpO2lmKCFuKXRocm93IGZoKFwiaWV4cFwiLGEseGEoYikpO3ZhciBwPW5bNV18fG5bN10scT1uWzZdO2E9LyBhcyAvLnRlc3QoblswXSkmJm5bMV07dmFyIHM9bls5XTtiPWQoblsyXT9uWzFdOnApO3ZhciB2PWEmJmQoYSl8fGIsdD1zJiZkKHMpLHU9cz9mdW5jdGlvbihhLGIpe3JldHVybiB0KGMsYil9OmZ1bmN0aW9uKGEpe3JldHVybiBQYShhKX0sXG53PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHUoYSxHKGEsYikpfSxBPWQoblsyXXx8blsxXSkseD1kKG5bM118fFwiXCIpLEk9ZChuWzRdfHxcIlwiKSxLPWQobls4XSksRT17fSxHPXE/ZnVuY3Rpb24oYSxiKXtFW3FdPWI7RVtwXT1hO3JldHVybiBFfTpmdW5jdGlvbihhKXtFW3BdPWE7cmV0dXJuIEV9O3JldHVybnt0cmFja0J5OnMsZ2V0VHJhY2tCeVZhbHVlOncsZ2V0V2F0Y2hhYmxlczpkKEssZnVuY3Rpb24oYSl7dmFyIGI9W107YT1hfHxbXTtmb3IodmFyIGQ9ZihhKSxlPWQubGVuZ3RoLGc9MDtnPGU7ZysrKXt2YXIgaD1hPT09ZD9nOmRbZ10sbD1hW2hdLGg9RyhsLGgpLGw9dShsLGgpO2IucHVzaChsKTtpZihuWzJdfHxuWzFdKWw9QShjLGgpLGIucHVzaChsKTtuWzRdJiYoaD1JKGMsaCksYi5wdXNoKGgpKX1yZXR1cm4gYn0pLGdldE9wdGlvbnM6ZnVuY3Rpb24oKXtmb3IodmFyIGE9W10sYj17fSxkPUsoYyl8fFtdLGc9ZihkKSxoPWcubGVuZ3RoLG49MDtuPGg7bisrKXt2YXIgcD1kPT09XG5nP246Z1tuXSxxPUcoZFtwXSxwKSxyPXYoYyxxKSxwPXUocixxKSx0PUEoYyxxKSxFPXgoYyxxKSxxPUkoYyxxKSxyPW5ldyBlKHAscix0LEUscSk7YS5wdXNoKHIpO2JbcF09cn1yZXR1cm57aXRlbXM6YSxzZWxlY3RWYWx1ZU1hcDpiLGdldE9wdGlvbkZyb21WaWV3VmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGJbdyhhKV19LGdldFZpZXdWYWx1ZUZyb21PcHRpb246ZnVuY3Rpb24oYSl7cmV0dXJuIHM/cmEoYS52aWV3VmFsdWUpOmEudmlld1ZhbHVlfX19fX12YXIgZT14LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksZj14LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRncm91cFwiKTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsdGVybWluYWw6ITAscmVxdWlyZTpbXCJzZWxlY3RcIixcIm5nTW9kZWxcIl0sbGluazp7cHJlOmZ1bmN0aW9uKGEsYixjLGQpe2RbMF0ucmVnaXN0ZXJPcHRpb249en0scG9zdDpmdW5jdGlvbihkLGgsayxsKXtmdW5jdGlvbiBtKGEpe3ZhciBiPShhPUEuZ2V0T3B0aW9uRnJvbVZpZXdWYWx1ZShhKSkmJlxuYS5lbGVtZW50O2ImJiFiLnNlbGVjdGVkJiYoYi5zZWxlY3RlZD0hMCk7cmV0dXJuIGF9ZnVuY3Rpb24gbihhLGIpe2EuZWxlbWVudD1iO2IuZGlzYWJsZWQ9YS5kaXNhYmxlZDthLmxhYmVsIT09Yi5sYWJlbCYmKGIubGFiZWw9YS5sYWJlbCxiLnRleHRDb250ZW50PWEubGFiZWwpO2IudmFsdWU9YS5zZWxlY3RWYWx1ZX1mdW5jdGlvbiBwKCl7dmFyIGE9QSYmci5yZWFkVmFsdWUoKTtpZihBKWZvcih2YXIgYj1BLml0ZW1zLmxlbmd0aC0xOzA8PWI7Yi0tKXt2YXIgYz1BLml0ZW1zW2JdO3UoYy5ncm91cCk/RWIoYy5lbGVtZW50LnBhcmVudE5vZGUpOkViKGMuZWxlbWVudCl9QT16LmdldE9wdGlvbnMoKTt2YXIgZD17fTt4JiZoLnByZXBlbmQoci5lbXB0eU9wdGlvbik7QS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKGEpe3ZhciBiO2lmKHUoYS5ncm91cCkpe2I9ZFthLmdyb3VwXTtifHwoYj1mLmNsb25lTm9kZSghMSksSS5hcHBlbmRDaGlsZChiKSxiLmxhYmVsPW51bGw9PT1hLmdyb3VwP1xuXCJudWxsXCI6YS5ncm91cCxkW2EuZ3JvdXBdPWIpO3ZhciBjPWUuY2xvbmVOb2RlKCExKX1lbHNlIGI9SSxjPWUuY2xvbmVOb2RlKCExKTtiLmFwcGVuZENoaWxkKGMpO24oYSxjKX0pO2hbMF0uYXBwZW5kQ2hpbGQoSSk7cy4kcmVuZGVyKCk7cy4kaXNFbXB0eShhKXx8KGI9ci5yZWFkVmFsdWUoKSwoei50cmFja0J5fHx2P3NhKGEsYik6YT09PWIpfHwocy4kc2V0Vmlld1ZhbHVlKGIpLHMuJHJlbmRlcigpKSl9dmFyIHI9bFswXSxzPWxbMV0sdj1rLm11bHRpcGxlO2w9MDtmb3IodmFyIHQ9aC5jaGlsZHJlbigpLHc9dC5sZW5ndGg7bDx3O2wrKylpZihcIlwiPT09dFtsXS52YWx1ZSl7ci5oYXNFbXB0eU9wdGlvbj0hMDtyLmVtcHR5T3B0aW9uPXQuZXEobCk7YnJlYWt9dmFyIHg9ISFyLmVtcHR5T3B0aW9uO0IoZS5jbG9uZU5vZGUoITEpKS52YWwoXCI/XCIpO3ZhciBBLHo9YyhrLm5nT3B0aW9ucyxoLGQpLEk9YlswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7ci5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZT1cbmZ1bmN0aW9uKGEpe3JldHVyblwiP1wifTt2PyhyLndyaXRlVmFsdWU9ZnVuY3Rpb24oYSl7dmFyIGI9YSYmYS5tYXAobSl8fFtdO0EuaXRlbXMuZm9yRWFjaChmdW5jdGlvbihhKXthLmVsZW1lbnQuc2VsZWN0ZWQmJi0xPT09QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChiLGEpJiYoYS5lbGVtZW50LnNlbGVjdGVkPSExKX0pfSxyLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPWgudmFsKCl8fFtdLGI9W107cShhLGZ1bmN0aW9uKGEpeyhhPUEuc2VsZWN0VmFsdWVNYXBbYV0pJiYhYS5kaXNhYmxlZCYmYi5wdXNoKEEuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihhKSl9KTtyZXR1cm4gYn0sei50cmFja0J5JiZkLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24oKXtpZihIKHMuJHZpZXdWYWx1ZSkpcmV0dXJuIHMuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIHouZ2V0VHJhY2tCeVZhbHVlKGEpfSl9LGZ1bmN0aW9uKCl7cy4kcmVuZGVyKCl9KSk6KHIud3JpdGVWYWx1ZT1cbmZ1bmN0aW9uKGEpe3ZhciBiPUEuc2VsZWN0VmFsdWVNYXBbaC52YWwoKV0sYz1BLmdldE9wdGlvbkZyb21WaWV3VmFsdWUoYSk7YiYmYi5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShcInNlbGVjdGVkXCIpO2M/KGhbMF0udmFsdWUhPT1jLnNlbGVjdFZhbHVlJiYoci5yZW1vdmVVbmtub3duT3B0aW9uKCksci51bnNlbGVjdEVtcHR5T3B0aW9uKCksaFswXS52YWx1ZT1jLnNlbGVjdFZhbHVlLGMuZWxlbWVudC5zZWxlY3RlZD0hMCksYy5lbGVtZW50LnNldEF0dHJpYnV0ZShcInNlbGVjdGVkXCIsXCJzZWxlY3RlZFwiKSk6eD9yLnNlbGVjdEVtcHR5T3B0aW9uKCk6ci51bmtub3duT3B0aW9uLnBhcmVudCgpLmxlbmd0aD9yLnVwZGF0ZVVua25vd25PcHRpb24oYSk6ci5yZW5kZXJVbmtub3duT3B0aW9uKGEpfSxyLnJlYWRWYWx1ZT1mdW5jdGlvbigpe3ZhciBhPUEuc2VsZWN0VmFsdWVNYXBbaC52YWwoKV07cmV0dXJuIGEmJiFhLmRpc2FibGVkPyhyLnVuc2VsZWN0RW1wdHlPcHRpb24oKSxyLnJlbW92ZVVua25vd25PcHRpb24oKSxcbkEuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihhKSk6bnVsbH0sei50cmFja0J5JiZkLiR3YXRjaChmdW5jdGlvbigpe3JldHVybiB6LmdldFRyYWNrQnlWYWx1ZShzLiR2aWV3VmFsdWUpfSxmdW5jdGlvbigpe3MuJHJlbmRlcigpfSkpO3gmJihyLmVtcHR5T3B0aW9uLnJlbW92ZSgpLGEoci5lbXB0eU9wdGlvbikoZCksOD09PXIuZW1wdHlPcHRpb25bMF0ubm9kZVR5cGU/KHIuaGFzRW1wdHlPcHRpb249ITEsci5yZWdpc3Rlck9wdGlvbj1mdW5jdGlvbihhLGIpe1wiXCI9PT1iLnZhbCgpJiYoci5oYXNFbXB0eU9wdGlvbj0hMCxyLmVtcHR5T3B0aW9uPWIsci5lbXB0eU9wdGlvbi5yZW1vdmVDbGFzcyhcIm5nLXNjb3BlXCIpLHMuJHJlbmRlcigpLGIub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7ci5oYXNFbXB0eU9wdGlvbj0hMTtyLmVtcHR5T3B0aW9uPXZvaWQgMH0pKX0pOnIuZW1wdHlPcHRpb24ucmVtb3ZlQ2xhc3MoXCJuZy1zY29wZVwiKSk7aC5lbXB0eSgpO3AoKTtkLiR3YXRjaENvbGxlY3Rpb24oei5nZXRXYXRjaGFibGVzLFxucCl9fX19XSxZZT1bXCIkbG9jYWxlXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRsb2dcIixmdW5jdGlvbihhLGIsZCl7dmFyIGM9L3t9L2csZT0vXndoZW4oTWludXMpPyguKykkLztyZXR1cm57bGluazpmdW5jdGlvbihmLGcsaCl7ZnVuY3Rpb24gayhhKXtnLnRleHQoYXx8XCJcIil9dmFyIGw9aC5jb3VudCxtPWguJGF0dHIud2hlbiYmZy5hdHRyKGguJGF0dHIud2hlbiksbj1oLm9mZnNldHx8MCxwPWYuJGV2YWwobSl8fHt9LHI9e30scz1iLnN0YXJ0U3ltYm9sKCksdj1iLmVuZFN5bWJvbCgpLHQ9cytsK1wiLVwiK24rdix1PWVhLm5vb3AseDtxKGgsZnVuY3Rpb24oYSxiKXt2YXIgYz1lLmV4ZWMoYik7YyYmKGM9KGNbMV0/XCItXCI6XCJcIikrUShjWzJdKSxwW2NdPWcuYXR0cihoLiRhdHRyW2JdKSl9KTtxKHAsZnVuY3Rpb24oYSxkKXtyW2RdPWIoYS5yZXBsYWNlKGMsdCkpfSk7Zi4kd2F0Y2gobCxmdW5jdGlvbihiKXt2YXIgYz1wYXJzZUZsb2F0KGIpLGU9ZGEoYyk7ZXx8YyBpbiBwfHwoYz1hLnBsdXJhbENhdChjLVxubikpO2M9PT14fHxlJiZkYSh4KXx8KHUoKSxlPXJbY10sdyhlKT8obnVsbCE9YiYmZC5kZWJ1ZyhcIm5nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yICdcIitjK1wiJyBpbiBcIittKSx1PXosaygpKTp1PWYuJHdhdGNoKGUsaykseD1jKX0pfX19XSxaZT1bXCIkcGFyc2VcIixcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYixkKXt2YXIgYz1MKFwibmdSZXBlYXRcIiksZT1mdW5jdGlvbihhLGIsYyxkLGUsbSxuKXthW2NdPWQ7ZSYmKGFbZV09bSk7YS4kaW5kZXg9YjthLiRmaXJzdD0wPT09YjthLiRsYXN0PWI9PT1uLTE7YS4kbWlkZGxlPSEoYS4kZmlyc3R8fGEuJGxhc3QpO2EuJG9kZD0hKGEuJGV2ZW49MD09PShiJjEpKX07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCx0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjFFMyx0ZXJtaW5hbDohMCwkJHRsYjohMCxjb21waWxlOmZ1bmN0aW9uKGYsZyl7dmFyIGg9Zy5uZ1JlcGVhdCxrPWQuJCRjcmVhdGVDb21tZW50KFwiZW5kIG5nUmVwZWF0XCIsXG5oKSxsPWgubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpP1xccyokLyk7aWYoIWwpdGhyb3cgYyhcImlleHBcIixoKTt2YXIgbT1sWzFdLG49bFsyXSxwPWxbM10scj1sWzRdLGw9bS5tYXRjaCgvXig/OihcXHMqWyRcXHddKyl8XFwoXFxzKihbJFxcd10rKVxccyosXFxzKihbJFxcd10rKVxccypcXCkpJC8pO2lmKCFsKXRocm93IGMoXCJpaWRleHBcIixtKTt2YXIgcz1sWzNdfHxsWzFdLHY9bFsyXTtpZihwJiYoIS9eWyRhLXpBLVpfXVskYS16QS1aMC05X10qJC8udGVzdChwKXx8L14obnVsbHx1bmRlZmluZWR8dGhpc3xcXCRpbmRleHxcXCRmaXJzdHxcXCRtaWRkbGV8XFwkbGFzdHxcXCRldmVufFxcJG9kZHxcXCRwYXJlbnR8XFwkcm9vdHxcXCRpZCkkLy50ZXN0KHApKSl0aHJvdyBjKFwiYmFkaWRlbnRcIixwKTt2YXIgdCx1LHcseCx6PXskaWQ6UGF9O3I/dD1hKHIpOih3PWZ1bmN0aW9uKGEsYil7cmV0dXJuIFBhKGIpfSxcbng9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtyZXR1cm4gZnVuY3Rpb24oYSxkLGYsZyxsKXt0JiYodT1mdW5jdGlvbihiLGMsZCl7diYmKHpbdl09Yik7eltzXT1jO3ouJGluZGV4PWQ7cmV0dXJuIHQoYSx6KX0pO3ZhciBtPVYoKTthLiR3YXRjaENvbGxlY3Rpb24obixmdW5jdGlvbihmKXt2YXIgZyxuLHI9ZFswXSx0LHo9VigpLEIsRCxGLEMsRyxFLEg7cCYmKGFbcF09Zik7aWYocWEoZikpRz1mLG49dXx8dztlbHNlIGZvcihIIGluIG49dXx8eCxHPVtdLGYpdWEuY2FsbChmLEgpJiZcIiRcIiE9PUguY2hhckF0KDApJiZHLnB1c2goSCk7Qj1HLmxlbmd0aDtIPUFycmF5KEIpO2ZvcihnPTA7ZzxCO2crKylpZihEPWY9PT1HP2c6R1tnXSxGPWZbRF0sQz1uKEQsRixnKSxtW0NdKUU9bVtDXSxkZWxldGUgbVtDXSx6W0NdPUUsSFtnXT1FO2Vsc2V7aWYoeltDXSl0aHJvdyBxKEgsZnVuY3Rpb24oYSl7YSYmYS5zY29wZSYmKG1bYS5pZF09YSl9KSxjKFwiZHVwZXNcIixoLEMsRik7SFtnXT17aWQ6QyxcbnNjb3BlOnZvaWQgMCxjbG9uZTp2b2lkIDB9O3pbQ109ITB9Zm9yKHQgaW4gbSl7RT1tW3RdO0M9dGIoRS5jbG9uZSk7Yi5sZWF2ZShDKTtpZihDWzBdLnBhcmVudE5vZGUpZm9yKGc9MCxuPUMubGVuZ3RoO2c8bjtnKyspQ1tnXS4kJE5HX1JFTU9WRUQ9ITA7RS5zY29wZS4kZGVzdHJveSgpfWZvcihnPTA7ZzxCO2crKylpZihEPWY9PT1HP2c6R1tnXSxGPWZbRF0sRT1IW2ddLEUuc2NvcGUpe3Q9cjtkbyB0PXQubmV4dFNpYmxpbmc7d2hpbGUodCYmdC4kJE5HX1JFTU9WRUQpO0UuY2xvbmVbMF0hPT10JiZiLm1vdmUodGIoRS5jbG9uZSksbnVsbCxyKTtyPUUuY2xvbmVbRS5jbG9uZS5sZW5ndGgtMV07ZShFLnNjb3BlLGcscyxGLHYsRCxCKX1lbHNlIGwoZnVuY3Rpb24oYSxjKXtFLnNjb3BlPWM7dmFyIGQ9ay5jbG9uZU5vZGUoITEpO2FbYS5sZW5ndGgrK109ZDtiLmVudGVyKGEsbnVsbCxyKTtyPWQ7RS5jbG9uZT1hO3pbRS5pZF09RTtlKEUuc2NvcGUsZyxzLEYsdixELEIpfSk7bT1cbnp9KX19fX1dLCRlPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGIsZCxjKXtiLiR3YXRjaChjLm5nU2hvdyxmdW5jdGlvbihiKXthW2I/XCJyZW1vdmVDbGFzc1wiOlwiYWRkQ2xhc3NcIl0oZCxcIm5nLWhpZGVcIix7dGVtcENsYXNzZXM6XCJuZy1oaWRlLWFuaW1hdGVcIn0pfSl9fX1dLFRlPVtcIiRhbmltYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGIsZCxjKXtiLiR3YXRjaChjLm5nSGlkZSxmdW5jdGlvbihiKXthW2I/XCJhZGRDbGFzc1wiOlwicmVtb3ZlQ2xhc3NcIl0oZCxcIm5nLWhpZGVcIix7dGVtcENsYXNzZXM6XCJuZy1oaWRlLWFuaW1hdGVcIn0pfSl9fX1dLGFmPVFhKGZ1bmN0aW9uKGEsYixkKXthLiR3YXRjaChkLm5nU3R5bGUsZnVuY3Rpb24oYSxkKXtkJiZhIT09ZCYmcShkLGZ1bmN0aW9uKGEsYyl7Yi5jc3MoYyxcIlwiKX0pO2EmJmIuY3NzKGEpfSxcbiEwKX0pLGJmPVtcIiRhbmltYXRlXCIsXCIkY29tcGlsZVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJue3JlcXVpcmU6XCJuZ1N3aXRjaFwiLGNvbnRyb2xsZXI6W1wiJHNjb3BlXCIsZnVuY3Rpb24oKXt0aGlzLmNhc2VzPXt9fV0sbGluazpmdW5jdGlvbihkLGMsZSxmKXt2YXIgZz1bXSxoPVtdLGs9W10sbD1bXSxtPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpeyExIT09YyYmYS5zcGxpY2UoYiwxKX19O2QuJHdhdGNoKGUubmdTd2l0Y2h8fGUub24sZnVuY3Rpb24oYyl7Zm9yKHZhciBkLGU7ay5sZW5ndGg7KWEuY2FuY2VsKGsucG9wKCkpO2Q9MDtmb3IoZT1sLmxlbmd0aDtkPGU7KytkKXt2YXIgcz10YihoW2RdLmNsb25lKTtsW2RdLiRkZXN0cm95KCk7KGtbZF09YS5sZWF2ZShzKSkuZG9uZShtKGssZCkpfWgubGVuZ3RoPTA7bC5sZW5ndGg9MDsoZz1mLmNhc2VzW1wiIVwiK2NdfHxmLmNhc2VzW1wiP1wiXSkmJnEoZyxmdW5jdGlvbihjKXtjLnRyYW5zY2x1ZGUoZnVuY3Rpb24oZCxlKXtsLnB1c2goZSk7XG52YXIgZj1jLmVsZW1lbnQ7ZFtkLmxlbmd0aCsrXT1iLiQkY3JlYXRlQ29tbWVudChcImVuZCBuZ1N3aXRjaFdoZW5cIik7aC5wdXNoKHtjbG9uZTpkfSk7YS5lbnRlcihkLGYucGFyZW50KCksZil9KX0pfSl9fX1dLGNmPVFhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsYixkLGMsZSl7YT1kLm5nU3dpdGNoV2hlbi5zcGxpdChkLm5nU3dpdGNoV2hlblNlcGFyYXRvcikuc29ydCgpLmZpbHRlcihmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGNbYi0xXSE9PWF9KTtxKGEsZnVuY3Rpb24oYSl7Yy5jYXNlc1tcIiFcIithXT1jLmNhc2VzW1wiIVwiK2FdfHxbXTtjLmNhc2VzW1wiIVwiK2FdLnB1c2goe3RyYW5zY2x1ZGU6ZSxlbGVtZW50OmJ9KX0pfX0pLGRmPVFhKHt0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHByaW9yaXR5OjEyMDAscmVxdWlyZTpcIl5uZ1N3aXRjaFwiLG11bHRpRWxlbWVudDohMCxsaW5rOmZ1bmN0aW9uKGEsXG5iLGQsYyxlKXtjLmNhc2VzW1wiP1wiXT1jLmNhc2VzW1wiP1wiXXx8W107Yy5jYXNlc1tcIj9cIl0ucHVzaCh7dHJhbnNjbHVkZTplLGVsZW1lbnQ6Yn0pfX0pLGhoPUwoXCJuZ1RyYW5zY2x1ZGVcIiksZmY9W1wiJGNvbXBpbGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJFQUNcIix0ZXJtaW5hbDohMCxjb21waWxlOmZ1bmN0aW9uKGIpe3ZhciBkPWEoYi5jb250ZW50cygpKTtiLmVtcHR5KCk7cmV0dXJuIGZ1bmN0aW9uKGEsYixmLGcsaCl7ZnVuY3Rpb24gaygpe2QoYSxmdW5jdGlvbihhKXtiLmFwcGVuZChhKX0pfWlmKCFoKXRocm93IGhoKFwib3JwaGFuXCIseGEoYikpO2YubmdUcmFuc2NsdWRlPT09Zi4kYXR0ci5uZ1RyYW5zY2x1ZGUmJihmLm5nVHJhbnNjbHVkZT1cIlwiKTtmPWYubmdUcmFuc2NsdWRlfHxmLm5nVHJhbnNjbHVkZVNsb3Q7aChmdW5jdGlvbihhLGMpe3ZhciBkO2lmKGQ9YS5sZW5ndGgpYTp7ZD0wO2Zvcih2YXIgZj1hLmxlbmd0aDtkPGY7ZCsrKXt2YXIgZz1hW2RdO2lmKGcubm9kZVR5cGUhPT1cbklhfHxnLm5vZGVWYWx1ZS50cmltKCkpe2Q9ITA7YnJlYWsgYX19ZD12b2lkIDB9ZD9iLmFwcGVuZChhKTooaygpLGMuJGRlc3Ryb3koKSl9LG51bGwsZik7ZiYmIWguaXNTbG90RmlsbGVkKGYpJiZrKCl9fX19XSxIZT1bXCIkdGVtcGxhdGVDYWNoZVwiLGZ1bmN0aW9uKGEpe3JldHVybntyZXN0cmljdDpcIkVcIix0ZXJtaW5hbDohMCxjb21waWxlOmZ1bmN0aW9uKGIsZCl7XCJ0ZXh0L25nLXRlbXBsYXRlXCI9PT1kLnR5cGUmJmEucHV0KGQuaWQsYlswXS50ZXh0KX19fV0saWg9eyRzZXRWaWV3VmFsdWU6eiwkcmVuZGVyOnp9LGpoPVtcIiRlbGVtZW50XCIsXCIkc2NvcGVcIixmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGQoKXtnfHwoZz0hMCxiLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2c9ITE7ZS5uZ01vZGVsQ3RybC4kcmVuZGVyKCl9KSl9ZnVuY3Rpb24gYyhhKXtofHwoaD0hMCxiLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2IuJCRkZXN0cm95ZWR8fChoPSExLGUubmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShlLnJlYWRWYWx1ZSgpKSxcbmEmJmUubmdNb2RlbEN0cmwuJHJlbmRlcigpKX0pKX12YXIgZT10aGlzLGY9bmV3IEdiO2Uuc2VsZWN0VmFsdWVNYXA9e307ZS5uZ01vZGVsQ3RybD1paDtlLm11bHRpcGxlPSExO2UudW5rbm93bk9wdGlvbj1CKHguZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSk7ZS5oYXNFbXB0eU9wdGlvbj0hMTtlLmVtcHR5T3B0aW9uPXZvaWQgMDtlLnJlbmRlclVua25vd25PcHRpb249ZnVuY3Rpb24oYil7Yj1lLmdlbmVyYXRlVW5rbm93bk9wdGlvblZhbHVlKGIpO2UudW5rbm93bk9wdGlvbi52YWwoYik7YS5wcmVwZW5kKGUudW5rbm93bk9wdGlvbik7VGEoZS51bmtub3duT3B0aW9uLCEwKTthLnZhbChiKX07ZS51cGRhdGVVbmtub3duT3B0aW9uPWZ1bmN0aW9uKGIpe2I9ZS5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZShiKTtlLnVua25vd25PcHRpb24udmFsKGIpO1RhKGUudW5rbm93bk9wdGlvbiwhMCk7YS52YWwoYil9O2UuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWU9XG5mdW5jdGlvbihhKXtyZXR1cm5cIj8gXCIrUGEoYSkrXCIgP1wifTtlLnJlbW92ZVVua25vd25PcHRpb249ZnVuY3Rpb24oKXtlLnVua25vd25PcHRpb24ucGFyZW50KCkmJmUudW5rbm93bk9wdGlvbi5yZW1vdmUoKX07ZS5zZWxlY3RFbXB0eU9wdGlvbj1mdW5jdGlvbigpe2UuZW1wdHlPcHRpb24mJihhLnZhbChcIlwiKSxUYShlLmVtcHR5T3B0aW9uLCEwKSl9O2UudW5zZWxlY3RFbXB0eU9wdGlvbj1mdW5jdGlvbigpe2UuaGFzRW1wdHlPcHRpb24mJmUuZW1wdHlPcHRpb24ucmVtb3ZlQXR0cihcInNlbGVjdGVkXCIpfTtiLiRvbihcIiRkZXN0cm95XCIsZnVuY3Rpb24oKXtlLnJlbmRlclVua25vd25PcHRpb249en0pO2UucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGI9YS52YWwoKSxiPWIgaW4gZS5zZWxlY3RWYWx1ZU1hcD9lLnNlbGVjdFZhbHVlTWFwW2JdOmI7cmV0dXJuIGUuaGFzT3B0aW9uKGIpP2I6bnVsbH07ZS53cml0ZVZhbHVlPWZ1bmN0aW9uKGIpe3ZhciBjPWFbMF0ub3B0aW9uc1thWzBdLnNlbGVjdGVkSW5kZXhdO1xuYyYmVGEoQihjKSwhMSk7ZS5oYXNPcHRpb24oYik/KGUucmVtb3ZlVW5rbm93bk9wdGlvbigpLGM9UGEoYiksYS52YWwoYyBpbiBlLnNlbGVjdFZhbHVlTWFwP2M6YiksVGEoQihhWzBdLm9wdGlvbnNbYVswXS5zZWxlY3RlZEluZGV4XSksITApKTpudWxsPT1iJiZlLmVtcHR5T3B0aW9uPyhlLnJlbW92ZVVua25vd25PcHRpb24oKSxlLnNlbGVjdEVtcHR5T3B0aW9uKCkpOmUudW5rbm93bk9wdGlvbi5wYXJlbnQoKS5sZW5ndGg/ZS51cGRhdGVVbmtub3duT3B0aW9uKGIpOmUucmVuZGVyVW5rbm93bk9wdGlvbihiKX07ZS5hZGRPcHRpb249ZnVuY3Rpb24oYSxiKXtpZig4IT09YlswXS5ub2RlVHlwZSl7S2EoYSwnXCJvcHRpb24gdmFsdWVcIicpO1wiXCI9PT1hJiYoZS5oYXNFbXB0eU9wdGlvbj0hMCxlLmVtcHR5T3B0aW9uPWIpO3ZhciBjPWYuZ2V0KGEpfHwwO2Yuc2V0KGEsYysxKTtkKCl9fTtlLnJlbW92ZU9wdGlvbj1mdW5jdGlvbihhKXt2YXIgYj1mLmdldChhKTtiJiYoMT09PWI/KGYuZGVsZXRlKGEpLFxuXCJcIj09PWEmJihlLmhhc0VtcHR5T3B0aW9uPSExLGUuZW1wdHlPcHRpb249dm9pZCAwKSk6Zi5zZXQoYSxiLTEpKX07ZS5oYXNPcHRpb249ZnVuY3Rpb24oYSl7cmV0dXJuISFmLmdldChhKX07dmFyIGc9ITEsaD0hMTtlLnJlZ2lzdGVyT3B0aW9uPWZ1bmN0aW9uKGEsYixmLGcsaCl7aWYoZi4kYXR0ci5uZ1ZhbHVlKXt2YXIgcSxzPU5hTjtmLiRvYnNlcnZlKFwidmFsdWVcIixmdW5jdGlvbihhKXt2YXIgZCxmPWIucHJvcChcInNlbGVjdGVkXCIpO3UocykmJihlLnJlbW92ZU9wdGlvbihxKSxkZWxldGUgZS5zZWxlY3RWYWx1ZU1hcFtzXSxkPSEwKTtzPVBhKGEpO3E9YTtlLnNlbGVjdFZhbHVlTWFwW3NdPWE7ZS5hZGRPcHRpb24oYSxiKTtiLmF0dHIoXCJ2YWx1ZVwiLHMpO2QmJmYmJmMoKX0pfWVsc2UgZz9mLiRvYnNlcnZlKFwidmFsdWVcIixmdW5jdGlvbihhKXtlLnJlYWRWYWx1ZSgpO3ZhciBkLGY9Yi5wcm9wKFwic2VsZWN0ZWRcIik7dShxKSYmKGUucmVtb3ZlT3B0aW9uKHEpLGQ9ITApO3E9XG5hO2UuYWRkT3B0aW9uKGEsYik7ZCYmZiYmYygpfSk6aD9hLiR3YXRjaChoLGZ1bmN0aW9uKGEsZCl7Zi4kc2V0KFwidmFsdWVcIixhKTt2YXIgZz1iLnByb3AoXCJzZWxlY3RlZFwiKTtkIT09YSYmZS5yZW1vdmVPcHRpb24oZCk7ZS5hZGRPcHRpb24oYSxiKTtkJiZnJiZjKCl9KTplLmFkZE9wdGlvbihmLnZhbHVlLGIpO2YuJG9ic2VydmUoXCJkaXNhYmxlZFwiLGZ1bmN0aW9uKGEpe2lmKFwidHJ1ZVwiPT09YXx8YSYmYi5wcm9wKFwic2VsZWN0ZWRcIikpZS5tdWx0aXBsZT9jKCEwKTooZS5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG51bGwpLGUubmdNb2RlbEN0cmwuJHJlbmRlcigpKX0pO2Iub24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZS5yZWFkVmFsdWUoKSxiPWYudmFsdWU7ZS5yZW1vdmVPcHRpb24oYik7ZCgpOyhlLm11bHRpcGxlJiZhJiYtMSE9PWEuaW5kZXhPZihiKXx8YT09PWIpJiZjKCEwKX0pfX1dLEllPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiRVwiLHJlcXVpcmU6W1wic2VsZWN0XCIsXG5cIj9uZ01vZGVsXCJdLGNvbnRyb2xsZXI6amgscHJpb3JpdHk6MSxsaW5rOntwcmU6ZnVuY3Rpb24oYSxiLGQsYyl7dmFyIGU9Y1swXSxmPWNbMV07aWYoZil7aWYoZS5uZ01vZGVsQ3RybD1mLGIub24oXCJjaGFuZ2VcIixmdW5jdGlvbigpe2UucmVtb3ZlVW5rbm93bk9wdGlvbigpO2EuJGFwcGx5KGZ1bmN0aW9uKCl7Zi4kc2V0Vmlld1ZhbHVlKGUucmVhZFZhbHVlKCkpfSl9KSxkLm11bHRpcGxlKXtlLm11bHRpcGxlPSEwO2UucmVhZFZhbHVlPWZ1bmN0aW9uKCl7dmFyIGE9W107cShiLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7Yi5zZWxlY3RlZCYmIWIuZGlzYWJsZWQmJihiPWIudmFsdWUsYS5wdXNoKGIgaW4gZS5zZWxlY3RWYWx1ZU1hcD9lLnNlbGVjdFZhbHVlTWFwW2JdOmIpKX0pO3JldHVybiBhfTtlLndyaXRlVmFsdWU9ZnVuY3Rpb24oYSl7cShiLmZpbmQoXCJvcHRpb25cIiksZnVuY3Rpb24oYil7dmFyIGM9ISFhJiYoLTEhPT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGEsXG5iLnZhbHVlKXx8LTEhPT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGEsZS5zZWxlY3RWYWx1ZU1hcFtiLnZhbHVlXSkpO2MhPT1iLnNlbGVjdGVkJiZUYShCKGIpLGMpfSl9O3ZhciBnLGg9TmFOO2EuJHdhdGNoKGZ1bmN0aW9uKCl7aCE9PWYuJHZpZXdWYWx1ZXx8c2EoZyxmLiR2aWV3VmFsdWUpfHwoZz1wYShmLiR2aWV3VmFsdWUpLGYuJHJlbmRlcigpKTtoPWYuJHZpZXdWYWx1ZX0pO2YuJGlzRW1wdHk9ZnVuY3Rpb24oYSl7cmV0dXJuIWF8fDA9PT1hLmxlbmd0aH19fWVsc2UgZS5yZWdpc3Rlck9wdGlvbj16fSxwb3N0OmZ1bmN0aW9uKGEsYixkLGMpe3ZhciBlPWNbMV07aWYoZSl7dmFyIGY9Y1swXTtlLiRyZW5kZXI9ZnVuY3Rpb24oKXtmLndyaXRlVmFsdWUoZS4kdmlld1ZhbHVlKX19fX19fSxKZT1bXCIkaW50ZXJwb2xhdGVcIixmdW5jdGlvbihhKXtyZXR1cm57cmVzdHJpY3Q6XCJFXCIscHJpb3JpdHk6MTAwLGNvbXBpbGU6ZnVuY3Rpb24oYixkKXt2YXIgYyxlO3UoZC5uZ1ZhbHVlKXx8XG4odShkLnZhbHVlKT9jPWEoZC52YWx1ZSwhMCk6KGU9YShiLnRleHQoKSwhMCkpfHxkLiRzZXQoXCJ2YWx1ZVwiLGIudGV4dCgpKSk7cmV0dXJuIGZ1bmN0aW9uKGEsYixkKXt2YXIgaz1iLnBhcmVudCgpOyhrPWsuZGF0YShcIiRzZWxlY3RDb250cm9sbGVyXCIpfHxrLnBhcmVudCgpLmRhdGEoXCIkc2VsZWN0Q29udHJvbGxlclwiKSkmJmsucmVnaXN0ZXJPcHRpb24oYSxiLGQsYyxlKX19fX1dLFpjPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxiLGQsYyl7YyYmKGQucmVxdWlyZWQ9ITAsYy4kdmFsaWRhdG9ycy5yZXF1aXJlZD1mdW5jdGlvbihhLGIpe3JldHVybiFkLnJlcXVpcmVkfHwhYy4kaXNFbXB0eShiKX0sZC4kb2JzZXJ2ZShcInJlcXVpcmVkXCIsZnVuY3Rpb24oKXtjLiR2YWxpZGF0ZSgpfSkpfX19LFljPWZ1bmN0aW9uKCl7cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHJlcXVpcmU6XCI/bmdNb2RlbFwiLGxpbms6ZnVuY3Rpb24oYSxcbmIsZCxjKXtpZihjKXt2YXIgZSxmPWQubmdQYXR0ZXJufHxkLnBhdHRlcm47ZC4kb2JzZXJ2ZShcInBhdHRlcm5cIixmdW5jdGlvbihhKXtGKGEpJiYwPGEubGVuZ3RoJiYoYT1uZXcgUmVnRXhwKFwiXlwiK2ErXCIkXCIpKTtpZihhJiYhYS50ZXN0KXRocm93IEwoXCJuZ1BhdHRlcm5cIikoXCJub3JlZ2V4cFwiLGYsYSx4YShiKSk7ZT1hfHx2b2lkIDA7Yy4kdmFsaWRhdGUoKX0pO2MuJHZhbGlkYXRvcnMucGF0dGVybj1mdW5jdGlvbihhLGIpe3JldHVybiBjLiRpc0VtcHR5KGIpfHx3KGUpfHxlLnRlc3QoYil9fX19fSxhZD1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2lmKGMpe3ZhciBlPS0xO2QuJG9ic2VydmUoXCJtYXhsZW5ndGhcIixmdW5jdGlvbihhKXthPVooYSk7ZT1kYShhKT8tMTphO2MuJHZhbGlkYXRlKCl9KTtjLiR2YWxpZGF0b3JzLm1heGxlbmd0aD1mdW5jdGlvbihhLGIpe3JldHVybiAwPmV8fGMuJGlzRW1wdHkoYil8fFxuYi5sZW5ndGg8PWV9fX19fSwkYz1mdW5jdGlvbigpe3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOlwiP25nTW9kZWxcIixsaW5rOmZ1bmN0aW9uKGEsYixkLGMpe2lmKGMpe3ZhciBlPTA7ZC4kb2JzZXJ2ZShcIm1pbmxlbmd0aFwiLGZ1bmN0aW9uKGEpe2U9WihhKXx8MDtjLiR2YWxpZGF0ZSgpfSk7Yy4kdmFsaWRhdG9ycy5taW5sZW5ndGg9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy4kaXNFbXB0eShiKXx8Yi5sZW5ndGg+PWV9fX19fTt4LmFuZ3VsYXIuYm9vdHN0cmFwP3guY29uc29sZSYmY29uc29sZS5sb2coXCJXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuXCIpOih6ZSgpLENlKGVhKSxlYS5tb2R1bGUoXCJuZ0xvY2FsZVwiLFtdLFtcIiRwcm92aWRlXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXthKz1cIlwiO3ZhciBiPWEuaW5kZXhPZihcIi5cIik7cmV0dXJuLTE9PWI/MDphLmxlbmd0aC1iLTF9YS52YWx1ZShcIiRsb2NhbGVcIix7REFURVRJTUVfRk9STUFUUzp7QU1QTVM6W1wiQU1cIixcblwiUE1cIl0sREFZOlwiU3VuZGF5IE1vbmRheSBUdWVzZGF5IFdlZG5lc2RheSBUaHVyc2RheSBGcmlkYXkgU2F0dXJkYXlcIi5zcGxpdChcIiBcIiksRVJBTkFNRVM6W1wiQmVmb3JlIENocmlzdFwiLFwiQW5ubyBEb21pbmlcIl0sRVJBUzpbXCJCQ1wiLFwiQURcIl0sRklSU1REQVlPRldFRUs6NixNT05USDpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksU0hPUlREQVk6XCJTdW4gTW9uIFR1ZSBXZWQgVGh1IEZyaSBTYXRcIi5zcGxpdChcIiBcIiksU0hPUlRNT05USDpcIkphbiBGZWIgTWFyIEFwciBNYXkgSnVuIEp1bCBBdWcgU2VwIE9jdCBOb3YgRGVjXCIuc3BsaXQoXCIgXCIpLFNUQU5EQUxPTkVNT05USDpcIkphbnVhcnkgRmVicnVhcnkgTWFyY2ggQXByaWwgTWF5IEp1bmUgSnVseSBBdWd1c3QgU2VwdGVtYmVyIE9jdG9iZXIgTm92ZW1iZXIgRGVjZW1iZXJcIi5zcGxpdChcIiBcIiksV0VFS0VORFJBTkdFOls1LFxuNl0sZnVsbERhdGU6XCJFRUVFLCBNTU1NIGQsIHlcIixsb25nRGF0ZTpcIk1NTU0gZCwgeVwiLG1lZGl1bTpcIk1NTSBkLCB5IGg6bW06c3MgYVwiLG1lZGl1bURhdGU6XCJNTU0gZCwgeVwiLG1lZGl1bVRpbWU6XCJoOm1tOnNzIGFcIixcInNob3J0XCI6XCJNL2QveXkgaDptbSBhXCIsc2hvcnREYXRlOlwiTS9kL3l5XCIsc2hvcnRUaW1lOlwiaDptbSBhXCJ9LE5VTUJFUl9GT1JNQVRTOntDVVJSRU5DWV9TWU06XCIkXCIsREVDSU1BTF9TRVA6XCIuXCIsR1JPVVBfU0VQOlwiLFwiLFBBVFRFUk5TOlt7Z1NpemU6MyxsZ1NpemU6MyxtYXhGcmFjOjMsbWluRnJhYzowLG1pbkludDoxLG5lZ1ByZTpcIi1cIixuZWdTdWY6XCJcIixwb3NQcmU6XCJcIixwb3NTdWY6XCJcIn0se2dTaXplOjMsbGdTaXplOjMsbWF4RnJhYzoyLG1pbkZyYWM6MixtaW5JbnQ6MSxuZWdQcmU6XCItXFx1MDBhNFwiLG5lZ1N1ZjpcIlwiLHBvc1ByZTpcIlxcdTAwYTRcIixwb3NTdWY6XCJcIn1dfSxpZDpcImVuLXVzXCIsbG9jYWxlSUQ6XCJlbl9VU1wiLHBsdXJhbENhdDpmdW5jdGlvbihhLFxuYyl7dmFyIGU9YXwwLGY9Yzt2b2lkIDA9PT1mJiYoZj1NYXRoLm1pbihiKGEpLDMpKTtNYXRoLnBvdygxMCxmKTtyZXR1cm4gMT09ZSYmMD09Zj9cIm9uZVwiOlwib3RoZXJcIn19KX1dKSxCKGZ1bmN0aW9uKCl7dWUoeC5kb2N1bWVudCxTYyl9KSl9KSh3aW5kb3cpOyF3aW5kb3cuYW5ndWxhci4kJGNzcCgpLm5vSW5saW5lU3R5bGUmJndpbmRvdy5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuaGVhZCkucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPkBjaGFyc2V0IFwiVVRGLThcIjtbbmdcXFxcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXFxcOmZvcm17ZGlzcGxheTpibG9jazt9Lm5nLWFuaW1hdGUtc2hpbXt2aXNpYmlsaXR5OmhpZGRlbjt9Lm5nLWFuY2hvcntwb3NpdGlvbjphYnNvbHV0ZTt9PC9zdHlsZT4nKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXIubWluLmpzLm1hcFxuIiwiLypcbiBBbmd1bGFySlMgdjEuNi40XG4gKGMpIDIwMTAtMjAxNyBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcbiBMaWNlbnNlOiBNSVRcbiovXG4oZnVuY3Rpb24oUix5KXsndXNlIHN0cmljdCc7ZnVuY3Rpb24gRWEoYSxiLGMpe2lmKCFhKXRocm93IE9hKFwiYXJlcVwiLGJ8fFwiP1wiLGN8fFwicmVxdWlyZWRcIik7cmV0dXJuIGF9ZnVuY3Rpb24gRmEoYSxiKXtpZighYSYmIWIpcmV0dXJuXCJcIjtpZighYSlyZXR1cm4gYjtpZighYilyZXR1cm4gYTtXKGEpJiYoYT1hLmpvaW4oXCIgXCIpKTtXKGIpJiYoYj1iLmpvaW4oXCIgXCIpKTtyZXR1cm4gYStcIiBcIitifWZ1bmN0aW9uIFBhKGEpe3ZhciBiPXt9O2EmJihhLnRvfHxhLmZyb20pJiYoYi50bz1hLnRvLGIuZnJvbT1hLmZyb20pO3JldHVybiBifWZ1bmN0aW9uIFgoYSxiLGMpe3ZhciBkPVwiXCI7YT1XKGEpP2E6YSYmRihhKSYmYS5sZW5ndGg/YS5zcGxpdCgvXFxzKy8pOltdO3MoYSxmdW5jdGlvbihhLGUpe2EmJjA8YS5sZW5ndGgmJihkKz0wPGU/XCIgXCI6XCJcIixkKz1jP2IrYTphK2IpfSk7cmV0dXJuIGR9ZnVuY3Rpb24gR2EoYSl7aWYoYSBpbnN0YW5jZW9mIEUpc3dpdGNoKGEubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGE7XG5jYXNlIDE6aWYoMT09PWFbMF0ubm9kZVR5cGUpcmV0dXJuIGE7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gRSh1YShhKSl9aWYoMT09PWEubm9kZVR5cGUpcmV0dXJuIEUoYSl9ZnVuY3Rpb24gdWEoYSl7aWYoIWFbMF0pcmV0dXJuIGE7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDtiKyspe3ZhciBjPWFbYl07aWYoMT09PWMubm9kZVR5cGUpcmV0dXJuIGN9fWZ1bmN0aW9uIFFhKGEsYixjKXtzKGIsZnVuY3Rpb24oYil7YS5hZGRDbGFzcyhiLGMpfSl9ZnVuY3Rpb24gUmEoYSxiLGMpe3MoYixmdW5jdGlvbihiKXthLnJlbW92ZUNsYXNzKGIsYyl9KX1mdW5jdGlvbiBZKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe2MuYWRkQ2xhc3MmJihRYShhLGIsYy5hZGRDbGFzcyksYy5hZGRDbGFzcz1udWxsKTtjLnJlbW92ZUNsYXNzJiYoUmEoYSxiLGMucmVtb3ZlQ2xhc3MpLGMucmVtb3ZlQ2xhc3M9bnVsbCl9fWZ1bmN0aW9uIG5hKGEpe2E9YXx8e307aWYoIWEuJCRwcmVwYXJlZCl7dmFyIGI9YS5kb21PcGVyYXRpb258fFxuUDthLmRvbU9wZXJhdGlvbj1mdW5jdGlvbigpe2EuJCRkb21PcGVyYXRpb25GaXJlZD0hMDtiKCk7Yj1QfTthLiQkcHJlcGFyZWQ9ITB9cmV0dXJuIGF9ZnVuY3Rpb24gaGEoYSxiKXtIYShhLGIpO0lhKGEsYil9ZnVuY3Rpb24gSGEoYSxiKXtiLmZyb20mJihhLmNzcyhiLmZyb20pLGIuZnJvbT1udWxsKX1mdW5jdGlvbiBJYShhLGIpe2IudG8mJihhLmNzcyhiLnRvKSxiLnRvPW51bGwpfWZ1bmN0aW9uIFUoYSxiLGMpe3ZhciBkPWIub3B0aW9uc3x8e307Yz1jLm9wdGlvbnN8fHt9O3ZhciBmPShkLmFkZENsYXNzfHxcIlwiKStcIiBcIisoYy5hZGRDbGFzc3x8XCJcIiksZT0oZC5yZW1vdmVDbGFzc3x8XCJcIikrXCIgXCIrKGMucmVtb3ZlQ2xhc3N8fFwiXCIpO2E9U2EoYS5hdHRyKFwiY2xhc3NcIiksZixlKTtjLnByZXBhcmF0aW9uQ2xhc3NlcyYmKGQucHJlcGFyYXRpb25DbGFzc2VzPVooYy5wcmVwYXJhdGlvbkNsYXNzZXMsZC5wcmVwYXJhdGlvbkNsYXNzZXMpLGRlbGV0ZSBjLnByZXBhcmF0aW9uQ2xhc3Nlcyk7XG5mPWQuZG9tT3BlcmF0aW9uIT09UD9kLmRvbU9wZXJhdGlvbjpudWxsO3ZhKGQsYyk7ZiYmKGQuZG9tT3BlcmF0aW9uPWYpO2QuYWRkQ2xhc3M9YS5hZGRDbGFzcz9hLmFkZENsYXNzOm51bGw7ZC5yZW1vdmVDbGFzcz1hLnJlbW92ZUNsYXNzP2EucmVtb3ZlQ2xhc3M6bnVsbDtiLmFkZENsYXNzPWQuYWRkQ2xhc3M7Yi5yZW1vdmVDbGFzcz1kLnJlbW92ZUNsYXNzO3JldHVybiBkfWZ1bmN0aW9uIFNhKGEsYixjKXtmdW5jdGlvbiBkKGEpe0YoYSkmJihhPWEuc3BsaXQoXCIgXCIpKTt2YXIgYj17fTtzKGEsZnVuY3Rpb24oYSl7YS5sZW5ndGgmJihiW2FdPSEwKX0pO3JldHVybiBifXZhciBmPXt9O2E9ZChhKTtiPWQoYik7cyhiLGZ1bmN0aW9uKGEsYil7ZltiXT0xfSk7Yz1kKGMpO3MoYyxmdW5jdGlvbihhLGIpe2ZbYl09MT09PWZbYl0/bnVsbDotMX0pO3ZhciBlPXthZGRDbGFzczpcIlwiLHJlbW92ZUNsYXNzOlwiXCJ9O3MoZixmdW5jdGlvbihiLGMpe3ZhciBkLGY7MT09PWI/KGQ9XCJhZGRDbGFzc1wiLFxuZj0hYVtjXXx8YVtjK1wiLXJlbW92ZVwiXSk6LTE9PT1iJiYoZD1cInJlbW92ZUNsYXNzXCIsZj1hW2NdfHxhW2MrXCItYWRkXCJdKTtmJiYoZVtkXS5sZW5ndGgmJihlW2RdKz1cIiBcIiksZVtkXSs9Yyl9KTtyZXR1cm4gZX1mdW5jdGlvbiBRKGEpe3JldHVybiBhIGluc3RhbmNlb2YgRT9hWzBdOmF9ZnVuY3Rpb24gVGEoYSxiLGMpe3ZhciBkPVwiXCI7YiYmKGQ9WChiLFwibmctXCIsITApKTtjLmFkZENsYXNzJiYoZD1aKGQsWChjLmFkZENsYXNzLFwiLWFkZFwiKSkpO2MucmVtb3ZlQ2xhc3MmJihkPVooZCxYKGMucmVtb3ZlQ2xhc3MsXCItcmVtb3ZlXCIpKSk7ZC5sZW5ndGgmJihjLnByZXBhcmF0aW9uQ2xhc3Nlcz1kLGEuYWRkQ2xhc3MoZCkpfWZ1bmN0aW9uIG9hKGEsYil7dmFyIGM9Yj9cIi1cIitiK1wic1wiOlwiXCI7a2EoYSxbbGEsY10pO3JldHVybltsYSxjXX1mdW5jdGlvbiB3YShhLGIpe3ZhciBjPWI/XCJwYXVzZWRcIjpcIlwiLGQ9JCtcIlBsYXlTdGF0ZVwiO2thKGEsW2QsY10pO3JldHVybltkLGNdfWZ1bmN0aW9uIGthKGEsXG5iKXthLnN0eWxlW2JbMF1dPWJbMV19ZnVuY3Rpb24gWihhLGIpe3JldHVybiBhP2I/YStcIiBcIitiOmE6Yn1mdW5jdGlvbiBKYShhLGIsYyl7dmFyIGQ9T2JqZWN0LmNyZWF0ZShudWxsKSxmPWEuZ2V0Q29tcHV0ZWRTdHlsZShiKXx8e307cyhjLGZ1bmN0aW9uKGEsYil7dmFyIGM9ZlthXTtpZihjKXt2YXIgRz1jLmNoYXJBdCgwKTtpZihcIi1cIj09PUd8fFwiK1wiPT09R3x8MDw9RyljPVVhKGMpOzA9PT1jJiYoYz1udWxsKTtkW2JdPWN9fSk7cmV0dXJuIGR9ZnVuY3Rpb24gVWEoYSl7dmFyIGI9MDthPWEuc3BsaXQoL1xccyosXFxzKi8pO3MoYSxmdW5jdGlvbihhKXtcInNcIj09PWEuY2hhckF0KGEubGVuZ3RoLTEpJiYoYT1hLnN1YnN0cmluZygwLGEubGVuZ3RoLTEpKTthPXBhcnNlRmxvYXQoYSl8fDA7Yj1iP01hdGgubWF4KGEsYik6YX0pO3JldHVybiBifWZ1bmN0aW9uIHhhKGEpe3JldHVybiAwPT09YXx8bnVsbCE9YX1mdW5jdGlvbiBLYShhLGIpe3ZhciBjPVMsZD1hK1wic1wiO2I/Yys9XCJEdXJhdGlvblwiOlxuZCs9XCIgbGluZWFyIGFsbFwiO3JldHVybltjLGRdfWZ1bmN0aW9uIExhKCl7dmFyIGE9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm57Zmx1c2g6ZnVuY3Rpb24oKXthPU9iamVjdC5jcmVhdGUobnVsbCl9LGNvdW50OmZ1bmN0aW9uKGIpe3JldHVybihiPWFbYl0pP2IudG90YWw6MH0sZ2V0OmZ1bmN0aW9uKGIpe3JldHVybihiPWFbYl0pJiZiLnZhbHVlfSxwdXQ6ZnVuY3Rpb24oYixjKXthW2JdP2FbYl0udG90YWwrKzphW2JdPXt0b3RhbDoxLHZhbHVlOmN9fX19ZnVuY3Rpb24gTWEoYSxiLGMpe3MoYyxmdW5jdGlvbihjKXthW2NdPXlhKGFbY10pP2FbY106Yi5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKGMpfSl9dmFyIFMsemEsJCxBYTt2b2lkIDA9PT1SLm9udHJhbnNpdGlvbmVuZCYmdm9pZCAwIT09Ui5vbndlYmtpdHRyYW5zaXRpb25lbmQ/KFM9XCJXZWJraXRUcmFuc2l0aW9uXCIsemE9XCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmRcIik6KFM9XCJ0cmFuc2l0aW9uXCIsemE9XG5cInRyYW5zaXRpb25lbmRcIik7dm9pZCAwPT09Ui5vbmFuaW1hdGlvbmVuZCYmdm9pZCAwIT09Ui5vbndlYmtpdGFuaW1hdGlvbmVuZD8oJD1cIldlYmtpdEFuaW1hdGlvblwiLEFhPVwid2Via2l0QW5pbWF0aW9uRW5kIGFuaW1hdGlvbmVuZFwiKTooJD1cImFuaW1hdGlvblwiLEFhPVwiYW5pbWF0aW9uZW5kXCIpO3ZhciBwYT0kK1wiRGVsYXlcIixCYT0kK1wiRHVyYXRpb25cIixsYT1TK1wiRGVsYXlcIixOYT1TK1wiRHVyYXRpb25cIixPYT15LiQkbWluRXJyKFwibmdcIiksVmE9e3RyYW5zaXRpb25EdXJhdGlvbjpOYSx0cmFuc2l0aW9uRGVsYXk6bGEsdHJhbnNpdGlvblByb3BlcnR5OlMrXCJQcm9wZXJ0eVwiLGFuaW1hdGlvbkR1cmF0aW9uOkJhLGFuaW1hdGlvbkRlbGF5OnBhLGFuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiQrXCJJdGVyYXRpb25Db3VudFwifSxXYT17dHJhbnNpdGlvbkR1cmF0aW9uOk5hLHRyYW5zaXRpb25EZWxheTpsYSxhbmltYXRpb25EdXJhdGlvbjpCYSxhbmltYXRpb25EZWxheTpwYX0sQ2EsdmEsXG5zLFcseWEsZGEsRGEsYWEsRixOLEUsUDt5Lm1vZHVsZShcIm5nQW5pbWF0ZVwiLFtdLGZ1bmN0aW9uKCl7UD15Lm5vb3A7Q2E9eS5jb3B5O3ZhPXkuZXh0ZW5kO0U9eS5lbGVtZW50O3M9eS5mb3JFYWNoO1c9eS5pc0FycmF5O0Y9eS5pc1N0cmluZzthYT15LmlzT2JqZWN0O049eS5pc1VuZGVmaW5lZDt5YT15LmlzRGVmaW5lZDtEYT15LmlzRnVuY3Rpb247ZGE9eS5pc0VsZW1lbnR9KS5pbmZvKHthbmd1bGFyVmVyc2lvbjpcIjEuNi40XCJ9KS5kaXJlY3RpdmUoXCJuZ0FuaW1hdGVTd2FwXCIsW1wiJGFuaW1hdGVcIixcIiRyb290U2NvcGVcIixmdW5jdGlvbihhLGIpe3JldHVybntyZXN0cmljdDpcIkFcIix0cmFuc2NsdWRlOlwiZWxlbWVudFwiLHRlcm1pbmFsOiEwLHByaW9yaXR5OjYwMCxsaW5rOmZ1bmN0aW9uKGIsZCxmLGUscCl7dmFyIEssRztiLiR3YXRjaENvbGxlY3Rpb24oZi5uZ0FuaW1hdGVTd2FwfHxmW1wiZm9yXCJdLGZ1bmN0aW9uKGYpe0smJmEubGVhdmUoSyk7RyYmKEcuJGRlc3Ryb3koKSxHPVxubnVsbCk7aWYoZnx8MD09PWYpRz1iLiRuZXcoKSxwKEcsZnVuY3Rpb24oYil7Sz1iO2EuZW50ZXIoYixudWxsLGQpfSl9KX19fV0pLmRpcmVjdGl2ZShcIm5nQW5pbWF0ZUNoaWxkcmVuXCIsW1wiJGludGVycG9sYXRlXCIsZnVuY3Rpb24oYSl7cmV0dXJue2xpbms6ZnVuY3Rpb24oYixjLGQpe2Z1bmN0aW9uIGYoYSl7Yy5kYXRhKFwiJCRuZ0FuaW1hdGVDaGlsZHJlblwiLFwib25cIj09PWF8fFwidHJ1ZVwiPT09YSl9dmFyIGU9ZC5uZ0FuaW1hdGVDaGlsZHJlbjtGKGUpJiYwPT09ZS5sZW5ndGg/Yy5kYXRhKFwiJCRuZ0FuaW1hdGVDaGlsZHJlblwiLCEwKTooZihhKGUpKGIpKSxkLiRvYnNlcnZlKFwibmdBbmltYXRlQ2hpbGRyZW5cIixmKSl9fX1dKS5mYWN0b3J5KFwiJCRyQUZTY2hlZHVsZXJcIixbXCIkJHJBRlwiLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7ZD1kLmNvbmNhdChhKTtjKCl9ZnVuY3Rpb24gYygpe2lmKGQubGVuZ3RoKXtmb3IodmFyIGI9ZC5zaGlmdCgpLHA9MDtwPGIubGVuZ3RoO3ArKyliW3BdKCk7XG5mfHxhKGZ1bmN0aW9uKCl7Znx8YygpfSl9fXZhciBkLGY7ZD1iLnF1ZXVlPVtdO2Iud2FpdFVudGlsUXVpZXQ9ZnVuY3Rpb24oYil7ZiYmZigpO2Y9YShmdW5jdGlvbigpe2Y9bnVsbDtiKCk7YygpfSl9O3JldHVybiBifV0pLnByb3ZpZGVyKFwiJCRhbmltYXRlUXVldWVcIixbXCIkYW5pbWF0ZVByb3ZpZGVyXCIsZnVuY3Rpb24oYSl7ZnVuY3Rpb24gYihhKXtpZighYSlyZXR1cm4gbnVsbDthPWEuc3BsaXQoXCIgXCIpO3ZhciBiPU9iamVjdC5jcmVhdGUobnVsbCk7cyhhLGZ1bmN0aW9uKGEpe2JbYV09ITB9KTtyZXR1cm4gYn1mdW5jdGlvbiBjKGEsYyl7aWYoYSYmYyl7dmFyIGQ9YihjKTtyZXR1cm4gYS5zcGxpdChcIiBcIikuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gZFthXX0pfX1mdW5jdGlvbiBkKGEsYixjKXtyZXR1cm4gZVthXS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhKGIsYyl9KX1mdW5jdGlvbiBmKGEsYil7dmFyIGM9MDwoYS5hZGRDbGFzc3x8XCJcIikubGVuZ3RoLGQ9MDwoYS5yZW1vdmVDbGFzc3x8XG5cIlwiKS5sZW5ndGg7cmV0dXJuIGI/YyYmZDpjfHxkfXZhciBlPXRoaXMucnVsZXM9e3NraXA6W10sY2FuY2VsOltdLGpvaW46W119O2Uuam9pbi5wdXNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuc3RydWN0dXJhbCYmZihhKX0pO2Uuc2tpcC5wdXNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuc3RydWN0dXJhbCYmIWYoYSl9KTtlLnNraXAucHVzaChmdW5jdGlvbihhLGIpe3JldHVyblwibGVhdmVcIj09PWIuZXZlbnQmJmEuc3RydWN0dXJhbH0pO2Uuc2tpcC5wdXNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc3RydWN0dXJhbCYmMj09PWIuc3RhdGUmJiFhLnN0cnVjdHVyYWx9KTtlLmNhbmNlbC5wdXNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIuc3RydWN0dXJhbCYmYS5zdHJ1Y3R1cmFsfSk7ZS5jYW5jZWwucHVzaChmdW5jdGlvbihhLGIpe3JldHVybiAyPT09Yi5zdGF0ZSYmYS5zdHJ1Y3R1cmFsfSk7ZS5jYW5jZWwucHVzaChmdW5jdGlvbihhLGIpe2lmKGIuc3RydWN0dXJhbClyZXR1cm4hMTtcbnZhciBkPWEuYWRkQ2xhc3MsZj1hLnJlbW92ZUNsYXNzLGU9Yi5hZGRDbGFzcyxxYT1iLnJlbW92ZUNsYXNzO3JldHVybiBOKGQpJiZOKGYpfHxOKGUpJiZOKHFhKT8hMTpjKGQscWEpfHxjKGYsZSl9KTt0aGlzLiRnZXQ9W1wiJCRyQUZcIixcIiRyb290U2NvcGVcIixcIiRyb290RWxlbWVudFwiLFwiJGRvY3VtZW50XCIsXCIkJE1hcFwiLFwiJCRhbmltYXRpb25cIixcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJHRlbXBsYXRlUmVxdWVzdFwiLFwiJCRqcUxpdGVcIixcIiQkZm9yY2VSZWZsb3dcIixcIiQkaXNEb2N1bWVudEhpZGRlblwiLGZ1bmN0aW9uKGIsYyxlLG4seixxYSxKLHUsSCxrLE8pe2Z1bmN0aW9uIEwoKXt2YXIgYT0hMTtyZXR1cm4gZnVuY3Rpb24oYil7YT9iKCk6Yy4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKXthPSEwO2IoKX0pfX1mdW5jdGlvbiBBKGEsYixjKXt2YXIgZz1bXSxkPWhbY107ZCYmcyhkLGZ1bmN0aW9uKGQpe3cuY2FsbChkLm5vZGUsYik/Zy5wdXNoKGQuY2FsbGJhY2spOlwibGVhdmVcIj09PWMmJlxudy5jYWxsKGQubm9kZSxhKSYmZy5wdXNoKGQuY2FsbGJhY2spfSk7cmV0dXJuIGd9ZnVuY3Rpb24gQihhLGIsYyl7dmFyIGc9dWEoYik7cmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEoYS5ub2RlPT09ZyYmKCFjfHxhLmNhbGxiYWNrPT09YykpfSl9ZnVuY3Rpb24gcShhLGgsdil7ZnVuY3Rpb24gcShhLGMsZyxkKXtHKGZ1bmN0aW9uKCl7dmFyIGE9QSh0YSxrLGMpO2EubGVuZ3RoP2IoZnVuY3Rpb24oKXtzKGEsZnVuY3Rpb24oYSl7YShlLGcsZCl9KTtcImNsb3NlXCIhPT1nfHxrLnBhcmVudE5vZGV8fHJhLm9mZihrKX0pOlwiY2xvc2VcIiE9PWd8fGsucGFyZW50Tm9kZXx8cmEub2ZmKGspfSk7YS5wcm9ncmVzcyhjLGcsZCl9ZnVuY3Rpb24gQihhKXt2YXIgYj1lLGM9bTtjLnByZXBhcmF0aW9uQ2xhc3NlcyYmKGIucmVtb3ZlQ2xhc3MoYy5wcmVwYXJhdGlvbkNsYXNzZXMpLGMucHJlcGFyYXRpb25DbGFzc2VzPW51bGwpO2MuYWN0aXZlQ2xhc3NlcyYmKGIucmVtb3ZlQ2xhc3MoYy5hY3RpdmVDbGFzc2VzKSxcbmMuYWN0aXZlQ2xhc3Nlcz1udWxsKTtEKGUsbSk7aGEoZSxtKTttLmRvbU9wZXJhdGlvbigpO3QuY29tcGxldGUoIWEpfXZhciBtPUNhKHYpLGU9R2EoYSksaz1RKGUpLHRhPWsmJmsucGFyZW50Tm9kZSxtPW5hKG0pLHQ9bmV3IEosRz1MKCk7VyhtLmFkZENsYXNzKSYmKG0uYWRkQ2xhc3M9bS5hZGRDbGFzcy5qb2luKFwiIFwiKSk7bS5hZGRDbGFzcyYmIUYobS5hZGRDbGFzcykmJihtLmFkZENsYXNzPW51bGwpO1cobS5yZW1vdmVDbGFzcykmJihtLnJlbW92ZUNsYXNzPW0ucmVtb3ZlQ2xhc3Muam9pbihcIiBcIikpO20ucmVtb3ZlQ2xhc3MmJiFGKG0ucmVtb3ZlQ2xhc3MpJiYobS5yZW1vdmVDbGFzcz1udWxsKTttLmZyb20mJiFhYShtLmZyb20pJiYobS5mcm9tPW51bGwpO20udG8mJiFhYShtLnRvKSYmKG0udG89bnVsbCk7aWYoIWspcmV0dXJuIEIoKSx0O3Y9W2suZ2V0QXR0cmlidXRlKFwiY2xhc3NcIiksbS5hZGRDbGFzcyxtLnJlbW92ZUNsYXNzXS5qb2luKFwiIFwiKTtpZighWGEodikpcmV0dXJuIEIoKSxcbnQ7dmFyIG49MDw9W1wiZW50ZXJcIixcIm1vdmVcIixcImxlYXZlXCJdLmluZGV4T2YoaCksdz1PKCksdT0hZ3x8d3x8Z2EuZ2V0KGspO3Y9IXUmJnguZ2V0KGspfHx7fTt2YXIgSD0hIXYuc3RhdGU7dXx8SCYmMT09PXYuc3RhdGV8fCh1PSFNKGssdGEsaCkpO2lmKHUpcmV0dXJuIHcmJnEodCxoLFwic3RhcnRcIiksQigpLHcmJnEodCxoLFwiY2xvc2VcIiksdDtuJiZzYShrKTt3PXtzdHJ1Y3R1cmFsOm4sZWxlbWVudDplLGV2ZW50OmgsYWRkQ2xhc3M6bS5hZGRDbGFzcyxyZW1vdmVDbGFzczptLnJlbW92ZUNsYXNzLGNsb3NlOkIsb3B0aW9uczptLHJ1bm5lcjp0fTtpZihIKXtpZihkKFwic2tpcFwiLHcsdikpe2lmKDI9PT12LnN0YXRlKXJldHVybiBCKCksdDtVKGUsdix3KTtyZXR1cm4gdi5ydW5uZXJ9aWYoZChcImNhbmNlbFwiLHcsdikpaWYoMj09PXYuc3RhdGUpdi5ydW5uZXIuZW5kKCk7ZWxzZSBpZih2LnN0cnVjdHVyYWwpdi5jbG9zZSgpO2Vsc2UgcmV0dXJuIFUoZSx2LHcpLHYucnVubmVyO2Vsc2UgaWYoZChcImpvaW5cIixcbncsdikpaWYoMj09PXYuc3RhdGUpVShlLHcse30pO2Vsc2UgcmV0dXJuIFRhKGUsbj9oOm51bGwsbSksaD13LmV2ZW50PXYuZXZlbnQsbT1VKGUsdix3KSx2LnJ1bm5lcn1lbHNlIFUoZSx3LHt9KTsoSD13LnN0cnVjdHVyYWwpfHwoSD1cImFuaW1hdGVcIj09PXcuZXZlbnQmJjA8T2JqZWN0LmtleXMody5vcHRpb25zLnRvfHx7fSkubGVuZ3RofHxmKHcpKTtpZighSClyZXR1cm4gQigpLGwoayksdDt2YXIgej0odi5jb3VudGVyfHwwKSsxO3cuY291bnRlcj16O0koaywxLHcpO2MuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7ZT1HYShhKTt2YXIgYj14LmdldChrKSxjPSFiLGI9Ynx8e30sZz0wPChlLnBhcmVudCgpfHxbXSkubGVuZ3RoJiYoXCJhbmltYXRlXCI9PT1iLmV2ZW50fHxiLnN0cnVjdHVyYWx8fGYoYikpO2lmKGN8fGIuY291bnRlciE9PXp8fCFnKXtjJiYoRChlLG0pLGhhKGUsbSkpO2lmKGN8fG4mJmIuZXZlbnQhPT1oKW0uZG9tT3BlcmF0aW9uKCksdC5lbmQoKTtnfHxsKGspfWVsc2UgaD1cbiFiLnN0cnVjdHVyYWwmJmYoYiwhMCk/XCJzZXRDbGFzc1wiOmIuZXZlbnQsSShrLDIpLGI9cWEoZSxoLGIub3B0aW9ucyksdC5zZXRIb3N0KGIpLHEodCxoLFwic3RhcnRcIix7fSksYi5kb25lKGZ1bmN0aW9uKGEpe0IoIWEpOyhhPXguZ2V0KGspKSYmYS5jb3VudGVyPT09eiYmbChrKTtxKHQsaCxcImNsb3NlXCIse30pfSl9KTtyZXR1cm4gdH1mdW5jdGlvbiBzYShhKXthPWEucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW5nLWFuaW1hdGVdXCIpO3MoYSxmdW5jdGlvbihhKXt2YXIgYj1wYXJzZUludChhLmdldEF0dHJpYnV0ZShcImRhdGEtbmctYW5pbWF0ZVwiKSwxMCksYz14LmdldChhKTtpZihjKXN3aXRjaChiKXtjYXNlIDI6Yy5ydW5uZXIuZW5kKCk7Y2FzZSAxOnguZGVsZXRlKGEpfX0pfWZ1bmN0aW9uIGwoYSl7YS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLW5nLWFuaW1hdGVcIik7eC5kZWxldGUoYSl9ZnVuY3Rpb24gTShhLGIsYyl7Yz1uWzBdLmJvZHk7dmFyIGc9UShlKSxkPWE9PT1jfHxcIkhUTUxcIj09PVxuYS5ub2RlTmFtZSxoPWE9PT1nLGY9ITEsaz1nYS5nZXQoYSksQTtmb3IoKGE9RS5kYXRhKGEsXCIkbmdBbmltYXRlUGluXCIpKSYmKGI9UShhKSk7Yjspe2h8fChoPWI9PT1nKTtpZigxIT09Yi5ub2RlVHlwZSlicmVhazthPXguZ2V0KGIpfHx7fTtpZighZil7dmFyIHE9Z2EuZ2V0KGIpO2lmKCEwPT09cSYmITEhPT1rKXtrPSEwO2JyZWFrfWVsc2UhMT09PXEmJihrPSExKTtmPWEuc3RydWN0dXJhbH1pZihOKEEpfHwhMD09PUEpYT1FLmRhdGEoYixcIiQkbmdBbmltYXRlQ2hpbGRyZW5cIikseWEoYSkmJihBPWEpO2lmKGYmJiExPT09QSlicmVhaztkfHwoZD1iPT09Yyk7aWYoZCYmaClicmVhaztpZighaCYmKGE9RS5kYXRhKGIsXCIkbmdBbmltYXRlUGluXCIpKSl7Yj1RKGEpO2NvbnRpbnVlfWI9Yi5wYXJlbnROb2RlfXJldHVybighZnx8QSkmJiEwIT09ayYmaCYmZH1mdW5jdGlvbiBJKGEsYixjKXtjPWN8fHt9O2Muc3RhdGU9YjthLnNldEF0dHJpYnV0ZShcImRhdGEtbmctYW5pbWF0ZVwiLGIpO1xuYz0oYj14LmdldChhKSk/dmEoYixjKTpjO3guc2V0KGEsYyl9dmFyIHg9bmV3IHosZ2E9bmV3IHosZz1udWxsLHRhPWMuJHdhdGNoKGZ1bmN0aW9uKCl7cmV0dXJuIDA9PT11LnRvdGFsUGVuZGluZ1JlcXVlc3RzfSxmdW5jdGlvbihhKXthJiYodGEoKSxjLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe2MuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCl7bnVsbD09PWcmJihnPSEwKX0pfSkpfSksaD1PYmplY3QuY3JlYXRlKG51bGwpLHQ9YS5jbGFzc05hbWVGaWx0ZXIoKSxYYT10P2Z1bmN0aW9uKGEpe3JldHVybiB0LnRlc3QoYSl9OmZ1bmN0aW9uKCl7cmV0dXJuITB9LEQ9WShIKSx3PVIuTm9kZS5wcm90b3R5cGUuY29udGFpbnN8fGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzPT09YXx8ISEodGhpcy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihhKSYxNil9LHJhPXtvbjpmdW5jdGlvbihhLGIsYyl7dmFyIGc9dWEoYik7aFthXT1oW2FdfHxbXTtoW2FdLnB1c2goe25vZGU6ZyxjYWxsYmFjazpjfSk7XG5FKGIpLm9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe3guZ2V0KGcpfHxyYS5vZmYoYSxiLGMpfSl9LG9mZjpmdW5jdGlvbihhLGIsYyl7aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGh8fEYoYXJndW1lbnRzWzBdKSl7dmFyIGc9aFthXTtnJiYoaFthXT0xPT09YXJndW1lbnRzLmxlbmd0aD9udWxsOkIoZyxiLGMpKX1lbHNlIGZvcihnIGluIGI9YXJndW1lbnRzWzBdLGgpaFtnXT1CKGhbZ10sYil9LHBpbjpmdW5jdGlvbihhLGIpe0VhKGRhKGEpLFwiZWxlbWVudFwiLFwibm90IGFuIGVsZW1lbnRcIik7RWEoZGEoYiksXCJwYXJlbnRFbGVtZW50XCIsXCJub3QgYW4gZWxlbWVudFwiKTthLmRhdGEoXCIkbmdBbmltYXRlUGluXCIsYil9LHB1c2g6ZnVuY3Rpb24oYSxiLGMsZyl7Yz1jfHx7fTtjLmRvbU9wZXJhdGlvbj1nO3JldHVybiBxKGEsYixjKX0sZW5hYmxlZDpmdW5jdGlvbihhLGIpe3ZhciBjPWFyZ3VtZW50cy5sZW5ndGg7aWYoMD09PWMpYj0hIWc7ZWxzZSBpZihkYShhKSl7dmFyIGQ9UShhKTsxPT09XG5jP2I9IWdhLmdldChkKTpnYS5zZXQoZCwhYil9ZWxzZSBiPWc9ISFhO3JldHVybiBifX07cmV0dXJuIHJhfV19XSkucHJvdmlkZXIoXCIkJGFuaW1hdGlvblwiLFtcIiRhbmltYXRlUHJvdmlkZXJcIixmdW5jdGlvbihhKXt2YXIgYj10aGlzLmRyaXZlcnM9W107dGhpcy4kZ2V0PVtcIiQkanFMaXRlXCIsXCIkcm9vdFNjb3BlXCIsXCIkaW5qZWN0b3JcIixcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJCRNYXBcIixcIiQkckFGU2NoZWR1bGVyXCIsZnVuY3Rpb24oYSxkLGYsZSxwLEspe2Z1bmN0aW9uIEcoYSl7ZnVuY3Rpb24gYihhKXtpZihhLnByb2Nlc3NlZClyZXR1cm4gYTthLnByb2Nlc3NlZD0hMDt2YXIgZD1hLmRvbU5vZGUsZT1kLnBhcmVudE5vZGU7Zi5zZXQoZCxhKTtmb3IodmFyIHE7ZTspe2lmKHE9Zi5nZXQoZSkpe3EucHJvY2Vzc2VkfHwocT1iKHEpKTticmVha31lPWUucGFyZW50Tm9kZX0ocXx8YykuY2hpbGRyZW4ucHVzaChhKTtyZXR1cm4gYX12YXIgYz17Y2hpbGRyZW46W119LGQsZj1uZXcgcDtmb3IoZD1cbjA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWFbZF07Zi5zZXQoZS5kb21Ob2RlLGFbZF09e2RvbU5vZGU6ZS5kb21Ob2RlLGZuOmUuZm4sY2hpbGRyZW46W119KX1mb3IoZD0wO2Q8YS5sZW5ndGg7ZCsrKWIoYVtkXSk7cmV0dXJuIGZ1bmN0aW9uKGEpe3ZhciBiPVtdLGM9W10sZDtmb3IoZD0wO2Q8YS5jaGlsZHJlbi5sZW5ndGg7ZCsrKWMucHVzaChhLmNoaWxkcmVuW2RdKTthPWMubGVuZ3RoO3ZhciBmPTAsZT1bXTtmb3IoZD0wO2Q8Yy5sZW5ndGg7ZCsrKXt2YXIgaz1jW2RdOzA+PWEmJihhPWYsZj0wLGIucHVzaChlKSxlPVtdKTtlLnB1c2goay5mbik7ay5jaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2YrKztjLnB1c2goYSl9KTthLS19ZS5sZW5ndGgmJmIucHVzaChlKTtyZXR1cm4gYn0oYyl9dmFyIG49W10sej1ZKGEpO3JldHVybiBmdW5jdGlvbihwLEosdSl7ZnVuY3Rpb24gSChhKXthPWEuaGFzQXR0cmlidXRlKFwibmctYW5pbWF0ZS1yZWZcIik/W2FdOmEucXVlcnlTZWxlY3RvckFsbChcIltuZy1hbmltYXRlLXJlZl1cIik7XG52YXIgYj1bXTtzKGEsZnVuY3Rpb24oYSl7dmFyIGM9YS5nZXRBdHRyaWJ1dGUoXCJuZy1hbmltYXRlLXJlZlwiKTtjJiZjLmxlbmd0aCYmYi5wdXNoKGEpfSk7cmV0dXJuIGJ9ZnVuY3Rpb24gayhhKXt2YXIgYj1bXSxjPXt9O3MoYSxmdW5jdGlvbihhLGQpe3ZhciBoPVEoYS5lbGVtZW50KSxmPTA8PVtcImVudGVyXCIsXCJtb3ZlXCJdLmluZGV4T2YoYS5ldmVudCksaD1hLnN0cnVjdHVyYWw/SChoKTpbXTtpZihoLmxlbmd0aCl7dmFyIGU9Zj9cInRvXCI6XCJmcm9tXCI7cyhoLGZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKFwibmctYW5pbWF0ZS1yZWZcIik7Y1tiXT1jW2JdfHx7fTtjW2JdW2VdPXthbmltYXRpb25JRDpkLGVsZW1lbnQ6RShhKX19KX1lbHNlIGIucHVzaChhKX0pO3ZhciBkPXt9LGY9e307cyhjLGZ1bmN0aW9uKGMsZSl7dmFyIGs9Yy5mcm9tLEE9Yy50bztpZihrJiZBKXt2YXIgcT1hW2suYW5pbWF0aW9uSURdLHg9YVtBLmFuaW1hdGlvbklEXSxsPWsuYW5pbWF0aW9uSUQudG9TdHJpbmcoKTtcbmlmKCFmW2xdKXt2YXIgQj1mW2xdPXtzdHJ1Y3R1cmFsOiEwLGJlZm9yZVN0YXJ0OmZ1bmN0aW9uKCl7cS5iZWZvcmVTdGFydCgpO3guYmVmb3JlU3RhcnQoKX0sY2xvc2U6ZnVuY3Rpb24oKXtxLmNsb3NlKCk7eC5jbG9zZSgpfSxjbGFzc2VzOk8ocS5jbGFzc2VzLHguY2xhc3NlcyksZnJvbTpxLHRvOngsYW5jaG9yczpbXX07Qi5jbGFzc2VzLmxlbmd0aD9iLnB1c2goQik6KGIucHVzaChxKSxiLnB1c2goeCkpfWZbbF0uYW5jaG9ycy5wdXNoKHtvdXQ6ay5lbGVtZW50LFwiaW5cIjpBLmVsZW1lbnR9KX1lbHNlIGs9az9rLmFuaW1hdGlvbklEOkEuYW5pbWF0aW9uSUQsQT1rLnRvU3RyaW5nKCksZFtBXXx8KGRbQV09ITAsYi5wdXNoKGFba10pKX0pO3JldHVybiBifWZ1bmN0aW9uIE8oYSxiKXthPWEuc3BsaXQoXCIgXCIpO2I9Yi5zcGxpdChcIiBcIik7Zm9yKHZhciBjPVtdLGQ9MDtkPGEubGVuZ3RoO2QrKyl7dmFyIGY9YVtkXTtpZihcIm5nLVwiIT09Zi5zdWJzdHJpbmcoMCwzKSlmb3IodmFyIGU9XG4wO2U8Yi5sZW5ndGg7ZSsrKWlmKGY9PT1iW2VdKXtjLnB1c2goZik7YnJlYWt9fXJldHVybiBjLmpvaW4oXCIgXCIpfWZ1bmN0aW9uIEwoYSl7Zm9yKHZhciBjPWIubGVuZ3RoLTE7MDw9YztjLS0pe3ZhciBkPWYuZ2V0KGJbY10pKGEpO2lmKGQpcmV0dXJuIGR9fWZ1bmN0aW9uIEEoYSxiKXtmdW5jdGlvbiBjKGEpeyhhPWEuZGF0YShcIiQkYW5pbWF0aW9uUnVubmVyXCIpKSYmYS5zZXRIb3N0KGIpfWEuZnJvbSYmYS50bz8oYyhhLmZyb20uZWxlbWVudCksYyhhLnRvLmVsZW1lbnQpKTpjKGEuZWxlbWVudCl9ZnVuY3Rpb24gQigpe3ZhciBhPXAuZGF0YShcIiQkYW5pbWF0aW9uUnVubmVyXCIpOyFhfHxcImxlYXZlXCI9PT1KJiZ1LiQkZG9tT3BlcmF0aW9uRmlyZWR8fGEuZW5kKCl9ZnVuY3Rpb24gcShiKXtwLm9mZihcIiRkZXN0cm95XCIsQik7cC5yZW1vdmVEYXRhKFwiJCRhbmltYXRpb25SdW5uZXJcIik7eihwLHUpO2hhKHAsdSk7dS5kb21PcGVyYXRpb24oKTtJJiZhLnJlbW92ZUNsYXNzKHAsSSk7XG5wLnJlbW92ZUNsYXNzKFwibmctYW5pbWF0ZVwiKTtsLmNvbXBsZXRlKCFiKX11PW5hKHUpO3ZhciBzYT0wPD1bXCJlbnRlclwiLFwibW92ZVwiLFwibGVhdmVcIl0uaW5kZXhPZihKKSxsPW5ldyBlKHtlbmQ6ZnVuY3Rpb24oKXtxKCl9LGNhbmNlbDpmdW5jdGlvbigpe3EoITApfX0pO2lmKCFiLmxlbmd0aClyZXR1cm4gcSgpLGw7cC5kYXRhKFwiJCRhbmltYXRpb25SdW5uZXJcIixsKTt2YXIgTT1GYShwLmF0dHIoXCJjbGFzc1wiKSxGYSh1LmFkZENsYXNzLHUucmVtb3ZlQ2xhc3MpKSxJPXUudGVtcENsYXNzZXM7SSYmKE0rPVwiIFwiK0ksdS50ZW1wQ2xhc3Nlcz1udWxsKTt2YXIgeDtzYSYmKHg9XCJuZy1cIitKK1wiLXByZXBhcmVcIixhLmFkZENsYXNzKHAseCkpO24ucHVzaCh7ZWxlbWVudDpwLGNsYXNzZXM6TSxldmVudDpKLHN0cnVjdHVyYWw6c2Esb3B0aW9uczp1LGJlZm9yZVN0YXJ0OmZ1bmN0aW9uKCl7cC5hZGRDbGFzcyhcIm5nLWFuaW1hdGVcIik7SSYmYS5hZGRDbGFzcyhwLEkpO3gmJihhLnJlbW92ZUNsYXNzKHAsXG54KSx4PW51bGwpfSxjbG9zZTpxfSk7cC5vbihcIiRkZXN0cm95XCIsQik7aWYoMTxuLmxlbmd0aClyZXR1cm4gbDtkLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpe3ZhciBhPVtdO3MobixmdW5jdGlvbihiKXtiLmVsZW1lbnQuZGF0YShcIiQkYW5pbWF0aW9uUnVubmVyXCIpP2EucHVzaChiKTpiLmNsb3NlKCl9KTtuLmxlbmd0aD0wO3ZhciBiPWsoYSksYz1bXTtzKGIsZnVuY3Rpb24oYSl7Yy5wdXNoKHtkb21Ob2RlOlEoYS5mcm9tP2EuZnJvbS5lbGVtZW50OmEuZWxlbWVudCksZm46ZnVuY3Rpb24oKXthLmJlZm9yZVN0YXJ0KCk7dmFyIGIsYz1hLmNsb3NlO2lmKChhLmFuY2hvcnM/YS5mcm9tLmVsZW1lbnR8fGEudG8uZWxlbWVudDphLmVsZW1lbnQpLmRhdGEoXCIkJGFuaW1hdGlvblJ1bm5lclwiKSl7dmFyIGQ9TChhKTtkJiYoYj1kLnN0YXJ0KX1iPyhiPWIoKSxiLmRvbmUoZnVuY3Rpb24oYSl7YyghYSl9KSxBKGEsYikpOmMoKX19KX0pO0soRyhjKSl9KTtyZXR1cm4gbH19XX1dKS5wcm92aWRlcihcIiRhbmltYXRlQ3NzXCIsXG5bXCIkYW5pbWF0ZVByb3ZpZGVyXCIsZnVuY3Rpb24oYSl7dmFyIGI9TGEoKSxjPUxhKCk7dGhpcy4kZ2V0PVtcIiR3aW5kb3dcIixcIiQkanFMaXRlXCIsXCIkJEFuaW1hdGVSdW5uZXJcIixcIiR0aW1lb3V0XCIsXCIkJGZvcmNlUmVmbG93XCIsXCIkc25pZmZlclwiLFwiJCRyQUZTY2hlZHVsZXJcIixcIiQkYW5pbWF0ZVF1ZXVlXCIsZnVuY3Rpb24oYSxmLGUscCxLLEcsbix6KXtmdW5jdGlvbiB5KGEsYil7dmFyIGM9YS5wYXJlbnROb2RlO3JldHVybihjLiQkbmdBbmltYXRlUGFyZW50S2V5fHwoYy4kJG5nQW5pbWF0ZVBhcmVudEtleT0rK08pKStcIi1cIithLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpK1wiLVwiK2J9ZnVuY3Rpb24gSihlLGsscSxwKXt2YXIgbDswPGIuY291bnQocSkmJihsPWMuZ2V0KHEpLGx8fChrPVgoayxcIi1zdGFnZ2VyXCIpLGYuYWRkQ2xhc3MoZSxrKSxsPUphKGEsZSxwKSxsLmFuaW1hdGlvbkR1cmF0aW9uPU1hdGgubWF4KGwuYW5pbWF0aW9uRHVyYXRpb24sMCksbC50cmFuc2l0aW9uRHVyYXRpb249XG5NYXRoLm1heChsLnRyYW5zaXRpb25EdXJhdGlvbiwwKSxmLnJlbW92ZUNsYXNzKGUsayksYy5wdXQocSxsKSkpO3JldHVybiBsfHx7fX1mdW5jdGlvbiB1KGEpe0wucHVzaChhKTtuLndhaXRVbnRpbFF1aWV0KGZ1bmN0aW9uKCl7Yi5mbHVzaCgpO2MuZmx1c2goKTtmb3IodmFyIGE9SygpLGQ9MDtkPEwubGVuZ3RoO2QrKylMW2RdKGEpO0wubGVuZ3RoPTB9KX1mdW5jdGlvbiBIKGMsZixlKXtmPWIuZ2V0KGUpO2Z8fChmPUphKGEsYyxWYSksXCJpbmZpbml0ZVwiPT09Zi5hbmltYXRpb25JdGVyYXRpb25Db3VudCYmKGYuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQ9MSkpO2IucHV0KGUsZik7Yz1mO2U9Yy5hbmltYXRpb25EZWxheTtmPWMudHJhbnNpdGlvbkRlbGF5O2MubWF4RGVsYXk9ZSYmZj9NYXRoLm1heChlLGYpOmV8fGY7Yy5tYXhEdXJhdGlvbj1NYXRoLm1heChjLmFuaW1hdGlvbkR1cmF0aW9uKmMuYW5pbWF0aW9uSXRlcmF0aW9uQ291bnQsYy50cmFuc2l0aW9uRHVyYXRpb24pO1xucmV0dXJuIGN9dmFyIGs9WShmKSxPPTAsTD1bXTtyZXR1cm4gZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBkKCl7bCgpfWZ1bmN0aW9uIG4oKXtsKCEwKX1mdW5jdGlvbiBsKGIpe2lmKCEod3x8RSYmTykpe3c9ITA7Tz0hMTtnLiQkc2tpcFByZXBhcmF0aW9uQ2xhc3Nlc3x8Zi5yZW1vdmVDbGFzcyhhLGZhKTtmLnJlbW92ZUNsYXNzKGEsZGEpO3dhKGgsITEpO29hKGgsITEpO3ModCxmdW5jdGlvbihhKXtoLnN0eWxlW2FbMF1dPVwiXCJ9KTtrKGEsZyk7aGEoYSxnKTtPYmplY3Qua2V5cyhMKS5sZW5ndGgmJnMoTCxmdW5jdGlvbihhLGIpe2E/aC5zdHlsZS5zZXRQcm9wZXJ0eShiLGEpOmguc3R5bGUucmVtb3ZlUHJvcGVydHkoYil9KTtpZihnLm9uRG9uZSlnLm9uRG9uZSgpO2VhJiZlYS5sZW5ndGgmJmEub2ZmKGVhLmpvaW4oXCIgXCIpLHgpO3ZhciBjPWEuZGF0YShcIiQkYW5pbWF0ZUNzc1wiKTtjJiYocC5jYW5jZWwoY1swXS50aW1lciksYS5yZW1vdmVEYXRhKFwiJCRhbmltYXRlQ3NzXCIpKTtcbkYmJkYuY29tcGxldGUoIWIpfX1mdW5jdGlvbiBNKGEpe3IuYmxvY2tUcmFuc2l0aW9uJiZvYShoLGEpO3IuYmxvY2tLZXlmcmFtZUFuaW1hdGlvbiYmd2EoaCwhIWEpfWZ1bmN0aW9uIEkoKXtGPW5ldyBlKHtlbmQ6ZCxjYW5jZWw6bn0pO3UoUCk7bCgpO3JldHVybnskJHdpbGxBbmltYXRlOiExLHN0YXJ0OmZ1bmN0aW9uKCl7cmV0dXJuIEZ9LGVuZDpkfX1mdW5jdGlvbiB4KGEpe2Euc3RvcFByb3BhZ2F0aW9uKCk7dmFyIGI9YS5vcmlnaW5hbEV2ZW50fHxhO2E9Yi4kbWFudWFsVGltZVN0YW1wfHxEYXRlLm5vdygpO2I9cGFyc2VGbG9hdChiLmVsYXBzZWRUaW1lLnRvRml4ZWQoMykpO01hdGgubWF4KGEtWSwwKT49UiYmYj49bSYmKEU9ITAsbCgpKX1mdW5jdGlvbiBnYSgpe2Z1bmN0aW9uIGIoKXtpZighdyl7TSghMSk7cyh0LGZ1bmN0aW9uKGEpe2guc3R5bGVbYVswXV09YVsxXX0pO2soYSxnKTtmLmFkZENsYXNzKGEsZGEpO2lmKHIucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXMpe21hPVxuaC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKStcIiBcIitmYTtqYT15KGgsbWEpO0M9SChoLG1hLGphKTtiYT1DLm1heERlbGF5O049TWF0aC5tYXgoYmEsMCk7bT1DLm1heER1cmF0aW9uO2lmKDA9PT1tKXtsKCk7cmV0dXJufXIuaGFzVHJhbnNpdGlvbnM9MDxDLnRyYW5zaXRpb25EdXJhdGlvbjtyLmhhc0FuaW1hdGlvbnM9MDxDLmFuaW1hdGlvbkR1cmF0aW9ufXIuYXBwbHlBbmltYXRpb25EZWxheSYmKGJhPVwiYm9vbGVhblwiIT09dHlwZW9mIGcuZGVsYXkmJnhhKGcuZGVsYXkpP3BhcnNlRmxvYXQoZy5kZWxheSk6YmEsTj1NYXRoLm1heChiYSwwKSxDLmFuaW1hdGlvbkRlbGF5PWJhLGNhPVtwYSxiYStcInNcIl0sdC5wdXNoKGNhKSxoLnN0eWxlW2NhWzBdXT1jYVsxXSk7Uj0xRTMqTjtVPTFFMyptO2lmKGcuZWFzaW5nKXt2YXIgZCxlPWcuZWFzaW5nO3IuaGFzVHJhbnNpdGlvbnMmJihkPVMrXCJUaW1pbmdGdW5jdGlvblwiLHQucHVzaChbZCxlXSksaC5zdHlsZVtkXT1lKTtyLmhhc0FuaW1hdGlvbnMmJlxuKGQ9JCtcIlRpbWluZ0Z1bmN0aW9uXCIsdC5wdXNoKFtkLGVdKSxoLnN0eWxlW2RdPWUpfUMudHJhbnNpdGlvbkR1cmF0aW9uJiZlYS5wdXNoKHphKTtDLmFuaW1hdGlvbkR1cmF0aW9uJiZlYS5wdXNoKEFhKTtZPURhdGUubm93KCk7dmFyIG49UisxLjUqVTtkPVkrbjt2YXIgZT1hLmRhdGEoXCIkJGFuaW1hdGVDc3NcIil8fFtdLHE9ITA7aWYoZS5sZW5ndGgpe3ZhciBJPWVbMF07KHE9ZD5JLmV4cGVjdGVkRW5kVGltZSk/cC5jYW5jZWwoSS50aW1lcik6ZS5wdXNoKGwpfXEmJihuPXAoYyxuLCExKSxlWzBdPXt0aW1lcjpuLGV4cGVjdGVkRW5kVGltZTpkfSxlLnB1c2gobCksYS5kYXRhKFwiJCRhbmltYXRlQ3NzXCIsZSkpO2lmKGVhLmxlbmd0aClhLm9uKGVhLmpvaW4oXCIgXCIpLHgpO2cudG8mJihnLmNsZWFudXBTdHlsZXMmJk1hKEwsaCxPYmplY3Qua2V5cyhnLnRvKSksSWEoYSxnKSl9fWZ1bmN0aW9uIGMoKXt2YXIgYj1hLmRhdGEoXCIkJGFuaW1hdGVDc3NcIik7aWYoYil7Zm9yKHZhciBkPVxuMTtkPGIubGVuZ3RoO2QrKyliW2RdKCk7YS5yZW1vdmVEYXRhKFwiJCRhbmltYXRlQ3NzXCIpfX1pZighdylpZihoLnBhcmVudE5vZGUpe3ZhciBkPWZ1bmN0aW9uKGEpe2lmKEUpTyYmYSYmKE89ITEsbCgpKTtlbHNlIGlmKE89IWEsQy5hbmltYXRpb25EdXJhdGlvbilpZihhPXdhKGgsTyksTyl0LnB1c2goYSk7ZWxzZXt2YXIgYj10LGM9Yi5pbmRleE9mKGEpOzA8PWEmJmIuc3BsaWNlKGMsMSl9fSxlPTA8YWEmJihDLnRyYW5zaXRpb25EdXJhdGlvbiYmMD09PVYudHJhbnNpdGlvbkR1cmF0aW9ufHxDLmFuaW1hdGlvbkR1cmF0aW9uJiYwPT09Vi5hbmltYXRpb25EdXJhdGlvbikmJk1hdGgubWF4KFYuYW5pbWF0aW9uRGVsYXksVi50cmFuc2l0aW9uRGVsYXkpO2U/cChiLE1hdGguZmxvb3IoZSphYSoxRTMpLCExKTpiKCk7di5yZXN1bWU9ZnVuY3Rpb24oKXtkKCEwKX07di5wYXVzZT1mdW5jdGlvbigpe2QoITEpfX1lbHNlIGwoKX12YXIgZz1jfHx7fTtnLiQkcHJlcGFyZWR8fChnPW5hKENhKGcpKSk7XG52YXIgTD17fSxoPVEoYSk7aWYoIWh8fCFoLnBhcmVudE5vZGV8fCF6LmVuYWJsZWQoKSlyZXR1cm4gSSgpO3ZhciB0PVtdLEs9YS5hdHRyKFwiY2xhc3NcIiksRD1QYShnKSx3LE8sRSxGLHYsTixSLG0sVSxZLGVhPVtdO2lmKDA9PT1nLmR1cmF0aW9ufHwhRy5hbmltYXRpb25zJiYhRy50cmFuc2l0aW9ucylyZXR1cm4gSSgpO3ZhciBpYT1nLmV2ZW50JiZXKGcuZXZlbnQpP2cuZXZlbnQuam9pbihcIiBcIik6Zy5ldmVudCxaPVwiXCIsVD1cIlwiO2lhJiZnLnN0cnVjdHVyYWw/Wj1YKGlhLFwibmctXCIsITApOmlhJiYoWj1pYSk7Zy5hZGRDbGFzcyYmKFQrPVgoZy5hZGRDbGFzcyxcIi1hZGRcIikpO2cucmVtb3ZlQ2xhc3MmJihULmxlbmd0aCYmKFQrPVwiIFwiKSxUKz1YKGcucmVtb3ZlQ2xhc3MsXCItcmVtb3ZlXCIpKTtnLmFwcGx5Q2xhc3Nlc0Vhcmx5JiZULmxlbmd0aCYmayhhLGcpO3ZhciBmYT1bWixUXS5qb2luKFwiIFwiKS50cmltKCksbWE9SytcIiBcIitmYSxkYT1YKGZhLFwiLWFjdGl2ZVwiKSxLPUQudG8mJlxuMDxPYmplY3Qua2V5cyhELnRvKS5sZW5ndGg7aWYoISgwPChnLmtleWZyYW1lU3R5bGV8fFwiXCIpLmxlbmd0aHx8S3x8ZmEpKXJldHVybiBJKCk7dmFyIGphLFY7MDxnLnN0YWdnZXI/KEQ9cGFyc2VGbG9hdChnLnN0YWdnZXIpLFY9e3RyYW5zaXRpb25EZWxheTpELGFuaW1hdGlvbkRlbGF5OkQsdHJhbnNpdGlvbkR1cmF0aW9uOjAsYW5pbWF0aW9uRHVyYXRpb246MH0pOihqYT15KGgsbWEpLFY9SihoLGZhLGphLFdhKSk7Zy4kJHNraXBQcmVwYXJhdGlvbkNsYXNzZXN8fGYuYWRkQ2xhc3MoYSxmYSk7Zy50cmFuc2l0aW9uU3R5bGUmJihEPVtTLGcudHJhbnNpdGlvblN0eWxlXSxrYShoLEQpLHQucHVzaChEKSk7MDw9Zy5kdXJhdGlvbiYmKEQ9MDxoLnN0eWxlW1NdLmxlbmd0aCxEPUthKGcuZHVyYXRpb24sRCksa2EoaCxEKSx0LnB1c2goRCkpO2cua2V5ZnJhbWVTdHlsZSYmKEQ9WyQsZy5rZXlmcmFtZVN0eWxlXSxrYShoLEQpLHQucHVzaChEKSk7dmFyIGFhPVY/MDw9Zy5zdGFnZ2VySW5kZXg/XG5nLnN0YWdnZXJJbmRleDpiLmNvdW50KGphKTowOyhpYT0wPT09YWEpJiYhZy5za2lwQmxvY2tpbmcmJm9hKGgsOTk5OSk7dmFyIEM9SChoLG1hLGphKSxiYT1DLm1heERlbGF5O049TWF0aC5tYXgoYmEsMCk7bT1DLm1heER1cmF0aW9uO3ZhciByPXt9O3IuaGFzVHJhbnNpdGlvbnM9MDxDLnRyYW5zaXRpb25EdXJhdGlvbjtyLmhhc0FuaW1hdGlvbnM9MDxDLmFuaW1hdGlvbkR1cmF0aW9uO3IuaGFzVHJhbnNpdGlvbkFsbD1yLmhhc1RyYW5zaXRpb25zJiZcImFsbFwiPT09Qy50cmFuc2l0aW9uUHJvcGVydHk7ci5hcHBseVRyYW5zaXRpb25EdXJhdGlvbj1LJiYoci5oYXNUcmFuc2l0aW9ucyYmIXIuaGFzVHJhbnNpdGlvbkFsbHx8ci5oYXNBbmltYXRpb25zJiYhci5oYXNUcmFuc2l0aW9ucyk7ci5hcHBseUFuaW1hdGlvbkR1cmF0aW9uPWcuZHVyYXRpb24mJnIuaGFzQW5pbWF0aW9ucztyLmFwcGx5VHJhbnNpdGlvbkRlbGF5PXhhKGcuZGVsYXkpJiYoci5hcHBseVRyYW5zaXRpb25EdXJhdGlvbnx8XG5yLmhhc1RyYW5zaXRpb25zKTtyLmFwcGx5QW5pbWF0aW9uRGVsYXk9eGEoZy5kZWxheSkmJnIuaGFzQW5pbWF0aW9ucztyLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzPTA8VC5sZW5ndGg7aWYoci5hcHBseVRyYW5zaXRpb25EdXJhdGlvbnx8ci5hcHBseUFuaW1hdGlvbkR1cmF0aW9uKW09Zy5kdXJhdGlvbj9wYXJzZUZsb2F0KGcuZHVyYXRpb24pOm0sci5hcHBseVRyYW5zaXRpb25EdXJhdGlvbiYmKHIuaGFzVHJhbnNpdGlvbnM9ITAsQy50cmFuc2l0aW9uRHVyYXRpb249bSxEPTA8aC5zdHlsZVtTK1wiUHJvcGVydHlcIl0ubGVuZ3RoLHQucHVzaChLYShtLEQpKSksci5hcHBseUFuaW1hdGlvbkR1cmF0aW9uJiYoci5oYXNBbmltYXRpb25zPSEwLEMuYW5pbWF0aW9uRHVyYXRpb249bSx0LnB1c2goW0JhLG0rXCJzXCJdKSk7aWYoMD09PW0mJiFyLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzKXJldHVybiBJKCk7aWYobnVsbCE9Zy5kZWxheSl7dmFyIGNhO1wiYm9vbGVhblwiIT09dHlwZW9mIGcuZGVsYXkmJlxuKGNhPXBhcnNlRmxvYXQoZy5kZWxheSksTj1NYXRoLm1heChjYSwwKSk7ci5hcHBseVRyYW5zaXRpb25EZWxheSYmdC5wdXNoKFtsYSxjYStcInNcIl0pO3IuYXBwbHlBbmltYXRpb25EZWxheSYmdC5wdXNoKFtwYSxjYStcInNcIl0pfW51bGw9PWcuZHVyYXRpb24mJjA8Qy50cmFuc2l0aW9uRHVyYXRpb24mJihyLnJlY2FsY3VsYXRlVGltaW5nU3R5bGVzPXIucmVjYWxjdWxhdGVUaW1pbmdTdHlsZXN8fGlhKTtSPTFFMypOO1U9MUUzKm07Zy5za2lwQmxvY2tpbmd8fChyLmJsb2NrVHJhbnNpdGlvbj0wPEMudHJhbnNpdGlvbkR1cmF0aW9uLHIuYmxvY2tLZXlmcmFtZUFuaW1hdGlvbj0wPEMuYW5pbWF0aW9uRHVyYXRpb24mJjA8Vi5hbmltYXRpb25EZWxheSYmMD09PVYuYW5pbWF0aW9uRHVyYXRpb24pO2cuZnJvbSYmKGcuY2xlYW51cFN0eWxlcyYmTWEoTCxoLE9iamVjdC5rZXlzKGcuZnJvbSkpLEhhKGEsZykpO3IuYmxvY2tUcmFuc2l0aW9ufHxyLmJsb2NrS2V5ZnJhbWVBbmltYXRpb24/XG5NKG0pOmcuc2tpcEJsb2NraW5nfHxvYShoLCExKTtyZXR1cm57JCR3aWxsQW5pbWF0ZTohMCxlbmQ6ZCxzdGFydDpmdW5jdGlvbigpe2lmKCF3KXJldHVybiB2PXtlbmQ6ZCxjYW5jZWw6bixyZXN1bWU6bnVsbCxwYXVzZTpudWxsfSxGPW5ldyBlKHYpLHUoZ2EpLEZ9fX19XX1dKS5wcm92aWRlcihcIiQkYW5pbWF0ZUNzc0RyaXZlclwiLFtcIiQkYW5pbWF0aW9uUHJvdmlkZXJcIixmdW5jdGlvbihhKXthLmRyaXZlcnMucHVzaChcIiQkYW5pbWF0ZUNzc0RyaXZlclwiKTt0aGlzLiRnZXQ9W1wiJGFuaW1hdGVDc3NcIixcIiRyb290U2NvcGVcIixcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJHJvb3RFbGVtZW50XCIsXCIkc25pZmZlclwiLFwiJCRqcUxpdGVcIixcIiRkb2N1bWVudFwiLGZ1bmN0aW9uKGEsYyxkLGYsZSxwLEspe2Z1bmN0aW9uIEcoYSl7cmV0dXJuIGEucmVwbGFjZSgvXFxibmctXFxTK1xcYi9nLFwiXCIpfWZ1bmN0aW9uIG4oYSxiKXtGKGEpJiYoYT1hLnNwbGl0KFwiIFwiKSk7RihiKSYmKGI9Yi5zcGxpdChcIiBcIikpO1xucmV0dXJuIGEuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybi0xPT09Yi5pbmRleE9mKGEpfSkuam9pbihcIiBcIil9ZnVuY3Rpb24geihjLGUsZil7ZnVuY3Rpb24gcChhKXt2YXIgYj17fSxjPVEoYSkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7cyhbXCJ3aWR0aFwiLFwiaGVpZ2h0XCIsXCJ0b3BcIixcImxlZnRcIl0sZnVuY3Rpb24oYSl7dmFyIGQ9Y1thXTtzd2l0Y2goYSl7Y2FzZSBcInRvcFwiOmQrPXUuc2Nyb2xsVG9wO2JyZWFrO2Nhc2UgXCJsZWZ0XCI6ZCs9dS5zY3JvbGxMZWZ0fWJbYV09TWF0aC5mbG9vcihkKStcInB4XCJ9KTtyZXR1cm4gYn1mdW5jdGlvbiBLKCl7dmFyIGM9RyhmLmF0dHIoXCJjbGFzc1wiKXx8XCJcIiksZD1uKGMsbCksYz1uKGwsYyksZD1hKHose3RvOnAoZiksYWRkQ2xhc3M6XCJuZy1hbmNob3ItaW4gXCIrZCxyZW1vdmVDbGFzczpcIm5nLWFuY2hvci1vdXQgXCIrYyxkZWxheTohMH0pO3JldHVybiBkLiQkd2lsbEFuaW1hdGU/ZDpudWxsfWZ1bmN0aW9uIHEoKXt6LnJlbW92ZSgpO2UucmVtb3ZlQ2xhc3MoXCJuZy1hbmltYXRlLXNoaW1cIik7XG5mLnJlbW92ZUNsYXNzKFwibmctYW5pbWF0ZS1zaGltXCIpfXZhciB6PUUoUShlKS5jbG9uZU5vZGUoITApKSxsPUcoei5hdHRyKFwiY2xhc3NcIil8fFwiXCIpO2UuYWRkQ2xhc3MoXCJuZy1hbmltYXRlLXNoaW1cIik7Zi5hZGRDbGFzcyhcIm5nLWFuaW1hdGUtc2hpbVwiKTt6LmFkZENsYXNzKFwibmctYW5jaG9yXCIpO0guYXBwZW5kKHopO3ZhciBNO2M9ZnVuY3Rpb24oKXt2YXIgYz1hKHose2FkZENsYXNzOlwibmctYW5jaG9yLW91dFwiLGRlbGF5OiEwLGZyb206cChlKX0pO3JldHVybiBjLiQkd2lsbEFuaW1hdGU/YzpudWxsfSgpO2lmKCFjJiYoTT1LKCksIU0pKXJldHVybiBxKCk7dmFyIEk9Y3x8TTtyZXR1cm57c3RhcnQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKCl7YyYmYy5lbmQoKX12YXIgYixjPUkuc3RhcnQoKTtjLmRvbmUoZnVuY3Rpb24oKXtjPW51bGw7aWYoIU0mJihNPUsoKSkpcmV0dXJuIGM9TS5zdGFydCgpLGMuZG9uZShmdW5jdGlvbigpe2M9bnVsbDtxKCk7Yi5jb21wbGV0ZSgpfSksYztcbnEoKTtiLmNvbXBsZXRlKCl9KTtyZXR1cm4gYj1uZXcgZCh7ZW5kOmEsY2FuY2VsOmF9KX19fWZ1bmN0aW9uIHkoYSxiLGMsZSl7dmFyIGY9SihhLFApLHA9SihiLFApLG49W107cyhlLGZ1bmN0aW9uKGEpeyhhPXooYyxhLm91dCxhW1wiaW5cIl0pKSYmbi5wdXNoKGEpfSk7aWYoZnx8cHx8MCE9PW4ubGVuZ3RoKXJldHVybntzdGFydDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtzKGIsZnVuY3Rpb24oYSl7YS5lbmQoKX0pfXZhciBiPVtdO2YmJmIucHVzaChmLnN0YXJ0KCkpO3AmJmIucHVzaChwLnN0YXJ0KCkpO3MobixmdW5jdGlvbihhKXtiLnB1c2goYS5zdGFydCgpKX0pO3ZhciBjPW5ldyBkKHtlbmQ6YSxjYW5jZWw6YX0pO2QuYWxsKGIsZnVuY3Rpb24oYSl7Yy5jb21wbGV0ZShhKX0pO3JldHVybiBjfX19ZnVuY3Rpb24gSihjKXt2YXIgZD1jLmVsZW1lbnQsZT1jLm9wdGlvbnN8fHt9O2Muc3RydWN0dXJhbCYmKGUuZXZlbnQ9Yy5ldmVudCxlLnN0cnVjdHVyYWw9ITAsZS5hcHBseUNsYXNzZXNFYXJseT1cbiEwLFwibGVhdmVcIj09PWMuZXZlbnQmJihlLm9uRG9uZT1lLmRvbU9wZXJhdGlvbikpO2UucHJlcGFyYXRpb25DbGFzc2VzJiYoZS5ldmVudD1aKGUuZXZlbnQsZS5wcmVwYXJhdGlvbkNsYXNzZXMpKTtjPWEoZCxlKTtyZXR1cm4gYy4kJHdpbGxBbmltYXRlP2M6bnVsbH1pZighZS5hbmltYXRpb25zJiYhZS50cmFuc2l0aW9ucylyZXR1cm4gUDt2YXIgdT1LWzBdLmJvZHk7Yz1RKGYpO3ZhciBIPUUoYy5wYXJlbnROb2RlJiYxMT09PWMucGFyZW50Tm9kZS5ub2RlVHlwZXx8dS5jb250YWlucyhjKT9jOnUpO3JldHVybiBmdW5jdGlvbihhKXtyZXR1cm4gYS5mcm9tJiZhLnRvP3koYS5mcm9tLGEudG8sYS5jbGFzc2VzLGEuYW5jaG9ycyk6SihhKX19XX1dKS5wcm92aWRlcihcIiQkYW5pbWF0ZUpzXCIsW1wiJGFuaW1hdGVQcm92aWRlclwiLGZ1bmN0aW9uKGEpe3RoaXMuJGdldD1bXCIkaW5qZWN0b3JcIixcIiQkQW5pbWF0ZVJ1bm5lclwiLFwiJCRqcUxpdGVcIixmdW5jdGlvbihiLGMsZCl7ZnVuY3Rpb24gZihjKXtjPVxuVyhjKT9jOmMuc3BsaXQoXCIgXCIpO2Zvcih2YXIgZD1bXSxlPXt9LGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIHM9Y1tmXSx5PWEuJCRyZWdpc3RlcmVkQW5pbWF0aW9uc1tzXTt5JiYhZVtzXSYmKGQucHVzaChiLmdldCh5KSksZVtzXT0hMCl9cmV0dXJuIGR9dmFyIGU9WShkKTtyZXR1cm4gZnVuY3Rpb24oYSxiLGQsbil7ZnVuY3Rpb24geigpe24uZG9tT3BlcmF0aW9uKCk7ZShhLG4pfWZ1bmN0aW9uIHkoYSxiLGQsZSxmKXtzd2l0Y2goZCl7Y2FzZSBcImFuaW1hdGVcIjpiPVtiLGUuZnJvbSxlLnRvLGZdO2JyZWFrO2Nhc2UgXCJzZXRDbGFzc1wiOmI9W2IsayxGLGZdO2JyZWFrO2Nhc2UgXCJhZGRDbGFzc1wiOmI9W2IsayxmXTticmVhaztjYXNlIFwicmVtb3ZlQ2xhc3NcIjpiPVtiLEYsZl07YnJlYWs7ZGVmYXVsdDpiPVtiLGZdfWIucHVzaChlKTtpZihhPWEuYXBwbHkoYSxiKSlpZihEYShhLnN0YXJ0KSYmKGE9YS5zdGFydCgpKSxhIGluc3RhbmNlb2YgYylhLmRvbmUoZik7ZWxzZSBpZihEYShhKSlyZXR1cm4gYTtcbnJldHVybiBQfWZ1bmN0aW9uIEooYSxiLGQsZSxmKXt2YXIgaz1bXTtzKGUsZnVuY3Rpb24oZSl7dmFyIGw9ZVtmXTtsJiZrLnB1c2goZnVuY3Rpb24oKXt2YXIgZSxmLGc9ITEsaD1mdW5jdGlvbihhKXtnfHwoZz0hMCwoZnx8UCkoYSksZS5jb21wbGV0ZSghYSkpfTtlPW5ldyBjKHtlbmQ6ZnVuY3Rpb24oKXtoKCl9LGNhbmNlbDpmdW5jdGlvbigpe2goITApfX0pO2Y9eShsLGEsYixkLGZ1bmN0aW9uKGEpe2goITE9PT1hKX0pO3JldHVybiBlfSl9KTtyZXR1cm4ga31mdW5jdGlvbiB1KGEsYixkLGUsZil7dmFyIGs9SihhLGIsZCxlLGYpO2lmKDA9PT1rLmxlbmd0aCl7dmFyIGgsbDtcImJlZm9yZVNldENsYXNzXCI9PT1mPyhoPUooYSxcInJlbW92ZUNsYXNzXCIsZCxlLFwiYmVmb3JlUmVtb3ZlQ2xhc3NcIiksbD1KKGEsXCJhZGRDbGFzc1wiLGQsZSxcImJlZm9yZUFkZENsYXNzXCIpKTpcInNldENsYXNzXCI9PT1mJiYoaD1KKGEsXCJyZW1vdmVDbGFzc1wiLGQsZSxcInJlbW92ZUNsYXNzXCIpLGw9SihhLFwiYWRkQ2xhc3NcIixcbmQsZSxcImFkZENsYXNzXCIpKTtoJiYoaz1rLmNvbmNhdChoKSk7bCYmKGs9ay5jb25jYXQobCkpfWlmKDAhPT1rLmxlbmd0aClyZXR1cm4gZnVuY3Rpb24oYSl7dmFyIGI9W107ay5sZW5ndGgmJnMoayxmdW5jdGlvbihhKXtiLnB1c2goYSgpKX0pO2IubGVuZ3RoP2MuYWxsKGIsYSk6YSgpO3JldHVybiBmdW5jdGlvbihhKXtzKGIsZnVuY3Rpb24oYil7YT9iLmNhbmNlbCgpOmIuZW5kKCl9KX19fXZhciBIPSExOzM9PT1hcmd1bWVudHMubGVuZ3RoJiZhYShkKSYmKG49ZCxkPW51bGwpO249bmEobik7ZHx8KGQ9YS5hdHRyKFwiY2xhc3NcIil8fFwiXCIsbi5hZGRDbGFzcyYmKGQrPVwiIFwiK24uYWRkQ2xhc3MpLG4ucmVtb3ZlQ2xhc3MmJihkKz1cIiBcIituLnJlbW92ZUNsYXNzKSk7dmFyIGs9bi5hZGRDbGFzcyxGPW4ucmVtb3ZlQ2xhc3MsTD1mKGQpLEEsQjtpZihMLmxlbmd0aCl7dmFyIHEsRTtcImxlYXZlXCI9PT1iPyhFPVwibGVhdmVcIixxPVwiYWZ0ZXJMZWF2ZVwiKTooRT1cImJlZm9yZVwiK2IuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrXG5iLnN1YnN0cigxKSxxPWIpO1wiZW50ZXJcIiE9PWImJlwibW92ZVwiIT09YiYmKEE9dShhLGIsbixMLEUpKTtCPXUoYSxiLG4sTCxxKX1pZihBfHxCKXt2YXIgbDtyZXR1cm57JCR3aWxsQW5pbWF0ZTohMCxlbmQ6ZnVuY3Rpb24oKXtsP2wuZW5kKCk6KEg9ITAseigpLGhhKGEsbiksbD1uZXcgYyxsLmNvbXBsZXRlKCEwKSk7cmV0dXJuIGx9LHN0YXJ0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihjKXtIPSEwO3ooKTtoYShhLG4pO2wuY29tcGxldGUoYyl9aWYobClyZXR1cm4gbDtsPW5ldyBjO3ZhciBkLGU9W107QSYmZS5wdXNoKGZ1bmN0aW9uKGEpe2Q9QShhKX0pO2UubGVuZ3RoP2UucHVzaChmdW5jdGlvbihhKXt6KCk7YSghMCl9KTp6KCk7QiYmZS5wdXNoKGZ1bmN0aW9uKGEpe2Q9QihhKX0pO2wuc2V0SG9zdCh7ZW5kOmZ1bmN0aW9uKCl7SHx8KChkfHxQKSh2b2lkIDApLGIodm9pZCAwKSl9LGNhbmNlbDpmdW5jdGlvbigpe0h8fCgoZHx8UCkoITApLGIoITApKX19KTtjLmNoYWluKGUsXG5iKTtyZXR1cm4gbH19fX19XX1dKS5wcm92aWRlcihcIiQkYW5pbWF0ZUpzRHJpdmVyXCIsW1wiJCRhbmltYXRpb25Qcm92aWRlclwiLGZ1bmN0aW9uKGEpe2EuZHJpdmVycy5wdXNoKFwiJCRhbmltYXRlSnNEcml2ZXJcIik7dGhpcy4kZ2V0PVtcIiQkYW5pbWF0ZUpzXCIsXCIkJEFuaW1hdGVSdW5uZXJcIixmdW5jdGlvbihhLGMpe2Z1bmN0aW9uIGQoYyl7cmV0dXJuIGEoYy5lbGVtZW50LGMuZXZlbnQsYy5jbGFzc2VzLGMub3B0aW9ucyl9cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKGEuZnJvbSYmYS50byl7dmFyIGI9ZChhLmZyb20pLHA9ZChhLnRvKTtpZihifHxwKXJldHVybntzdGFydDpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtyZXR1cm4gZnVuY3Rpb24oKXtzKGQsZnVuY3Rpb24oYSl7YS5lbmQoKX0pfX12YXIgZD1bXTtiJiZkLnB1c2goYi5zdGFydCgpKTtwJiZkLnB1c2gocC5zdGFydCgpKTtjLmFsbChkLGZ1bmN0aW9uKGEpe2YuY29tcGxldGUoYSl9KTt2YXIgZj1uZXcgYyh7ZW5kOmEoKSxjYW5jZWw6YSgpfSk7XG5yZXR1cm4gZn19fWVsc2UgcmV0dXJuIGQoYSl9fV19XSl9KSh3aW5kb3csd2luZG93LmFuZ3VsYXIpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci1hbmltYXRlLm1pbi5qcy5tYXBcbiIsIi8vISBtb21lbnQuanNcbi8vISB2ZXJzaW9uIDogMi4xOC4xXG4vLyEgYXV0aG9ycyA6IFRpbSBXb29kLCBJc2tyZW4gQ2hlcm5ldiwgTW9tZW50LmpzIGNvbnRyaWJ1dG9yc1xuLy8hIGxpY2Vuc2UgOiBNSVRcbi8vISBtb21lbnRqcy5jb21cbiFmdW5jdGlvbihhLGIpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWIoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGIpOmEubW9tZW50PWIoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGEoKXtyZXR1cm4gc2QuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGIoYSl7c2Q9YX1mdW5jdGlvbiBjKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQXJyYXl8fFwiW29iamVjdCBBcnJheV1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiBkKGEpe3JldHVybiBudWxsIT1hJiZcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfWZ1bmN0aW9uIGUoYSl7dmFyIGI7Zm9yKGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBmKGEpe3JldHVybiB2b2lkIDA9PT1hfWZ1bmN0aW9uIGcoYSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGF8fFwiW29iamVjdCBOdW1iZXJdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSl9ZnVuY3Rpb24gaChhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIERhdGV8fFwiW29iamVjdCBEYXRlXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpfWZ1bmN0aW9uIGkoYSxiKXt2YXIgYyxkPVtdO2ZvcihjPTA7YzxhLmxlbmd0aDsrK2MpZC5wdXNoKGIoYVtjXSxjKSk7cmV0dXJuIGR9ZnVuY3Rpb24gaihhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX1mdW5jdGlvbiBrKGEsYil7Zm9yKHZhciBjIGluIGIpaihiLGMpJiYoYVtjXT1iW2NdKTtyZXR1cm4gaihiLFwidG9TdHJpbmdcIikmJihhLnRvU3RyaW5nPWIudG9TdHJpbmcpLGooYixcInZhbHVlT2ZcIikmJihhLnZhbHVlT2Y9Yi52YWx1ZU9mKSxhfWZ1bmN0aW9uIGwoYSxiLGMsZCl7cmV0dXJuIHNiKGEsYixjLGQsITApLnV0YygpfWZ1bmN0aW9uIG0oKXtyZXR1cm57ZW1wdHk6ITEsdW51c2VkVG9rZW5zOltdLHVudXNlZElucHV0OltdLG92ZXJmbG93Oi0yLGNoYXJzTGVmdE92ZXI6MCxudWxsSW5wdXQ6ITEsaW52YWxpZE1vbnRoOm51bGwsaW52YWxpZEZvcm1hdDohMSx1c2VySW52YWxpZGF0ZWQ6ITEsaXNvOiExLHBhcnNlZERhdGVQYXJ0czpbXSxtZXJpZGllbTpudWxsLHJmYzI4MjI6ITEsd2Vla2RheU1pc21hdGNoOiExfX1mdW5jdGlvbiBuKGEpe3JldHVybiBudWxsPT1hLl9wZiYmKGEuX3BmPW0oKSksYS5fcGZ9ZnVuY3Rpb24gbyhhKXtpZihudWxsPT1hLl9pc1ZhbGlkKXt2YXIgYj1uKGEpLGM9dWQuY2FsbChiLnBhcnNlZERhdGVQYXJ0cyxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pLGQ9IWlzTmFOKGEuX2QuZ2V0VGltZSgpKSYmYi5vdmVyZmxvdzwwJiYhYi5lbXB0eSYmIWIuaW52YWxpZE1vbnRoJiYhYi5pbnZhbGlkV2Vla2RheSYmIWIubnVsbElucHV0JiYhYi5pbnZhbGlkRm9ybWF0JiYhYi51c2VySW52YWxpZGF0ZWQmJighYi5tZXJpZGllbXx8Yi5tZXJpZGllbSYmYyk7aWYoYS5fc3RyaWN0JiYoZD1kJiYwPT09Yi5jaGFyc0xlZnRPdmVyJiYwPT09Yi51bnVzZWRUb2tlbnMubGVuZ3RoJiZ2b2lkIDA9PT1iLmJpZ0hvdXIpLG51bGwhPU9iamVjdC5pc0Zyb3plbiYmT2JqZWN0LmlzRnJvemVuKGEpKXJldHVybiBkO2EuX2lzVmFsaWQ9ZH1yZXR1cm4gYS5faXNWYWxpZH1mdW5jdGlvbiBwKGEpe3ZhciBiPWwoTmFOKTtyZXR1cm4gbnVsbCE9YT9rKG4oYiksYSk6bihiKS51c2VySW52YWxpZGF0ZWQ9ITAsYn1mdW5jdGlvbiBxKGEsYil7dmFyIGMsZCxlO2lmKGYoYi5faXNBTW9tZW50T2JqZWN0KXx8KGEuX2lzQU1vbWVudE9iamVjdD1iLl9pc0FNb21lbnRPYmplY3QpLGYoYi5faSl8fChhLl9pPWIuX2kpLGYoYi5fZil8fChhLl9mPWIuX2YpLGYoYi5fbCl8fChhLl9sPWIuX2wpLGYoYi5fc3RyaWN0KXx8KGEuX3N0cmljdD1iLl9zdHJpY3QpLGYoYi5fdHptKXx8KGEuX3R6bT1iLl90em0pLGYoYi5faXNVVEMpfHwoYS5faXNVVEM9Yi5faXNVVEMpLGYoYi5fb2Zmc2V0KXx8KGEuX29mZnNldD1iLl9vZmZzZXQpLGYoYi5fcGYpfHwoYS5fcGY9bihiKSksZihiLl9sb2NhbGUpfHwoYS5fbG9jYWxlPWIuX2xvY2FsZSksdmQubGVuZ3RoPjApZm9yKGM9MDtjPHZkLmxlbmd0aDtjKyspZD12ZFtjXSxlPWJbZF0sZihlKXx8KGFbZF09ZSk7cmV0dXJuIGF9ZnVuY3Rpb24gcihiKXtxKHRoaXMsYiksdGhpcy5fZD1uZXcgRGF0ZShudWxsIT1iLl9kP2IuX2QuZ2V0VGltZSgpOk5hTiksdGhpcy5pc1ZhbGlkKCl8fCh0aGlzLl9kPW5ldyBEYXRlKE5hTikpLHdkPT09ITEmJih3ZD0hMCxhLnVwZGF0ZU9mZnNldCh0aGlzKSx3ZD0hMSl9ZnVuY3Rpb24gcyhhKXtyZXR1cm4gYSBpbnN0YW5jZW9mIHJ8fG51bGwhPWEmJm51bGwhPWEuX2lzQU1vbWVudE9iamVjdH1mdW5jdGlvbiB0KGEpe3JldHVybiBhPDA/TWF0aC5jZWlsKGEpfHwwOk1hdGguZmxvb3IoYSl9ZnVuY3Rpb24gdShhKXt2YXIgYj0rYSxjPTA7cmV0dXJuIDAhPT1iJiZpc0Zpbml0ZShiKSYmKGM9dChiKSksY31mdW5jdGlvbiB2KGEsYixjKXt2YXIgZCxlPU1hdGgubWluKGEubGVuZ3RoLGIubGVuZ3RoKSxmPU1hdGguYWJzKGEubGVuZ3RoLWIubGVuZ3RoKSxnPTA7Zm9yKGQ9MDtkPGU7ZCsrKShjJiZhW2RdIT09YltkXXx8IWMmJnUoYVtkXSkhPT11KGJbZF0pKSYmZysrO3JldHVybiBnK2Z9ZnVuY3Rpb24gdyhiKXthLnN1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5ncz09PSExJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgY29uc29sZSYmY29uc29sZS53YXJuJiZjb25zb2xlLndhcm4oXCJEZXByZWNhdGlvbiB3YXJuaW5nOiBcIitiKX1mdW5jdGlvbiB4KGIsYyl7dmFyIGQ9ITA7cmV0dXJuIGsoZnVuY3Rpb24oKXtpZihudWxsIT1hLmRlcHJlY2F0aW9uSGFuZGxlciYmYS5kZXByZWNhdGlvbkhhbmRsZXIobnVsbCxiKSxkKXtmb3IodmFyIGUsZj1bXSxnPTA7Zzxhcmd1bWVudHMubGVuZ3RoO2crKyl7aWYoZT1cIlwiLFwib2JqZWN0XCI9PXR5cGVvZiBhcmd1bWVudHNbZ10pe2UrPVwiXFxuW1wiK2crXCJdIFwiO2Zvcih2YXIgaCBpbiBhcmd1bWVudHNbMF0pZSs9aCtcIjogXCIrYXJndW1lbnRzWzBdW2hdK1wiLCBcIjtlPWUuc2xpY2UoMCwtMil9ZWxzZSBlPWFyZ3VtZW50c1tnXTtmLnB1c2goZSl9dyhiK1wiXFxuQXJndW1lbnRzOiBcIitBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmKS5qb2luKFwiXCIpK1wiXFxuXCIrKG5ldyBFcnJvcikuc3RhY2spLGQ9ITF9cmV0dXJuIGMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjKX1mdW5jdGlvbiB5KGIsYyl7bnVsbCE9YS5kZXByZWNhdGlvbkhhbmRsZXImJmEuZGVwcmVjYXRpb25IYW5kbGVyKGIsYykseGRbYl18fCh3KGMpLHhkW2JdPSEwKX1mdW5jdGlvbiB6KGEpe3JldHVybiBhIGluc3RhbmNlb2YgRnVuY3Rpb258fFwiW29iamVjdCBGdW5jdGlvbl1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiBBKGEpe3ZhciBiLGM7Zm9yKGMgaW4gYSliPWFbY10seihiKT90aGlzW2NdPWI6dGhpc1tcIl9cIitjXT1iO3RoaXMuX2NvbmZpZz1hLHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50PW5ldyBSZWdFeHAoKHRoaXMuX2RheU9mTW9udGhPcmRpbmFsUGFyc2Uuc291cmNlfHx0aGlzLl9vcmRpbmFsUGFyc2Uuc291cmNlKStcInxcIisvXFxkezEsMn0vLnNvdXJjZSl9ZnVuY3Rpb24gQihhLGIpe3ZhciBjLGU9ayh7fSxhKTtmb3IoYyBpbiBiKWooYixjKSYmKGQoYVtjXSkmJmQoYltjXSk/KGVbY109e30sayhlW2NdLGFbY10pLGsoZVtjXSxiW2NdKSk6bnVsbCE9YltjXT9lW2NdPWJbY106ZGVsZXRlIGVbY10pO2ZvcihjIGluIGEpaihhLGMpJiYhaihiLGMpJiZkKGFbY10pJiYoZVtjXT1rKHt9LGVbY10pKTtyZXR1cm4gZX1mdW5jdGlvbiBDKGEpe251bGwhPWEmJnRoaXMuc2V0KGEpfWZ1bmN0aW9uIEQoYSxiLGMpe3ZhciBkPXRoaXMuX2NhbGVuZGFyW2FdfHx0aGlzLl9jYWxlbmRhci5zYW1lRWxzZTtyZXR1cm4geihkKT9kLmNhbGwoYixjKTpkfWZ1bmN0aW9uIEUoYSl7dmFyIGI9dGhpcy5fbG9uZ0RhdGVGb3JtYXRbYV0sYz10aGlzLl9sb25nRGF0ZUZvcm1hdFthLnRvVXBwZXJDYXNlKCldO3JldHVybiBifHwhYz9iOih0aGlzLl9sb25nRGF0ZUZvcm1hdFthXT1jLnJlcGxhY2UoL01NTU18TU18RER8ZGRkZC9nLGZ1bmN0aW9uKGEpe3JldHVybiBhLnNsaWNlKDEpfSksdGhpcy5fbG9uZ0RhdGVGb3JtYXRbYV0pfWZ1bmN0aW9uIEYoKXtyZXR1cm4gdGhpcy5faW52YWxpZERhdGV9ZnVuY3Rpb24gRyhhKXtyZXR1cm4gdGhpcy5fb3JkaW5hbC5yZXBsYWNlKFwiJWRcIixhKX1mdW5jdGlvbiBIKGEsYixjLGQpe3ZhciBlPXRoaXMuX3JlbGF0aXZlVGltZVtjXTtyZXR1cm4geihlKT9lKGEsYixjLGQpOmUucmVwbGFjZSgvJWQvaSxhKX1mdW5jdGlvbiBJKGEsYil7dmFyIGM9dGhpcy5fcmVsYXRpdmVUaW1lW2E+MD9cImZ1dHVyZVwiOlwicGFzdFwiXTtyZXR1cm4geihjKT9jKGIpOmMucmVwbGFjZSgvJXMvaSxiKX1mdW5jdGlvbiBKKGEsYil7dmFyIGM9YS50b0xvd2VyQ2FzZSgpO0hkW2NdPUhkW2MrXCJzXCJdPUhkW2JdPWF9ZnVuY3Rpb24gSyhhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYT9IZFthXXx8SGRbYS50b0xvd2VyQ2FzZSgpXTp2b2lkIDB9ZnVuY3Rpb24gTChhKXt2YXIgYixjLGQ9e307Zm9yKGMgaW4gYSlqKGEsYykmJihiPUsoYyksYiYmKGRbYl09YVtjXSkpO3JldHVybiBkfWZ1bmN0aW9uIE0oYSxiKXtJZFthXT1ifWZ1bmN0aW9uIE4oYSl7dmFyIGI9W107Zm9yKHZhciBjIGluIGEpYi5wdXNoKHt1bml0OmMscHJpb3JpdHk6SWRbY119KTtyZXR1cm4gYi5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucHJpb3JpdHktYi5wcmlvcml0eX0pLGJ9ZnVuY3Rpb24gTyhiLGMpe3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gbnVsbCE9ZD8oUSh0aGlzLGIsZCksYS51cGRhdGVPZmZzZXQodGhpcyxjKSx0aGlzKTpQKHRoaXMsYil9fWZ1bmN0aW9uIFAoYSxiKXtyZXR1cm4gYS5pc1ZhbGlkKCk/YS5fZFtcImdldFwiKyhhLl9pc1VUQz9cIlVUQ1wiOlwiXCIpK2JdKCk6TmFOfWZ1bmN0aW9uIFEoYSxiLGMpe2EuaXNWYWxpZCgpJiZhLl9kW1wic2V0XCIrKGEuX2lzVVRDP1wiVVRDXCI6XCJcIikrYl0oYyl9ZnVuY3Rpb24gUihhKXtyZXR1cm4gYT1LKGEpLHoodGhpc1thXSk/dGhpc1thXSgpOnRoaXN9ZnVuY3Rpb24gUyhhLGIpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBhKXthPUwoYSk7Zm9yKHZhciBjPU4oYSksZD0wO2Q8Yy5sZW5ndGg7ZCsrKXRoaXNbY1tkXS51bml0XShhW2NbZF0udW5pdF0pfWVsc2UgaWYoYT1LKGEpLHoodGhpc1thXSkpcmV0dXJuIHRoaXNbYV0oYik7cmV0dXJuIHRoaXN9ZnVuY3Rpb24gVChhLGIsYyl7dmFyIGQ9XCJcIitNYXRoLmFicyhhKSxlPWItZC5sZW5ndGgsZj1hPj0wO3JldHVybihmP2M/XCIrXCI6XCJcIjpcIi1cIikrTWF0aC5wb3coMTAsTWF0aC5tYXgoMCxlKSkudG9TdHJpbmcoKS5zdWJzdHIoMSkrZH1mdW5jdGlvbiBVKGEsYixjLGQpe3ZhciBlPWQ7XCJzdHJpbmdcIj09dHlwZW9mIGQmJihlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZF0oKX0pLGEmJihNZFthXT1lKSxiJiYoTWRbYlswXV09ZnVuY3Rpb24oKXtyZXR1cm4gVChlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSxiWzFdLGJbMl0pfSksYyYmKE1kW2NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm9yZGluYWwoZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYSl9KX1mdW5jdGlvbiBWKGEpe3JldHVybiBhLm1hdGNoKC9cXFtbXFxzXFxTXS8pP2EucmVwbGFjZSgvXlxcW3xcXF0kL2csXCJcIik6YS5yZXBsYWNlKC9cXFxcL2csXCJcIil9ZnVuY3Rpb24gVyhhKXt2YXIgYixjLGQ9YS5tYXRjaChKZCk7Zm9yKGI9MCxjPWQubGVuZ3RoO2I8YztiKyspTWRbZFtiXV0/ZFtiXT1NZFtkW2JdXTpkW2JdPVYoZFtiXSk7cmV0dXJuIGZ1bmN0aW9uKGIpe3ZhciBlLGY9XCJcIjtmb3IoZT0wO2U8YztlKyspZis9eihkW2VdKT9kW2VdLmNhbGwoYixhKTpkW2VdO3JldHVybiBmfX1mdW5jdGlvbiBYKGEsYil7cmV0dXJuIGEuaXNWYWxpZCgpPyhiPVkoYixhLmxvY2FsZURhdGEoKSksTGRbYl09TGRbYl18fFcoYiksTGRbYl0oYSkpOmEubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCl9ZnVuY3Rpb24gWShhLGIpe2Z1bmN0aW9uIGMoYSl7cmV0dXJuIGIubG9uZ0RhdGVGb3JtYXQoYSl8fGF9dmFyIGQ9NTtmb3IoS2QubGFzdEluZGV4PTA7ZD49MCYmS2QudGVzdChhKTspYT1hLnJlcGxhY2UoS2QsYyksS2QubGFzdEluZGV4PTAsZC09MTtyZXR1cm4gYX1mdW5jdGlvbiBaKGEsYixjKXtjZVthXT16KGIpP2I6ZnVuY3Rpb24oYSxkKXtyZXR1cm4gYSYmYz9jOmJ9fWZ1bmN0aW9uICQoYSxiKXtyZXR1cm4gaihjZSxhKT9jZVthXShiLl9zdHJpY3QsYi5fbG9jYWxlKTpuZXcgUmVnRXhwKF8oYSkpfWZ1bmN0aW9uIF8oYSl7cmV0dXJuIGFhKGEucmVwbGFjZShcIlxcXFxcIixcIlwiKS5yZXBsYWNlKC9cXFxcKFxcWyl8XFxcXChcXF0pfFxcWyhbXlxcXVxcW10qKVxcXXxcXFxcKC4pL2csZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm4gYnx8Y3x8ZHx8ZX0pKX1mdW5jdGlvbiBhYShhKXtyZXR1cm4gYS5yZXBsYWNlKC9bLVxcL1xcXFxeJCorPy4oKXxbXFxde31dL2csXCJcXFxcJCZcIil9ZnVuY3Rpb24gYmEoYSxiKXt2YXIgYyxkPWI7Zm9yKFwic3RyaW5nXCI9PXR5cGVvZiBhJiYoYT1bYV0pLGcoYikmJihkPWZ1bmN0aW9uKGEsYyl7Y1tiXT11KGEpfSksYz0wO2M8YS5sZW5ndGg7YysrKWRlW2FbY11dPWR9ZnVuY3Rpb24gY2EoYSxiKXtiYShhLGZ1bmN0aW9uKGEsYyxkLGUpe2QuX3c9ZC5fd3x8e30sYihhLGQuX3csZCxlKX0pfWZ1bmN0aW9uIGRhKGEsYixjKXtudWxsIT1iJiZqKGRlLGEpJiZkZVthXShiLGMuX2EsYyxhKX1mdW5jdGlvbiBlYShhLGIpe3JldHVybiBuZXcgRGF0ZShEYXRlLlVUQyhhLGIrMSwwKSkuZ2V0VVRDRGF0ZSgpfWZ1bmN0aW9uIGZhKGEsYil7cmV0dXJuIGE/Yyh0aGlzLl9tb250aHMpP3RoaXMuX21vbnRoc1thLm1vbnRoKCldOnRoaXMuX21vbnRoc1sodGhpcy5fbW9udGhzLmlzRm9ybWF0fHxvZSkudGVzdChiKT9cImZvcm1hdFwiOlwic3RhbmRhbG9uZVwiXVthLm1vbnRoKCldOmModGhpcy5fbW9udGhzKT90aGlzLl9tb250aHM6dGhpcy5fbW9udGhzLnN0YW5kYWxvbmV9ZnVuY3Rpb24gZ2EoYSxiKXtyZXR1cm4gYT9jKHRoaXMuX21vbnRoc1Nob3J0KT90aGlzLl9tb250aHNTaG9ydFthLm1vbnRoKCldOnRoaXMuX21vbnRoc1Nob3J0W29lLnRlc3QoYik/XCJmb3JtYXRcIjpcInN0YW5kYWxvbmVcIl1bYS5tb250aCgpXTpjKHRoaXMuX21vbnRoc1Nob3J0KT90aGlzLl9tb250aHNTaG9ydDp0aGlzLl9tb250aHNTaG9ydC5zdGFuZGFsb25lfWZ1bmN0aW9uIGhhKGEsYixjKXt2YXIgZCxlLGYsZz1hLnRvTG9jYWxlTG93ZXJDYXNlKCk7aWYoIXRoaXMuX21vbnRoc1BhcnNlKWZvcih0aGlzLl9tb250aHNQYXJzZT1bXSx0aGlzLl9sb25nTW9udGhzUGFyc2U9W10sdGhpcy5fc2hvcnRNb250aHNQYXJzZT1bXSxkPTA7ZDwxMjsrK2QpZj1sKFsyZTMsZF0pLHRoaXMuX3Nob3J0TW9udGhzUGFyc2VbZF09dGhpcy5tb250aHNTaG9ydChmLFwiXCIpLnRvTG9jYWxlTG93ZXJDYXNlKCksdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2RdPXRoaXMubW9udGhzKGYsXCJcIikudG9Mb2NhbGVMb3dlckNhc2UoKTtyZXR1cm4gYz9cIk1NTVwiPT09Yj8oZT1uZS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsZyksZSE9PS0xP2U6bnVsbCk6KGU9bmUuY2FsbCh0aGlzLl9sb25nTW9udGhzUGFyc2UsZyksZSE9PS0xP2U6bnVsbCk6XCJNTU1cIj09PWI/KGU9bmUuY2FsbCh0aGlzLl9zaG9ydE1vbnRoc1BhcnNlLGcpLGUhPT0tMT9lOihlPW5lLmNhbGwodGhpcy5fbG9uZ01vbnRoc1BhcnNlLGcpLGUhPT0tMT9lOm51bGwpKTooZT1uZS5jYWxsKHRoaXMuX2xvbmdNb250aHNQYXJzZSxnKSxlIT09LTE/ZTooZT1uZS5jYWxsKHRoaXMuX3Nob3J0TW9udGhzUGFyc2UsZyksZSE9PS0xP2U6bnVsbCkpfWZ1bmN0aW9uIGlhKGEsYixjKXt2YXIgZCxlLGY7aWYodGhpcy5fbW9udGhzUGFyc2VFeGFjdClyZXR1cm4gaGEuY2FsbCh0aGlzLGEsYixjKTtmb3IodGhpcy5fbW9udGhzUGFyc2V8fCh0aGlzLl9tb250aHNQYXJzZT1bXSx0aGlzLl9sb25nTW9udGhzUGFyc2U9W10sdGhpcy5fc2hvcnRNb250aHNQYXJzZT1bXSksZD0wO2Q8MTI7ZCsrKXtpZihlPWwoWzJlMyxkXSksYyYmIXRoaXMuX2xvbmdNb250aHNQYXJzZVtkXSYmKHRoaXMuX2xvbmdNb250aHNQYXJzZVtkXT1uZXcgUmVnRXhwKFwiXlwiK3RoaXMubW9udGhzKGUsXCJcIikucmVwbGFjZShcIi5cIixcIlwiKStcIiRcIixcImlcIiksdGhpcy5fc2hvcnRNb250aHNQYXJzZVtkXT1uZXcgUmVnRXhwKFwiXlwiK3RoaXMubW9udGhzU2hvcnQoZSxcIlwiKS5yZXBsYWNlKFwiLlwiLFwiXCIpK1wiJFwiLFwiaVwiKSksY3x8dGhpcy5fbW9udGhzUGFyc2VbZF18fChmPVwiXlwiK3RoaXMubW9udGhzKGUsXCJcIikrXCJ8XlwiK3RoaXMubW9udGhzU2hvcnQoZSxcIlwiKSx0aGlzLl9tb250aHNQYXJzZVtkXT1uZXcgUmVnRXhwKGYucmVwbGFjZShcIi5cIixcIlwiKSxcImlcIikpLGMmJlwiTU1NTVwiPT09YiYmdGhpcy5fbG9uZ01vbnRoc1BhcnNlW2RdLnRlc3QoYSkpcmV0dXJuIGQ7aWYoYyYmXCJNTU1cIj09PWImJnRoaXMuX3Nob3J0TW9udGhzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZDtpZighYyYmdGhpcy5fbW9udGhzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZH19ZnVuY3Rpb24gamEoYSxiKXt2YXIgYztpZighYS5pc1ZhbGlkKCkpcmV0dXJuIGE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGIpaWYoL15cXGQrJC8udGVzdChiKSliPXUoYik7ZWxzZSBpZihiPWEubG9jYWxlRGF0YSgpLm1vbnRoc1BhcnNlKGIpLCFnKGIpKXJldHVybiBhO3JldHVybiBjPU1hdGgubWluKGEuZGF0ZSgpLGVhKGEueWVhcigpLGIpKSxhLl9kW1wic2V0XCIrKGEuX2lzVVRDP1wiVVRDXCI6XCJcIikrXCJNb250aFwiXShiLGMpLGF9ZnVuY3Rpb24ga2EoYil7cmV0dXJuIG51bGwhPWI/KGphKHRoaXMsYiksYS51cGRhdGVPZmZzZXQodGhpcywhMCksdGhpcyk6UCh0aGlzLFwiTW9udGhcIil9ZnVuY3Rpb24gbGEoKXtyZXR1cm4gZWEodGhpcy55ZWFyKCksdGhpcy5tb250aCgpKX1mdW5jdGlvbiBtYShhKXtyZXR1cm4gdGhpcy5fbW9udGhzUGFyc2VFeGFjdD8oaih0aGlzLFwiX21vbnRoc1JlZ2V4XCIpfHxvYS5jYWxsKHRoaXMpLGE/dGhpcy5fbW9udGhzU2hvcnRTdHJpY3RSZWdleDp0aGlzLl9tb250aHNTaG9ydFJlZ2V4KTooaih0aGlzLFwiX21vbnRoc1Nob3J0UmVnZXhcIil8fCh0aGlzLl9tb250aHNTaG9ydFJlZ2V4PXJlKSx0aGlzLl9tb250aHNTaG9ydFN0cmljdFJlZ2V4JiZhP3RoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg6dGhpcy5fbW9udGhzU2hvcnRSZWdleCl9ZnVuY3Rpb24gbmEoYSl7cmV0dXJuIHRoaXMuX21vbnRoc1BhcnNlRXhhY3Q/KGoodGhpcyxcIl9tb250aHNSZWdleFwiKXx8b2EuY2FsbCh0aGlzKSxhP3RoaXMuX21vbnRoc1N0cmljdFJlZ2V4OnRoaXMuX21vbnRoc1JlZ2V4KTooaih0aGlzLFwiX21vbnRoc1JlZ2V4XCIpfHwodGhpcy5fbW9udGhzUmVnZXg9c2UpLHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4JiZhP3RoaXMuX21vbnRoc1N0cmljdFJlZ2V4OnRoaXMuX21vbnRoc1JlZ2V4KX1mdW5jdGlvbiBvYSgpe2Z1bmN0aW9uIGEoYSxiKXtyZXR1cm4gYi5sZW5ndGgtYS5sZW5ndGh9dmFyIGIsYyxkPVtdLGU9W10sZj1bXTtmb3IoYj0wO2I8MTI7YisrKWM9bChbMmUzLGJdKSxkLnB1c2godGhpcy5tb250aHNTaG9ydChjLFwiXCIpKSxlLnB1c2godGhpcy5tb250aHMoYyxcIlwiKSksZi5wdXNoKHRoaXMubW9udGhzKGMsXCJcIikpLGYucHVzaCh0aGlzLm1vbnRoc1Nob3J0KGMsXCJcIikpO2ZvcihkLnNvcnQoYSksZS5zb3J0KGEpLGYuc29ydChhKSxiPTA7YjwxMjtiKyspZFtiXT1hYShkW2JdKSxlW2JdPWFhKGVbYl0pO2ZvcihiPTA7YjwyNDtiKyspZltiXT1hYShmW2JdKTt0aGlzLl9tb250aHNSZWdleD1uZXcgUmVnRXhwKFwiXihcIitmLmpvaW4oXCJ8XCIpK1wiKVwiLFwiaVwiKSx0aGlzLl9tb250aHNTaG9ydFJlZ2V4PXRoaXMuX21vbnRoc1JlZ2V4LHRoaXMuX21vbnRoc1N0cmljdFJlZ2V4PW5ldyBSZWdFeHAoXCJeKFwiK2Uuam9pbihcInxcIikrXCIpXCIsXCJpXCIpLHRoaXMuX21vbnRoc1Nob3J0U3RyaWN0UmVnZXg9bmV3IFJlZ0V4cChcIl4oXCIrZC5qb2luKFwifFwiKStcIilcIixcImlcIil9ZnVuY3Rpb24gcGEoYSl7cmV0dXJuIHFhKGEpPzM2NjozNjV9ZnVuY3Rpb24gcWEoYSl7cmV0dXJuIGElND09PTAmJmElMTAwIT09MHx8YSU0MDA9PT0wfWZ1bmN0aW9uIHJhKCl7cmV0dXJuIHFhKHRoaXMueWVhcigpKX1mdW5jdGlvbiBzYShhLGIsYyxkLGUsZixnKXt2YXIgaD1uZXcgRGF0ZShhLGIsYyxkLGUsZixnKTtyZXR1cm4gYTwxMDAmJmE+PTAmJmlzRmluaXRlKGguZ2V0RnVsbFllYXIoKSkmJmguc2V0RnVsbFllYXIoYSksaH1mdW5jdGlvbiB0YShhKXt2YXIgYj1uZXcgRGF0ZShEYXRlLlVUQy5hcHBseShudWxsLGFyZ3VtZW50cykpO3JldHVybiBhPDEwMCYmYT49MCYmaXNGaW5pdGUoYi5nZXRVVENGdWxsWWVhcigpKSYmYi5zZXRVVENGdWxsWWVhcihhKSxifWZ1bmN0aW9uIHVhKGEsYixjKXt2YXIgZD03K2ItYyxlPSg3K3RhKGEsMCxkKS5nZXRVVENEYXkoKS1iKSU3O3JldHVybi1lK2QtMX1mdW5jdGlvbiB2YShhLGIsYyxkLGUpe3ZhciBmLGcsaD0oNytjLWQpJTcsaT11YShhLGQsZSksaj0xKzcqKGItMSkraCtpO3JldHVybiBqPD0wPyhmPWEtMSxnPXBhKGYpK2opOmo+cGEoYSk/KGY9YSsxLGc9ai1wYShhKSk6KGY9YSxnPWopLHt5ZWFyOmYsZGF5T2ZZZWFyOmd9fWZ1bmN0aW9uIHdhKGEsYixjKXt2YXIgZCxlLGY9dWEoYS55ZWFyKCksYixjKSxnPU1hdGguZmxvb3IoKGEuZGF5T2ZZZWFyKCktZi0xKS83KSsxO3JldHVybiBnPDE/KGU9YS55ZWFyKCktMSxkPWcreGEoZSxiLGMpKTpnPnhhKGEueWVhcigpLGIsYyk/KGQ9Zy14YShhLnllYXIoKSxiLGMpLGU9YS55ZWFyKCkrMSk6KGU9YS55ZWFyKCksZD1nKSx7d2VlazpkLHllYXI6ZX19ZnVuY3Rpb24geGEoYSxiLGMpe3ZhciBkPXVhKGEsYixjKSxlPXVhKGErMSxiLGMpO3JldHVybihwYShhKS1kK2UpLzd9ZnVuY3Rpb24geWEoYSl7cmV0dXJuIHdhKGEsdGhpcy5fd2Vlay5kb3csdGhpcy5fd2Vlay5kb3kpLndlZWt9ZnVuY3Rpb24gemEoKXtyZXR1cm4gdGhpcy5fd2Vlay5kb3d9ZnVuY3Rpb24gQWEoKXtyZXR1cm4gdGhpcy5fd2Vlay5kb3l9ZnVuY3Rpb24gQmEoYSl7dmFyIGI9dGhpcy5sb2NhbGVEYXRhKCkud2Vlayh0aGlzKTtyZXR1cm4gbnVsbD09YT9iOnRoaXMuYWRkKDcqKGEtYiksXCJkXCIpfWZ1bmN0aW9uIENhKGEpe3ZhciBiPXdhKHRoaXMsMSw0KS53ZWVrO3JldHVybiBudWxsPT1hP2I6dGhpcy5hZGQoNyooYS1iKSxcImRcIil9ZnVuY3Rpb24gRGEoYSxiKXtyZXR1cm5cInN0cmluZ1wiIT10eXBlb2YgYT9hOmlzTmFOKGEpPyhhPWIud2Vla2RheXNQYXJzZShhKSxcIm51bWJlclwiPT10eXBlb2YgYT9hOm51bGwpOnBhcnNlSW50KGEsMTApfWZ1bmN0aW9uIEVhKGEsYil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGE/Yi53ZWVrZGF5c1BhcnNlKGEpJTd8fDc6aXNOYU4oYSk/bnVsbDphfWZ1bmN0aW9uIEZhKGEsYil7cmV0dXJuIGE/Yyh0aGlzLl93ZWVrZGF5cyk/dGhpcy5fd2Vla2RheXNbYS5kYXkoKV06dGhpcy5fd2Vla2RheXNbdGhpcy5fd2Vla2RheXMuaXNGb3JtYXQudGVzdChiKT9cImZvcm1hdFwiOlwic3RhbmRhbG9uZVwiXVthLmRheSgpXTpjKHRoaXMuX3dlZWtkYXlzKT90aGlzLl93ZWVrZGF5czp0aGlzLl93ZWVrZGF5cy5zdGFuZGFsb25lfWZ1bmN0aW9uIEdhKGEpe3JldHVybiBhP3RoaXMuX3dlZWtkYXlzU2hvcnRbYS5kYXkoKV06dGhpcy5fd2Vla2RheXNTaG9ydH1mdW5jdGlvbiBIYShhKXtyZXR1cm4gYT90aGlzLl93ZWVrZGF5c01pblthLmRheSgpXTp0aGlzLl93ZWVrZGF5c01pbn1mdW5jdGlvbiBJYShhLGIsYyl7dmFyIGQsZSxmLGc9YS50b0xvY2FsZUxvd2VyQ2FzZSgpO2lmKCF0aGlzLl93ZWVrZGF5c1BhcnNlKWZvcih0aGlzLl93ZWVrZGF5c1BhcnNlPVtdLHRoaXMuX3Nob3J0V2Vla2RheXNQYXJzZT1bXSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlPVtdLGQ9MDtkPDc7KytkKWY9bChbMmUzLDFdKS5kYXkoZCksdGhpcy5fbWluV2Vla2RheXNQYXJzZVtkXT10aGlzLndlZWtkYXlzTWluKGYsXCJcIikudG9Mb2NhbGVMb3dlckNhc2UoKSx0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbZF09dGhpcy53ZWVrZGF5c1Nob3J0KGYsXCJcIikudG9Mb2NhbGVMb3dlckNhc2UoKSx0aGlzLl93ZWVrZGF5c1BhcnNlW2RdPXRoaXMud2Vla2RheXMoZixcIlwiKS50b0xvY2FsZUxvd2VyQ2FzZSgpO3JldHVybiBjP1wiZGRkZFwiPT09Yj8oZT1uZS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsZyksZSE9PS0xP2U6bnVsbCk6XCJkZGRcIj09PWI/KGU9bmUuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksZSE9PS0xP2U6bnVsbCk6KGU9bmUuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLGcpLGUhPT0tMT9lOm51bGwpOlwiZGRkZFwiPT09Yj8oZT1uZS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsZyksZSE9PS0xP2U6KGU9bmUuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksZSE9PS0xP2U6KGU9bmUuY2FsbCh0aGlzLl9taW5XZWVrZGF5c1BhcnNlLGcpLGUhPT0tMT9lOm51bGwpKSk6XCJkZGRcIj09PWI/KGU9bmUuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksZSE9PS0xP2U6KGU9bmUuY2FsbCh0aGlzLl93ZWVrZGF5c1BhcnNlLGcpLGUhPT0tMT9lOihlPW5lLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSxnKSxlIT09LTE/ZTpudWxsKSkpOihlPW5lLmNhbGwodGhpcy5fbWluV2Vla2RheXNQYXJzZSxnKSxlIT09LTE/ZTooZT1uZS5jYWxsKHRoaXMuX3dlZWtkYXlzUGFyc2UsZyksZSE9PS0xP2U6KGU9bmUuY2FsbCh0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2UsZyksZSE9PS0xP2U6bnVsbCkpKX1mdW5jdGlvbiBKYShhLGIsYyl7dmFyIGQsZSxmO2lmKHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdClyZXR1cm4gSWEuY2FsbCh0aGlzLGEsYixjKTtmb3IodGhpcy5fd2Vla2RheXNQYXJzZXx8KHRoaXMuX3dlZWtkYXlzUGFyc2U9W10sdGhpcy5fbWluV2Vla2RheXNQYXJzZT1bXSx0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2U9W10sdGhpcy5fZnVsbFdlZWtkYXlzUGFyc2U9W10pLGQ9MDtkPDc7ZCsrKXtpZihlPWwoWzJlMywxXSkuZGF5KGQpLGMmJiF0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtkXSYmKHRoaXMuX2Z1bGxXZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy53ZWVrZGF5cyhlLFwiXCIpLnJlcGxhY2UoXCIuXCIsXCIuP1wiKStcIiRcIixcImlcIiksdGhpcy5fc2hvcnRXZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy53ZWVrZGF5c1Nob3J0KGUsXCJcIikucmVwbGFjZShcIi5cIixcIi4/XCIpK1wiJFwiLFwiaVwiKSx0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoXCJeXCIrdGhpcy53ZWVrZGF5c01pbihlLFwiXCIpLnJlcGxhY2UoXCIuXCIsXCIuP1wiKStcIiRcIixcImlcIikpLHRoaXMuX3dlZWtkYXlzUGFyc2VbZF18fChmPVwiXlwiK3RoaXMud2Vla2RheXMoZSxcIlwiKStcInxeXCIrdGhpcy53ZWVrZGF5c1Nob3J0KGUsXCJcIikrXCJ8XlwiK3RoaXMud2Vla2RheXNNaW4oZSxcIlwiKSx0aGlzLl93ZWVrZGF5c1BhcnNlW2RdPW5ldyBSZWdFeHAoZi5yZXBsYWNlKFwiLlwiLFwiXCIpLFwiaVwiKSksYyYmXCJkZGRkXCI9PT1iJiZ0aGlzLl9mdWxsV2Vla2RheXNQYXJzZVtkXS50ZXN0KGEpKXJldHVybiBkO2lmKGMmJlwiZGRkXCI9PT1iJiZ0aGlzLl9zaG9ydFdlZWtkYXlzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZDtpZihjJiZcImRkXCI9PT1iJiZ0aGlzLl9taW5XZWVrZGF5c1BhcnNlW2RdLnRlc3QoYSkpcmV0dXJuIGQ7aWYoIWMmJnRoaXMuX3dlZWtkYXlzUGFyc2VbZF0udGVzdChhKSlyZXR1cm4gZH19ZnVuY3Rpb24gS2EoYSl7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiBudWxsIT1hP3RoaXM6TmFOO3ZhciBiPXRoaXMuX2lzVVRDP3RoaXMuX2QuZ2V0VVRDRGF5KCk6dGhpcy5fZC5nZXREYXkoKTtyZXR1cm4gbnVsbCE9YT8oYT1EYShhLHRoaXMubG9jYWxlRGF0YSgpKSx0aGlzLmFkZChhLWIsXCJkXCIpKTpifWZ1bmN0aW9uIExhKGEpe2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4gbnVsbCE9YT90aGlzOk5hTjt2YXIgYj0odGhpcy5kYXkoKSs3LXRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRvdyklNztyZXR1cm4gbnVsbD09YT9iOnRoaXMuYWRkKGEtYixcImRcIil9ZnVuY3Rpb24gTWEoYSl7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiBudWxsIT1hP3RoaXM6TmFOO2lmKG51bGwhPWEpe3ZhciBiPUVhKGEsdGhpcy5sb2NhbGVEYXRhKCkpO3JldHVybiB0aGlzLmRheSh0aGlzLmRheSgpJTc/YjpiLTcpfXJldHVybiB0aGlzLmRheSgpfHw3fWZ1bmN0aW9uIE5hKGEpe3JldHVybiB0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3Q/KGoodGhpcyxcIl93ZWVrZGF5c1JlZ2V4XCIpfHxRYS5jYWxsKHRoaXMpLGE/dGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleDp0aGlzLl93ZWVrZGF5c1JlZ2V4KTooaih0aGlzLFwiX3dlZWtkYXlzUmVnZXhcIil8fCh0aGlzLl93ZWVrZGF5c1JlZ2V4PXllKSx0aGlzLl93ZWVrZGF5c1N0cmljdFJlZ2V4JiZhP3RoaXMuX3dlZWtkYXlzU3RyaWN0UmVnZXg6dGhpcy5fd2Vla2RheXNSZWdleCl9ZnVuY3Rpb24gT2EoYSl7cmV0dXJuIHRoaXMuX3dlZWtkYXlzUGFyc2VFeGFjdD8oaih0aGlzLFwiX3dlZWtkYXlzUmVnZXhcIil8fFFhLmNhbGwodGhpcyksYT90aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg6dGhpcy5fd2Vla2RheXNTaG9ydFJlZ2V4KTooaih0aGlzLFwiX3dlZWtkYXlzU2hvcnRSZWdleFwiKXx8KHRoaXMuX3dlZWtkYXlzU2hvcnRSZWdleD16ZSksdGhpcy5fd2Vla2RheXNTaG9ydFN0cmljdFJlZ2V4JiZhP3RoaXMuX3dlZWtkYXlzU2hvcnRTdHJpY3RSZWdleDp0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXgpfWZ1bmN0aW9uIFBhKGEpe3JldHVybiB0aGlzLl93ZWVrZGF5c1BhcnNlRXhhY3Q/KGoodGhpcyxcIl93ZWVrZGF5c1JlZ2V4XCIpfHxRYS5jYWxsKHRoaXMpLGE/dGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleDp0aGlzLl93ZWVrZGF5c01pblJlZ2V4KTooaih0aGlzLFwiX3dlZWtkYXlzTWluUmVnZXhcIil8fCh0aGlzLl93ZWVrZGF5c01pblJlZ2V4PUFlKSx0aGlzLl93ZWVrZGF5c01pblN0cmljdFJlZ2V4JiZhP3RoaXMuX3dlZWtkYXlzTWluU3RyaWN0UmVnZXg6dGhpcy5fd2Vla2RheXNNaW5SZWdleCl9ZnVuY3Rpb24gUWEoKXtmdW5jdGlvbiBhKGEsYil7cmV0dXJuIGIubGVuZ3RoLWEubGVuZ3RofXZhciBiLGMsZCxlLGYsZz1bXSxoPVtdLGk9W10saj1bXTtmb3IoYj0wO2I8NztiKyspYz1sKFsyZTMsMV0pLmRheShiKSxkPXRoaXMud2Vla2RheXNNaW4oYyxcIlwiKSxlPXRoaXMud2Vla2RheXNTaG9ydChjLFwiXCIpLGY9dGhpcy53ZWVrZGF5cyhjLFwiXCIpLGcucHVzaChkKSxoLnB1c2goZSksaS5wdXNoKGYpLGoucHVzaChkKSxqLnB1c2goZSksai5wdXNoKGYpO2ZvcihnLnNvcnQoYSksaC5zb3J0KGEpLGkuc29ydChhKSxqLnNvcnQoYSksYj0wO2I8NztiKyspaFtiXT1hYShoW2JdKSxpW2JdPWFhKGlbYl0pLGpbYl09YWEoaltiXSk7dGhpcy5fd2Vla2RheXNSZWdleD1uZXcgUmVnRXhwKFwiXihcIitqLmpvaW4oXCJ8XCIpK1wiKVwiLFwiaVwiKSx0aGlzLl93ZWVrZGF5c1Nob3J0UmVnZXg9dGhpcy5fd2Vla2RheXNSZWdleCx0aGlzLl93ZWVrZGF5c01pblJlZ2V4PXRoaXMuX3dlZWtkYXlzUmVnZXgsdGhpcy5fd2Vla2RheXNTdHJpY3RSZWdleD1uZXcgUmVnRXhwKFwiXihcIitpLmpvaW4oXCJ8XCIpK1wiKVwiLFwiaVwiKSx0aGlzLl93ZWVrZGF5c1Nob3J0U3RyaWN0UmVnZXg9bmV3IFJlZ0V4cChcIl4oXCIraC5qb2luKFwifFwiKStcIilcIixcImlcIiksdGhpcy5fd2Vla2RheXNNaW5TdHJpY3RSZWdleD1uZXcgUmVnRXhwKFwiXihcIitnLmpvaW4oXCJ8XCIpK1wiKVwiLFwiaVwiKX1mdW5jdGlvbiBSYSgpe3JldHVybiB0aGlzLmhvdXJzKCklMTJ8fDEyfWZ1bmN0aW9uIFNhKCl7cmV0dXJuIHRoaXMuaG91cnMoKXx8MjR9ZnVuY3Rpb24gVGEoYSxiKXtVKGEsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLm1lcmlkaWVtKHRoaXMuaG91cnMoKSx0aGlzLm1pbnV0ZXMoKSxiKX0pfWZ1bmN0aW9uIFVhKGEsYil7cmV0dXJuIGIuX21lcmlkaWVtUGFyc2V9ZnVuY3Rpb24gVmEoYSl7cmV0dXJuXCJwXCI9PT0oYStcIlwiKS50b0xvd2VyQ2FzZSgpLmNoYXJBdCgwKX1mdW5jdGlvbiBXYShhLGIsYyl7cmV0dXJuIGE+MTE/Yz9cInBtXCI6XCJQTVwiOmM/XCJhbVwiOlwiQU1cIn1mdW5jdGlvbiBYYShhKXtyZXR1cm4gYT9hLnRvTG93ZXJDYXNlKCkucmVwbGFjZShcIl9cIixcIi1cIik6YX1mdW5jdGlvbiBZYShhKXtmb3IodmFyIGIsYyxkLGUsZj0wO2Y8YS5sZW5ndGg7KXtmb3IoZT1YYShhW2ZdKS5zcGxpdChcIi1cIiksYj1lLmxlbmd0aCxjPVhhKGFbZisxXSksYz1jP2Muc3BsaXQoXCItXCIpOm51bGw7Yj4wOyl7aWYoZD1aYShlLnNsaWNlKDAsYikuam9pbihcIi1cIikpKXJldHVybiBkO2lmKGMmJmMubGVuZ3RoPj1iJiZ2KGUsYywhMCk+PWItMSlicmVhaztiLS19ZisrfXJldHVybiBudWxsfWZ1bmN0aW9uIFphKGEpe3ZhciBiPW51bGw7aWYoIUZlW2FdJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlJiZtb2R1bGUmJm1vZHVsZS5leHBvcnRzKXRyeXtiPUJlLl9hYmJyLHJlcXVpcmUoXCIuL2xvY2FsZS9cIithKSwkYShiKX1jYXRjaChhKXt9cmV0dXJuIEZlW2FdfWZ1bmN0aW9uICRhKGEsYil7dmFyIGM7cmV0dXJuIGEmJihjPWYoYik/YmIoYSk6X2EoYSxiKSxjJiYoQmU9YykpLEJlLl9hYmJyfWZ1bmN0aW9uIF9hKGEsYil7aWYobnVsbCE9PWIpe3ZhciBjPUVlO2lmKGIuYWJicj1hLG51bGwhPUZlW2FdKXkoXCJkZWZpbmVMb2NhbGVPdmVycmlkZVwiLFwidXNlIG1vbWVudC51cGRhdGVMb2NhbGUobG9jYWxlTmFtZSwgY29uZmlnKSB0byBjaGFuZ2UgYW4gZXhpc3RpbmcgbG9jYWxlLiBtb21lbnQuZGVmaW5lTG9jYWxlKGxvY2FsZU5hbWUsIGNvbmZpZykgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgY3JlYXRpbmcgYSBuZXcgbG9jYWxlIFNlZSBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL2RlZmluZS1sb2NhbGUvIGZvciBtb3JlIGluZm8uXCIpLGM9RmVbYV0uX2NvbmZpZztlbHNlIGlmKG51bGwhPWIucGFyZW50TG9jYWxlKXtpZihudWxsPT1GZVtiLnBhcmVudExvY2FsZV0pcmV0dXJuIEdlW2IucGFyZW50TG9jYWxlXXx8KEdlW2IucGFyZW50TG9jYWxlXT1bXSksR2VbYi5wYXJlbnRMb2NhbGVdLnB1c2goe25hbWU6YSxjb25maWc6Yn0pLG51bGw7Yz1GZVtiLnBhcmVudExvY2FsZV0uX2NvbmZpZ31yZXR1cm4gRmVbYV09bmV3IEMoQihjLGIpKSxHZVthXSYmR2VbYV0uZm9yRWFjaChmdW5jdGlvbihhKXtfYShhLm5hbWUsYS5jb25maWcpfSksJGEoYSksRmVbYV19cmV0dXJuIGRlbGV0ZSBGZVthXSxudWxsfWZ1bmN0aW9uIGFiKGEsYil7aWYobnVsbCE9Yil7dmFyIGMsZD1FZTtudWxsIT1GZVthXSYmKGQ9RmVbYV0uX2NvbmZpZyksYj1CKGQsYiksYz1uZXcgQyhiKSxjLnBhcmVudExvY2FsZT1GZVthXSxGZVthXT1jLCRhKGEpfWVsc2UgbnVsbCE9RmVbYV0mJihudWxsIT1GZVthXS5wYXJlbnRMb2NhbGU/RmVbYV09RmVbYV0ucGFyZW50TG9jYWxlOm51bGwhPUZlW2FdJiZkZWxldGUgRmVbYV0pO3JldHVybiBGZVthXX1mdW5jdGlvbiBiYihhKXt2YXIgYjtpZihhJiZhLl9sb2NhbGUmJmEuX2xvY2FsZS5fYWJiciYmKGE9YS5fbG9jYWxlLl9hYmJyKSwhYSlyZXR1cm4gQmU7aWYoIWMoYSkpe2lmKGI9WmEoYSkpcmV0dXJuIGI7YT1bYV19cmV0dXJuIFlhKGEpfWZ1bmN0aW9uIGNiKCl7cmV0dXJuIEFkKEZlKX1mdW5jdGlvbiBkYihhKXt2YXIgYixjPWEuX2E7cmV0dXJuIGMmJm4oYSkub3ZlcmZsb3c9PT0tMiYmKGI9Y1tmZV08MHx8Y1tmZV0+MTE/ZmU6Y1tnZV08MXx8Y1tnZV0+ZWEoY1tlZV0sY1tmZV0pP2dlOmNbaGVdPDB8fGNbaGVdPjI0fHwyND09PWNbaGVdJiYoMCE9PWNbaWVdfHwwIT09Y1tqZV18fDAhPT1jW2tlXSk/aGU6Y1tpZV08MHx8Y1tpZV0+NTk/aWU6Y1tqZV08MHx8Y1tqZV0+NTk/amU6Y1trZV08MHx8Y1trZV0+OTk5P2tlOi0xLG4oYSkuX292ZXJmbG93RGF5T2ZZZWFyJiYoYjxlZXx8Yj5nZSkmJihiPWdlKSxuKGEpLl9vdmVyZmxvd1dlZWtzJiZiPT09LTEmJihiPWxlKSxuKGEpLl9vdmVyZmxvd1dlZWtkYXkmJmI9PT0tMSYmKGI9bWUpLG4oYSkub3ZlcmZsb3c9YiksYX1mdW5jdGlvbiBlYihhKXt2YXIgYixjLGQsZSxmLGcsaD1hLl9pLGk9SGUuZXhlYyhoKXx8SWUuZXhlYyhoKTtpZihpKXtmb3IobihhKS5pc289ITAsYj0wLGM9S2UubGVuZ3RoO2I8YztiKyspaWYoS2VbYl1bMV0uZXhlYyhpWzFdKSl7ZT1LZVtiXVswXSxkPUtlW2JdWzJdIT09ITE7YnJlYWt9aWYobnVsbD09ZSlyZXR1cm4gdm9pZChhLl9pc1ZhbGlkPSExKTtpZihpWzNdKXtmb3IoYj0wLGM9TGUubGVuZ3RoO2I8YztiKyspaWYoTGVbYl1bMV0uZXhlYyhpWzNdKSl7Zj0oaVsyXXx8XCIgXCIpK0xlW2JdWzBdO2JyZWFrfWlmKG51bGw9PWYpcmV0dXJuIHZvaWQoYS5faXNWYWxpZD0hMSl9aWYoIWQmJm51bGwhPWYpcmV0dXJuIHZvaWQoYS5faXNWYWxpZD0hMSk7aWYoaVs0XSl7aWYoIUplLmV4ZWMoaVs0XSkpcmV0dXJuIHZvaWQoYS5faXNWYWxpZD0hMSk7Zz1cIlpcIn1hLl9mPWUrKGZ8fFwiXCIpKyhnfHxcIlwiKSxsYihhKX1lbHNlIGEuX2lzVmFsaWQ9ITF9ZnVuY3Rpb24gZmIoYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqPXtcIiBHTVRcIjpcIiArMDAwMFwiLFwiIEVEVFwiOlwiIC0wNDAwXCIsXCIgRVNUXCI6XCIgLTA1MDBcIixcIiBDRFRcIjpcIiAtMDUwMFwiLFwiIENTVFwiOlwiIC0wNjAwXCIsXCIgTURUXCI6XCIgLTA2MDBcIixcIiBNU1RcIjpcIiAtMDcwMFwiLFwiIFBEVFwiOlwiIC0wNzAwXCIsXCIgUFNUXCI6XCIgLTA4MDBcIn0saz1cIllYV1ZVVFNSUVBPTlpBQkNERUZHSElLTE1cIjtpZihiPWEuX2kucmVwbGFjZSgvXFwoW15cXCldKlxcKXxbXFxuXFx0XS9nLFwiIFwiKS5yZXBsYWNlKC8oXFxzXFxzKykvZyxcIiBcIikucmVwbGFjZSgvXlxcc3xcXHMkL2csXCJcIiksYz1OZS5leGVjKGIpKXtpZihkPWNbMV0/XCJkZGRcIisoNT09PWNbMV0ubGVuZ3RoP1wiLCBcIjpcIiBcIik6XCJcIixlPVwiRCBNTU0gXCIrKGNbMl0ubGVuZ3RoPjEwP1wiWVlZWSBcIjpcIllZIFwiKSxmPVwiSEg6bW1cIisoY1s0XT9cIjpzc1wiOlwiXCIpLGNbMV0pe3ZhciBsPW5ldyBEYXRlKGNbMl0pLG09W1wiU3VuXCIsXCJNb25cIixcIlR1ZVwiLFwiV2VkXCIsXCJUaHVcIixcIkZyaVwiLFwiU2F0XCJdW2wuZ2V0RGF5KCldO2lmKGNbMV0uc3Vic3RyKDAsMykhPT1tKXJldHVybiBuKGEpLndlZWtkYXlNaXNtYXRjaD0hMCx2b2lkKGEuX2lzVmFsaWQ9ITEpfXN3aXRjaChjWzVdLmxlbmd0aCl7Y2FzZSAyOjA9PT1pP2g9XCIgKzAwMDBcIjooaT1rLmluZGV4T2YoY1s1XVsxXS50b1VwcGVyQ2FzZSgpKS0xMixoPShpPDA/XCIgLVwiOlwiICtcIikrKFwiXCIraSkucmVwbGFjZSgvXi0/LyxcIjBcIikubWF0Y2goLy4uJC8pWzBdK1wiMDBcIik7YnJlYWs7Y2FzZSA0Omg9altjWzVdXTticmVhaztkZWZhdWx0Omg9altcIiBHTVRcIl19Y1s1XT1oLGEuX2k9Yy5zcGxpY2UoMSkuam9pbihcIlwiKSxnPVwiIFpaXCIsYS5fZj1kK2UrZitnLGxiKGEpLG4oYSkucmZjMjgyMj0hMH1lbHNlIGEuX2lzVmFsaWQ9ITF9ZnVuY3Rpb24gZ2IoYil7dmFyIGM9TWUuZXhlYyhiLl9pKTtyZXR1cm4gbnVsbCE9PWM/dm9pZChiLl9kPW5ldyBEYXRlKCtjWzFdKSk6KGViKGIpLHZvaWQoYi5faXNWYWxpZD09PSExJiYoZGVsZXRlIGIuX2lzVmFsaWQsZmIoYiksYi5faXNWYWxpZD09PSExJiYoZGVsZXRlIGIuX2lzVmFsaWQsYS5jcmVhdGVGcm9tSW5wdXRGYWxsYmFjayhiKSkpKSl9ZnVuY3Rpb24gaGIoYSxiLGMpe3JldHVybiBudWxsIT1hP2E6bnVsbCE9Yj9iOmN9ZnVuY3Rpb24gaWIoYil7dmFyIGM9bmV3IERhdGUoYS5ub3coKSk7cmV0dXJuIGIuX3VzZVVUQz9bYy5nZXRVVENGdWxsWWVhcigpLGMuZ2V0VVRDTW9udGgoKSxjLmdldFVUQ0RhdGUoKV06W2MuZ2V0RnVsbFllYXIoKSxjLmdldE1vbnRoKCksYy5nZXREYXRlKCldfWZ1bmN0aW9uIGpiKGEpe3ZhciBiLGMsZCxlLGY9W107aWYoIWEuX2Qpe2ZvcihkPWliKGEpLGEuX3cmJm51bGw9PWEuX2FbZ2VdJiZudWxsPT1hLl9hW2ZlXSYma2IoYSksbnVsbCE9YS5fZGF5T2ZZZWFyJiYoZT1oYihhLl9hW2VlXSxkW2VlXSksKGEuX2RheU9mWWVhcj5wYShlKXx8MD09PWEuX2RheU9mWWVhcikmJihuKGEpLl9vdmVyZmxvd0RheU9mWWVhcj0hMCksYz10YShlLDAsYS5fZGF5T2ZZZWFyKSxhLl9hW2ZlXT1jLmdldFVUQ01vbnRoKCksYS5fYVtnZV09Yy5nZXRVVENEYXRlKCkpLGI9MDtiPDMmJm51bGw9PWEuX2FbYl07KytiKWEuX2FbYl09ZltiXT1kW2JdO2Zvcig7Yjw3O2IrKylhLl9hW2JdPWZbYl09bnVsbD09YS5fYVtiXT8yPT09Yj8xOjA6YS5fYVtiXTsyND09PWEuX2FbaGVdJiYwPT09YS5fYVtpZV0mJjA9PT1hLl9hW2plXSYmMD09PWEuX2Fba2VdJiYoYS5fbmV4dERheT0hMCxhLl9hW2hlXT0wKSxhLl9kPShhLl91c2VVVEM/dGE6c2EpLmFwcGx5KG51bGwsZiksbnVsbCE9YS5fdHptJiZhLl9kLnNldFVUQ01pbnV0ZXMoYS5fZC5nZXRVVENNaW51dGVzKCktYS5fdHptKSxhLl9uZXh0RGF5JiYoYS5fYVtoZV09MjQpfX1mdW5jdGlvbiBrYihhKXt2YXIgYixjLGQsZSxmLGcsaCxpO2lmKGI9YS5fdyxudWxsIT1iLkdHfHxudWxsIT1iLld8fG51bGwhPWIuRSlmPTEsZz00LGM9aGIoYi5HRyxhLl9hW2VlXSx3YSh0YigpLDEsNCkueWVhciksZD1oYihiLlcsMSksZT1oYihiLkUsMSksKGU8MXx8ZT43KSYmKGk9ITApO2Vsc2V7Zj1hLl9sb2NhbGUuX3dlZWsuZG93LGc9YS5fbG9jYWxlLl93ZWVrLmRveTt2YXIgaj13YSh0YigpLGYsZyk7Yz1oYihiLmdnLGEuX2FbZWVdLGoueWVhciksZD1oYihiLncsai53ZWVrKSxudWxsIT1iLmQ/KGU9Yi5kLChlPDB8fGU+NikmJihpPSEwKSk6bnVsbCE9Yi5lPyhlPWIuZStmLChiLmU8MHx8Yi5lPjYpJiYoaT0hMCkpOmU9Zn1kPDF8fGQ+eGEoYyxmLGcpP24oYSkuX292ZXJmbG93V2Vla3M9ITA6bnVsbCE9aT9uKGEpLl9vdmVyZmxvd1dlZWtkYXk9ITA6KGg9dmEoYyxkLGUsZixnKSxhLl9hW2VlXT1oLnllYXIsYS5fZGF5T2ZZZWFyPWguZGF5T2ZZZWFyKX1mdW5jdGlvbiBsYihiKXtpZihiLl9mPT09YS5JU09fODYwMSlyZXR1cm4gdm9pZCBlYihiKTtpZihiLl9mPT09YS5SRkNfMjgyMilyZXR1cm4gdm9pZCBmYihiKTtiLl9hPVtdLG4oYikuZW1wdHk9ITA7dmFyIGMsZCxlLGYsZyxoPVwiXCIrYi5faSxpPWgubGVuZ3RoLGo9MDtmb3IoZT1ZKGIuX2YsYi5fbG9jYWxlKS5tYXRjaChKZCl8fFtdLGM9MDtjPGUubGVuZ3RoO2MrKylmPWVbY10sZD0oaC5tYXRjaCgkKGYsYikpfHxbXSlbMF0sZCYmKGc9aC5zdWJzdHIoMCxoLmluZGV4T2YoZCkpLGcubGVuZ3RoPjAmJm4oYikudW51c2VkSW5wdXQucHVzaChnKSxoPWguc2xpY2UoaC5pbmRleE9mKGQpK2QubGVuZ3RoKSxqKz1kLmxlbmd0aCksTWRbZl0/KGQ/bihiKS5lbXB0eT0hMTpuKGIpLnVudXNlZFRva2Vucy5wdXNoKGYpLGRhKGYsZCxiKSk6Yi5fc3RyaWN0JiYhZCYmbihiKS51bnVzZWRUb2tlbnMucHVzaChmKTtuKGIpLmNoYXJzTGVmdE92ZXI9aS1qLGgubGVuZ3RoPjAmJm4oYikudW51c2VkSW5wdXQucHVzaChoKSxiLl9hW2hlXTw9MTImJm4oYikuYmlnSG91cj09PSEwJiZiLl9hW2hlXT4wJiYobihiKS5iaWdIb3VyPXZvaWQgMCksbihiKS5wYXJzZWREYXRlUGFydHM9Yi5fYS5zbGljZSgwKSxuKGIpLm1lcmlkaWVtPWIuX21lcmlkaWVtLGIuX2FbaGVdPW1iKGIuX2xvY2FsZSxiLl9hW2hlXSxiLl9tZXJpZGllbSksamIoYiksZGIoYil9ZnVuY3Rpb24gbWIoYSxiLGMpe3ZhciBkO3JldHVybiBudWxsPT1jP2I6bnVsbCE9YS5tZXJpZGllbUhvdXI/YS5tZXJpZGllbUhvdXIoYixjKTpudWxsIT1hLmlzUE0/KGQ9YS5pc1BNKGMpLGQmJmI8MTImJihiKz0xMiksZHx8MTIhPT1ifHwoYj0wKSxiKTpifWZ1bmN0aW9uIG5iKGEpe3ZhciBiLGMsZCxlLGY7aWYoMD09PWEuX2YubGVuZ3RoKXJldHVybiBuKGEpLmludmFsaWRGb3JtYXQ9ITAsdm9pZChhLl9kPW5ldyBEYXRlKE5hTikpO2ZvcihlPTA7ZTxhLl9mLmxlbmd0aDtlKyspZj0wLGI9cSh7fSxhKSxudWxsIT1hLl91c2VVVEMmJihiLl91c2VVVEM9YS5fdXNlVVRDKSxiLl9mPWEuX2ZbZV0sbGIoYiksbyhiKSYmKGYrPW4oYikuY2hhcnNMZWZ0T3ZlcixmKz0xMCpuKGIpLnVudXNlZFRva2Vucy5sZW5ndGgsbihiKS5zY29yZT1mLChudWxsPT1kfHxmPGQpJiYoZD1mLGM9YikpO2soYSxjfHxiKX1mdW5jdGlvbiBvYihhKXtpZighYS5fZCl7dmFyIGI9TChhLl9pKTthLl9hPWkoW2IueWVhcixiLm1vbnRoLGIuZGF5fHxiLmRhdGUsYi5ob3VyLGIubWludXRlLGIuc2Vjb25kLGIubWlsbGlzZWNvbmRdLGZ1bmN0aW9uKGEpe3JldHVybiBhJiZwYXJzZUludChhLDEwKX0pLGpiKGEpfX1mdW5jdGlvbiBwYihhKXt2YXIgYj1uZXcgcihkYihxYihhKSkpO3JldHVybiBiLl9uZXh0RGF5JiYoYi5hZGQoMSxcImRcIiksYi5fbmV4dERheT12b2lkIDApLGJ9ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5faSxkPWEuX2Y7cmV0dXJuIGEuX2xvY2FsZT1hLl9sb2NhbGV8fGJiKGEuX2wpLG51bGw9PT1ifHx2b2lkIDA9PT1kJiZcIlwiPT09Yj9wKHtudWxsSW5wdXQ6ITB9KTooXCJzdHJpbmdcIj09dHlwZW9mIGImJihhLl9pPWI9YS5fbG9jYWxlLnByZXBhcnNlKGIpKSxzKGIpP25ldyByKGRiKGIpKTooaChiKT9hLl9kPWI6YyhkKT9uYihhKTpkP2xiKGEpOnJiKGEpLG8oYSl8fChhLl9kPW51bGwpLGEpKX1mdW5jdGlvbiByYihiKXt2YXIgZT1iLl9pO2YoZSk/Yi5fZD1uZXcgRGF0ZShhLm5vdygpKTpoKGUpP2IuX2Q9bmV3IERhdGUoZS52YWx1ZU9mKCkpOlwic3RyaW5nXCI9PXR5cGVvZiBlP2diKGIpOmMoZSk/KGIuX2E9aShlLnNsaWNlKDApLGZ1bmN0aW9uKGEpe3JldHVybiBwYXJzZUludChhLDEwKX0pLGpiKGIpKTpkKGUpP29iKGIpOmcoZSk/Yi5fZD1uZXcgRGF0ZShlKTphLmNyZWF0ZUZyb21JbnB1dEZhbGxiYWNrKGIpfWZ1bmN0aW9uIHNiKGEsYixmLGcsaCl7dmFyIGk9e307cmV0dXJuIGYhPT0hMCYmZiE9PSExfHwoZz1mLGY9dm9pZCAwKSwoZChhKSYmZShhKXx8YyhhKSYmMD09PWEubGVuZ3RoKSYmKGE9dm9pZCAwKSxpLl9pc0FNb21lbnRPYmplY3Q9ITAsaS5fdXNlVVRDPWkuX2lzVVRDPWgsaS5fbD1mLGkuX2k9YSxpLl9mPWIsaS5fc3RyaWN0PWcscGIoaSl9ZnVuY3Rpb24gdGIoYSxiLGMsZCl7cmV0dXJuIHNiKGEsYixjLGQsITEpfWZ1bmN0aW9uIHViKGEsYil7dmFyIGQsZTtpZigxPT09Yi5sZW5ndGgmJmMoYlswXSkmJihiPWJbMF0pLCFiLmxlbmd0aClyZXR1cm4gdGIoKTtmb3IoZD1iWzBdLGU9MTtlPGIubGVuZ3RoOysrZSliW2VdLmlzVmFsaWQoKSYmIWJbZV1bYV0oZCl8fChkPWJbZV0pO3JldHVybiBkfWZ1bmN0aW9uIHZiKCl7dmFyIGE9W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7cmV0dXJuIHViKFwiaXNCZWZvcmVcIixhKX1mdW5jdGlvbiB3Yigpe3ZhciBhPVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO3JldHVybiB1YihcImlzQWZ0ZXJcIixhKX1mdW5jdGlvbiB4YihhKXtmb3IodmFyIGIgaW4gYSlpZihSZS5pbmRleE9mKGIpPT09LTF8fG51bGwhPWFbYl0mJmlzTmFOKGFbYl0pKXJldHVybiExO2Zvcih2YXIgYz0hMSxkPTA7ZDxSZS5sZW5ndGg7KytkKWlmKGFbUmVbZF1dKXtpZihjKXJldHVybiExO3BhcnNlRmxvYXQoYVtSZVtkXV0pIT09dShhW1JlW2RdXSkmJihjPSEwKX1yZXR1cm4hMH1mdW5jdGlvbiB5Yigpe3JldHVybiB0aGlzLl9pc1ZhbGlkfWZ1bmN0aW9uIHpiKCl7cmV0dXJuIFNiKE5hTil9ZnVuY3Rpb24gQWIoYSl7dmFyIGI9TChhKSxjPWIueWVhcnx8MCxkPWIucXVhcnRlcnx8MCxlPWIubW9udGh8fDAsZj1iLndlZWt8fDAsZz1iLmRheXx8MCxoPWIuaG91cnx8MCxpPWIubWludXRlfHwwLGo9Yi5zZWNvbmR8fDAsaz1iLm1pbGxpc2Vjb25kfHwwO3RoaXMuX2lzVmFsaWQ9eGIoYiksdGhpcy5fbWlsbGlzZWNvbmRzPStrKzFlMypqKzZlNCppKzFlMypoKjYwKjYwLHRoaXMuX2RheXM9K2crNypmLHRoaXMuX21vbnRocz0rZSszKmQrMTIqYyx0aGlzLl9kYXRhPXt9LHRoaXMuX2xvY2FsZT1iYigpLHRoaXMuX2J1YmJsZSgpfWZ1bmN0aW9uIEJiKGEpe3JldHVybiBhIGluc3RhbmNlb2YgQWJ9ZnVuY3Rpb24gQ2IoYSl7cmV0dXJuIGE8MD9NYXRoLnJvdW5kKC0xKmEpKi0xOk1hdGgucm91bmQoYSl9ZnVuY3Rpb24gRGIoYSxiKXtVKGEsMCwwLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy51dGNPZmZzZXQoKSxjPVwiK1wiO3JldHVybiBhPDAmJihhPS1hLGM9XCItXCIpLGMrVCh+fihhLzYwKSwyKStiK1Qofn5hJTYwLDIpfSl9ZnVuY3Rpb24gRWIoYSxiKXt2YXIgYz0oYnx8XCJcIikubWF0Y2goYSk7aWYobnVsbD09PWMpcmV0dXJuIG51bGw7dmFyIGQ9Y1tjLmxlbmd0aC0xXXx8W10sZT0oZCtcIlwiKS5tYXRjaChTZSl8fFtcIi1cIiwwLDBdLGY9Kyg2MCplWzFdKSt1KGVbMl0pO3JldHVybiAwPT09Zj8wOlwiK1wiPT09ZVswXT9mOi1mfWZ1bmN0aW9uIEZiKGIsYyl7dmFyIGQsZTtyZXR1cm4gYy5faXNVVEM/KGQ9Yy5jbG9uZSgpLGU9KHMoYil8fGgoYik/Yi52YWx1ZU9mKCk6dGIoYikudmFsdWVPZigpKS1kLnZhbHVlT2YoKSxkLl9kLnNldFRpbWUoZC5fZC52YWx1ZU9mKCkrZSksYS51cGRhdGVPZmZzZXQoZCwhMSksZCk6dGIoYikubG9jYWwoKX1mdW5jdGlvbiBHYihhKXtyZXR1cm4gMTUqLU1hdGgucm91bmQoYS5fZC5nZXRUaW1lem9uZU9mZnNldCgpLzE1KX1mdW5jdGlvbiBIYihiLGMsZCl7dmFyIGUsZj10aGlzLl9vZmZzZXR8fDA7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiBudWxsIT1iP3RoaXM6TmFOO2lmKG51bGwhPWIpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBiKXtpZihiPUViKF9kLGIpLG51bGw9PT1iKXJldHVybiB0aGlzfWVsc2UgTWF0aC5hYnMoYik8MTYmJiFkJiYoYj02MCpiKTtyZXR1cm4hdGhpcy5faXNVVEMmJmMmJihlPUdiKHRoaXMpKSx0aGlzLl9vZmZzZXQ9Yix0aGlzLl9pc1VUQz0hMCxudWxsIT1lJiZ0aGlzLmFkZChlLFwibVwiKSxmIT09YiYmKCFjfHx0aGlzLl9jaGFuZ2VJblByb2dyZXNzP1hiKHRoaXMsU2IoYi1mLFwibVwiKSwxLCExKTp0aGlzLl9jaGFuZ2VJblByb2dyZXNzfHwodGhpcy5fY2hhbmdlSW5Qcm9ncmVzcz0hMCxhLnVwZGF0ZU9mZnNldCh0aGlzLCEwKSx0aGlzLl9jaGFuZ2VJblByb2dyZXNzPW51bGwpKSx0aGlzfXJldHVybiB0aGlzLl9pc1VUQz9mOkdiKHRoaXMpfWZ1bmN0aW9uIEliKGEsYil7cmV0dXJuIG51bGwhPWE/KFwic3RyaW5nXCIhPXR5cGVvZiBhJiYoYT0tYSksdGhpcy51dGNPZmZzZXQoYSxiKSx0aGlzKTotdGhpcy51dGNPZmZzZXQoKX1mdW5jdGlvbiBKYihhKXtyZXR1cm4gdGhpcy51dGNPZmZzZXQoMCxhKX1mdW5jdGlvbiBLYihhKXtyZXR1cm4gdGhpcy5faXNVVEMmJih0aGlzLnV0Y09mZnNldCgwLGEpLHRoaXMuX2lzVVRDPSExLGEmJnRoaXMuc3VidHJhY3QoR2IodGhpcyksXCJtXCIpKSx0aGlzfWZ1bmN0aW9uIExiKCl7aWYobnVsbCE9dGhpcy5fdHptKXRoaXMudXRjT2Zmc2V0KHRoaXMuX3R6bSwhMSwhMCk7ZWxzZSBpZihcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5faSl7dmFyIGE9RWIoJGQsdGhpcy5faSk7bnVsbCE9YT90aGlzLnV0Y09mZnNldChhKTp0aGlzLnV0Y09mZnNldCgwLCEwKX1yZXR1cm4gdGhpc31mdW5jdGlvbiBNYihhKXtyZXR1cm4hIXRoaXMuaXNWYWxpZCgpJiYoYT1hP3RiKGEpLnV0Y09mZnNldCgpOjAsKHRoaXMudXRjT2Zmc2V0KCktYSklNjA9PT0wKX1mdW5jdGlvbiBOYigpe3JldHVybiB0aGlzLnV0Y09mZnNldCgpPnRoaXMuY2xvbmUoKS5tb250aCgwKS51dGNPZmZzZXQoKXx8dGhpcy51dGNPZmZzZXQoKT50aGlzLmNsb25lKCkubW9udGgoNSkudXRjT2Zmc2V0KCl9ZnVuY3Rpb24gT2IoKXtpZighZih0aGlzLl9pc0RTVFNoaWZ0ZWQpKXJldHVybiB0aGlzLl9pc0RTVFNoaWZ0ZWQ7dmFyIGE9e307aWYocShhLHRoaXMpLGE9cWIoYSksYS5fYSl7dmFyIGI9YS5faXNVVEM/bChhLl9hKTp0YihhLl9hKTt0aGlzLl9pc0RTVFNoaWZ0ZWQ9dGhpcy5pc1ZhbGlkKCkmJnYoYS5fYSxiLnRvQXJyYXkoKSk+MH1lbHNlIHRoaXMuX2lzRFNUU2hpZnRlZD0hMTtyZXR1cm4gdGhpcy5faXNEU1RTaGlmdGVkfWZ1bmN0aW9uIFBiKCl7cmV0dXJuISF0aGlzLmlzVmFsaWQoKSYmIXRoaXMuX2lzVVRDfWZ1bmN0aW9uIFFiKCl7cmV0dXJuISF0aGlzLmlzVmFsaWQoKSYmdGhpcy5faXNVVEN9ZnVuY3Rpb24gUmIoKXtyZXR1cm4hIXRoaXMuaXNWYWxpZCgpJiYodGhpcy5faXNVVEMmJjA9PT10aGlzLl9vZmZzZXQpfWZ1bmN0aW9uIFNiKGEsYil7dmFyIGMsZCxlLGY9YSxoPW51bGw7cmV0dXJuIEJiKGEpP2Y9e21zOmEuX21pbGxpc2Vjb25kcyxkOmEuX2RheXMsTTphLl9tb250aHN9OmcoYSk/KGY9e30sYj9mW2JdPWE6Zi5taWxsaXNlY29uZHM9YSk6KGg9VGUuZXhlYyhhKSk/KGM9XCItXCI9PT1oWzFdPy0xOjEsZj17eTowLGQ6dShoW2dlXSkqYyxoOnUoaFtoZV0pKmMsbTp1KGhbaWVdKSpjLHM6dShoW2plXSkqYyxtczp1KENiKDFlMypoW2tlXSkpKmN9KTooaD1VZS5leGVjKGEpKT8oYz1cIi1cIj09PWhbMV0/LTE6MSxmPXt5OlRiKGhbMl0sYyksTTpUYihoWzNdLGMpLHc6VGIoaFs0XSxjKSxkOlRiKGhbNV0sYyksaDpUYihoWzZdLGMpLG06VGIoaFs3XSxjKSxzOlRiKGhbOF0sYyl9KTpudWxsPT1mP2Y9e306XCJvYmplY3RcIj09dHlwZW9mIGYmJihcImZyb21cImluIGZ8fFwidG9cImluIGYpJiYoZT1WYih0YihmLmZyb20pLHRiKGYudG8pKSxmPXt9LGYubXM9ZS5taWxsaXNlY29uZHMsZi5NPWUubW9udGhzKSxkPW5ldyBBYihmKSxCYihhKSYmaihhLFwiX2xvY2FsZVwiKSYmKGQuX2xvY2FsZT1hLl9sb2NhbGUpLGR9ZnVuY3Rpb24gVGIoYSxiKXt2YXIgYz1hJiZwYXJzZUZsb2F0KGEucmVwbGFjZShcIixcIixcIi5cIikpO3JldHVybihpc05hTihjKT8wOmMpKmJ9ZnVuY3Rpb24gVWIoYSxiKXt2YXIgYz17bWlsbGlzZWNvbmRzOjAsbW9udGhzOjB9O3JldHVybiBjLm1vbnRocz1iLm1vbnRoKCktYS5tb250aCgpKzEyKihiLnllYXIoKS1hLnllYXIoKSksYS5jbG9uZSgpLmFkZChjLm1vbnRocyxcIk1cIikuaXNBZnRlcihiKSYmLS1jLm1vbnRocyxjLm1pbGxpc2Vjb25kcz0rYi0rYS5jbG9uZSgpLmFkZChjLm1vbnRocyxcIk1cIiksY31mdW5jdGlvbiBWYihhLGIpe3ZhciBjO3JldHVybiBhLmlzVmFsaWQoKSYmYi5pc1ZhbGlkKCk/KGI9RmIoYixhKSxhLmlzQmVmb3JlKGIpP2M9VWIoYSxiKTooYz1VYihiLGEpLGMubWlsbGlzZWNvbmRzPS1jLm1pbGxpc2Vjb25kcyxjLm1vbnRocz0tYy5tb250aHMpLGMpOnttaWxsaXNlY29uZHM6MCxtb250aHM6MH19ZnVuY3Rpb24gV2IoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXt2YXIgZSxmO3JldHVybiBudWxsPT09ZHx8aXNOYU4oK2QpfHwoeShiLFwibW9tZW50KCkuXCIrYitcIihwZXJpb2QsIG51bWJlcikgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBtb21lbnQoKS5cIitiK1wiKG51bWJlciwgcGVyaW9kKS4gU2VlIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvYWRkLWludmVydGVkLXBhcmFtLyBmb3IgbW9yZSBpbmZvLlwiKSxmPWMsYz1kLGQ9ZiksYz1cInN0cmluZ1wiPT10eXBlb2YgYz8rYzpjLGU9U2IoYyxkKSxYYih0aGlzLGUsYSksdGhpc319ZnVuY3Rpb24gWGIoYixjLGQsZSl7dmFyIGY9Yy5fbWlsbGlzZWNvbmRzLGc9Q2IoYy5fZGF5cyksaD1DYihjLl9tb250aHMpO2IuaXNWYWxpZCgpJiYoZT1udWxsPT1lfHxlLGYmJmIuX2Quc2V0VGltZShiLl9kLnZhbHVlT2YoKStmKmQpLGcmJlEoYixcIkRhdGVcIixQKGIsXCJEYXRlXCIpK2cqZCksaCYmamEoYixQKGIsXCJNb250aFwiKStoKmQpLGUmJmEudXBkYXRlT2Zmc2V0KGIsZ3x8aCkpfWZ1bmN0aW9uIFliKGEsYil7dmFyIGM9YS5kaWZmKGIsXCJkYXlzXCIsITApO3JldHVybiBjPC02P1wic2FtZUVsc2VcIjpjPC0xP1wibGFzdFdlZWtcIjpjPDA/XCJsYXN0RGF5XCI6YzwxP1wic2FtZURheVwiOmM8Mj9cIm5leHREYXlcIjpjPDc/XCJuZXh0V2Vla1wiOlwic2FtZUVsc2VcIn1mdW5jdGlvbiBaYihiLGMpe3ZhciBkPWJ8fHRiKCksZT1GYihkLHRoaXMpLnN0YXJ0T2YoXCJkYXlcIiksZj1hLmNhbGVuZGFyRm9ybWF0KHRoaXMsZSl8fFwic2FtZUVsc2VcIixnPWMmJih6KGNbZl0pP2NbZl0uY2FsbCh0aGlzLGQpOmNbZl0pO3JldHVybiB0aGlzLmZvcm1hdChnfHx0aGlzLmxvY2FsZURhdGEoKS5jYWxlbmRhcihmLHRoaXMsdGIoZCkpKX1mdW5jdGlvbiAkYigpe3JldHVybiBuZXcgcih0aGlzKX1mdW5jdGlvbiBfYihhLGIpe3ZhciBjPXMoYSk/YTp0YihhKTtyZXR1cm4hKCF0aGlzLmlzVmFsaWQoKXx8IWMuaXNWYWxpZCgpKSYmKGI9SyhmKGIpP1wibWlsbGlzZWNvbmRcIjpiKSxcIm1pbGxpc2Vjb25kXCI9PT1iP3RoaXMudmFsdWVPZigpPmMudmFsdWVPZigpOmMudmFsdWVPZigpPHRoaXMuY2xvbmUoKS5zdGFydE9mKGIpLnZhbHVlT2YoKSl9ZnVuY3Rpb24gYWMoYSxiKXt2YXIgYz1zKGEpP2E6dGIoYSk7cmV0dXJuISghdGhpcy5pc1ZhbGlkKCl8fCFjLmlzVmFsaWQoKSkmJihiPUsoZihiKT9cIm1pbGxpc2Vjb25kXCI6YiksXCJtaWxsaXNlY29uZFwiPT09Yj90aGlzLnZhbHVlT2YoKTxjLnZhbHVlT2YoKTp0aGlzLmNsb25lKCkuZW5kT2YoYikudmFsdWVPZigpPGMudmFsdWVPZigpKX1mdW5jdGlvbiBiYyhhLGIsYyxkKXtyZXR1cm4gZD1kfHxcIigpXCIsKFwiKFwiPT09ZFswXT90aGlzLmlzQWZ0ZXIoYSxjKTohdGhpcy5pc0JlZm9yZShhLGMpKSYmKFwiKVwiPT09ZFsxXT90aGlzLmlzQmVmb3JlKGIsYyk6IXRoaXMuaXNBZnRlcihiLGMpKX1mdW5jdGlvbiBjYyhhLGIpe3ZhciBjLGQ9cyhhKT9hOnRiKGEpO3JldHVybiEoIXRoaXMuaXNWYWxpZCgpfHwhZC5pc1ZhbGlkKCkpJiYoYj1LKGJ8fFwibWlsbGlzZWNvbmRcIiksXCJtaWxsaXNlY29uZFwiPT09Yj90aGlzLnZhbHVlT2YoKT09PWQudmFsdWVPZigpOihjPWQudmFsdWVPZigpLHRoaXMuY2xvbmUoKS5zdGFydE9mKGIpLnZhbHVlT2YoKTw9YyYmYzw9dGhpcy5jbG9uZSgpLmVuZE9mKGIpLnZhbHVlT2YoKSkpfWZ1bmN0aW9uIGRjKGEsYil7cmV0dXJuIHRoaXMuaXNTYW1lKGEsYil8fHRoaXMuaXNBZnRlcihhLGIpfWZ1bmN0aW9uIGVjKGEsYil7cmV0dXJuIHRoaXMuaXNTYW1lKGEsYil8fHRoaXMuaXNCZWZvcmUoYSxiKX1mdW5jdGlvbiBmYyhhLGIsYyl7dmFyIGQsZSxmLGc7cmV0dXJuIHRoaXMuaXNWYWxpZCgpPyhkPUZiKGEsdGhpcyksZC5pc1ZhbGlkKCk/KGU9NmU0KihkLnV0Y09mZnNldCgpLXRoaXMudXRjT2Zmc2V0KCkpLGI9SyhiKSxcInllYXJcIj09PWJ8fFwibW9udGhcIj09PWJ8fFwicXVhcnRlclwiPT09Yj8oZz1nYyh0aGlzLGQpLFwicXVhcnRlclwiPT09Yj9nLz0zOlwieWVhclwiPT09YiYmKGcvPTEyKSk6KGY9dGhpcy1kLGc9XCJzZWNvbmRcIj09PWI/Zi8xZTM6XCJtaW51dGVcIj09PWI/Zi82ZTQ6XCJob3VyXCI9PT1iP2YvMzZlNTpcImRheVwiPT09Yj8oZi1lKS84NjRlNTpcIndlZWtcIj09PWI/KGYtZSkvNjA0OGU1OmYpLGM/Zzp0KGcpKTpOYU4pOk5hTn1mdW5jdGlvbiBnYyhhLGIpe3ZhciBjLGQsZT0xMiooYi55ZWFyKCktYS55ZWFyKCkpKyhiLm1vbnRoKCktYS5tb250aCgpKSxmPWEuY2xvbmUoKS5hZGQoZSxcIm1vbnRoc1wiKTtyZXR1cm4gYi1mPDA/KGM9YS5jbG9uZSgpLmFkZChlLTEsXCJtb250aHNcIiksZD0oYi1mKS8oZi1jKSk6KGM9YS5jbG9uZSgpLmFkZChlKzEsXCJtb250aHNcIiksZD0oYi1mKS8oYy1mKSksLShlK2QpfHwwfWZ1bmN0aW9uIGhjKCl7cmV0dXJuIHRoaXMuY2xvbmUoKS5sb2NhbGUoXCJlblwiKS5mb3JtYXQoXCJkZGQgTU1NIEREIFlZWVkgSEg6bW06c3MgW0dNVF1aWlwiKX1mdW5jdGlvbiBpYygpe2lmKCF0aGlzLmlzVmFsaWQoKSlyZXR1cm4gbnVsbDt2YXIgYT10aGlzLmNsb25lKCkudXRjKCk7cmV0dXJuIGEueWVhcigpPDB8fGEueWVhcigpPjk5OTk/WChhLFwiWVlZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdXCIpOnooRGF0ZS5wcm90b3R5cGUudG9JU09TdHJpbmcpP3RoaXMudG9EYXRlKCkudG9JU09TdHJpbmcoKTpYKGEsXCJZWVlZLU1NLUREW1RdSEg6bW06c3MuU1NTW1pdXCIpfWZ1bmN0aW9uIGpjKCl7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVyblwibW9tZW50LmludmFsaWQoLyogXCIrdGhpcy5faStcIiAqLylcIjt2YXIgYT1cIm1vbWVudFwiLGI9XCJcIjt0aGlzLmlzTG9jYWwoKXx8KGE9MD09PXRoaXMudXRjT2Zmc2V0KCk/XCJtb21lbnQudXRjXCI6XCJtb21lbnQucGFyc2Vab25lXCIsYj1cIlpcIik7dmFyIGM9XCJbXCIrYSsnKFwiXScsZD0wPD10aGlzLnllYXIoKSYmdGhpcy55ZWFyKCk8PTk5OTk/XCJZWVlZXCI6XCJZWVlZWVlcIixlPVwiLU1NLUREW1RdSEg6bW06c3MuU1NTXCIsZj1iKydbXCIpXSc7cmV0dXJuIHRoaXMuZm9ybWF0KGMrZCtlK2YpfWZ1bmN0aW9uIGtjKGIpe2J8fChiPXRoaXMuaXNVdGMoKT9hLmRlZmF1bHRGb3JtYXRVdGM6YS5kZWZhdWx0Rm9ybWF0KTt2YXIgYz1YKHRoaXMsYik7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLnBvc3Rmb3JtYXQoYyl9ZnVuY3Rpb24gbGMoYSxiKXtyZXR1cm4gdGhpcy5pc1ZhbGlkKCkmJihzKGEpJiZhLmlzVmFsaWQoKXx8dGIoYSkuaXNWYWxpZCgpKT9TYih7dG86dGhpcyxmcm9tOmF9KS5sb2NhbGUodGhpcy5sb2NhbGUoKSkuaHVtYW5pemUoIWIpOnRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCl9ZnVuY3Rpb24gbWMoYSl7cmV0dXJuIHRoaXMuZnJvbSh0YigpLGEpfWZ1bmN0aW9uIG5jKGEsYil7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiYocyhhKSYmYS5pc1ZhbGlkKCl8fHRiKGEpLmlzVmFsaWQoKSk/U2Ioe2Zyb206dGhpcyx0bzphfSkubG9jYWxlKHRoaXMubG9jYWxlKCkpLmh1bWFuaXplKCFiKTp0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpfWZ1bmN0aW9uIG9jKGEpe3JldHVybiB0aGlzLnRvKHRiKCksYSl9ZnVuY3Rpb24gcGMoYSl7dmFyIGI7cmV0dXJuIHZvaWQgMD09PWE/dGhpcy5fbG9jYWxlLl9hYmJyOihiPWJiKGEpLG51bGwhPWImJih0aGlzLl9sb2NhbGU9YiksdGhpcyl9ZnVuY3Rpb24gcWMoKXtyZXR1cm4gdGhpcy5fbG9jYWxlfWZ1bmN0aW9uIHJjKGEpe3N3aXRjaChhPUsoYSkpe2Nhc2VcInllYXJcIjp0aGlzLm1vbnRoKDApO2Nhc2VcInF1YXJ0ZXJcIjpjYXNlXCJtb250aFwiOnRoaXMuZGF0ZSgxKTtjYXNlXCJ3ZWVrXCI6Y2FzZVwiaXNvV2Vla1wiOmNhc2VcImRheVwiOmNhc2VcImRhdGVcIjp0aGlzLmhvdXJzKDApO2Nhc2VcImhvdXJcIjp0aGlzLm1pbnV0ZXMoMCk7Y2FzZVwibWludXRlXCI6dGhpcy5zZWNvbmRzKDApO2Nhc2VcInNlY29uZFwiOnRoaXMubWlsbGlzZWNvbmRzKDApfXJldHVyblwid2Vla1wiPT09YSYmdGhpcy53ZWVrZGF5KDApLFwiaXNvV2Vla1wiPT09YSYmdGhpcy5pc29XZWVrZGF5KDEpLFwicXVhcnRlclwiPT09YSYmdGhpcy5tb250aCgzKk1hdGguZmxvb3IodGhpcy5tb250aCgpLzMpKSx0aGlzfWZ1bmN0aW9uIHNjKGEpe3JldHVybiBhPUsoYSksdm9pZCAwPT09YXx8XCJtaWxsaXNlY29uZFwiPT09YT90aGlzOihcImRhdGVcIj09PWEmJihhPVwiZGF5XCIpLHRoaXMuc3RhcnRPZihhKS5hZGQoMSxcImlzb1dlZWtcIj09PWE/XCJ3ZWVrXCI6YSkuc3VidHJhY3QoMSxcIm1zXCIpKX1mdW5jdGlvbiB0Yygpe3JldHVybiB0aGlzLl9kLnZhbHVlT2YoKS02ZTQqKHRoaXMuX29mZnNldHx8MCl9ZnVuY3Rpb24gdWMoKXtyZXR1cm4gTWF0aC5mbG9vcih0aGlzLnZhbHVlT2YoKS8xZTMpfWZ1bmN0aW9uIHZjKCl7cmV0dXJuIG5ldyBEYXRlKHRoaXMudmFsdWVPZigpKX1mdW5jdGlvbiB3Yygpe3ZhciBhPXRoaXM7cmV0dXJuW2EueWVhcigpLGEubW9udGgoKSxhLmRhdGUoKSxhLmhvdXIoKSxhLm1pbnV0ZSgpLGEuc2Vjb25kKCksYS5taWxsaXNlY29uZCgpXX1mdW5jdGlvbiB4Yygpe3ZhciBhPXRoaXM7cmV0dXJue3llYXJzOmEueWVhcigpLG1vbnRoczphLm1vbnRoKCksZGF0ZTphLmRhdGUoKSxob3VyczphLmhvdXJzKCksbWludXRlczphLm1pbnV0ZXMoKSxzZWNvbmRzOmEuc2Vjb25kcygpLG1pbGxpc2Vjb25kczphLm1pbGxpc2Vjb25kcygpfX1mdW5jdGlvbiB5Yygpe3JldHVybiB0aGlzLmlzVmFsaWQoKT90aGlzLnRvSVNPU3RyaW5nKCk6bnVsbH1mdW5jdGlvbiB6Yygpe3JldHVybiBvKHRoaXMpfWZ1bmN0aW9uIEFjKCl7XG5yZXR1cm4gayh7fSxuKHRoaXMpKX1mdW5jdGlvbiBCYygpe3JldHVybiBuKHRoaXMpLm92ZXJmbG93fWZ1bmN0aW9uIENjKCl7cmV0dXJue2lucHV0OnRoaXMuX2ksZm9ybWF0OnRoaXMuX2YsbG9jYWxlOnRoaXMuX2xvY2FsZSxpc1VUQzp0aGlzLl9pc1VUQyxzdHJpY3Q6dGhpcy5fc3RyaWN0fX1mdW5jdGlvbiBEYyhhLGIpe1UoMCxbYSxhLmxlbmd0aF0sMCxiKX1mdW5jdGlvbiBFYyhhKXtyZXR1cm4gSWMuY2FsbCh0aGlzLGEsdGhpcy53ZWVrKCksdGhpcy53ZWVrZGF5KCksdGhpcy5sb2NhbGVEYXRhKCkuX3dlZWsuZG93LHRoaXMubG9jYWxlRGF0YSgpLl93ZWVrLmRveSl9ZnVuY3Rpb24gRmMoYSl7cmV0dXJuIEljLmNhbGwodGhpcyxhLHRoaXMuaXNvV2VlaygpLHRoaXMuaXNvV2Vla2RheSgpLDEsNCl9ZnVuY3Rpb24gR2MoKXtyZXR1cm4geGEodGhpcy55ZWFyKCksMSw0KX1mdW5jdGlvbiBIYygpe3ZhciBhPXRoaXMubG9jYWxlRGF0YSgpLl93ZWVrO3JldHVybiB4YSh0aGlzLnllYXIoKSxhLmRvdyxhLmRveSl9ZnVuY3Rpb24gSWMoYSxiLGMsZCxlKXt2YXIgZjtyZXR1cm4gbnVsbD09YT93YSh0aGlzLGQsZSkueWVhcjooZj14YShhLGQsZSksYj5mJiYoYj1mKSxKYy5jYWxsKHRoaXMsYSxiLGMsZCxlKSl9ZnVuY3Rpb24gSmMoYSxiLGMsZCxlKXt2YXIgZj12YShhLGIsYyxkLGUpLGc9dGEoZi55ZWFyLDAsZi5kYXlPZlllYXIpO3JldHVybiB0aGlzLnllYXIoZy5nZXRVVENGdWxsWWVhcigpKSx0aGlzLm1vbnRoKGcuZ2V0VVRDTW9udGgoKSksdGhpcy5kYXRlKGcuZ2V0VVRDRGF0ZSgpKSx0aGlzfWZ1bmN0aW9uIEtjKGEpe3JldHVybiBudWxsPT1hP01hdGguY2VpbCgodGhpcy5tb250aCgpKzEpLzMpOnRoaXMubW9udGgoMyooYS0xKSt0aGlzLm1vbnRoKCklMyl9ZnVuY3Rpb24gTGMoYSl7dmFyIGI9TWF0aC5yb3VuZCgodGhpcy5jbG9uZSgpLnN0YXJ0T2YoXCJkYXlcIiktdGhpcy5jbG9uZSgpLnN0YXJ0T2YoXCJ5ZWFyXCIpKS84NjRlNSkrMTtyZXR1cm4gbnVsbD09YT9iOnRoaXMuYWRkKGEtYixcImRcIil9ZnVuY3Rpb24gTWMoYSxiKXtiW2tlXT11KDFlMyooXCIwLlwiK2EpKX1mdW5jdGlvbiBOYygpe3JldHVybiB0aGlzLl9pc1VUQz9cIlVUQ1wiOlwiXCJ9ZnVuY3Rpb24gT2MoKXtyZXR1cm4gdGhpcy5faXNVVEM/XCJDb29yZGluYXRlZCBVbml2ZXJzYWwgVGltZVwiOlwiXCJ9ZnVuY3Rpb24gUGMoYSl7cmV0dXJuIHRiKDFlMyphKX1mdW5jdGlvbiBRYygpe3JldHVybiB0Yi5hcHBseShudWxsLGFyZ3VtZW50cykucGFyc2Vab25lKCl9ZnVuY3Rpb24gUmMoYSl7cmV0dXJuIGF9ZnVuY3Rpb24gU2MoYSxiLGMsZCl7dmFyIGU9YmIoKSxmPWwoKS5zZXQoZCxiKTtyZXR1cm4gZVtjXShmLGEpfWZ1bmN0aW9uIFRjKGEsYixjKXtpZihnKGEpJiYoYj1hLGE9dm9pZCAwKSxhPWF8fFwiXCIsbnVsbCE9YilyZXR1cm4gU2MoYSxiLGMsXCJtb250aFwiKTt2YXIgZCxlPVtdO2ZvcihkPTA7ZDwxMjtkKyspZVtkXT1TYyhhLGQsYyxcIm1vbnRoXCIpO3JldHVybiBlfWZ1bmN0aW9uIFVjKGEsYixjLGQpe1wiYm9vbGVhblwiPT10eXBlb2YgYT8oZyhiKSYmKGM9YixiPXZvaWQgMCksYj1ifHxcIlwiKTooYj1hLGM9YixhPSExLGcoYikmJihjPWIsYj12b2lkIDApLGI9Ynx8XCJcIik7dmFyIGU9YmIoKSxmPWE/ZS5fd2Vlay5kb3c6MDtpZihudWxsIT1jKXJldHVybiBTYyhiLChjK2YpJTcsZCxcImRheVwiKTt2YXIgaCxpPVtdO2ZvcihoPTA7aDw3O2grKylpW2hdPVNjKGIsKGgrZiklNyxkLFwiZGF5XCIpO3JldHVybiBpfWZ1bmN0aW9uIFZjKGEsYil7cmV0dXJuIFRjKGEsYixcIm1vbnRoc1wiKX1mdW5jdGlvbiBXYyhhLGIpe3JldHVybiBUYyhhLGIsXCJtb250aHNTaG9ydFwiKX1mdW5jdGlvbiBYYyhhLGIsYyl7cmV0dXJuIFVjKGEsYixjLFwid2Vla2RheXNcIil9ZnVuY3Rpb24gWWMoYSxiLGMpe3JldHVybiBVYyhhLGIsYyxcIndlZWtkYXlzU2hvcnRcIil9ZnVuY3Rpb24gWmMoYSxiLGMpe3JldHVybiBVYyhhLGIsYyxcIndlZWtkYXlzTWluXCIpfWZ1bmN0aW9uICRjKCl7dmFyIGE9dGhpcy5fZGF0YTtyZXR1cm4gdGhpcy5fbWlsbGlzZWNvbmRzPWRmKHRoaXMuX21pbGxpc2Vjb25kcyksdGhpcy5fZGF5cz1kZih0aGlzLl9kYXlzKSx0aGlzLl9tb250aHM9ZGYodGhpcy5fbW9udGhzKSxhLm1pbGxpc2Vjb25kcz1kZihhLm1pbGxpc2Vjb25kcyksYS5zZWNvbmRzPWRmKGEuc2Vjb25kcyksYS5taW51dGVzPWRmKGEubWludXRlcyksYS5ob3Vycz1kZihhLmhvdXJzKSxhLm1vbnRocz1kZihhLm1vbnRocyksYS55ZWFycz1kZihhLnllYXJzKSx0aGlzfWZ1bmN0aW9uIF9jKGEsYixjLGQpe3ZhciBlPVNiKGIsYyk7cmV0dXJuIGEuX21pbGxpc2Vjb25kcys9ZCplLl9taWxsaXNlY29uZHMsYS5fZGF5cys9ZCplLl9kYXlzLGEuX21vbnRocys9ZCplLl9tb250aHMsYS5fYnViYmxlKCl9ZnVuY3Rpb24gYWQoYSxiKXtyZXR1cm4gX2ModGhpcyxhLGIsMSl9ZnVuY3Rpb24gYmQoYSxiKXtyZXR1cm4gX2ModGhpcyxhLGIsLTEpfWZ1bmN0aW9uIGNkKGEpe3JldHVybiBhPDA/TWF0aC5mbG9vcihhKTpNYXRoLmNlaWwoYSl9ZnVuY3Rpb24gZGQoKXt2YXIgYSxiLGMsZCxlLGY9dGhpcy5fbWlsbGlzZWNvbmRzLGc9dGhpcy5fZGF5cyxoPXRoaXMuX21vbnRocyxpPXRoaXMuX2RhdGE7cmV0dXJuIGY+PTAmJmc+PTAmJmg+PTB8fGY8PTAmJmc8PTAmJmg8PTB8fChmKz04NjRlNSpjZChmZChoKStnKSxnPTAsaD0wKSxpLm1pbGxpc2Vjb25kcz1mJTFlMyxhPXQoZi8xZTMpLGkuc2Vjb25kcz1hJTYwLGI9dChhLzYwKSxpLm1pbnV0ZXM9YiU2MCxjPXQoYi82MCksaS5ob3Vycz1jJTI0LGcrPXQoYy8yNCksZT10KGVkKGcpKSxoKz1lLGctPWNkKGZkKGUpKSxkPXQoaC8xMiksaCU9MTIsaS5kYXlzPWcsaS5tb250aHM9aCxpLnllYXJzPWQsdGhpc31mdW5jdGlvbiBlZChhKXtyZXR1cm4gNDgwMCphLzE0NjA5N31mdW5jdGlvbiBmZChhKXtyZXR1cm4gMTQ2MDk3KmEvNDgwMH1mdW5jdGlvbiBnZChhKXtpZighdGhpcy5pc1ZhbGlkKCkpcmV0dXJuIE5hTjt2YXIgYixjLGQ9dGhpcy5fbWlsbGlzZWNvbmRzO2lmKGE9SyhhKSxcIm1vbnRoXCI9PT1hfHxcInllYXJcIj09PWEpcmV0dXJuIGI9dGhpcy5fZGF5cytkLzg2NGU1LGM9dGhpcy5fbW9udGhzK2VkKGIpLFwibW9udGhcIj09PWE/YzpjLzEyO3N3aXRjaChiPXRoaXMuX2RheXMrTWF0aC5yb3VuZChmZCh0aGlzLl9tb250aHMpKSxhKXtjYXNlXCJ3ZWVrXCI6cmV0dXJuIGIvNytkLzYwNDhlNTtjYXNlXCJkYXlcIjpyZXR1cm4gYitkLzg2NGU1O2Nhc2VcImhvdXJcIjpyZXR1cm4gMjQqYitkLzM2ZTU7Y2FzZVwibWludXRlXCI6cmV0dXJuIDE0NDAqYitkLzZlNDtjYXNlXCJzZWNvbmRcIjpyZXR1cm4gODY0MDAqYitkLzFlMztjYXNlXCJtaWxsaXNlY29uZFwiOnJldHVybiBNYXRoLmZsb29yKDg2NGU1KmIpK2Q7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHVuaXQgXCIrYSl9fWZ1bmN0aW9uIGhkKCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMuX21pbGxpc2Vjb25kcys4NjRlNSp0aGlzLl9kYXlzK3RoaXMuX21vbnRocyUxMioyNTkyZTYrMzE1MzZlNip1KHRoaXMuX21vbnRocy8xMik6TmFOfWZ1bmN0aW9uIGlkKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmFzKGEpfX1mdW5jdGlvbiBqZChhKXtyZXR1cm4gYT1LKGEpLHRoaXMuaXNWYWxpZCgpP3RoaXNbYStcInNcIl0oKTpOYU59ZnVuY3Rpb24ga2QoYSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNWYWxpZCgpP3RoaXMuX2RhdGFbYV06TmFOfX1mdW5jdGlvbiBsZCgpe3JldHVybiB0KHRoaXMuZGF5cygpLzcpfWZ1bmN0aW9uIG1kKGEsYixjLGQsZSl7cmV0dXJuIGUucmVsYXRpdmVUaW1lKGJ8fDEsISFjLGEsZCl9ZnVuY3Rpb24gbmQoYSxiLGMpe3ZhciBkPVNiKGEpLmFicygpLGU9dWYoZC5hcyhcInNcIikpLGY9dWYoZC5hcyhcIm1cIikpLGc9dWYoZC5hcyhcImhcIikpLGg9dWYoZC5hcyhcImRcIikpLGk9dWYoZC5hcyhcIk1cIikpLGo9dWYoZC5hcyhcInlcIikpLGs9ZTw9dmYuc3MmJltcInNcIixlXXx8ZTx2Zi5zJiZbXCJzc1wiLGVdfHxmPD0xJiZbXCJtXCJdfHxmPHZmLm0mJltcIm1tXCIsZl18fGc8PTEmJltcImhcIl18fGc8dmYuaCYmW1wiaGhcIixnXXx8aDw9MSYmW1wiZFwiXXx8aDx2Zi5kJiZbXCJkZFwiLGhdfHxpPD0xJiZbXCJNXCJdfHxpPHZmLk0mJltcIk1NXCIsaV18fGo8PTEmJltcInlcIl18fFtcInl5XCIsal07cmV0dXJuIGtbMl09YixrWzNdPSthPjAsa1s0XT1jLG1kLmFwcGx5KG51bGwsayl9ZnVuY3Rpb24gb2QoYSl7cmV0dXJuIHZvaWQgMD09PWE/dWY6XCJmdW5jdGlvblwiPT10eXBlb2YgYSYmKHVmPWEsITApfWZ1bmN0aW9uIHBkKGEsYil7cmV0dXJuIHZvaWQgMCE9PXZmW2FdJiYodm9pZCAwPT09Yj92ZlthXToodmZbYV09YixcInNcIj09PWEmJih2Zi5zcz1iLTEpLCEwKSl9ZnVuY3Rpb24gcWQoYSl7aWYoIXRoaXMuaXNWYWxpZCgpKXJldHVybiB0aGlzLmxvY2FsZURhdGEoKS5pbnZhbGlkRGF0ZSgpO3ZhciBiPXRoaXMubG9jYWxlRGF0YSgpLGM9bmQodGhpcywhYSxiKTtyZXR1cm4gYSYmKGM9Yi5wYXN0RnV0dXJlKCt0aGlzLGMpKSxiLnBvc3Rmb3JtYXQoYyl9ZnVuY3Rpb24gcmQoKXtpZighdGhpcy5pc1ZhbGlkKCkpcmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLmludmFsaWREYXRlKCk7dmFyIGEsYixjLGQ9d2YodGhpcy5fbWlsbGlzZWNvbmRzKS8xZTMsZT13Zih0aGlzLl9kYXlzKSxmPXdmKHRoaXMuX21vbnRocyk7YT10KGQvNjApLGI9dChhLzYwKSxkJT02MCxhJT02MCxjPXQoZi8xMiksZiU9MTI7dmFyIGc9YyxoPWYsaT1lLGo9YixrPWEsbD1kLG09dGhpcy5hc1NlY29uZHMoKTtyZXR1cm4gbT8obTwwP1wiLVwiOlwiXCIpK1wiUFwiKyhnP2crXCJZXCI6XCJcIikrKGg/aCtcIk1cIjpcIlwiKSsoaT9pK1wiRFwiOlwiXCIpKyhqfHxrfHxsP1wiVFwiOlwiXCIpKyhqP2orXCJIXCI6XCJcIikrKGs/aytcIk1cIjpcIlwiKSsobD9sK1wiU1wiOlwiXCIpOlwiUDBEXCJ9dmFyIHNkLHRkO3RkPUFycmF5LnByb3RvdHlwZS5zb21lP0FycmF5LnByb3RvdHlwZS5zb21lOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1PYmplY3QodGhpcyksYz1iLmxlbmd0aD4+PjAsZD0wO2Q8YztkKyspaWYoZCBpbiBiJiZhLmNhbGwodGhpcyxiW2RdLGQsYikpcmV0dXJuITA7cmV0dXJuITF9O3ZhciB1ZD10ZCx2ZD1hLm1vbWVudFByb3BlcnRpZXM9W10sd2Q9ITEseGQ9e307YS5zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZ3M9ITEsYS5kZXByZWNhdGlvbkhhbmRsZXI9bnVsbDt2YXIgeWQ7eWQ9T2JqZWN0LmtleXM/T2JqZWN0LmtleXM6ZnVuY3Rpb24oYSl7dmFyIGIsYz1bXTtmb3IoYiBpbiBhKWooYSxiKSYmYy5wdXNoKGIpO3JldHVybiBjfTt2YXIgemQsQWQ9eWQsQmQ9e3NhbWVEYXk6XCJbVG9kYXkgYXRdIExUXCIsbmV4dERheTpcIltUb21vcnJvdyBhdF0gTFRcIixuZXh0V2VlazpcImRkZGQgW2F0XSBMVFwiLGxhc3REYXk6XCJbWWVzdGVyZGF5IGF0XSBMVFwiLGxhc3RXZWVrOlwiW0xhc3RdIGRkZGQgW2F0XSBMVFwiLHNhbWVFbHNlOlwiTFwifSxDZD17TFRTOlwiaDptbTpzcyBBXCIsTFQ6XCJoOm1tIEFcIixMOlwiTU0vREQvWVlZWVwiLExMOlwiTU1NTSBELCBZWVlZXCIsTExMOlwiTU1NTSBELCBZWVlZIGg6bW0gQVwiLExMTEw6XCJkZGRkLCBNTU1NIEQsIFlZWVkgaDptbSBBXCJ9LERkPVwiSW52YWxpZCBkYXRlXCIsRWQ9XCIlZFwiLEZkPS9cXGR7MSwyfS8sR2Q9e2Z1dHVyZTpcImluICVzXCIscGFzdDpcIiVzIGFnb1wiLHM6XCJhIGZldyBzZWNvbmRzXCIsc3M6XCIlZCBzZWNvbmRzXCIsbTpcImEgbWludXRlXCIsbW06XCIlZCBtaW51dGVzXCIsaDpcImFuIGhvdXJcIixoaDpcIiVkIGhvdXJzXCIsZDpcImEgZGF5XCIsZGQ6XCIlZCBkYXlzXCIsTTpcImEgbW9udGhcIixNTTpcIiVkIG1vbnRoc1wiLHk6XCJhIHllYXJcIix5eTpcIiVkIHllYXJzXCJ9LEhkPXt9LElkPXt9LEpkPS8oXFxbW15cXFtdKlxcXSl8KFxcXFwpPyhbSGhdbW0oc3MpP3xNb3xNTT9NP00/fERvfERERG98REQ/RD9EP3xkZGQ/ZD98ZG8/fHdbb3x3XT98V1tvfFddP3xRbz98WVlZWVlZfFlZWVlZfFlZWVl8WVl8Z2coZ2dnPyk/fEdHKEdHRz8pP3xlfEV8YXxBfGhoP3xISD98a2s/fG1tP3xzcz98U3sxLDl9fHh8WHx6ej98Wlo/fC4pL2csS2Q9LyhcXFtbXlxcW10qXFxdKXwoXFxcXCk/KExUU3xMVHxMTD9MP0w/fGx7MSw0fSkvZyxMZD17fSxNZD17fSxOZD0vXFxkLyxPZD0vXFxkXFxkLyxQZD0vXFxkezN9LyxRZD0vXFxkezR9LyxSZD0vWystXT9cXGR7Nn0vLFNkPS9cXGRcXGQ/LyxUZD0vXFxkXFxkXFxkXFxkPy8sVWQ9L1xcZFxcZFxcZFxcZFxcZFxcZD8vLFZkPS9cXGR7MSwzfS8sV2Q9L1xcZHsxLDR9LyxYZD0vWystXT9cXGR7MSw2fS8sWWQ9L1xcZCsvLFpkPS9bKy1dP1xcZCsvLCRkPS9afFsrLV1cXGRcXGQ6P1xcZFxcZC9naSxfZD0vWnxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPy9naSxhZT0vWystXT9cXGQrKFxcLlxcZHsxLDN9KT8vLGJlPS9bMC05XSpbJ2EtelxcdTAwQTAtXFx1MDVGRlxcdTA3MDAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0rfFtcXHUwNjAwLVxcdTA2RkZcXC9dKyhcXHMqP1tcXHUwNjAwLVxcdTA2RkZdKyl7MSwyfS9pLGNlPXt9LGRlPXt9LGVlPTAsZmU9MSxnZT0yLGhlPTMsaWU9NCxqZT01LGtlPTYsbGU9NyxtZT04O3pkPUFycmF5LnByb3RvdHlwZS5pbmRleE9mP0FycmF5LnByb3RvdHlwZS5pbmRleE9mOmZ1bmN0aW9uKGEpe3ZhciBiO2ZvcihiPTA7Yjx0aGlzLmxlbmd0aDsrK2IpaWYodGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9O3ZhciBuZT16ZDtVKFwiTVwiLFtcIk1NXCIsMl0sXCJNb1wiLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9udGgoKSsxfSksVShcIk1NTVwiLDAsMCxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkubW9udGhzU2hvcnQodGhpcyxhKX0pLFUoXCJNTU1NXCIsMCwwLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS5tb250aHModGhpcyxhKX0pLEooXCJtb250aFwiLFwiTVwiKSxNKFwibW9udGhcIiw4KSxaKFwiTVwiLFNkKSxaKFwiTU1cIixTZCxPZCksWihcIk1NTVwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIubW9udGhzU2hvcnRSZWdleChhKX0pLFooXCJNTU1NXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi5tb250aHNSZWdleChhKX0pLGJhKFtcIk1cIixcIk1NXCJdLGZ1bmN0aW9uKGEsYil7YltmZV09dShhKS0xfSksYmEoW1wiTU1NXCIsXCJNTU1NXCJdLGZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWMuX2xvY2FsZS5tb250aHNQYXJzZShhLGQsYy5fc3RyaWN0KTtudWxsIT1lP2JbZmVdPWU6bihjKS5pbnZhbGlkTW9udGg9YX0pO3ZhciBvZT0vRFtvRF0/KFxcW1teXFxbXFxdXSpcXF18XFxzKStNTU1NPy8scGU9XCJKYW51YXJ5X0ZlYnJ1YXJ5X01hcmNoX0FwcmlsX01heV9KdW5lX0p1bHlfQXVndXN0X1NlcHRlbWJlcl9PY3RvYmVyX05vdmVtYmVyX0RlY2VtYmVyXCIuc3BsaXQoXCJfXCIpLHFlPVwiSmFuX0ZlYl9NYXJfQXByX01heV9KdW5fSnVsX0F1Z19TZXBfT2N0X05vdl9EZWNcIi5zcGxpdChcIl9cIikscmU9YmUsc2U9YmU7VShcIllcIiwwLDAsZnVuY3Rpb24oKXt2YXIgYT10aGlzLnllYXIoKTtyZXR1cm4gYTw9OTk5OT9cIlwiK2E6XCIrXCIrYX0pLFUoMCxbXCJZWVwiLDJdLDAsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy55ZWFyKCklMTAwfSksVSgwLFtcIllZWVlcIiw0XSwwLFwieWVhclwiKSxVKDAsW1wiWVlZWVlcIiw1XSwwLFwieWVhclwiKSxVKDAsW1wiWVlZWVlZXCIsNiwhMF0sMCxcInllYXJcIiksSihcInllYXJcIixcInlcIiksTShcInllYXJcIiwxKSxaKFwiWVwiLFpkKSxaKFwiWVlcIixTZCxPZCksWihcIllZWVlcIixXZCxRZCksWihcIllZWVlZXCIsWGQsUmQpLFooXCJZWVlZWVlcIixYZCxSZCksYmEoW1wiWVlZWVlcIixcIllZWVlZWVwiXSxlZSksYmEoXCJZWVlZXCIsZnVuY3Rpb24oYixjKXtjW2VlXT0yPT09Yi5sZW5ndGg/YS5wYXJzZVR3b0RpZ2l0WWVhcihiKTp1KGIpfSksYmEoXCJZWVwiLGZ1bmN0aW9uKGIsYyl7Y1tlZV09YS5wYXJzZVR3b0RpZ2l0WWVhcihiKX0pLGJhKFwiWVwiLGZ1bmN0aW9uKGEsYil7YltlZV09cGFyc2VJbnQoYSwxMCl9KSxhLnBhcnNlVHdvRGlnaXRZZWFyPWZ1bmN0aW9uKGEpe3JldHVybiB1KGEpKyh1KGEpPjY4PzE5MDA6MmUzKX07dmFyIHRlPU8oXCJGdWxsWWVhclwiLCEwKTtVKFwid1wiLFtcInd3XCIsMl0sXCJ3b1wiLFwid2Vla1wiKSxVKFwiV1wiLFtcIldXXCIsMl0sXCJXb1wiLFwiaXNvV2Vla1wiKSxKKFwid2Vla1wiLFwid1wiKSxKKFwiaXNvV2Vla1wiLFwiV1wiKSxNKFwid2Vla1wiLDUpLE0oXCJpc29XZWVrXCIsNSksWihcIndcIixTZCksWihcInd3XCIsU2QsT2QpLFooXCJXXCIsU2QpLFooXCJXV1wiLFNkLE9kKSxjYShbXCJ3XCIsXCJ3d1wiLFwiV1wiLFwiV1dcIl0sZnVuY3Rpb24oYSxiLGMsZCl7YltkLnN1YnN0cigwLDEpXT11KGEpfSk7dmFyIHVlPXtkb3c6MCxkb3k6Nn07VShcImRcIiwwLFwiZG9cIixcImRheVwiKSxVKFwiZGRcIiwwLDAsZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubG9jYWxlRGF0YSgpLndlZWtkYXlzTWluKHRoaXMsYSl9KSxVKFwiZGRkXCIsMCwwLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxvY2FsZURhdGEoKS53ZWVrZGF5c1Nob3J0KHRoaXMsYSl9KSxVKFwiZGRkZFwiLDAsMCxmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5sb2NhbGVEYXRhKCkud2Vla2RheXModGhpcyxhKX0pLFUoXCJlXCIsMCwwLFwid2Vla2RheVwiKSxVKFwiRVwiLDAsMCxcImlzb1dlZWtkYXlcIiksSihcImRheVwiLFwiZFwiKSxKKFwid2Vla2RheVwiLFwiZVwiKSxKKFwiaXNvV2Vla2RheVwiLFwiRVwiKSxNKFwiZGF5XCIsMTEpLE0oXCJ3ZWVrZGF5XCIsMTEpLE0oXCJpc29XZWVrZGF5XCIsMTEpLFooXCJkXCIsU2QpLFooXCJlXCIsU2QpLFooXCJFXCIsU2QpLFooXCJkZFwiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGIud2Vla2RheXNNaW5SZWdleChhKX0pLFooXCJkZGRcIixmdW5jdGlvbihhLGIpe3JldHVybiBiLndlZWtkYXlzU2hvcnRSZWdleChhKX0pLFooXCJkZGRkXCIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYi53ZWVrZGF5c1JlZ2V4KGEpfSksY2EoW1wiZGRcIixcImRkZFwiLFwiZGRkZFwiXSxmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1jLl9sb2NhbGUud2Vla2RheXNQYXJzZShhLGQsYy5fc3RyaWN0KTtudWxsIT1lP2IuZD1lOm4oYykuaW52YWxpZFdlZWtkYXk9YX0pLGNhKFtcImRcIixcImVcIixcIkVcIl0sZnVuY3Rpb24oYSxiLGMsZCl7YltkXT11KGEpfSk7dmFyIHZlPVwiU3VuZGF5X01vbmRheV9UdWVzZGF5X1dlZG5lc2RheV9UaHVyc2RheV9GcmlkYXlfU2F0dXJkYXlcIi5zcGxpdChcIl9cIiksd2U9XCJTdW5fTW9uX1R1ZV9XZWRfVGh1X0ZyaV9TYXRcIi5zcGxpdChcIl9cIikseGU9XCJTdV9Nb19UdV9XZV9UaF9Gcl9TYVwiLnNwbGl0KFwiX1wiKSx5ZT1iZSx6ZT1iZSxBZT1iZTtVKFwiSFwiLFtcIkhIXCIsMl0sMCxcImhvdXJcIiksVShcImhcIixbXCJoaFwiLDJdLDAsUmEpLFUoXCJrXCIsW1wia2tcIiwyXSwwLFNhKSxVKFwiaG1tXCIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuXCJcIitSYS5hcHBseSh0aGlzKStUKHRoaXMubWludXRlcygpLDIpfSksVShcImhtbXNzXCIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuXCJcIitSYS5hcHBseSh0aGlzKStUKHRoaXMubWludXRlcygpLDIpK1QodGhpcy5zZWNvbmRzKCksMil9KSxVKFwiSG1tXCIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJuXCJcIit0aGlzLmhvdXJzKCkrVCh0aGlzLm1pbnV0ZXMoKSwyKX0pLFUoXCJIbW1zc1wiLDAsMCxmdW5jdGlvbigpe3JldHVyblwiXCIrdGhpcy5ob3VycygpK1QodGhpcy5taW51dGVzKCksMikrVCh0aGlzLnNlY29uZHMoKSwyKX0pLFRhKFwiYVwiLCEwKSxUYShcIkFcIiwhMSksSihcImhvdXJcIixcImhcIiksTShcImhvdXJcIiwxMyksWihcImFcIixVYSksWihcIkFcIixVYSksWihcIkhcIixTZCksWihcImhcIixTZCksWihcImtcIixTZCksWihcIkhIXCIsU2QsT2QpLFooXCJoaFwiLFNkLE9kKSxaKFwia2tcIixTZCxPZCksWihcImhtbVwiLFRkKSxaKFwiaG1tc3NcIixVZCksWihcIkhtbVwiLFRkKSxaKFwiSG1tc3NcIixVZCksYmEoW1wiSFwiLFwiSEhcIl0saGUpLGJhKFtcImtcIixcImtrXCJdLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD11KGEpO2JbaGVdPTI0PT09ZD8wOmR9KSxiYShbXCJhXCIsXCJBXCJdLGZ1bmN0aW9uKGEsYixjKXtjLl9pc1BtPWMuX2xvY2FsZS5pc1BNKGEpLGMuX21lcmlkaWVtPWF9KSxiYShbXCJoXCIsXCJoaFwiXSxmdW5jdGlvbihhLGIsYyl7YltoZV09dShhKSxuKGMpLmJpZ0hvdXI9ITB9KSxiYShcImhtbVwiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmxlbmd0aC0yO2JbaGVdPXUoYS5zdWJzdHIoMCxkKSksYltpZV09dShhLnN1YnN0cihkKSksbihjKS5iaWdIb3VyPSEwfSksYmEoXCJobW1zc1wiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmxlbmd0aC00LGU9YS5sZW5ndGgtMjtiW2hlXT11KGEuc3Vic3RyKDAsZCkpLGJbaWVdPXUoYS5zdWJzdHIoZCwyKSksYltqZV09dShhLnN1YnN0cihlKSksbihjKS5iaWdIb3VyPSEwfSksYmEoXCJIbW1cIixmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5sZW5ndGgtMjtiW2hlXT11KGEuc3Vic3RyKDAsZCkpLGJbaWVdPXUoYS5zdWJzdHIoZCkpfSksYmEoXCJIbW1zc1wiLGZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmxlbmd0aC00LGU9YS5sZW5ndGgtMjtiW2hlXT11KGEuc3Vic3RyKDAsZCkpLGJbaWVdPXUoYS5zdWJzdHIoZCwyKSksYltqZV09dShhLnN1YnN0cihlKSl9KTt2YXIgQmUsQ2U9L1thcF1cXC4/bT9cXC4/L2ksRGU9TyhcIkhvdXJzXCIsITApLEVlPXtjYWxlbmRhcjpCZCxsb25nRGF0ZUZvcm1hdDpDZCxpbnZhbGlkRGF0ZTpEZCxvcmRpbmFsOkVkLGRheU9mTW9udGhPcmRpbmFsUGFyc2U6RmQscmVsYXRpdmVUaW1lOkdkLG1vbnRoczpwZSxtb250aHNTaG9ydDpxZSx3ZWVrOnVlLHdlZWtkYXlzOnZlLHdlZWtkYXlzTWluOnhlLHdlZWtkYXlzU2hvcnQ6d2UsbWVyaWRpZW1QYXJzZTpDZX0sRmU9e30sR2U9e30sSGU9L15cXHMqKCg/OlsrLV1cXGR7Nn18XFxkezR9KS0oPzpcXGRcXGQtXFxkXFxkfFdcXGRcXGQtXFxkfFdcXGRcXGR8XFxkXFxkXFxkfFxcZFxcZCkpKD86KFR8ICkoXFxkXFxkKD86OlxcZFxcZCg/OjpcXGRcXGQoPzpbLixdXFxkKyk/KT8pPykoW1xcK1xcLV1cXGRcXGQoPzo6P1xcZFxcZCk/fFxccypaKT8pPyQvLEllPS9eXFxzKigoPzpbKy1dXFxkezZ9fFxcZHs0fSkoPzpcXGRcXGRcXGRcXGR8V1xcZFxcZFxcZHxXXFxkXFxkfFxcZFxcZFxcZHxcXGRcXGQpKSg/OihUfCApKFxcZFxcZCg/OlxcZFxcZCg/OlxcZFxcZCg/OlsuLF1cXGQrKT8pPyk/KShbXFwrXFwtXVxcZFxcZCg/Ojo/XFxkXFxkKT98XFxzKlopPyk/JC8sSmU9L1p8WystXVxcZFxcZCg/Ojo/XFxkXFxkKT8vLEtlPVtbXCJZWVlZWVktTU0tRERcIiwvWystXVxcZHs2fS1cXGRcXGQtXFxkXFxkL10sW1wiWVlZWS1NTS1ERFwiLC9cXGR7NH0tXFxkXFxkLVxcZFxcZC9dLFtcIkdHR0ctW1ddV1ctRVwiLC9cXGR7NH0tV1xcZFxcZC1cXGQvXSxbXCJHR0dHLVtXXVdXXCIsL1xcZHs0fS1XXFxkXFxkLywhMV0sW1wiWVlZWS1ERERcIiwvXFxkezR9LVxcZHszfS9dLFtcIllZWVktTU1cIiwvXFxkezR9LVxcZFxcZC8sITFdLFtcIllZWVlZWU1NRERcIiwvWystXVxcZHsxMH0vXSxbXCJZWVlZTU1ERFwiLC9cXGR7OH0vXSxbXCJHR0dHW1ddV1dFXCIsL1xcZHs0fVdcXGR7M30vXSxbXCJHR0dHW1ddV1dcIiwvXFxkezR9V1xcZHsyfS8sITFdLFtcIllZWVlERERcIiwvXFxkezd9L11dLExlPVtbXCJISDptbTpzcy5TU1NTXCIsL1xcZFxcZDpcXGRcXGQ6XFxkXFxkXFwuXFxkKy9dLFtcIkhIOm1tOnNzLFNTU1NcIiwvXFxkXFxkOlxcZFxcZDpcXGRcXGQsXFxkKy9dLFtcIkhIOm1tOnNzXCIsL1xcZFxcZDpcXGRcXGQ6XFxkXFxkL10sW1wiSEg6bW1cIiwvXFxkXFxkOlxcZFxcZC9dLFtcIkhIbW1zcy5TU1NTXCIsL1xcZFxcZFxcZFxcZFxcZFxcZFxcLlxcZCsvXSxbXCJISG1tc3MsU1NTU1wiLC9cXGRcXGRcXGRcXGRcXGRcXGQsXFxkKy9dLFtcIkhIbW1zc1wiLC9cXGRcXGRcXGRcXGRcXGRcXGQvXSxbXCJISG1tXCIsL1xcZFxcZFxcZFxcZC9dLFtcIkhIXCIsL1xcZFxcZC9dXSxNZT0vXlxcLz9EYXRlXFwoKFxcLT9cXGQrKS9pLE5lPS9eKCg/Ok1vbnxUdWV8V2VkfFRodXxGcml8U2F0fFN1biksP1xccyk/KFxcZD9cXGRcXHMoPzpKYW58RmVifE1hcnxBcHJ8TWF5fEp1bnxKdWx8QXVnfFNlcHxPY3R8Tm92fERlYylcXHMoPzpcXGRcXGQpP1xcZFxcZFxccykoXFxkXFxkOlxcZFxcZCkoXFw6XFxkXFxkKT8oXFxzKD86VVR8R01UfFtFQ01QXVtTRF1UfFtBLUlLLVphLWlrLXpdfFsrLV1cXGR7NH0pKSQvO2EuY3JlYXRlRnJvbUlucHV0RmFsbGJhY2s9eChcInZhbHVlIHByb3ZpZGVkIGlzIG5vdCBpbiBhIHJlY29nbml6ZWQgUkZDMjgyMiBvciBJU08gZm9ybWF0LiBtb21lbnQgY29uc3RydWN0aW9uIGZhbGxzIGJhY2sgdG8ganMgRGF0ZSgpLCB3aGljaCBpcyBub3QgcmVsaWFibGUgYWNyb3NzIGFsbCBicm93c2VycyBhbmQgdmVyc2lvbnMuIE5vbiBSRkMyODIyL0lTTyBkYXRlIGZvcm1hdHMgYXJlIGRpc2NvdXJhZ2VkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gYW4gdXBjb21pbmcgbWFqb3IgcmVsZWFzZS4gUGxlYXNlIHJlZmVyIHRvIGh0dHA6Ly9tb21lbnRqcy5jb20vZ3VpZGVzLyMvd2FybmluZ3MvanMtZGF0ZS8gZm9yIG1vcmUgaW5mby5cIixmdW5jdGlvbihhKXthLl9kPW5ldyBEYXRlKGEuX2krKGEuX3VzZVVUQz9cIiBVVENcIjpcIlwiKSl9KSxhLklTT184NjAxPWZ1bmN0aW9uKCl7fSxhLlJGQ18yODIyPWZ1bmN0aW9uKCl7fTt2YXIgT2U9eChcIm1vbWVudCgpLm1pbiBpcyBkZXByZWNhdGVkLCB1c2UgbW9tZW50Lm1heCBpbnN0ZWFkLiBodHRwOi8vbW9tZW50anMuY29tL2d1aWRlcy8jL3dhcm5pbmdzL21pbi1tYXgvXCIsZnVuY3Rpb24oKXt2YXIgYT10Yi5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuaXNWYWxpZCgpJiZhLmlzVmFsaWQoKT9hPHRoaXM/dGhpczphOnAoKX0pLFBlPXgoXCJtb21lbnQoKS5tYXggaXMgZGVwcmVjYXRlZCwgdXNlIG1vbWVudC5taW4gaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9taW4tbWF4L1wiLGZ1bmN0aW9uKCl7dmFyIGE9dGIuYXBwbHkobnVsbCxhcmd1bWVudHMpO3JldHVybiB0aGlzLmlzVmFsaWQoKSYmYS5pc1ZhbGlkKCk/YT50aGlzP3RoaXM6YTpwKCl9KSxRZT1mdW5jdGlvbigpe3JldHVybiBEYXRlLm5vdz9EYXRlLm5vdygpOituZXcgRGF0ZX0sUmU9W1wieWVhclwiLFwicXVhcnRlclwiLFwibW9udGhcIixcIndlZWtcIixcImRheVwiLFwiaG91clwiLFwibWludXRlXCIsXCJzZWNvbmRcIixcIm1pbGxpc2Vjb25kXCJdO0RiKFwiWlwiLFwiOlwiKSxEYihcIlpaXCIsXCJcIiksWihcIlpcIixfZCksWihcIlpaXCIsX2QpLGJhKFtcIlpcIixcIlpaXCJdLGZ1bmN0aW9uKGEsYixjKXtjLl91c2VVVEM9ITAsYy5fdHptPUViKF9kLGEpfSk7dmFyIFNlPS8oW1xcK1xcLV18XFxkXFxkKS9naTthLnVwZGF0ZU9mZnNldD1mdW5jdGlvbigpe307dmFyIFRlPS9eKFxcLSk/KD86KFxcZCopWy4gXSk/KFxcZCspXFw6KFxcZCspKD86XFw6KFxcZCspKFxcLlxcZCopPyk/JC8sVWU9L14oLSk/UCg/OigtP1swLTksLl0qKVkpPyg/OigtP1swLTksLl0qKU0pPyg/OigtP1swLTksLl0qKVcpPyg/OigtP1swLTksLl0qKUQpPyg/OlQoPzooLT9bMC05LC5dKilIKT8oPzooLT9bMC05LC5dKilNKT8oPzooLT9bMC05LC5dKilTKT8pPyQvO1NiLmZuPUFiLnByb3RvdHlwZSxTYi5pbnZhbGlkPXpiO3ZhciBWZT1XYigxLFwiYWRkXCIpLFdlPVdiKC0xLFwic3VidHJhY3RcIik7YS5kZWZhdWx0Rm9ybWF0PVwiWVlZWS1NTS1ERFRISDptbTpzc1pcIixhLmRlZmF1bHRGb3JtYXRVdGM9XCJZWVlZLU1NLUREVEhIOm1tOnNzW1pdXCI7dmFyIFhlPXgoXCJtb21lbnQoKS5sYW5nKCkgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgdXNlIG1vbWVudCgpLmxvY2FsZURhdGEoKSB0byBnZXQgdGhlIGxhbmd1YWdlIGNvbmZpZ3VyYXRpb24uIFVzZSBtb21lbnQoKS5sb2NhbGUoKSB0byBjaGFuZ2UgbGFuZ3VhZ2VzLlwiLGZ1bmN0aW9uKGEpe3JldHVybiB2b2lkIDA9PT1hP3RoaXMubG9jYWxlRGF0YSgpOnRoaXMubG9jYWxlKGEpfSk7VSgwLFtcImdnXCIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLndlZWtZZWFyKCklMTAwfSksVSgwLFtcIkdHXCIsMl0sMCxmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzb1dlZWtZZWFyKCklMTAwfSksRGMoXCJnZ2dnXCIsXCJ3ZWVrWWVhclwiKSxEYyhcImdnZ2dnXCIsXCJ3ZWVrWWVhclwiKSxEYyhcIkdHR0dcIixcImlzb1dlZWtZZWFyXCIpLERjKFwiR0dHR0dcIixcImlzb1dlZWtZZWFyXCIpLEooXCJ3ZWVrWWVhclwiLFwiZ2dcIiksSihcImlzb1dlZWtZZWFyXCIsXCJHR1wiKSxNKFwid2Vla1llYXJcIiwxKSxNKFwiaXNvV2Vla1llYXJcIiwxKSxaKFwiR1wiLFpkKSxaKFwiZ1wiLFpkKSxaKFwiR0dcIixTZCxPZCksWihcImdnXCIsU2QsT2QpLFooXCJHR0dHXCIsV2QsUWQpLFooXCJnZ2dnXCIsV2QsUWQpLFooXCJHR0dHR1wiLFhkLFJkKSxaKFwiZ2dnZ2dcIixYZCxSZCksY2EoW1wiZ2dnZ1wiLFwiZ2dnZ2dcIixcIkdHR0dcIixcIkdHR0dHXCJdLGZ1bmN0aW9uKGEsYixjLGQpe2JbZC5zdWJzdHIoMCwyKV09dShhKX0pLGNhKFtcImdnXCIsXCJHR1wiXSxmdW5jdGlvbihiLGMsZCxlKXtjW2VdPWEucGFyc2VUd29EaWdpdFllYXIoYil9KSxVKFwiUVwiLDAsXCJRb1wiLFwicXVhcnRlclwiKSxKKFwicXVhcnRlclwiLFwiUVwiKSxNKFwicXVhcnRlclwiLDcpLFooXCJRXCIsTmQpLGJhKFwiUVwiLGZ1bmN0aW9uKGEsYil7YltmZV09MyoodShhKS0xKX0pLFUoXCJEXCIsW1wiRERcIiwyXSxcIkRvXCIsXCJkYXRlXCIpLEooXCJkYXRlXCIsXCJEXCIpLE0oXCJkYXRlXCIsOSksWihcIkRcIixTZCksWihcIkREXCIsU2QsT2QpLFooXCJEb1wiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE/Yi5fZGF5T2ZNb250aE9yZGluYWxQYXJzZXx8Yi5fb3JkaW5hbFBhcnNlOmIuX2RheU9mTW9udGhPcmRpbmFsUGFyc2VMZW5pZW50fSksYmEoW1wiRFwiLFwiRERcIl0sZ2UpLGJhKFwiRG9cIixmdW5jdGlvbihhLGIpe2JbZ2VdPXUoYS5tYXRjaChTZClbMF0sMTApfSk7dmFyIFllPU8oXCJEYXRlXCIsITApO1UoXCJERERcIixbXCJEREREXCIsM10sXCJERERvXCIsXCJkYXlPZlllYXJcIiksSihcImRheU9mWWVhclwiLFwiREREXCIpLE0oXCJkYXlPZlllYXJcIiw0KSxaKFwiREREXCIsVmQpLFooXCJEREREXCIsUGQpLGJhKFtcIkRERFwiLFwiRERERFwiXSxmdW5jdGlvbihhLGIsYyl7Yy5fZGF5T2ZZZWFyPXUoYSl9KSxVKFwibVwiLFtcIm1tXCIsMl0sMCxcIm1pbnV0ZVwiKSxKKFwibWludXRlXCIsXCJtXCIpLE0oXCJtaW51dGVcIiwxNCksWihcIm1cIixTZCksWihcIm1tXCIsU2QsT2QpLGJhKFtcIm1cIixcIm1tXCJdLGllKTt2YXIgWmU9TyhcIk1pbnV0ZXNcIiwhMSk7VShcInNcIixbXCJzc1wiLDJdLDAsXCJzZWNvbmRcIiksSihcInNlY29uZFwiLFwic1wiKSxNKFwic2Vjb25kXCIsMTUpLFooXCJzXCIsU2QpLFooXCJzc1wiLFNkLE9kKSxiYShbXCJzXCIsXCJzc1wiXSxqZSk7dmFyICRlPU8oXCJTZWNvbmRzXCIsITEpO1UoXCJTXCIsMCwwLGZ1bmN0aW9uKCl7cmV0dXJufn4odGhpcy5taWxsaXNlY29uZCgpLzEwMCl9KSxVKDAsW1wiU1NcIiwyXSwwLGZ1bmN0aW9uKCl7cmV0dXJufn4odGhpcy5taWxsaXNlY29uZCgpLzEwKX0pLFUoMCxbXCJTU1NcIiwzXSwwLFwibWlsbGlzZWNvbmRcIiksVSgwLFtcIlNTU1NcIiw0XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDEwKnRoaXMubWlsbGlzZWNvbmQoKX0pLFUoMCxbXCJTU1NTU1wiLDVdLDAsZnVuY3Rpb24oKXtyZXR1cm4gMTAwKnRoaXMubWlsbGlzZWNvbmQoKX0pLFUoMCxbXCJTU1NTU1NcIiw2XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDFlMyp0aGlzLm1pbGxpc2Vjb25kKCl9KSxVKDAsW1wiU1NTU1NTU1wiLDddLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWU0KnRoaXMubWlsbGlzZWNvbmQoKX0pLFUoMCxbXCJTU1NTU1NTU1wiLDhdLDAsZnVuY3Rpb24oKXtyZXR1cm4gMWU1KnRoaXMubWlsbGlzZWNvbmQoKX0pLFUoMCxbXCJTU1NTU1NTU1NcIiw5XSwwLGZ1bmN0aW9uKCl7cmV0dXJuIDFlNip0aGlzLm1pbGxpc2Vjb25kKCl9KSxKKFwibWlsbGlzZWNvbmRcIixcIm1zXCIpLE0oXCJtaWxsaXNlY29uZFwiLDE2KSxaKFwiU1wiLFZkLE5kKSxaKFwiU1NcIixWZCxPZCksWihcIlNTU1wiLFZkLFBkKTt2YXIgX2U7Zm9yKF9lPVwiU1NTU1wiO19lLmxlbmd0aDw9OTtfZSs9XCJTXCIpWihfZSxZZCk7Zm9yKF9lPVwiU1wiO19lLmxlbmd0aDw9OTtfZSs9XCJTXCIpYmEoX2UsTWMpO3ZhciBhZj1PKFwiTWlsbGlzZWNvbmRzXCIsITEpO1UoXCJ6XCIsMCwwLFwiem9uZUFiYnJcIiksVShcInp6XCIsMCwwLFwiem9uZU5hbWVcIik7dmFyIGJmPXIucHJvdG90eXBlO2JmLmFkZD1WZSxiZi5jYWxlbmRhcj1aYixiZi5jbG9uZT0kYixiZi5kaWZmPWZjLGJmLmVuZE9mPXNjLGJmLmZvcm1hdD1rYyxiZi5mcm9tPWxjLGJmLmZyb21Ob3c9bWMsYmYudG89bmMsYmYudG9Ob3c9b2MsYmYuZ2V0PVIsYmYuaW52YWxpZEF0PUJjLGJmLmlzQWZ0ZXI9X2IsYmYuaXNCZWZvcmU9YWMsYmYuaXNCZXR3ZWVuPWJjLGJmLmlzU2FtZT1jYyxiZi5pc1NhbWVPckFmdGVyPWRjLGJmLmlzU2FtZU9yQmVmb3JlPWVjLGJmLmlzVmFsaWQ9emMsYmYubGFuZz1YZSxiZi5sb2NhbGU9cGMsYmYubG9jYWxlRGF0YT1xYyxiZi5tYXg9UGUsYmYubWluPU9lLGJmLnBhcnNpbmdGbGFncz1BYyxiZi5zZXQ9UyxiZi5zdGFydE9mPXJjLGJmLnN1YnRyYWN0PVdlLGJmLnRvQXJyYXk9d2MsYmYudG9PYmplY3Q9eGMsYmYudG9EYXRlPXZjLGJmLnRvSVNPU3RyaW5nPWljLGJmLmluc3BlY3Q9amMsYmYudG9KU09OPXljLGJmLnRvU3RyaW5nPWhjLGJmLnVuaXg9dWMsYmYudmFsdWVPZj10YyxiZi5jcmVhdGlvbkRhdGE9Q2MsYmYueWVhcj10ZSxiZi5pc0xlYXBZZWFyPXJhLGJmLndlZWtZZWFyPUVjLGJmLmlzb1dlZWtZZWFyPUZjLGJmLnF1YXJ0ZXI9YmYucXVhcnRlcnM9S2MsYmYubW9udGg9a2EsYmYuZGF5c0luTW9udGg9bGEsYmYud2Vlaz1iZi53ZWVrcz1CYSxiZi5pc29XZWVrPWJmLmlzb1dlZWtzPUNhLGJmLndlZWtzSW5ZZWFyPUhjLGJmLmlzb1dlZWtzSW5ZZWFyPUdjLGJmLmRhdGU9WWUsYmYuZGF5PWJmLmRheXM9S2EsYmYud2Vla2RheT1MYSxiZi5pc29XZWVrZGF5PU1hLGJmLmRheU9mWWVhcj1MYyxiZi5ob3VyPWJmLmhvdXJzPURlLGJmLm1pbnV0ZT1iZi5taW51dGVzPVplLGJmLnNlY29uZD1iZi5zZWNvbmRzPSRlLGJmLm1pbGxpc2Vjb25kPWJmLm1pbGxpc2Vjb25kcz1hZixiZi51dGNPZmZzZXQ9SGIsYmYudXRjPUpiLGJmLmxvY2FsPUtiLGJmLnBhcnNlWm9uZT1MYixiZi5oYXNBbGlnbmVkSG91ck9mZnNldD1NYixiZi5pc0RTVD1OYixiZi5pc0xvY2FsPVBiLGJmLmlzVXRjT2Zmc2V0PVFiLGJmLmlzVXRjPVJiLGJmLmlzVVRDPVJiLGJmLnpvbmVBYmJyPU5jLGJmLnpvbmVOYW1lPU9jLGJmLmRhdGVzPXgoXCJkYXRlcyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgZGF0ZSBpbnN0ZWFkLlwiLFllKSxiZi5tb250aHM9eChcIm1vbnRocyBhY2Nlc3NvciBpcyBkZXByZWNhdGVkLiBVc2UgbW9udGggaW5zdGVhZFwiLGthKSxiZi55ZWFycz14KFwieWVhcnMgYWNjZXNzb3IgaXMgZGVwcmVjYXRlZC4gVXNlIHllYXIgaW5zdGVhZFwiLHRlKSxiZi56b25lPXgoXCJtb21lbnQoKS56b25lIGlzIGRlcHJlY2F0ZWQsIHVzZSBtb21lbnQoKS51dGNPZmZzZXQgaW5zdGVhZC4gaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy96b25lL1wiLEliKSxiZi5pc0RTVFNoaWZ0ZWQ9eChcImlzRFNUU2hpZnRlZCBpcyBkZXByZWNhdGVkLiBTZWUgaHR0cDovL21vbWVudGpzLmNvbS9ndWlkZXMvIy93YXJuaW5ncy9kc3Qtc2hpZnRlZC8gZm9yIG1vcmUgaW5mb3JtYXRpb25cIixPYik7dmFyIGNmPUMucHJvdG90eXBlO2NmLmNhbGVuZGFyPUQsY2YubG9uZ0RhdGVGb3JtYXQ9RSxjZi5pbnZhbGlkRGF0ZT1GLGNmLm9yZGluYWw9RyxjZi5wcmVwYXJzZT1SYyxjZi5wb3N0Zm9ybWF0PVJjLGNmLnJlbGF0aXZlVGltZT1ILGNmLnBhc3RGdXR1cmU9SSxjZi5zZXQ9QSxjZi5tb250aHM9ZmEsY2YubW9udGhzU2hvcnQ9Z2EsY2YubW9udGhzUGFyc2U9aWEsY2YubW9udGhzUmVnZXg9bmEsY2YubW9udGhzU2hvcnRSZWdleD1tYSxjZi53ZWVrPXlhLGNmLmZpcnN0RGF5T2ZZZWFyPUFhLGNmLmZpcnN0RGF5T2ZXZWVrPXphLGNmLndlZWtkYXlzPUZhLGNmLndlZWtkYXlzTWluPUhhLGNmLndlZWtkYXlzU2hvcnQ9R2EsY2Yud2Vla2RheXNQYXJzZT1KYSxjZi53ZWVrZGF5c1JlZ2V4PU5hLGNmLndlZWtkYXlzU2hvcnRSZWdleD1PYSxjZi53ZWVrZGF5c01pblJlZ2V4PVBhLGNmLmlzUE09VmEsY2YubWVyaWRpZW09V2EsJGEoXCJlblwiLHtkYXlPZk1vbnRoT3JkaW5hbFBhcnNlOi9cXGR7MSwyfSh0aHxzdHxuZHxyZCkvLG9yZGluYWw6ZnVuY3Rpb24oYSl7dmFyIGI9YSUxMCxjPTE9PT11KGElMTAwLzEwKT9cInRoXCI6MT09PWI/XCJzdFwiOjI9PT1iP1wibmRcIjozPT09Yj9cInJkXCI6XCJ0aFwiO3JldHVybiBhK2N9fSksYS5sYW5nPXgoXCJtb21lbnQubGFuZyBpcyBkZXByZWNhdGVkLiBVc2UgbW9tZW50LmxvY2FsZSBpbnN0ZWFkLlwiLCRhKSxhLmxhbmdEYXRhPXgoXCJtb21lbnQubGFuZ0RhdGEgaXMgZGVwcmVjYXRlZC4gVXNlIG1vbWVudC5sb2NhbGVEYXRhIGluc3RlYWQuXCIsYmIpO3ZhciBkZj1NYXRoLmFicyxlZj1pZChcIm1zXCIpLGZmPWlkKFwic1wiKSxnZj1pZChcIm1cIiksaGY9aWQoXCJoXCIpLGpmPWlkKFwiZFwiKSxrZj1pZChcIndcIiksbGY9aWQoXCJNXCIpLG1mPWlkKFwieVwiKSxuZj1rZChcIm1pbGxpc2Vjb25kc1wiKSxvZj1rZChcInNlY29uZHNcIikscGY9a2QoXCJtaW51dGVzXCIpLHFmPWtkKFwiaG91cnNcIikscmY9a2QoXCJkYXlzXCIpLHNmPWtkKFwibW9udGhzXCIpLHRmPWtkKFwieWVhcnNcIiksdWY9TWF0aC5yb3VuZCx2Zj17c3M6NDQsczo0NSxtOjQ1LGg6MjIsZDoyNixNOjExfSx3Zj1NYXRoLmFicyx4Zj1BYi5wcm90b3R5cGU7cmV0dXJuIHhmLmlzVmFsaWQ9eWIseGYuYWJzPSRjLHhmLmFkZD1hZCx4Zi5zdWJ0cmFjdD1iZCx4Zi5hcz1nZCx4Zi5hc01pbGxpc2Vjb25kcz1lZix4Zi5hc1NlY29uZHM9ZmYseGYuYXNNaW51dGVzPWdmLHhmLmFzSG91cnM9aGYseGYuYXNEYXlzPWpmLHhmLmFzV2Vla3M9a2YseGYuYXNNb250aHM9bGYseGYuYXNZZWFycz1tZix4Zi52YWx1ZU9mPWhkLHhmLl9idWJibGU9ZGQseGYuZ2V0PWpkLHhmLm1pbGxpc2Vjb25kcz1uZix4Zi5zZWNvbmRzPW9mLHhmLm1pbnV0ZXM9cGYseGYuaG91cnM9cWYseGYuZGF5cz1yZix4Zi53ZWVrcz1sZCx4Zi5tb250aHM9c2YseGYueWVhcnM9dGYseGYuaHVtYW5pemU9cWQseGYudG9JU09TdHJpbmc9cmQseGYudG9TdHJpbmc9cmQseGYudG9KU09OPXJkLHhmLmxvY2FsZT1wYyx4Zi5sb2NhbGVEYXRhPXFjLHhmLnRvSXNvU3RyaW5nPXgoXCJ0b0lzb1N0cmluZygpIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgdG9JU09TdHJpbmcoKSBpbnN0ZWFkIChub3RpY2UgdGhlIGNhcGl0YWxzKVwiLHJkKSx4Zi5sYW5nPVhlLFUoXCJYXCIsMCwwLFwidW5peFwiKSxVKFwieFwiLDAsMCxcInZhbHVlT2ZcIiksWihcInhcIixaZCksWihcIlhcIixhZSksYmEoXCJYXCIsZnVuY3Rpb24oYSxiLGMpe2MuX2Q9bmV3IERhdGUoMWUzKnBhcnNlRmxvYXQoYSwxMCkpfSksYmEoXCJ4XCIsZnVuY3Rpb24oYSxiLGMpe2MuX2Q9bmV3IERhdGUodShhKSl9KSxhLnZlcnNpb249XCIyLjE4LjFcIixiKHRiKSxhLmZuPWJmLGEubWluPXZiLGEubWF4PXdiLGEubm93PVFlLGEudXRjPWwsYS51bml4PVBjLGEubW9udGhzPVZjLGEuaXNEYXRlPWgsYS5sb2NhbGU9JGEsYS5pbnZhbGlkPXAsYS5kdXJhdGlvbj1TYixhLmlzTW9tZW50PXMsYS53ZWVrZGF5cz1YYyxhLnBhcnNlWm9uZT1RYyxhLmxvY2FsZURhdGE9YmIsYS5pc0R1cmF0aW9uPUJiLGEubW9udGhzU2hvcnQ9V2MsYS53ZWVrZGF5c01pbj1aYyxhLmRlZmluZUxvY2FsZT1fYSxhLnVwZGF0ZUxvY2FsZT1hYixhLmxvY2FsZXM9Y2IsYS53ZWVrZGF5c1Nob3J0PVljLGEubm9ybWFsaXplVW5pdHM9SyxhLnJlbGF0aXZlVGltZVJvdW5kaW5nPW9kLGEucmVsYXRpdmVUaW1lVGhyZXNob2xkPXBkLGEuY2FsZW5kYXJGb3JtYXQ9WWIsYS5wcm90b3R5cGU9YmYsYX0pOyIsIi8qXG4gIGFuZ3VsYXItbW9tZW50anMgLSB2MC4yLjIgXG4gIDIwMTUtMDctMTBcbiovXG5cbiFmdW5jdGlvbihhLGIpe1widXNlIHN0cmljdFwiO2IubW9kdWxlKFwiYW5ndWxhci1tb21lbnRcIixbXCJnZGkyMjkwLm1vbWVudFwiXSksYi5tb2R1bGUoXCJhbmd1bGFyLW1vbWVudGpzXCIsW1wiZ2RpMjI5MC5tb21lbnRcIl0pLGIubW9kdWxlKFwibmdNb21lbnRcIixbXCJnZGkyMjkwLm1vbWVudFwiXSksYi5tb2R1bGUoXCJuZ01vbWVudGpzXCIsW1wiZ2RpMjI5MC5tb21lbnRcIl0pLGIubW9kdWxlKFwibmdNb21lbnRKU1wiLFtcImdkaTIyOTAubW9tZW50XCJdKSxiLm1vZHVsZShcImdkaTIyOTAuYW1UaW1lQWdvXCIsW10pLGIubW9kdWxlKFwiZ2RpMjI5MC5hbURhdGVGb3JtYXRcIixbXSksYi5tb2R1bGUoXCJnZGkyMjkwLm1vbWVudC1zZXJ2aWNlXCIsW10pLGIubW9kdWxlKFwiZ2RpMjI5MC5tb21lbnRcIixbXCJnZGkyMjkwLm1vbWVudC1zZXJ2aWNlXCIsXCJnZGkyMjkwLmFtRGF0ZUZvcm1hdFwiLFwiZ2RpMjI5MC5hbVRpbWVBZ29cIl0pLGIubW9kdWxlKFwiZ2RpMjI5MC5hbURhdGVGb3JtYXRcIikuZmlsdGVyKFwiYW1EYXRlRm9ybWF0XCIsW1wiJG1vbWVudFwiLGZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiBifHxudWxsPT09Yj9cIlwiOighaXNOYU4ocGFyc2VGbG9hdChiKSkmJmlzRmluaXRlKGIpJiYoYj1uZXcgRGF0ZShwYXJzZUludChiLDEwKSkpLGEudGhlbj92b2lkIGEoKS50aGVuKGZ1bmN0aW9uKGEpe3JldHVybiBhKGIpLmZvcm1hdChjKX0pOmEoYikuZm9ybWF0KGMpKX19XSksYi5tb2R1bGUoXCJnZGkyMjkwLmFtVGltZUFnb1wiKS5kaXJlY3RpdmUoXCJhbVRpbWVBZ29cIixbXCIkbW9tZW50XCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gZChhKXtyZXR1cm5cInVuZGVmaW5lZFwiPT10eXBlb2YgYXx8bnVsbD09PWF8fFwiXCI9PT1hfXJldHVybiBmdW5jdGlvbihlLGYsZyl7ZnVuY3Rpb24gaCgpe20mJihjLmNhbmNlbChtKSxtPW51bGwpfWZ1bmN0aW9uIGkoYil7Zi50ZXh0KGIuZnJvbU5vdygpKTt2YXIgZDthLnRoZW4/YSgpLnRoZW4oZnVuY3Rpb24oYSl7ZD1hKCkuZGlmZihiLFwibWludXRlXCIpfSk6ZD1hKCkuZGlmZihiLFwibWludXRlXCIpO3ZhciBlPTM2MDA7MT5kP2U9MTo2MD5kP2U9MzA6MTgwPmQmJihlPTMwMCksbT1jKGZ1bmN0aW9uKCl7aShiKX0sMWUzKmUsITEpfWZ1bmN0aW9uIGooKXtoKCksYSgpLnRoZW4/YS50aGVuKGZ1bmN0aW9uKGEpe2koYShrLGwpKX0pOmkoYShrLGwpKX12YXIgayxsLG09bnVsbDtlLiR3YXRjaChnLmFtVGltZUFnbyxmdW5jdGlvbihhKXtyZXR1cm4gZChhKT8oaCgpLHZvaWQoayYmKGYudGV4dChcIlwiKSxrPW51bGwpKSk6KGIuaXNOdW1iZXIoYSkmJihhPW5ldyBEYXRlKGEpKSxrPWEsdm9pZCBqKCkpfSksZy4kb2JzZXJ2ZShcImFtRm9ybWF0XCIsZnVuY3Rpb24oYSl7bD1hLGsmJmooKX0pLGUuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2goKX0pfX1dKSxiLm1vZHVsZShcImdkaTIyOTAubW9tZW50LXNlcnZpY2VcIikucHJvdmlkZXIoXCIkbW9tZW50XCIsZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe2lmKGRvY3VtZW50KXt2YXIgYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2IudHlwZT1cInRleHQvamF2YXNjcmlwdFwiLGIuYXN5bmM9ITAsYi5zcmM9ZCxiLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe1wiY29tcGxldGVcIj09PXRoaXMucmVhZHlTdGF0ZSYmYSgpfSxiLm9ubG9hZD1hO3ZhciBjPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKVswXTtjLmFwcGVuZENoaWxkKGIpfX12YXIgYixjPSExLGQ9XCIvL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9tb21lbnQuanMvMi4xMC4zL21vbWVudC5qc1wiLGU9e307dGhpcy5hc3luY0xvYWRpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGM9YXx8Yyx0aGlzfSx0aGlzLnNjcmlwdFVybD1mdW5jdGlvbihhKXtyZXR1cm4gZD1hfHxkLHRoaXN9LHRoaXMubG9jYWxlPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGI9YXx8YixlPWN8fGUsdGhpc30sdGhpcy4kZ2V0PVtcIiR0aW1lb3V0XCIsXCIkcVwiLFwiJHdpbmRvd1wiLGZ1bmN0aW9uKGQsZixnKXt2YXIgaD1mLmRlZmVyKCksaT1nLm1vbWVudDtpZihjKXt2YXIgaj1mdW5jdGlvbigpe2QoZnVuY3Rpb24oKXtiJiYoZy5tb21lbnQubGFuZz9nLm1vbWVudC5sYW5nKGIsZSk6Zy5tb21lbnQubG9jYWxlKGIsZSkpLGgucmVzb2x2ZShnLm1vbWVudCl9KX07YShqKX1lbHNlIGImJihnLm1vbWVudC5sYW5nP2cubW9tZW50LmxhbmcoYixlKTpnLm1vbWVudC5sb2NhbGUoYixlKSk7cmV0dXJuIGM/aC5wcm9taXNlOml9XX0pfSh0aGlzLHRoaXMuYW5ndWxhcix2b2lkIDApO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5ndWxhci1tb21lbnRqcy5taW4uanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7YW5ndWxhci5tb2R1bGUoXCJnb29nbGUucGxhY2VzXCIsW10pLmZhY3RvcnkoXCJnb29nbGVQbGFjZXNBcGlcIixbXCIkd2luZG93XCIsZnVuY3Rpb24oYSl7aWYoIWEuZ29vZ2xlKXRocm93XCJHbG9iYWwgYGdvb2dsZWAgdmFyIG1pc3NpbmcuIERpZCB5b3UgZm9yZ2V0IHRvIGluY2x1ZGUgdGhlIHBsYWNlcyBBUEkgc2NyaXB0P1wiO3JldHVybiBhLmdvb2dsZX1dKS5kaXJlY3RpdmUoXCJnUGxhY2VzQXV0b2NvbXBsZXRlXCIsW1wiJHBhcnNlXCIsXCIkY29tcGlsZVwiLFwiJHRpbWVvdXRcIixcIiRkb2N1bWVudFwiLFwiZ29vZ2xlUGxhY2VzQXBpXCIsZnVuY3Rpb24oYSxiLGMsZCxlKXtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpcIl5uZ01vZGVsXCIsc2NvcGU6e21vZGVsOlwiPW5nTW9kZWxcIixvcHRpb25zOlwiPT9cIixmb3JjZVNlbGVjdGlvbjpcIj0/XCIsY3VzdG9tUGxhY2VzOlwiPT9cIn0sY29udHJvbGxlcjpbXCIkc2NvcGVcIixmdW5jdGlvbihhKXt9XSxsaW5rOmZ1bmN0aW9uKGEsZixnLGgpe2Z1bmN0aW9uIGkoKXtmLmJpbmQoXCJrZXlkb3duXCIsbCksZi5iaW5kKFwiYmx1clwiLG0pLGYuYmluZChcInN1Ym1pdFwiLG0pLGEuJHdhdGNoKFwic2VsZWN0ZWRcIixuKX1mdW5jdGlvbiBqKCl7dmFyIGMsZT1hbmd1bGFyLmVsZW1lbnQoXCI8ZGl2IGctcGxhY2VzLWF1dG9jb21wbGV0ZS1kcmF3ZXI+PC9kaXY+XCIpLGY9YW5ndWxhci5lbGVtZW50KGRbMF0uYm9keSk7ZS5hdHRyKHtpbnB1dDpcImlucHV0XCIscXVlcnk6XCJxdWVyeVwiLHByZWRpY3Rpb25zOlwicHJlZGljdGlvbnNcIixhY3RpdmU6XCJhY3RpdmVcIixzZWxlY3RlZDpcInNlbGVjdGVkXCJ9KSxjPWIoZSkoYSksZi5hcHBlbmQoYyksYS4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7Yy5yZW1vdmUoKX0pfWZ1bmN0aW9uIGsoKXtoLiRwYXJzZXJzLnB1c2gobyksaC4kZm9ybWF0dGVycy5wdXNoKHApLGguJHJlbmRlcj1xfWZ1bmN0aW9uIGwoYil7MCE9PWEucHJlZGljdGlvbnMubGVuZ3RoJiYtMSE9PXcoQSxiLndoaWNoKSYmKGIucHJldmVudERlZmF1bHQoKSxiLndoaWNoPT09ei5kb3duPyhhLmFjdGl2ZT0oYS5hY3RpdmUrMSklYS5wcmVkaWN0aW9ucy5sZW5ndGgsYS4kZGlnZXN0KCkpOmIud2hpY2g9PT16LnVwPyhhLmFjdGl2ZT0oYS5hY3RpdmU/YS5hY3RpdmU6YS5wcmVkaWN0aW9ucy5sZW5ndGgpLTEsYS4kZGlnZXN0KCkpOjEzPT09Yi53aGljaHx8OT09PWIud2hpY2g/KGEuZm9yY2VTZWxlY3Rpb24mJihhLmFjdGl2ZT0tMT09PWEuYWN0aXZlPzA6YS5hY3RpdmUpLGEuJGFwcGx5KGZ1bmN0aW9uKCl7YS5zZWxlY3RlZD1hLmFjdGl2ZSwtMT09PWEuc2VsZWN0ZWQmJnIoKX0pKToyNz09PWIud2hpY2gmJmEuJGFwcGx5KGZ1bmN0aW9uKCl7Yi5zdG9wUHJvcGFnYXRpb24oKSxyKCl9KSl9ZnVuY3Rpb24gbShiKXswIT09YS5wcmVkaWN0aW9ucy5sZW5ndGgmJihhLmZvcmNlU2VsZWN0aW9uJiYoYS5zZWxlY3RlZD0tMT09PWEuc2VsZWN0ZWQ/MDphLnNlbGVjdGVkKSxhLiRkaWdlc3QoKSxhLiRhcHBseShmdW5jdGlvbigpey0xPT09YS5zZWxlY3RlZCYmcigpfSkpfWZ1bmN0aW9uIG4oKXt2YXIgYjtiPWEucHJlZGljdGlvbnNbYS5zZWxlY3RlZF0sYiYmKGIuaXNfY3VzdG9tP2EuJGFwcGx5KGZ1bmN0aW9uKCl7YS5tb2RlbD1iLnBsYWNlLGEuJGVtaXQoXCJnLXBsYWNlcy1hdXRvY29tcGxldGU6c2VsZWN0XCIsYi5wbGFjZSksYyhmdW5jdGlvbigpe2guJHZpZXdDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihhKXthKCl9KX0pfSk6Qy5nZXREZXRhaWxzKHtwbGFjZUlkOmIucGxhY2VfaWR9LGZ1bmN0aW9uKGIsZCl7ZD09ZS5tYXBzLnBsYWNlcy5QbGFjZXNTZXJ2aWNlU3RhdHVzLk9LJiZhLiRhcHBseShmdW5jdGlvbigpe2EubW9kZWw9YixhLiRlbWl0KFwiZy1wbGFjZXMtYXV0b2NvbXBsZXRlOnNlbGVjdFwiLGIpLGMoZnVuY3Rpb24oKXtoLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oYSl7YSgpfSl9KX0pfSkscigpKX1mdW5jdGlvbiBvKGIpe3ZhciBjO3JldHVybiBiJiZ1KGIpPyhhLnF1ZXJ5PWIsYz1hbmd1bGFyLmV4dGVuZCh7aW5wdXQ6Yn0sYS5vcHRpb25zKSxCLmdldFBsYWNlUHJlZGljdGlvbnMoYyxmdW5jdGlvbihiLGMpe2EuJGFwcGx5KGZ1bmN0aW9uKCl7dmFyIGQ7cigpLGEuY3VzdG9tUGxhY2VzJiYoZD1zKGEucXVlcnkpLGEucHJlZGljdGlvbnMucHVzaC5hcHBseShhLnByZWRpY3Rpb25zLGQpKSxjPT1lLm1hcHMucGxhY2VzLlBsYWNlc1NlcnZpY2VTdGF0dXMuT0smJmEucHJlZGljdGlvbnMucHVzaC5hcHBseShhLnByZWRpY3Rpb25zLGIpLGEucHJlZGljdGlvbnMubGVuZ3RoPjUmJihhLnByZWRpY3Rpb25zLmxlbmd0aD01KX0pfSksYS5mb3JjZVNlbGVjdGlvbj9oLiRtb2RlbFZhbHVlOmIpOmJ9ZnVuY3Rpb24gcChhKXt2YXIgYj1cIlwiO3JldHVybiB1KGEpP2I9YTp2KGEpJiYoYj1hLmZvcm1hdHRlZF9hZGRyZXNzKSxifWZ1bmN0aW9uIHEoKXtyZXR1cm4gZi52YWwoaC4kdmlld1ZhbHVlKX1mdW5jdGlvbiByKCl7YS5hY3RpdmU9LTEsYS5zZWxlY3RlZD0tMSxhLnByZWRpY3Rpb25zPVtdfWZ1bmN0aW9uIHMoYil7dmFyIGMsZCxlLGY9W107Zm9yKGU9MDtlPGEuY3VzdG9tUGxhY2VzLmxlbmd0aDtlKyspYz1hLmN1c3RvbVBsYWNlc1tlXSxkPXQoYixjKSxkLm1hdGNoZWRfc3Vic3RyaW5ncy5sZW5ndGg+MCYmZi5wdXNoKHtpc19jdXN0b206ITAsY3VzdG9tX3ByZWRpY3Rpb25fbGFiZWw6Yy5jdXN0b21fcHJlZGljdGlvbl9sYWJlbHx8XCIoQ3VzdG9tIE5vbi1Hb29nbGUgUmVzdWx0KVwiLGRlc2NyaXB0aW9uOmMuZm9ybWF0dGVkX2FkZHJlc3MscGxhY2U6YyxtYXRjaGVkX3N1YnN0cmluZ3M6ZC5tYXRjaGVkX3N1YnN0cmluZ3MsdGVybXM6ZC50ZXJtc30pO3JldHVybiBmfWZ1bmN0aW9uIHQoYSxiKXt2YXIgYyxkLGUsZj1hK1wiXCIsZz1bXSxoPVtdO2ZvcihkPWIuZm9ybWF0dGVkX2FkZHJlc3Muc3BsaXQoXCIsXCIpLGU9MDtlPGQubGVuZ3RoO2UrKyljPWRbZV0udHJpbSgpLGYubGVuZ3RoPjAmJihjLmxlbmd0aD49Zi5sZW5ndGg/KHgoYyxmKSYmaC5wdXNoKHtsZW5ndGg6Zi5sZW5ndGgsb2Zmc2V0OmV9KSxmPVwiXCIpOngoZixjKT8oaC5wdXNoKHtsZW5ndGg6Yy5sZW5ndGgsb2Zmc2V0OmV9KSxmPWYucmVwbGFjZShjLFwiXCIpLnRyaW0oKSk6Zj1cIlwiKSxnLnB1c2goe3ZhbHVlOmMsb2Zmc2V0OmIuZm9ybWF0dGVkX2FkZHJlc3MuaW5kZXhPZihjKX0pO3JldHVybnttYXRjaGVkX3N1YnN0cmluZ3M6aCx0ZXJtczpnfX1mdW5jdGlvbiB1KGEpe3JldHVyblwiW29iamVjdCBTdHJpbmddXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiB2KGEpe3JldHVyblwiW29iamVjdCBPYmplY3RdXCI9PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKX1mdW5jdGlvbiB3KGEsYil7dmFyIGMsZDtpZihudWxsPT1hKXJldHVybi0xO2ZvcihkPWEubGVuZ3RoLGM9MDtkPmM7YysrKWlmKGFbY109PT1iKXJldHVybiBjO3JldHVybi0xfWZ1bmN0aW9uIHgoYSxiKXtyZXR1cm4gMD09PXkoYSkubGFzdEluZGV4T2YoeShiKSwwKX1mdW5jdGlvbiB5KGEpe3JldHVybiBudWxsPT1hP1wiXCI6YS50b0xvd2VyQ2FzZSgpfXZhciB6PXt0YWI6OSxlbnRlcjoxMyxlc2M6MjcsdXA6MzgsZG93bjo0MH0sQT1bei50YWIsei5lbnRlcix6LmVzYyx6LnVwLHouZG93bl0sQj1uZXcgZS5tYXBzLnBsYWNlcy5BdXRvY29tcGxldGVTZXJ2aWNlLEM9bmV3IGUubWFwcy5wbGFjZXMuUGxhY2VzU2VydmljZShmWzBdKTshZnVuY3Rpb24oKXthLnF1ZXJ5PVwiXCIsYS5wcmVkaWN0aW9ucz1bXSxhLmlucHV0PWYsYS5vcHRpb25zPWEub3B0aW9uc3x8e30saigpLGkoKSxrKCl9KCl9fX1dKS5kaXJlY3RpdmUoXCJnUGxhY2VzQXV0b2NvbXBsZXRlRHJhd2VyXCIsW1wiJHdpbmRvd1wiLFwiJGRvY3VtZW50XCIsZnVuY3Rpb24oYSxiKXt2YXIgYz1bJzxkaXYgY2xhc3M9XCJwYWMtY29udGFpbmVyXCIgbmctaWY9XCJpc09wZW4oKVwiIG5nLXN0eWxlPVwie3RvcDogcG9zaXRpb24udG9wK1xcJ3B4XFwnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0K1xcJ3B4XFwnLCB3aWR0aDogcG9zaXRpb24ud2lkdGgrXFwncHhcXCd9XCIgc3R5bGU9XCJkaXNwbGF5OiBibG9jaztcIiByb2xlPVwibGlzdGJveFwiIGFyaWEtaGlkZGVuPVwie3shaXNPcGVuKCl9fVwiPicsJyAgPGRpdiBjbGFzcz1cInBhYy1pdGVtXCIgZy1wbGFjZXMtYXV0b2NvbXBsZXRlLXByZWRpY3Rpb24gaW5kZXg9XCIkaW5kZXhcIiBwcmVkaWN0aW9uPVwicHJlZGljdGlvblwiIHF1ZXJ5PVwicXVlcnlcIicsJyAgICAgICBuZy1yZXBlYXQ9XCJwcmVkaWN0aW9uIGluIHByZWRpY3Rpb25zIHRyYWNrIGJ5ICRpbmRleFwiIG5nLWNsYXNzPVwie1xcJ3BhYy1pdGVtLXNlbGVjdGVkXFwnOiBpc0FjdGl2ZSgkaW5kZXgpIH1cIicsJyAgICAgICBuZy1tb3VzZWVudGVyPVwic2VsZWN0QWN0aXZlKCRpbmRleClcIiBuZy1jbGljaz1cInNlbGVjdFByZWRpY3Rpb24oJGluZGV4KVwiIHJvbGU9XCJvcHRpb25cIiBpZD1cInt7cHJlZGljdGlvbi5pZH19XCI+JyxcIiAgPC9kaXY+XCIsXCI8L2Rpdj5cIl07cmV0dXJue3Jlc3RyaWN0OlwiQVwiLHNjb3BlOntpbnB1dDpcIj1cIixxdWVyeTpcIj1cIixwcmVkaWN0aW9uczpcIj1cIixhY3RpdmU6XCI9XCIsc2VsZWN0ZWQ6XCI9XCJ9LHRlbXBsYXRlOmMuam9pbihcIlwiKSxsaW5rOmZ1bmN0aW9uKGMsZCl7ZnVuY3Rpb24gZShjKXt2YXIgZD1jWzBdLGU9ZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxmPWJbMF0uZG9jdW1lbnRFbGVtZW50LGc9YlswXS5ib2R5LGg9YS5wYWdlWU9mZnNldHx8Zi5zY3JvbGxUb3B8fGcuc2Nyb2xsVG9wLGk9YS5wYWdlWE9mZnNldHx8Zi5zY3JvbGxMZWZ0fHxnLnNjcm9sbExlZnQ7cmV0dXJue3dpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LHRvcDplLnRvcCtlLmhlaWdodCtoLGxlZnQ6ZS5sZWZ0K2l9fWQuYmluZChcIm1vdXNlZG93blwiLGZ1bmN0aW9uKGEpe2EucHJldmVudERlZmF1bHQoKX0pLGEub25yZXNpemU9ZnVuY3Rpb24oKXtjLiRhcHBseShmdW5jdGlvbigpe2MucG9zaXRpb249ZShjLmlucHV0KX0pfSxjLmlzT3Blbj1mdW5jdGlvbigpe3JldHVybiBjLnByZWRpY3Rpb25zLmxlbmd0aD4wfSxjLmlzQWN0aXZlPWZ1bmN0aW9uKGEpe3JldHVybiBjLmFjdGl2ZT09PWF9LGMuc2VsZWN0QWN0aXZlPWZ1bmN0aW9uKGEpe2MuYWN0aXZlPWF9LGMuc2VsZWN0UHJlZGljdGlvbj1mdW5jdGlvbihhKXtjLnNlbGVjdGVkPWF9LGMuJHdhdGNoKFwicHJlZGljdGlvbnNcIixmdW5jdGlvbigpe2MucG9zaXRpb249ZShjLmlucHV0KX0sITApfX19XSkuZGlyZWN0aXZlKFwiZ1BsYWNlc0F1dG9jb21wbGV0ZVByZWRpY3Rpb25cIixbZnVuY3Rpb24oKXt2YXIgYT1bJzxzcGFuIGNsYXNzPVwicGFjLWljb24gcGFjLWljb24tbWFya2VyXCI+PC9zcGFuPicsJzxzcGFuIGNsYXNzPVwicGFjLWl0ZW0tcXVlcnlcIiBuZy1iaW5kLWh0bWw9XCJwcmVkaWN0aW9uIHwgaGlnaGxpZ2h0TWF0Y2hlZFwiPjwvc3Bhbj4nLCc8c3BhbiBuZy1yZXBlYXQ9XCJ0ZXJtIGluIHByZWRpY3Rpb24udGVybXMgfCB1bm1hdGNoZWRUZXJtc09ubHk6cHJlZGljdGlvblwiPnt7dGVybS52YWx1ZSB8IHRyYWlsaW5nQ29tbWE6ISRsYXN0fX0mbmJzcDs8L3NwYW4+JywnPHNwYW4gY2xhc3M9XCJjdXN0b20tcHJlZGljdGlvbi1sYWJlbFwiIG5nLWlmPVwicHJlZGljdGlvbi5pc19jdXN0b21cIj4mbmJzcDt7e3ByZWRpY3Rpb24uY3VzdG9tX3ByZWRpY3Rpb25fbGFiZWx9fTwvc3Bhbj4nXTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIsc2NvcGU6e2luZGV4OlwiPVwiLHByZWRpY3Rpb246XCI9XCIscXVlcnk6XCI9XCJ9LHRlbXBsYXRlOmEuam9pbihcIlwiKX19XSkuZmlsdGVyKFwiaGlnaGxpZ2h0TWF0Y2hlZFwiLFtcIiRzY2VcIixmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7dmFyIGMsZD1cIlwiLGU9XCJcIjtyZXR1cm4gYi5tYXRjaGVkX3N1YnN0cmluZ3MubGVuZ3RoPjAmJmIudGVybXMubGVuZ3RoPjAmJihjPWIubWF0Y2hlZF9zdWJzdHJpbmdzWzBdLGQ9Yi50ZXJtc1swXS52YWx1ZS5zdWJzdHIoYy5vZmZzZXQsYy5sZW5ndGgpLGU9Yi50ZXJtc1swXS52YWx1ZS5zdWJzdHIoYy5vZmZzZXQrYy5sZW5ndGgpKSxhLnRydXN0QXNIdG1sKCc8c3BhbiBjbGFzcz1cInBhYy1tYXRjaGVkXCI+JytkK1wiPC9zcGFuPlwiK2UpfX1dKS5maWx0ZXIoXCJ1bm1hdGNoZWRUZXJtc09ubHlcIixbZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU9W107Zm9yKGM9MDtjPGEubGVuZ3RoO2MrKylkPWFbY10sYi5tYXRjaGVkX3N1YnN0cmluZ3MubGVuZ3RoPjAmJmQub2Zmc2V0PmIubWF0Y2hlZF9zdWJzdHJpbmdzWzBdLmxlbmd0aCYmZS5wdXNoKGQpO3JldHVybiBlfX1dKS5maWx0ZXIoXCJ0cmFpbGluZ0NvbW1hXCIsW2Z1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGEsYil7cmV0dXJuIGI/YStcIixcIjphfX1dKTsiLCIvKipcbiAqIFN0YXRlLWJhc2VkIHJvdXRpbmcgZm9yIEFuZ3VsYXJKUyAxLnhcbiAqIE5PVElDRTogVGhpcyBtb25vbGl0aGljIGJ1bmRsZSBhbHNvIGJ1bmRsZXMgdGhlIEB1aXJvdXRlci9jb3JlIGNvZGUuXG4gKiAgICAgICAgIFRoaXMgY2F1c2VzIGl0IHRvIGJlIGluY29tcGF0aWJsZSB3aXRoIHBsdWdpbnMgdGhhdCBkZXBlbmQgb24gQHVpcm91dGVyL2NvcmUuXG4gKiAgICAgICAgIFdlIHJlY29tbWVuZCBzd2l0Y2hpbmcgdG8gdGhlIHVpLXJvdXRlci1jb3JlLmpzIGFuZCB1aS1yb3V0ZXItYW5ndWxhcmpzLmpzIGJ1bmRsZXMgaW5zdGVhZC5cbiAqICAgICAgICAgRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZSBodHRwOi8vdWktcm91dGVyLmdpdGh1Yi5pby9ibG9nL2FuZ3VsYXItdWktcm91dGVyLXVtZC1idW5kbGVzXG4gKiBAdmVyc2lvbiB2MS4wLjVcbiAqIEBsaW5rIGh0dHBzOi8vdWktcm91dGVyLmdpdGh1Yi5pb1xuICogQGxpY2Vuc2UgTUlUIExpY2Vuc2UsIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKi9cbiFmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgbW9kdWxlP2UoZXhwb3J0cyxyZXF1aXJlKFwiYW5ndWxhclwiKSk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJleHBvcnRzXCIsXCJhbmd1bGFyXCJdLGUpOmUodFtcIkB1aXJvdXRlci9hbmd1bGFyanNcIl09dFtcIkB1aXJvdXRlci9hbmd1bGFyanNcIl18fHt9LHQuYW5ndWxhcil9KHRoaXMsZnVuY3Rpb24odCxlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiByKHQpe2Z1bmN0aW9uIGUocil7cmV0dXJuIHIubGVuZ3RoPj1uP3QuYXBwbHkobnVsbCxyKTpmdW5jdGlvbigpe3JldHVybiBlKHIuY29uY2F0KFtdLnNsaWNlLmFwcGx5KGFyZ3VtZW50cykpKX19dmFyIHI9W10uc2xpY2UuYXBwbHkoYXJndW1lbnRzLFsxXSksbj10Lmxlbmd0aDtyZXR1cm4gZShyKX1mdW5jdGlvbiBuKCl7dmFyIHQ9YXJndW1lbnRzLGU9dC5sZW5ndGgtMTtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9ZSxuPXRbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpO3ItLTspbj10W3JdLmNhbGwodGhpcyxuKTtyZXR1cm4gbn19ZnVuY3Rpb24gaSgpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbi5hcHBseShudWxsLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKS5yZXZlcnNlKCkpfWZ1bmN0aW9uIG8odCxlKXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspcltuXT1hcmd1bWVudHNbbl07cmV0dXJuIHQuYXBwbHkobnVsbCxyKSYmZS5hcHBseShudWxsLHIpfX1mdW5jdGlvbiBhKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXJbbl09YXJndW1lbnRzW25dO3JldHVybiB0LmFwcGx5KG51bGwscil8fGUuYXBwbHkobnVsbCxyKX19ZnVuY3Rpb24gdSh0LGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gclt0XS5hcHBseShyLGUpfX1mdW5jdGlvbiBzKHQpe3JldHVybiBmdW5jdGlvbihlKXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKylpZih0W3JdWzBdKGUpKXJldHVybiB0W3JdWzFdKGUpfX1mdW5jdGlvbiBjKHQpe2lmKHJlKHQpJiZ0Lmxlbmd0aCl7dmFyIGU9dC5zbGljZSgwLC0xKSxyPXQuc2xpY2UoLTEpO3JldHVybiEoZS5maWx0ZXIoRHQodGUpKS5sZW5ndGh8fHIuZmlsdGVyKER0KFp0KSkubGVuZ3RoKX1yZXR1cm4gWnQodCl9ZnVuY3Rpb24gZih0KXtyZXR1cm4gdH1mdW5jdGlvbiBsKCl7fWZ1bmN0aW9uIHAodCxlLHIsbixpKXt2b2lkIDA9PT1pJiYoaT0hMSk7dmFyIG89ZnVuY3Rpb24oZSl7cmV0dXJuIHQoKVtlXS5iaW5kKHIoKSl9LGE9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGVbdF09byh0KSxlW3RdLmFwcGx5KG51bGwsYXJndW1lbnRzKX19O3JldHVybiBuPW58fE9iamVjdC5rZXlzKHQoKSksbi5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdFtlXT1pP2EoZSk6byhlKSx0fSxlKX1mdW5jdGlvbiBoKHQsZSl7cmV0dXJuLTEhPT10LmluZGV4T2YoZSl9ZnVuY3Rpb24gZCh0LGUpe3ZhciByPXQuaW5kZXhPZihlKTtyZXR1cm4gcj49MCYmdC5zcGxpY2UociwxKSx0fWZ1bmN0aW9uIHYodCxlKXtyZXR1cm4gdC5wdXNoKGUpLGV9ZnVuY3Rpb24gbSh0KXtmb3IodmFyIGU9W10scj0xO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTt2YXIgbj1lLmNvbmNhdCh7fSkucmV2ZXJzZSgpLGk9dmUuYXBwbHkobnVsbCxuKTtyZXR1cm4gdmUoe30saSxnKHR8fHt9LE9iamVjdC5rZXlzKGkpKSl9ZnVuY3Rpb24geSh0LGUpe3ZhciByPVtdO2Zvcih2YXIgbiBpbiB0LnBhdGgpe2lmKHQucGF0aFtuXSE9PWUucGF0aFtuXSlicmVhaztyLnB1c2godC5wYXRoW25dKX1yZXR1cm4gcn1mdW5jdGlvbiBnKHQsZSl7dmFyIHI9e307Zm9yKHZhciBuIGluIHQpLTEhPT1lLmluZGV4T2YobikmJihyW25dPXRbbl0pO3JldHVybiByfWZ1bmN0aW9uIHcodCxlKXtyZXR1cm4gT2JqZWN0LmtleXModCkuZmlsdGVyKER0KGdlKGUpKSkucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIGVbcl09dFtyXSxlfSx7fSl9ZnVuY3Rpb24gXyh0LGUpe3JldHVybiBiKHQsQXQoZSkpfWZ1bmN0aW9uICQodCxlKXt2YXIgcj1yZSh0KSxuPXI/W106e30saT1yP2Z1bmN0aW9uKHQpe3JldHVybiBuLnB1c2godCl9OmZ1bmN0aW9uKHQsZSl7cmV0dXJuIG5bZV09dH07cmV0dXJuIGRlKHQsZnVuY3Rpb24odCxyKXtlKHQscikmJmkodCxyKX0pLG59ZnVuY3Rpb24gUyh0LGUpe3ZhciByO3JldHVybiBkZSh0LGZ1bmN0aW9uKHQsbil7cnx8ZSh0LG4pJiYocj10KX0pLHJ9ZnVuY3Rpb24gYih0LGUpe3ZhciByPXJlKHQpP1tdOnt9O3JldHVybiBkZSh0LGZ1bmN0aW9uKHQsbil7cmV0dXJuIHJbbl09ZSh0LG4pfSkscn1mdW5jdGlvbiBSKHQsZSl7cmV0dXJuIHQucHVzaChlKSx0fWZ1bmN0aW9uIEUodCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9XCJhc3NlcnQgZmFpbHVyZVwiKSxmdW5jdGlvbihyKXt2YXIgbj10KHIpO2lmKCFuKXRocm93IG5ldyBFcnJvcihadChlKT9lKHIpOmUpO3JldHVybiBufX1mdW5jdGlvbiBDKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO2lmKDA9PT10Lmxlbmd0aClyZXR1cm5bXTt2YXIgcixuPXQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIE1hdGgubWluKGUubGVuZ3RoLHQpfSw5MDA3MTk5MjU0NzQwOTkxKSxpPVtdO2ZvcihyPTA7cjxuO3IrKylzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMTppLnB1c2goW3RbMF1bcl1dKTticmVhaztjYXNlIDI6aS5wdXNoKFt0WzBdW3JdLHRbMV1bcl1dKTticmVhaztjYXNlIDM6aS5wdXNoKFt0WzBdW3JdLHRbMV1bcl0sdFsyXVtyXV0pO2JyZWFrO2Nhc2UgNDppLnB1c2goW3RbMF1bcl0sdFsxXVtyXSx0WzJdW3JdLHRbM11bcl1dKTticmVhaztkZWZhdWx0OmkucHVzaCh0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdFtyXX0pKX1yZXR1cm4gaX1mdW5jdGlvbiBUKHQsZSl7dmFyIHIsbjtpZihyZShlKSYmKHI9ZVswXSxuPWVbMV0pLCF0ZShyKSl0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBhcmFtZXRlcnMgdG8gYXBwbHlQYWlyc1wiKTtyZXR1cm4gdFtyXT1uLHR9ZnVuY3Rpb24gUCh0KXtyZXR1cm4gdC5sZW5ndGgmJnRbdC5sZW5ndGgtMV18fHZvaWQgMH1mdW5jdGlvbiBrKHQsZSl7cmV0dXJuIGUmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIGRlbGV0ZSBlW3RdfSksZXx8KGU9e30pLHZlKGUsdCl9ZnVuY3Rpb24gTyh0LGUscil7aWYocmUodCkpcmV0dXJuIHQuZm9yRWFjaChlLHIpO09iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24ocil7cmV0dXJuIGUodFtyXSxyKX0pfWZ1bmN0aW9uIHgodCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIHI9YXJndW1lbnRzW2VdO2lmKHIpZm9yKHZhciBuPU9iamVjdC5rZXlzKHIpLGk9MDtpPG4ubGVuZ3RoO2krKyl0W25baV1dPXJbbltpXV19cmV0dXJuIHR9ZnVuY3Rpb24gaih0LGUpe2lmKHQ9PT1lKXJldHVybiEwO2lmKG51bGw9PT10fHxudWxsPT09ZSlyZXR1cm4hMTtpZih0IT09dCYmZSE9PWUpcmV0dXJuITA7dmFyIHI9dHlwZW9mIHQ7aWYociE9PXR5cGVvZiBlfHxcIm9iamVjdFwiIT09cilyZXR1cm4hMTt2YXIgbj1bdCxlXTtpZihOdChyZSkobikpcmV0dXJuIEkodCxlKTtpZihOdChuZSkobikpcmV0dXJuIHQuZ2V0VGltZSgpPT09ZS5nZXRUaW1lKCk7aWYoTnQoaWUpKG4pKXJldHVybiB0LnRvU3RyaW5nKCk9PT1lLnRvU3RyaW5nKCk7aWYoTnQoWnQpKG4pKXJldHVybiEwO2lmKFtadCxyZSxuZSxpZV0ubWFwKEZ0KS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdHx8ISFlKG4pfSwhMSkpcmV0dXJuITE7dmFyIGksbz17fTtmb3IoaSBpbiB0KXtpZighaih0W2ldLGVbaV0pKXJldHVybiExO29baV09ITB9Zm9yKGkgaW4gZSlpZighb1tpXSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBJKHQsZSl7cmV0dXJuIHQubGVuZ3RoPT09ZS5sZW5ndGgmJkModCxlKS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmaihlWzBdLGVbMV0pfSwhMCl9ZnVuY3Rpb24gVih0KXtpZighdClyZXR1cm5cInVpLXZpZXcgKGRlZnVuY3QpXCI7dmFyIGU9dC5jcmVhdGlvbkNvbnRleHQ/dC5jcmVhdGlvbkNvbnRleHQubmFtZXx8XCIocm9vdClcIjpcIihub25lKVwiO3JldHVyblwiW3VpLXZpZXcjXCIrdC5pZCtcIiBcIit0LiR0eXBlK1wiOlwiK3QuZnFuK1wiIChcIit0Lm5hbWUrXCJAXCIrZStcIildXCJ9ZnVuY3Rpb24gQShlKXtyZXR1cm4gWHQoZSk/dC5DYXRlZ29yeVtlXTp0LkNhdGVnb3J5W3QuQ2F0ZWdvcnlbZV1dfWZ1bmN0aW9uIEgodCxlKXtmdW5jdGlvbiByKHQpe2Zvcih2YXIgZT1uLHI9MDtyPGUubGVuZ3RoO3IrKyl7dmFyIGk9bmV3IEJ0KGVbcl0pO2lmKGkmJmkubWF0Y2hlcyh0Lm5hbWUpfHwhaSYmZVtyXT09PXQubmFtZSlyZXR1cm4hMH1yZXR1cm4hMX12YXIgbj10ZShlKT9bZV06ZTtyZXR1cm4hIShadChuKT9uOnIpKHQpfWZ1bmN0aW9uIHEodCxlLHIpe2Z1bmN0aW9uIG4odCxuLGkpe3ZvaWQgMD09PWkmJihpPXt9KTt2YXIgYT1uZXcgWWUoZSxyLG4sdCxpKTtyZXR1cm4gby5wdXNoKGEpLGZ1bmN0aW9uKCl7YS5fZGVyZWdpc3RlcmVkPSEwLHdlKG8pKGEpfX12YXIgaT10Ll9yZWdpc3RlcmVkSG9va3M9dC5fcmVnaXN0ZXJlZEhvb2tzfHx7fSxvPWlbci5uYW1lXT1bXTtyZXR1cm4gdFtyLm5hbWVdPW4sbn1mdW5jdGlvbiBEKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD0hMSksZnVuY3Rpb24oZSxyKXt2YXIgbj10Py0xOjEsaT0oZS5ub2RlLnN0YXRlLnBhdGgubGVuZ3RoLXIubm9kZS5zdGF0ZS5wYXRoLmxlbmd0aCkqbjtyZXR1cm4gMCE9PWk/aTpyLmhvb2sucHJpb3JpdHktZS5ob29rLnByaW9yaXR5fX1mdW5jdGlvbiBOKHQsZSl7ZnVuY3Rpb24gcih0KXtyZXR1cm4gcmUodCk/dDpRdCh0KT9bdF06W119ZnVuY3Rpb24gbih0KXtzd2l0Y2godC5sZW5ndGgpe2Nhc2UgMDpyZXR1cm47Y2FzZSAxOnJldHVyblwiYXV0b1wiPT09ZT90WzBdOnQ7ZGVmYXVsdDpyZXR1cm4gdH19ZnVuY3Rpb24gaSh0LGUpe3JldHVybiBmdW5jdGlvbihpKXtpZihyZShpKSYmMD09PWkubGVuZ3RoKXJldHVybiBpO3ZhciBvPXIoaSksYT1iKG8sdCk7cmV0dXJuITA9PT1lPzA9PT0kKGEsZnVuY3Rpb24odCl7cmV0dXJuIXR9KS5sZW5ndGg6bihhKX19ZnVuY3Rpb24gbyh0KXtyZXR1cm4gZnVuY3Rpb24oZSxuKXt2YXIgaT1yKGUpLG89cihuKTtpZihpLmxlbmd0aCE9PW8ubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYT0wO2E8aS5sZW5ndGg7YSsrKWlmKCF0KGlbYV0sb1thXSkpcmV0dXJuITE7cmV0dXJuITB9fXZhciBhPXRoaXM7W1wiZW5jb2RlXCIsXCJkZWNvZGVcIixcImVxdWFsc1wiLFwiJG5vcm1hbGl6ZVwiXS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXRbZV0uYmluZCh0KSxuPVwiZXF1YWxzXCI9PT1lP286aTthW2VdPW4ocil9KSx2ZSh0aGlzLHtkeW5hbWljOnQuZHluYW1pYyxuYW1lOnQubmFtZSxwYXR0ZXJuOnQucGF0dGVybixpbmhlcml0OnQuaW5oZXJpdCxpczppKHQuaXMuYmluZCh0KSwhMCksJGFycmF5TW9kZTplfSl9ZnVuY3Rpb24gRih0KXtmdW5jdGlvbiBlKCl7cmV0dXJuIHQudmFsdWV9cmV0dXJuIHQ9ZXIodCkmJnt2YWx1ZTp0fXx8dCxlLl9fY2FjaGVhYmxlPSEwLHZlKHQseyQkZm46Yyh0LnZhbHVlKT90LnZhbHVlOmV9KX1mdW5jdGlvbiBVKGUscixuLGksbyl7aWYoZS50eXBlJiZyJiZcInN0cmluZ1wiIT09ci5uYW1lKXRocm93IG5ldyBFcnJvcihcIlBhcmFtICdcIitpK1wiJyBoYXMgdHdvIHR5cGUgY29uZmlndXJhdGlvbnMuXCIpO2lmKGUudHlwZSYmciYmXCJzdHJpbmdcIj09PXIubmFtZSYmby50eXBlKGUudHlwZSkpcmV0dXJuIG8udHlwZShlLnR5cGUpO2lmKHIpcmV0dXJuIHI7aWYoIWUudHlwZSl7dmFyIGE9bj09PXQuRGVmVHlwZS5DT05GSUc/XCJhbnlcIjpuPT09dC5EZWZUeXBlLlBBVEg/XCJwYXRoXCI6bj09PXQuRGVmVHlwZS5TRUFSQ0g/XCJxdWVyeVwiOlwic3RyaW5nXCI7cmV0dXJuIG8udHlwZShhKX1yZXR1cm4gZS50eXBlIGluc3RhbmNlb2YgWGU/ZS50eXBlOm8udHlwZShlLnR5cGUpfWZ1bmN0aW9uIEwodCxlLHIpe3ZhciBuPXQuc3F1YXNoO2lmKCFlfHwhMT09PW4pcmV0dXJuITE7aWYoIVF0KG4pfHxudWxsPT1uKXJldHVybiByO2lmKCEwPT09bnx8dGUobikpcmV0dXJuIG47dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcXVhc2ggcG9saWN5OiAnXCIrbitcIicuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgb3IgYXJiaXRyYXJ5IHN0cmluZ1wiKX1mdW5jdGlvbiBNKHQsZSxyLG4pe3ZhciBpLG8sYT1be2Zyb206XCJcIix0bzpyfHxlP3ZvaWQgMDpcIlwifSx7ZnJvbTpudWxsLHRvOnJ8fGU/dm9pZCAwOlwiXCJ9XTtyZXR1cm4gaT1yZSh0LnJlcGxhY2UpP3QucmVwbGFjZTpbXSx0ZShuKSYmaS5wdXNoKHtmcm9tOm4sdG86dm9pZCAwfSksbz1iKGksQXQoXCJmcm9tXCIpKSwkKGEsZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1vLmluZGV4T2YodC5mcm9tKX0pLmNvbmNhdChpKX1mdW5jdGlvbiBCKHQsZSl7cmV0dXJuIGUubGVuZ3RoPD10P2U6ZS5zdWJzdHIoMCx0LTMpK1wiLi4uXCJ9ZnVuY3Rpb24gRyh0LGUpe2Zvcig7ZS5sZW5ndGg8dDspZSs9XCIgXCI7cmV0dXJuIGV9ZnVuY3Rpb24gVyh0KXtyZXR1cm4gdC5yZXBsYWNlKC9eKFtBLVpdKS8sZnVuY3Rpb24odCl7cmV0dXJuIHQudG9Mb3dlckNhc2UoKX0pLnJlcGxhY2UoLyhbQS1aXSkvZyxmdW5jdGlvbih0KXtyZXR1cm5cIi1cIit0LnRvTG93ZXJDYXNlKCl9KX1mdW5jdGlvbiB6KHQpe3ZhciBlPUoodCkscj1lLm1hdGNoKC9eKGZ1bmN0aW9uIFteIF0rXFwoW14pXSpcXCkpLyksbj1yP3JbMV06ZSxpPXQubmFtZXx8XCJcIjtyZXR1cm4gaSYmbi5tYXRjaCgvZnVuY3Rpb24gXFwoLyk/XCJmdW5jdGlvbiBcIitpK24uc3Vic3RyKDkpOm59ZnVuY3Rpb24gSih0KXt2YXIgZT1yZSh0KT90LnNsaWNlKC0xKVswXTp0O3JldHVybiBlJiZlLnRvU3RyaW5nKCl8fFwidW5kZWZpbmVkXCJ9ZnVuY3Rpb24gUSh0KXtmdW5jdGlvbiBlKHQpe2lmKGVlKHQpKXtpZigtMSE9PXIuaW5kZXhPZih0KSlyZXR1cm5cIltjaXJjdWxhciByZWZdXCI7ci5wdXNoKHQpfXJldHVybiB5cih0KX12YXIgcj1bXTtyZXR1cm4gSlNPTi5zdHJpbmdpZnkodCxmdW5jdGlvbih0LHIpe3JldHVybiBlKHIpfSkucmVwbGFjZSgvXFxcXFwiL2csJ1wiJyl9ZnVuY3Rpb24gSyh0KXt2YXIgZT1uZXcgUmVnRXhwKFwiKFwiK3QrXCIpXCIsXCJnXCIpO3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdChlKS5maWx0ZXIoZil9fWZ1bmN0aW9uIFkodCxlKXtyZXR1cm4gdGUoUCh0KSkmJnRlKGUpP3Quc2xpY2UoMCwtMSkuY29uY2F0KFAodCkrZSk6Uih0LGUpfWZ1bmN0aW9uIFoodCl7cmV0dXJuIHQubmFtZX1mdW5jdGlvbiBYKHQpe3JldHVybiB0LnNlbGYuJCRzdGF0ZT1mdW5jdGlvbigpe3JldHVybiB0fSx0LnNlbGZ9ZnVuY3Rpb24gdHQodCl7cmV0dXJuIHQucGFyZW50JiZ0LnBhcmVudC5kYXRhJiYodC5kYXRhPXQuc2VsZi5kYXRhPXllKHQucGFyZW50LmRhdGEsdC5kYXRhKSksdC5kYXRhfWZ1bmN0aW9uIGV0KHQpe3JldHVybiB0LnBhcmVudD90LnBhcmVudC5wYXRoLmNvbmNhdCh0KTpbdF19ZnVuY3Rpb24gcnQodCl7dmFyIGU9dC5wYXJlbnQ/dmUoe30sdC5wYXJlbnQuaW5jbHVkZXMpOnt9O3JldHVybiBlW3QubmFtZV09ITAsZX1mdW5jdGlvbiBudCh0KXt2YXIgZT1mdW5jdGlvbih0KXt2YXIgZT1zZS4kaW5qZWN0b3I7cmV0dXJuIHQuJGluamVjdHx8ZSYmZS5hbm5vdGF0ZSh0LGUuc3RyaWN0RGkpfHxcImRlZmVycmVkXCJ9LHI9ZnVuY3Rpb24odCl7cmV0dXJuISghdC50b2tlbnx8IXQucmVzb2x2ZUZuKX0sbj1mdW5jdGlvbih0KXtyZXR1cm4hKCF0LnByb3ZpZGUmJiF0LnRva2VufHwhKHQudXNlVmFsdWV8fHQudXNlRmFjdG9yeXx8dC51c2VFeGlzdGluZ3x8dC51c2VDbGFzcykpfSxvPWZ1bmN0aW9uKHQpe3JldHVybiEhKHQmJnQudmFsJiYodGUodC52YWwpfHxyZSh0LnZhbCl8fFp0KHQudmFsKSkpfSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0LnByb3ZpZGV8fHQudG9rZW59LHU9cyhbW0F0KFwicmVzb2x2ZUZuXCIpLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYXIoYSh0KSx0LnJlc29sdmVGbix0LmRlcHMsdC5wb2xpY3kpfV0sW0F0KFwidXNlRmFjdG9yeVwiKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFyKGEodCksdC51c2VGYWN0b3J5LHQuZGVwc3x8dC5kZXBlbmRlbmNpZXMsdC5wb2xpY3kpfV0sW0F0KFwidXNlQ2xhc3NcIiksZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBhcihhKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyB0LnVzZUNsYXNzfSxbXSx0LnBvbGljeSl9XSxbQXQoXCJ1c2VWYWx1ZVwiKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFyKGEodCksZnVuY3Rpb24oKXtyZXR1cm4gdC51c2VWYWx1ZX0sW10sdC5wb2xpY3ksdC51c2VWYWx1ZSl9XSxbQXQoXCJ1c2VFeGlzdGluZ1wiKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFyKGEodCksZixbdC51c2VFeGlzdGluZ10sdC5wb2xpY3kpfV1dKSxjPXMoW1tpKEF0KFwidmFsXCIpLHRlKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFyKHQudG9rZW4sZixbdC52YWxdLHQucG9saWN5KX1dLFtpKEF0KFwidmFsXCIpLHJlKSxmdW5jdGlvbih0KXtyZXR1cm4gbmV3IGFyKHQudG9rZW4sUCh0LnZhbCksdC52YWwuc2xpY2UoMCwtMSksdC5wb2xpY3kpfV0sW2koQXQoXCJ2YWxcIiksWnQpLGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYXIodC50b2tlbix0LnZhbCxlKHQudmFsKSx0LnBvbGljeSl9XV0pLGw9cyhbW1V0KGFyKSxmdW5jdGlvbih0KXtyZXR1cm4gdH1dLFtyLHVdLFtuLHVdLFtvLGNdLFtNdCghMCksZnVuY3Rpb24odCl7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZXNvbHZlIHZhbHVlOiBcIitRKHQpKX1dXSkscD10LnJlc29sdmU7cmV0dXJuKHJlKHApP3A6ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2JqZWN0LmtleXModHx8e30pLm1hcChmdW5jdGlvbihyKXtyZXR1cm57dG9rZW46cix2YWw6dFtyXSxkZXBzOnZvaWQgMCxwb2xpY3k6ZVtyXX19KX0ocCx0LnJlc29sdmVQb2xpY3l8fHt9KSkubWFwKGwpfWZ1bmN0aW9uIGl0KHQsZSl7dmFyIHI9W1wiXCIsXCJcIl0sbj10LnJlcGxhY2UoL1tcXFxcXFxbXFxdXFxeJCorPy4oKXx7fV0vZyxcIlxcXFwkJlwiKTtpZighZSlyZXR1cm4gbjtzd2l0Y2goZS5zcXVhc2gpe2Nhc2UhMTpyPVtcIihcIixcIilcIisoZS5pc09wdGlvbmFsP1wiP1wiOlwiXCIpXTticmVhaztjYXNlITA6bj1uLnJlcGxhY2UoL1xcLyQvLFwiXCIpLHI9W1wiKD86LyhcIixcIil8Lyk/XCJdO2JyZWFrO2RlZmF1bHQ6cj1bXCIoXCIrZS5zcXVhc2grXCJ8XCIsXCIpP1wiXX1yZXR1cm4gbityWzBdK2UudHlwZS5wYXR0ZXJuLnNvdXJjZStyWzFdfWZ1bmN0aW9uIG90KHQsZSxyLG4pe3JldHVyblwiL1wiPT09bj90OmU/bi5zbGljZSgwLC0xKSt0OnI/bi5zbGljZSgxKSt0OnR9ZnVuY3Rpb24gYXQodCl7aWYoIShadCh0KXx8dGUodCl8fFV0KEplKSh0KXx8SmUuaXNEZWYodCkpKXRocm93IG5ldyBFcnJvcihcIidoYW5kbGVyJyBtdXN0IGJlIGEgc3RyaW5nLCBmdW5jdGlvbiwgVGFyZ2V0U3RhdGUsIG9yIGhhdmUgYSBzdGF0ZTogJ25ld3RhcmdldCcgcHJvcGVydHlcIik7cmV0dXJuIFp0KHQpP3Q6TXQodCl9ZnVuY3Rpb24gdXQodCl7dC5hZGRSZXNvbHZhYmxlKHt0b2tlbjpKcixkZXBzOltdLHJlc29sdmVGbjpmdW5jdGlvbigpe3JldHVybiB0LnJvdXRlcn0sZGF0YTp0LnJvdXRlcn0sXCJcIiksdC5hZGRSZXNvbHZhYmxlKHt0b2tlbjp2cixkZXBzOltdLHJlc29sdmVGbjpmdW5jdGlvbigpe3JldHVybiB0fSxkYXRhOnR9LFwiXCIpLHQuYWRkUmVzb2x2YWJsZSh7dG9rZW46XCIkdHJhbnNpdGlvbiRcIixkZXBzOltdLHJlc29sdmVGbjpmdW5jdGlvbigpe3JldHVybiB0fSxkYXRhOnR9LFwiXCIpLHQuYWRkUmVzb2x2YWJsZSh7dG9rZW46XCIkc3RhdGVQYXJhbXNcIixkZXBzOltdLHJlc29sdmVGbjpmdW5jdGlvbigpe3JldHVybiB0LnBhcmFtcygpfSxkYXRhOnQucGFyYW1zKCl9LFwiXCIpLHQuZW50ZXJpbmcoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuYWRkUmVzb2x2YWJsZSh7dG9rZW46XCIkc3RhdGUkXCIsZGVwczpbXSxyZXNvbHZlRm46ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZGF0YTplfSxlKX0pfWZ1bmN0aW9uIHN0KHQpe3JldHVybiBmdW5jdGlvbihlLHIpe3JldHVybigwLHIuJCRzdGF0ZSgpW3RdKShlLHIpfX1mdW5jdGlvbiBjdCh0LGUpe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIGUmJkFycmF5LmlzQXJyYXkoZS5zdGF0ZXMpJiZlLnN0YXRlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKGUpfSksZX12YXIgbj1lLiQkc3RhdGUoKS5sYXp5TG9hZCxpPW4uX3Byb21pc2U7aWYoIWkpe3ZhciBvPWZ1bmN0aW9uKHQpe3JldHVybiBkZWxldGUgZS5sYXp5TG9hZCxkZWxldGUgZS4kJHN0YXRlKCkubGF6eUxvYWQsZGVsZXRlIG4uX3Byb21pc2UsdH0sYT1mdW5jdGlvbih0KXtyZXR1cm4gZGVsZXRlIG4uX3Byb21pc2Usc2UuJHEucmVqZWN0KHQpfTtpPW4uX3Byb21pc2U9c2UuJHEud2hlbihuKHQsZSkpLnRoZW4ocikudGhlbihvLGEpfXJldHVybiBpfWZ1bmN0aW9uIGZ0KHQpe3ZhciBlPXQuX2lnbm9yZWRSZWFzb24oKTtpZihlKXt6ZS50cmFjZVRyYW5zaXRpb25JZ25vcmVkKHQpO3ZhciByPXQucm91dGVyLmdsb2JhbHMudHJhbnNpdGlvbjtyZXR1cm5cIlNhbWVBc0N1cnJlbnRcIj09PWUmJnImJnIuYWJvcnQoKSxVZS5pZ25vcmVkKCkudG9Qcm9taXNlKCl9fWZ1bmN0aW9uIGx0KHQpe2lmKCF0LnZhbGlkKCkpdGhyb3cgbmV3IEVycm9yKHQuZXJyb3IoKSl9ZnVuY3Rpb24gcHQodCl7dmFyIGU9ZnVuY3Rpb24odCl7cmV0dXJuIHR8fFwiXCJ9LHI9eG4odCkubWFwKGUpLG49clswXSxpPXJbMV0sbz1qbihuKS5tYXAoZSk7cmV0dXJue3BhdGg6b1swXSxzZWFyY2g6b1sxXSxoYXNoOmksdXJsOnR9fWZ1bmN0aW9uIGh0KHQsZSxyLG4pe3JldHVybiBmdW5jdGlvbihpKXtmdW5jdGlvbiBvKHQpe3QuZGlzcG9zZShhKSx0LmRpc3Bvc2UodSl9dmFyIGE9aS5sb2NhdGlvblNlcnZpY2U9bmV3IHIoaSksdT1pLmxvY2F0aW9uQ29uZmlnPW5ldyBuKGksZSk7cmV0dXJue25hbWU6dCxzZXJ2aWNlOmEsY29uZmlndXJhdGlvbjp1LGRpc3Bvc2U6b319fWZ1bmN0aW9uIGR0KHQpe3JldHVybiBzZS4kaW5qZWN0b3I9a24sc2UuJHE9RW4se25hbWU6XCJ2YW5pbGxhLnNlcnZpY2VzXCIsJHE6RW4sJGluamVjdG9yOmtuLGRpc3Bvc2U6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH19fWZ1bmN0aW9uIHZ0KCl7dmFyIHQ9bnVsbDtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdD10fHxzZS4kaW5qZWN0b3IuZ2V0KFwiJHRlbXBsYXRlRmFjdG9yeVwiKSxbbmV3IHRpKGUscix0KV19fWZ1bmN0aW9uIG10KHQpe2lmKCF0LnBhcmVudClyZXR1cm57fTt2YXIgZT1bXCJ0ZW1wbGF0ZVByb3ZpZGVyXCIsXCJ0ZW1wbGF0ZVVybFwiLFwidGVtcGxhdGVcIixcIm5vdGlmeVwiLFwiYXN5bmNcIl0scj1bXCJjb250cm9sbGVyXCIsXCJjb250cm9sbGVyUHJvdmlkZXJcIixcImNvbnRyb2xsZXJBc1wiLFwicmVzb2x2ZUFzXCJdLG49W1wiY29tcG9uZW50XCIsXCJiaW5kaW5nc1wiLFwiY29tcG9uZW50UHJvdmlkZXJcIl0saT1lLmNvbmNhdChyKSxvPW4uY29uY2F0KGkpO2lmKFF0KHQudmlld3MpJiZabihvLHQpKXRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIit0Lm5hbWUrXCInIGhhcyBhICd2aWV3cycgb2JqZWN0LiBJdCBjYW5ub3QgYWxzbyBoYXZlIFxcXCJ2aWV3IHByb3BlcnRpZXNcXFwiIGF0IHRoZSBzdGF0ZSBsZXZlbC4gIE1vdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGludG8gYSB2aWV3IChpbiB0aGUgJ3ZpZXdzJyBvYmplY3QpOiAgXCIrby5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIFF0KHRbZV0pfSkuam9pbihcIiwgXCIpKTt2YXIgYT17fSx1PXQudmlld3N8fHskZGVmYXVsdDpnKHQsbyl9O3JldHVybiBkZSh1LGZ1bmN0aW9uKGUscil7aWYocj1yfHxcIiRkZWZhdWx0XCIsdGUoZSkmJihlPXtjb21wb25lbnQ6ZX0pLGU9dmUoe30sZSksWm4obixlKSYmWm4oaSxlKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY29tYmluZTogXCIrbi5qb2luKFwifFwiKStcIiB3aXRoOiBcIitpLmpvaW4oXCJ8XCIpK1wiIGluIHN0YXRldmlldzogJ1wiK3IrXCJAXCIrdC5uYW1lK1wiJ1wiKTtlLnJlc29sdmVBcz1lLnJlc29sdmVBc3x8XCIkcmVzb2x2ZVwiLGUuJHR5cGU9XCJuZzFcIixlLiRjb250ZXh0PXQsZS4kbmFtZT1yO3ZhciBvPURyLm5vcm1hbGl6ZVVJVmlld1RhcmdldChlLiRjb250ZXh0LGUuJG5hbWUpO2UuJHVpVmlld05hbWU9by51aVZpZXdOYW1lLGUuJHVpVmlld0NvbnRleHRBbmNob3I9by51aVZpZXdDb250ZXh0QW5jaG9yLGFbcl09ZX0pLGF9ZnVuY3Rpb24geXQodCl7dmFyIGU9c2UuJGluamVjdG9yLmdldCh0K1wiRGlyZWN0aXZlXCIpO2lmKCFlfHwhZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgY29tcG9uZW50IG5hbWVkICdcIit0K1wiJ1wiKTtyZXR1cm4gZS5tYXAocmkpLnJlZHVjZShUZSxbXSl9ZnVuY3Rpb24gZ3QodCl7ZnVuY3Rpb24gZSh0LGUsbixpLG8sYSl7cmV0dXJuIHIuX3J1bnRpbWVTZXJ2aWNlcyhpLHQsbixlKSxkZWxldGUgaGkucm91dGVyLGRlbGV0ZSBoaS4kZ2V0LGhpfWhpPXRoaXMucm91dGVyPW5ldyBKcixoaS5zdGF0ZVByb3ZpZGVyPW5ldyBpaShoaS5zdGF0ZVJlZ2lzdHJ5LGhpLnN0YXRlU2VydmljZSksaGkuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IoXCJ2aWV3c1wiLG10KSxoaS5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcihcIm9uRXhpdFwiLG9pKFwib25FeGl0XCIpKSxoaS5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcihcIm9uUmV0YWluXCIsb2koXCJvblJldGFpblwiKSksaGkuc3RhdGVSZWdpc3RyeS5kZWNvcmF0b3IoXCJvbkVudGVyXCIsb2koXCJvbkVudGVyXCIpKSxoaS52aWV3U2VydmljZS5fcGx1Z2luYXBpLl92aWV3Q29uZmlnRmFjdG9yeShcIm5nMVwiLHZ0KCkpO3ZhciByPWhpLmxvY2F0aW9uU2VydmljZT1oaS5sb2NhdGlvbkNvbmZpZz1uZXcgYWkodCk7cmV0dXJuIGFpLm1vbmtleVBhdGNoUGF0aFBhcmFtZXRlclR5cGUoaGkpLGhpLnJvdXRlcj1oaSxoaS4kZ2V0PWUsZS4kaW5qZWN0PVtcIiRsb2NhdGlvblwiLFwiJGJyb3dzZXJcIixcIiRzbmlmZmVyXCIsXCIkcm9vdFNjb3BlXCIsXCIkaHR0cFwiLFwiJHRlbXBsYXRlQ2FjaGVcIl0saGl9ZnVuY3Rpb24gd3QodCxlLHIpe3NlLiRpbmplY3Rvcj10LHNlLiRxPWUsci5zdGF0ZVJlZ2lzdHJ5LmdldCgpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC4kJHN0YXRlKCkucmVzb2x2YWJsZXN9KS5yZWR1Y2UoVGUsW10pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cImRlZmVycmVkXCI9PT10LmRlcHN9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmRlcHM9dC5hbm5vdGF0ZShlLnJlc29sdmVGbix0LnN0cmljdERpKX0pfWZ1bmN0aW9uIF90KHQpe3QuJHdhdGNoKGZ1bmN0aW9uKCl7emUuYXBwcm94aW1hdGVEaWdlc3RzKyt9KX1mdW5jdGlvbiAkdCh0KXt2YXIgZSxyPXQubWF0Y2goL15cXHMqKHtbXn1dKn0pXFxzKiQvKTtpZihyJiYodD1cIihcIityWzFdK1wiKVwiKSwhKGU9dC5yZXBsYWNlKC9cXG4vZyxcIiBcIikubWF0Y2goL15cXHMqKFteKF0qPylcXHMqKFxcKCguKilcXCkpP1xccyokLykpfHw0IT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdGF0ZSByZWYgJ1wiK3QrXCInXCIpO3JldHVybntzdGF0ZTplWzFdfHxudWxsLHBhcmFtRXhwcjplWzNdfHxudWxsfX1mdW5jdGlvbiBTdCh0KXt2YXIgZT10LnBhcmVudCgpLmluaGVyaXRlZERhdGEoXCIkdWlWaWV3XCIpLHI9cXQoXCIkY2ZnLnBhdGhcIikoZSk7cmV0dXJuIHI/UChyKS5zdGF0ZS5uYW1lOnZvaWQgMH1mdW5jdGlvbiBidCh0LGUscil7dmFyIG49ci51aVN0YXRlfHx0LmN1cnJlbnQubmFtZSxpPXZlKEN0KGUsdCksci51aVN0YXRlT3B0c3x8e30pLG89dC5ocmVmKG4sci51aVN0YXRlUGFyYW1zLGkpO3JldHVybnt1aVN0YXRlOm4sdWlTdGF0ZVBhcmFtczpyLnVpU3RhdGVQYXJhbXMsdWlTdGF0ZU9wdHM6aSxocmVmOm99fWZ1bmN0aW9uIFJ0KHQpe3ZhciBlPVwiW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ11cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0LnByb3AoXCJocmVmXCIpKSxyPVwiRk9STVwiPT09dFswXS5ub2RlTmFtZTtyZXR1cm57YXR0cjpyP1wiYWN0aW9uXCI6ZT9cInhsaW5rOmhyZWZcIjpcImhyZWZcIixpc0FuY2hvcjpcIkFcIj09PXQucHJvcChcInRhZ05hbWVcIikudG9VcHBlckNhc2UoKSxjbGlja2FibGU6IXJ9fWZ1bmN0aW9uIEV0KHQsZSxyLG4saSl7cmV0dXJuIGZ1bmN0aW9uKG8pe3ZhciBhPW8ud2hpY2h8fG8uYnV0dG9uLHU9aSgpO2lmKCEoYT4xfHxvLmN0cmxLZXl8fG8ubWV0YUtleXx8by5zaGlmdEtleXx8dC5hdHRyKFwidGFyZ2V0XCIpKSl7dmFyIHM9cihmdW5jdGlvbigpe2UuZ28odS51aVN0YXRlLHUudWlTdGF0ZVBhcmFtcyx1LnVpU3RhdGVPcHRzKX0pO28ucHJldmVudERlZmF1bHQoKTt2YXIgYz1uLmlzQW5jaG9yJiYhdS5ocmVmPzE6MDtvLnByZXZlbnREZWZhdWx0PWZ1bmN0aW9uKCl7Yy0tPD0wJiZyLmNhbmNlbChzKX19fX1mdW5jdGlvbiBDdCh0LGUpe3JldHVybntyZWxhdGl2ZTpTdCh0KXx8ZS4kY3VycmVudCxpbmhlcml0OiEwLHNvdXJjZTpcInNyZWZcIn19ZnVuY3Rpb24gVHQodCxlLHIsbil7dmFyIGk7biYmKGk9bi5ldmVudHMpLHJlKGkpfHwoaT1bXCJjbGlja1wiXSk7Zm9yKHZhciBvPXQub24/XCJvblwiOlwiYmluZFwiLGE9MCx1PWk7YTx1Lmxlbmd0aDthKyspe3ZhciBzPXVbYV07dFtvXShzLHIpfWUuJG9uKFwiJGRlc3Ryb3lcIixmdW5jdGlvbigpe2Zvcih2YXIgZT10Lm9mZj9cIm9mZlwiOlwidW5iaW5kXCIsbj0wLG89aTtuPG8ubGVuZ3RoO24rKyl7dmFyIGE9b1tuXTt0W2VdKGEscil9fSl9ZnVuY3Rpb24gUHQodCl7dmFyIGU9ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LmlzKGUscixuKX07cmV0dXJuIGUuJHN0YXRlZnVsPSEwLGV9ZnVuY3Rpb24ga3QodCl7dmFyIGU9ZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LmluY2x1ZGVzKGUscixuKX07cmV0dXJuIGUuJHN0YXRlZnVsPSEwLGV9ZnVuY3Rpb24gT3QodCxyLG4saSxvLGEpe3ZhciB1PXF0KFwidmlld0RlY2wuY29udHJvbGxlckFzXCIpLHM9cXQoXCJ2aWV3RGVjbC5yZXNvbHZlQXNcIik7cmV0dXJue3Jlc3RyaWN0OlwiRUNBXCIscHJpb3JpdHk6LTQwMCxjb21waWxlOmZ1bmN0aW9uKGkpe3ZhciBhPWkuaHRtbCgpO3JldHVybiBpLmVtcHR5KCksZnVuY3Rpb24oaSxjKXt2YXIgZj1jLmRhdGEoXCIkdWlWaWV3XCIpO2lmKCFmKXJldHVybiBjLmh0bWwoYSksdm9pZCB0KGMuY29udGVudHMoKSkoaSk7dmFyIGw9Zi4kY2ZnfHx7dmlld0RlY2w6e30sZ2V0VGVtcGxhdGU6ZS5ub29wfSxwPWwucGF0aCYmbmV3IHByKGwucGF0aCk7Yy5odG1sKGwuZ2V0VGVtcGxhdGUoYyxwKXx8YSksemUudHJhY2VVSVZpZXdGaWxsKGYuJHVpVmlldyxjLmh0bWwoKSk7dmFyIGg9dChjLmNvbnRlbnRzKCkpLGQ9bC5jb250cm9sbGVyLHY9dShsKSxtPXMobCkseT1wJiZnaShwKTtpZihpW21dPXksZCl7dmFyIGc9cihkLHZlKHt9LHkseyRzY29wZTppLCRlbGVtZW50OmN9KSk7diYmKGlbdl09ZyxpW3ZdW21dPXkpLGMuZGF0YShcIiRuZ0NvbnRyb2xsZXJDb250cm9sbGVyXCIsZyksYy5jaGlsZHJlbigpLmRhdGEoXCIkbmdDb250cm9sbGVyQ29udHJvbGxlclwiLGcpLHh0KG8sbixnLGksbCl9aWYodGUobC52aWV3RGVjbC5jb21wb25lbnQpKXZhciB3PWwudmlld0RlY2wuY29tcG9uZW50LF89Vyh3KSwkPW5ldyBSZWdFeHAoXCJeKHgtfGRhdGEtKT9cIitfK1wiJFwiLFwiaVwiKSxTPWZ1bmN0aW9uKCl7dmFyIHQ9W10uc2xpY2UuY2FsbChjWzBdLmNoaWxkcmVuKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudGFnTmFtZSYmJC5leGVjKHQudGFnTmFtZSl9KTtyZXR1cm4gdCYmVnQuZWxlbWVudCh0KS5kYXRhKFwiJFwiK3crXCJDb250cm9sbGVyXCIpfSxiPWkuJHdhdGNoKFMsZnVuY3Rpb24odCl7dCYmKHh0KG8sbix0LGksbCksYigpKX0pO2goaSl9fX19ZnVuY3Rpb24geHQodCxlLHIsbixpKXshWnQoci4kb25Jbml0KXx8aS52aWV3RGVjbC5jb21wb25lbnQmJlNpfHxyLiRvbkluaXQoKTt2YXIgbz1QKGkucGF0aCkuc3RhdGUuc2VsZixhPXtiaW5kOnJ9O2lmKFp0KHIudWlPblBhcmFtc0NoYW5nZWQpKXt2YXIgdT1uZXcgcHIoaS5wYXRoKSxzPXUuZ2V0UmVzb2x2YWJsZShcIiR0cmFuc2l0aW9uJFwiKS5kYXRhLGM9ZnVuY3Rpb24odCl7aWYodCE9PXMmJi0xPT09dC5leGl0aW5nKCkuaW5kZXhPZihvKSl7dmFyIGU9dC5wYXJhbXMoXCJ0b1wiKSxuPXQucGFyYW1zKFwiZnJvbVwiKSxpPXQudHJlZUNoYW5nZXMoKS50by5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1TY2hlbWF9KS5yZWR1Y2UoVGUsW10pLGE9dC50cmVlQ2hhbmdlcygpLmZyb20ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmFtU2NoZW1hfSkucmVkdWNlKFRlLFtdKSx1PWkuZmlsdGVyKGZ1bmN0aW9uKHQpe3ZhciByPWEuaW5kZXhPZih0KTtyZXR1cm4tMT09PXJ8fCFhW3JdLnR5cGUuZXF1YWxzKGVbdC5pZF0sblt0LmlkXSl9KTtpZih1Lmxlbmd0aCl7dmFyIGM9dS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KSxmPSQoZSxmdW5jdGlvbih0LGUpe3JldHVybi0xIT09Yy5pbmRleE9mKGUpfSk7ci51aU9uUGFyYW1zQ2hhbmdlZChmLHQpfX19O24uJG9uKFwiJGRlc3Ryb3lcIixlLm9uU3VjY2Vzcyh7fSxjLGEpKX1pZihadChyLnVpQ2FuRXhpdCkpe3ZhciBmPWJpKyssbD1mdW5jdGlvbih0KXtyZXR1cm4hIXQmJih0Ll91aUNhbkV4aXRJZHMmJiEwPT09dC5fdWlDYW5FeGl0SWRzW2ZdfHxsKHQucmVkaXJlY3RlZEZyb20oKSkpfSxwPWZ1bmN0aW9uKGUpe3ZhciBuLGk9ZS5fdWlDYW5FeGl0SWRzPWUuX3VpQ2FuRXhpdElkc3x8e307cmV0dXJuIGwoZSl8fChuPXQud2hlbihyLnVpQ2FuRXhpdChlKSksbi50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBpW2ZdPSExIT09dH0pKSxufSxoPXtleGl0aW5nOm8ubmFtZX07bi4kb24oXCIkZGVzdHJveVwiLGUub25CZWZvcmUoaCxwLGEpKX19ZnVuY3Rpb24ganQoKXt2YXIgdD0hMTt0aGlzLnVzZUFuY2hvclNjcm9sbD1mdW5jdGlvbigpe3Q9ITB9LHRoaXMuJGdldD1bXCIkYW5jaG9yU2Nyb2xsXCIsXCIkdGltZW91dFwiLGZ1bmN0aW9uKGUscil7cmV0dXJuIHQ/ZTpmdW5jdGlvbih0KXtyZXR1cm4gcihmdW5jdGlvbigpe3RbMF0uc2Nyb2xsSW50b1ZpZXcoKX0sMCwhMSl9fV19dmFyIEl0PWFuZ3VsYXIsVnQ9ZSYmZS5tb2R1bGU/ZTpJdCxBdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmVbdF19fSxIdD1yKGZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gciYmclt0XT09PWV9KSxxdD1mdW5jdGlvbih0KXtyZXR1cm4gaS5hcHBseShudWxsLHQuc3BsaXQoXCIuXCIpLm1hcChBdCkpfSxEdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9W10scj0wO3I8YXJndW1lbnRzLmxlbmd0aDtyKyspZVtyXT1hcmd1bWVudHNbcl07cmV0dXJuIXQuYXBwbHkobnVsbCxlKX19LE50PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSYmISF0KHIpfSwhMCl9fSxGdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIGV8fCEhdChyKX0sITEpfX0sVXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT1lJiZlLmNvbnN0cnVjdG9yPT09dHx8ZSBpbnN0YW5jZW9mIHR9fSxMdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQ9PT1lfX0sTXQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHR9fSxCdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy50ZXh0PXQsdGhpcy5nbG9iPXQuc3BsaXQoXCIuXCIpO3ZhciBlPXRoaXMudGV4dC5zcGxpdChcIi5cIikubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiKipcIj09PXQ/XCIoPzp8KD86XFxcXC5bXi5dKikqKVwiOlwiKlwiPT09dD9cIlxcXFwuW14uXSpcIjpcIlxcXFwuXCIrdH0pLmpvaW4oXCJcIik7dGhpcy5yZWdleHA9bmV3IFJlZ0V4cChcIl5cIitlK1wiJFwiKX1yZXR1cm4gdC5wcm90b3R5cGUubWF0Y2hlcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5yZWdleHAudGVzdChcIi5cIit0KX0sdC5pcz1mdW5jdGlvbih0KXtyZXR1cm4hIS9bISwqXSsvLmV4ZWModCl9LHQuZnJvbVN0cmluZz1mdW5jdGlvbihlKXtyZXR1cm4gdC5pcyhlKT9uZXcgdChlKTpudWxsfSx0fSgpLEd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtyZXR1cm4gdC5jcmVhdGUoZXx8e30pfXJldHVybiB0LmNyZWF0ZT1mdW5jdGlvbihlKXtlPXQuaXNTdGF0ZUNsYXNzKGUpP25ldyBlOmU7dmFyIHI9eWUoeWUoZSx0LnByb3RvdHlwZSkpO3JldHVybiBlLiQkc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sci5zZWxmPWUsci5fX3N0YXRlT2JqZWN0Q2FjaGU9e25hbWVHbG9iOkJ0LmZyb21TdHJpbmcoci5uYW1lKX0scn0sdC5wcm90b3R5cGUuaXM9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXM9PT10fHx0aGlzLnNlbGY9PT10fHx0aGlzLmZxbigpPT09dH0sdC5wcm90b3R5cGUuZnFuPWZ1bmN0aW9uKCl7aWYoISh0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQgaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yKSlyZXR1cm4gdGhpcy5uYW1lO3ZhciB0PXRoaXMucGFyZW50LmZxbigpO3JldHVybiB0P3QrXCIuXCIrdGhpcy5uYW1lOnRoaXMubmFtZX0sdC5wcm90b3R5cGUucm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucm9vdCgpfHx0aGlzfSx0LnByb3RvdHlwZS5wYXJhbWV0ZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB0PW0odCx7aW5oZXJpdDohMCxtYXRjaGluZ0tleXM6bnVsbH0pLCh0LmluaGVyaXQmJnRoaXMucGFyZW50JiZ0aGlzLnBhcmVudC5wYXJhbWV0ZXJzKCl8fFtdKS5jb25jYXQoUmUodGhpcy5wYXJhbXMpKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIXQubWF0Y2hpbmdLZXlzfHx0Lm1hdGNoaW5nS2V5cy5oYXNPd25Qcm9wZXJ0eShlLmlkKX0pfSx0LnByb3RvdHlwZS5wYXJhbWV0ZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHRoaXMudXJsJiZ0aGlzLnVybC5wYXJhbWV0ZXIodCxlKXx8UyhSZSh0aGlzLnBhcmFtcyksSHQoXCJpZFwiLHQpKXx8ZS5pbmhlcml0JiZ0aGlzLnBhcmVudCYmdGhpcy5wYXJlbnQucGFyYW1ldGVyKHQpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZxbigpfSx0LmlzU3RhdGVDbGFzcz1mdW5jdGlvbih0KXtyZXR1cm4gWnQodCkmJiEwPT09dC5fX3VpUm91dGVyU3RhdGV9LHQuaXNTdGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gZWUodC5fX3N0YXRlT2JqZWN0Q2FjaGUpfSx0fSgpLFd0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsenQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZT09PXR9fSxKdD16dChcInVuZGVmaW5lZFwiKSxRdD1EdChKdCksS3Q9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PT10fSxZdD1hKEt0LEp0KSxadD16dChcImZ1bmN0aW9uXCIpLFh0PXp0KFwibnVtYmVyXCIpLHRlPXp0KFwic3RyaW5nXCIpLGVlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9LHJlPUFycmF5LmlzQXJyYXksbmU9ZnVuY3Rpb24odCl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1XdC5jYWxsKHQpfSxpZT1mdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09V3QuY2FsbCh0KX0sb2U9R3QuaXNTdGF0ZSxhZT1vKGVlLGkoQXQoXCJ0aGVuXCIpLFp0KSksdWU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKHQrXCIoKTogTm8gY29yZXNlcnZpY2VzIGltcGxlbWVudGF0aW9uIGZvciBVSS1Sb3V0ZXIgaXMgbG9hZGVkLlwiKX19LHNlPXskcTp2b2lkIDAsJGluamVjdG9yOnZvaWQgMH0sY2U9XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz97fTp3aW5kb3csZmU9Y2UuYW5ndWxhcnx8e30sbGU9ZmUuZnJvbUpzb258fEpTT04ucGFyc2UuYmluZChKU09OKSxwZT1mZS50b0pzb258fEpTT04uc3RyaW5naWZ5LmJpbmQoSlNPTiksaGU9ZmUuY29weXx8ayxkZT1mZS5mb3JFYWNofHxPLHZlPU9iamVjdC5hc3NpZ258fHgsbWU9ZmUuZXF1YWxzfHxqLHllPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZlKE9iamVjdC5jcmVhdGUodCksZSl9LGdlPXIoaCksd2U9cihkKSxfZT1yKHYpLCRlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCkuZm9yRWFjaChmdW5jdGlvbihlKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZlKCksd2UodCxlKX0pfSxTZT1mdW5jdGlvbih0LGUpe3JldHVybiB2ZSh0LGUpfSxiZT1iLFJlPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KX0sRWU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmZX0sQ2U9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdHx8ZX0sVGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25jYXQoZSl9LFBlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHJlKGUpP3QuY29uY2F0KGUucmVkdWNlKFBlLFtdKSk6Uih0LGUpfSxrZT1mdW5jdGlvbih0LGUpe3JldHVybiBnZSh0LGUpP3Q6Uih0LGUpfSxPZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoVGUsW10pfSx4ZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoUGUsW10pfSxqZT1FLEllPUUsVmU9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcChmdW5jdGlvbihlKXtyZXR1cm5bZSx0W2VdXX0pfSxBZT1mdW5jdGlvbih0LGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1NdCghMCkpLGZ1bmN0aW9uKHIsbil7cmV0dXJuIGUocikmJmUobik/dChyKS10KG4pOjB9fSxIZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gdHx8bihlLHIpfSwwKX19LHFlPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNhdGNoKGZ1bmN0aW9uKHQpe3JldHVybiAwfSkmJnR9LERlPWZ1bmN0aW9uKHQpe3JldHVybiBxZShzZS4kcS5yZWplY3QodCkpfSxOZT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT10JiYodD1bXSksdm9pZCAwPT09ZSYmKGU9bnVsbCksdGhpcy5faXRlbXM9dCx0aGlzLl9saW1pdD1lfXJldHVybiB0LnByb3RvdHlwZS5lbnF1ZXVlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2l0ZW1zO3JldHVybiBlLnB1c2godCksdGhpcy5fbGltaXQmJmUubGVuZ3RoPnRoaXMuX2xpbWl0JiZlLnNoaWZ0KCksdH0sdC5wcm90b3R5cGUuZGVxdWV1ZT1mdW5jdGlvbigpe2lmKHRoaXMuc2l6ZSgpKXJldHVybiB0aGlzLl9pdGVtcy5zcGxpY2UoMCwxKVswXX0sdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9pdGVtcztyZXR1cm4gdGhpcy5faXRlbXM9W10sdH0sdC5wcm90b3R5cGUuc2l6ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pdGVtcy5sZW5ndGh9LHQucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9pdGVtcy5pbmRleE9mKHQpO3JldHVybiBlPi0xJiZ0aGlzLl9pdGVtcy5zcGxpY2UoZSwxKVswXX0sdC5wcm90b3R5cGUucGVla1RhaWw9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXRlbXNbdGhpcy5faXRlbXMubGVuZ3RoLTFdfSx0LnByb3RvdHlwZS5wZWVrSGVhZD1mdW5jdGlvbigpe2lmKHRoaXMuc2l6ZSgpKXJldHVybiB0aGlzLl9pdGVtc1swXX0sdH0oKTshZnVuY3Rpb24odCl7dFt0LlNVUEVSU0VERUQ9Ml09XCJTVVBFUlNFREVEXCIsdFt0LkFCT1JURUQ9M109XCJBQk9SVEVEXCIsdFt0LklOVkFMSUQ9NF09XCJJTlZBTElEXCIsdFt0LklHTk9SRUQ9NV09XCJJR05PUkVEXCIsdFt0LkVSUk9SPTZdPVwiRVJST1JcIn0odC5SZWplY3RUeXBlfHwodC5SZWplY3RUeXBlPXt9KSk7dmFyIEZlPTAsVWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsZSxyKXt0aGlzLiRpZD1GZSsrLHRoaXMudHlwZT10LHRoaXMubWVzc2FnZT1lLHRoaXMuZGV0YWlsPXJ9cmV0dXJuIGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIHQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJnQudG9TdHJpbmchPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nP3QudG9TdHJpbmcoKTpRKHQpfSh0aGlzLmRldGFpbCksZT10aGlzO3JldHVyblwiVHJhbnNpdGlvbiBSZWplY3Rpb24oJGlkOiBcIitlLiRpZCtcIiB0eXBlOiBcIitlLnR5cGUrXCIsIG1lc3NhZ2U6IFwiK2UubWVzc2FnZStcIiwgZGV0YWlsOiBcIit0K1wiKVwifSxlLnByb3RvdHlwZS50b1Byb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm4gdmUoRGUodGhpcykse190cmFuc2l0aW9uUmVqZWN0aW9uOnRoaXN9KX0sZS5pc1JlamVjdGlvblByb21pc2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQudGhlbiYmVXQoZSkodC5fdHJhbnNpdGlvblJlamVjdGlvbil9LGUuc3VwZXJzZWRlZD1mdW5jdGlvbihyLG4pe3ZhciBpPW5ldyBlKHQuUmVqZWN0VHlwZS5TVVBFUlNFREVELFwiVGhlIHRyYW5zaXRpb24gaGFzIGJlZW4gc3VwZXJzZWRlZCBieSBhIGRpZmZlcmVudCB0cmFuc2l0aW9uXCIscik7cmV0dXJuIG4mJm4ucmVkaXJlY3RlZCYmKGkucmVkaXJlY3RlZD0hMCksaX0sZS5yZWRpcmVjdGVkPWZ1bmN0aW9uKHQpe3JldHVybiBlLnN1cGVyc2VkZWQodCx7cmVkaXJlY3RlZDohMH0pfSxlLmludmFsaWQ9ZnVuY3Rpb24ocil7cmV0dXJuIG5ldyBlKHQuUmVqZWN0VHlwZS5JTlZBTElELFwiVGhpcyB0cmFuc2l0aW9uIGlzIGludmFsaWRcIixyKX0sZS5pZ25vcmVkPWZ1bmN0aW9uKHIpe3JldHVybiBuZXcgZSh0LlJlamVjdFR5cGUuSUdOT1JFRCxcIlRoZSB0cmFuc2l0aW9uIHdhcyBpZ25vcmVkXCIscil9LGUuYWJvcnRlZD1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGUodC5SZWplY3RUeXBlLkFCT1JURUQsXCJUaGUgdHJhbnNpdGlvbiBoYXMgYmVlbiBhYm9ydGVkXCIscil9LGUuZXJyb3JlZD1mdW5jdGlvbihyKXtyZXR1cm4gbmV3IGUodC5SZWplY3RUeXBlLkVSUk9SLFwiVGhlIHRyYW5zaXRpb24gZXJyb3JlZFwiLHIpfSxlLm5vcm1hbGl6ZT1mdW5jdGlvbih0KXtyZXR1cm4gVXQoZSkodCk/dDplLmVycm9yZWQodCl9LGV9KCksTGU9ZnVuY3Rpb24odCl7dmFyIGU9dC52aWV3RGVjbCxyPWUuJGNvbnRleHQubmFtZXx8XCIocm9vdClcIjtyZXR1cm5cIltWaWV3I1wiK3QuJGlkK1wiIGZyb20gJ1wiK3IrXCInIHN0YXRlXTogdGFyZ2V0IHVpLXZpZXc6ICdcIitlLiR1aVZpZXdOYW1lK1wiQFwiK2UuJHVpVmlld0NvbnRleHRBbmNob3IrXCInXCJ9OyFmdW5jdGlvbih0KXt0W3QuUkVTT0xWRT0wXT1cIlJFU09MVkVcIix0W3QuVFJBTlNJVElPTj0xXT1cIlRSQU5TSVRJT05cIix0W3QuSE9PSz0yXT1cIkhPT0tcIix0W3QuVUlWSUVXPTNdPVwiVUlWSUVXXCIsdFt0LlZJRVdDT05GSUc9NF09XCJWSUVXQ09ORklHXCJ9KHQuQ2F0ZWdvcnl8fCh0LkNhdGVnb3J5PXt9KSk7dmFyIE1lPXF0KFwiJGlkXCIpLEJlPXF0KFwicm91dGVyLiRpZFwiKSxHZT1mdW5jdGlvbih0KXtyZXR1cm5cIlRyYW5zaXRpb24gI1wiK01lKHQpK1wiLVwiK0JlKHQpfSxXZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt0aGlzLl9lbmFibGVkPXt9LHRoaXMuYXBwcm94aW1hdGVEaWdlc3RzPTB9cmV0dXJuIGUucHJvdG90eXBlLl9zZXQ9ZnVuY3Rpb24oZSxyKXt2YXIgbj10aGlzO3IubGVuZ3RofHwocj1PYmplY3Qua2V5cyh0LkNhdGVnb3J5KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHBhcnNlSW50KHQsMTApfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFpc05hTih0KX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdC5DYXRlZ29yeVtlXX0pKSxyLm1hcChBKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLl9lbmFibGVkW3RdPWV9KX0sZS5wcm90b3R5cGUuZW5hYmxlPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PVtdLGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXRbZV09YXJndW1lbnRzW2VdO3RoaXMuX3NldCghMCx0KX0sZS5wcm90b3R5cGUuZGlzYWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl0W2VdPWFyZ3VtZW50c1tlXTt0aGlzLl9zZXQoITEsdCl9LGUucHJvdG90eXBlLmVuYWJsZWQ9ZnVuY3Rpb24odCl7cmV0dXJuISF0aGlzLl9lbmFibGVkW0EodCldfSxlLnByb3RvdHlwZS50cmFjZVRyYW5zaXRpb25TdGFydD1mdW5jdGlvbihlKXt0aGlzLmVuYWJsZWQodC5DYXRlZ29yeS5UUkFOU0lUSU9OKSYmY29uc29sZS5sb2coR2UoZSkrXCI6IFN0YXJ0ZWQgIC0+IFwiK1EoZSkpfSxlLnByb3RvdHlwZS50cmFjZVRyYW5zaXRpb25JZ25vcmVkPWZ1bmN0aW9uKGUpe3RoaXMuZW5hYmxlZCh0LkNhdGVnb3J5LlRSQU5TSVRJT04pJiZjb25zb2xlLmxvZyhHZShlKStcIjogSWdub3JlZCAgPD4gXCIrUShlKSl9LGUucHJvdG90eXBlLnRyYWNlSG9va0ludm9jYXRpb249ZnVuY3Rpb24oZSxyLG4pe2lmKHRoaXMuZW5hYmxlZCh0LkNhdGVnb3J5LkhPT0spKXt2YXIgaT1xdChcInRyYWNlRGF0YS5ob29rVHlwZVwiKShuKXx8XCJpbnRlcm5hbFwiLG89cXQoXCJ0cmFjZURhdGEuY29udGV4dC5zdGF0ZS5uYW1lXCIpKG4pfHxxdChcInRyYWNlRGF0YS5jb250ZXh0XCIpKG4pfHxcInVua25vd25cIixhPXooZS5yZWdpc3RlcmVkSG9vay5jYWxsYmFjayk7Y29uc29sZS5sb2coR2UocikrXCI6ICAgSG9vayAtPiBcIitpK1wiIGNvbnRleHQ6IFwiK28rXCIsIFwiK0IoMjAwLGEpKX19LGUucHJvdG90eXBlLnRyYWNlSG9va1Jlc3VsdD1mdW5jdGlvbihlLHIsbil7dGhpcy5lbmFibGVkKHQuQ2F0ZWdvcnkuSE9PSykmJmNvbnNvbGUubG9nKEdlKHIpK1wiOiAgIDwtIEhvb2sgcmV0dXJuZWQ6IFwiK0IoMjAwLFEoZSkpKX0sZS5wcm90b3R5cGUudHJhY2VSZXNvbHZlUGF0aD1mdW5jdGlvbihlLHIsbil7dGhpcy5lbmFibGVkKHQuQ2F0ZWdvcnkuUkVTT0xWRSkmJmNvbnNvbGUubG9nKEdlKG4pK1wiOiAgICAgICAgIFJlc29sdmluZyBcIitlK1wiIChcIityK1wiKVwiKX0sZS5wcm90b3R5cGUudHJhY2VSZXNvbHZhYmxlUmVzb2x2ZWQ9ZnVuY3Rpb24oZSxyKXt0aGlzLmVuYWJsZWQodC5DYXRlZ29yeS5SRVNPTFZFKSYmY29uc29sZS5sb2coR2UocikrXCI6ICAgICAgICAgICAgICAgPC0gUmVzb2x2ZWQgIFwiK2UrXCIgdG86IFwiK0IoMjAwLFEoZS5kYXRhKSkpfSxlLnByb3RvdHlwZS50cmFjZUVycm9yPWZ1bmN0aW9uKGUscil7dGhpcy5lbmFibGVkKHQuQ2F0ZWdvcnkuVFJBTlNJVElPTikmJmNvbnNvbGUubG9nKEdlKHIpK1wiOiA8LSBSZWplY3RlZCBcIitRKHIpK1wiLCByZWFzb246IFwiK2UpfSxlLnByb3RvdHlwZS50cmFjZVN1Y2Nlc3M9ZnVuY3Rpb24oZSxyKXt0aGlzLmVuYWJsZWQodC5DYXRlZ29yeS5UUkFOU0lUSU9OKSYmY29uc29sZS5sb2coR2UocikrXCI6IDwtIFN1Y2Nlc3MgIFwiK1EocikrXCIsIGZpbmFsIHN0YXRlOiBcIitlLm5hbWUpfSxlLnByb3RvdHlwZS50cmFjZVVJVmlld0V2ZW50PWZ1bmN0aW9uKGUscixuKXt2b2lkIDA9PT1uJiYobj1cIlwiKSx0aGlzLmVuYWJsZWQodC5DYXRlZ29yeS5VSVZJRVcpJiZjb25zb2xlLmxvZyhcInVpLXZpZXc6IFwiK0coMzAsZSkrXCIgXCIrVihyKStuKX0sZS5wcm90b3R5cGUudHJhY2VVSVZpZXdDb25maWdVcGRhdGVkPWZ1bmN0aW9uKGUscil7dGhpcy5lbmFibGVkKHQuQ2F0ZWdvcnkuVUlWSUVXKSYmdGhpcy50cmFjZVVJVmlld0V2ZW50KFwiVXBkYXRpbmdcIixlLFwiIHdpdGggVmlld0NvbmZpZyBmcm9tIGNvbnRleHQ9J1wiK3IrXCInXCIpfSxlLnByb3RvdHlwZS50cmFjZVVJVmlld0ZpbGw9ZnVuY3Rpb24oZSxyKXt0aGlzLmVuYWJsZWQodC5DYXRlZ29yeS5VSVZJRVcpJiZ0aGlzLnRyYWNlVUlWaWV3RXZlbnQoXCJGaWxsXCIsZSxcIiB3aXRoOiBcIitCKDIwMCxyKSl9LGUucHJvdG90eXBlLnRyYWNlVmlld1N5bmM9ZnVuY3Rpb24oZSl7aWYodGhpcy5lbmFibGVkKHQuQ2F0ZWdvcnkuVklFV0NPTkZJRykpe3ZhciByPWUubWFwKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0scj10WzFdO3JldHVybntcInVpLXZpZXcgZnFuXCI6ZS4kdHlwZStcIjpcIitlLmZxbixcInN0YXRlOiB2aWV3IG5hbWVcIjpyJiZyLnZpZXdEZWNsLiRjb250ZXh0Lm5hbWUrXCI6IFwiK3Iudmlld0RlY2wuJG5hbWUrXCIgKFwiK3Iudmlld0RlY2wuJHR5cGUrXCIpXCJ9fSkuc29ydChmdW5jdGlvbih0LGUpe3JldHVybiB0W1widWktdmlldyBmcW5cIl0ubG9jYWxlQ29tcGFyZShlW1widWktdmlldyBmcW5cIl0pfSk7Y29uc29sZS50YWJsZShyKX19LGUucHJvdG90eXBlLnRyYWNlVmlld1NlcnZpY2VFdmVudD1mdW5jdGlvbihlLHIpe3RoaXMuZW5hYmxlZCh0LkNhdGVnb3J5LlZJRVdDT05GSUcpJiZjb25zb2xlLmxvZyhcIlZJRVdDT05GSUc6IFwiK2UrXCIgXCIrTGUocikpfSxlLnByb3RvdHlwZS50cmFjZVZpZXdTZXJ2aWNlVUlWaWV3RXZlbnQ9ZnVuY3Rpb24oZSxyKXt0aGlzLmVuYWJsZWQodC5DYXRlZ29yeS5WSUVXQ09ORklHKSYmY29uc29sZS5sb2coXCJWSUVXQ09ORklHOiBcIitlK1wiIFwiK1YocikpfSxlfSgpLHplPW5ldyBXZTshZnVuY3Rpb24odCl7dFt0LkNSRUFURT0wXT1cIkNSRUFURVwiLHRbdC5CRUZPUkU9MV09XCJCRUZPUkVcIix0W3QuUlVOPTJdPVwiUlVOXCIsdFt0LlNVQ0NFU1M9M109XCJTVUNDRVNTXCIsdFt0LkVSUk9SPTRdPVwiRVJST1JcIn0odC5UcmFuc2l0aW9uSG9va1BoYXNlfHwodC5UcmFuc2l0aW9uSG9va1BoYXNlPXt9KSksZnVuY3Rpb24odCl7dFt0LlRSQU5TSVRJT049MF09XCJUUkFOU0lUSU9OXCIsdFt0LlNUQVRFPTFdPVwiU1RBVEVcIn0odC5UcmFuc2l0aW9uSG9va1Njb3BlfHwodC5UcmFuc2l0aW9uSG9va1Njb3BlPXt9KSk7dmFyIEplPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUscixuKXt2b2lkIDA9PT1uJiYobj17fSksdGhpcy5faWRlbnRpZmllcj10LHRoaXMuX2RlZmluaXRpb249ZSx0aGlzLl9vcHRpb25zPW4sdGhpcy5fcGFyYW1zPXJ8fHt9fXJldHVybiB0LnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RlZmluaXRpb24mJnRoaXMuX2RlZmluaXRpb24ubmFtZXx8dGhpcy5faWRlbnRpZmllcn0sdC5wcm90b3R5cGUuaWRlbnRpZmllcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9pZGVudGlmaWVyfSx0LnByb3RvdHlwZS5wYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGFyYW1zfSx0LnByb3RvdHlwZS4kc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmaW5pdGlvbn0sdC5wcm90b3R5cGUuc3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmaW5pdGlvbiYmdGhpcy5fZGVmaW5pdGlvbi5zZWxmfSx0LnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9LHQucHJvdG90eXBlLmV4aXN0cz1mdW5jdGlvbigpe3JldHVybiEoIXRoaXMuX2RlZmluaXRpb258fCF0aGlzLl9kZWZpbml0aW9uLnNlbGYpfSx0LnByb3RvdHlwZS52YWxpZD1mdW5jdGlvbigpe3JldHVybiF0aGlzLmVycm9yKCl9LHQucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vcHRpb25zKCkucmVsYXRpdmU7aWYoIXRoaXMuX2RlZmluaXRpb24mJnQpe3ZhciBlPXQubmFtZT90Lm5hbWU6dDtyZXR1cm5cIkNvdWxkIG5vdCByZXNvbHZlICdcIit0aGlzLm5hbWUoKStcIicgZnJvbSBzdGF0ZSAnXCIrZStcIidcIn1yZXR1cm4gdGhpcy5fZGVmaW5pdGlvbj90aGlzLl9kZWZpbml0aW9uLnNlbGY/dm9pZCAwOlwiU3RhdGUgJ1wiK3RoaXMubmFtZSgpK1wiJyBoYXMgYW4gaW52YWxpZCBkZWZpbml0aW9uXCI6XCJObyBzdWNoIHN0YXRlICdcIit0aGlzLm5hbWUoKStcIidcIn0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIidcIit0aGlzLm5hbWUoKStcIidcIitwZSh0aGlzLnBhcmFtcygpKX0sdC5pc0RlZj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmdC5zdGF0ZSYmKHRlKHQuc3RhdGUpfHx0ZSh0LnN0YXRlLm5hbWUpKX0sdH0oKSxRZT17Y3VycmVudDpsLHRyYW5zaXRpb246bnVsbCx0cmFjZURhdGE6e30sYmluZDpudWxsfSxLZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyLG4saSl7dmFyIG89dGhpczt0aGlzLnRyYW5zaXRpb249ZSx0aGlzLnN0YXRlQ29udGV4dD1yLHRoaXMucmVnaXN0ZXJlZEhvb2s9bix0aGlzLm9wdGlvbnM9aSx0aGlzLmlzU3VwZXJzZWRlZD1mdW5jdGlvbigpe3JldHVybiBvLnR5cGUuaG9va1BoYXNlPT09dC5UcmFuc2l0aW9uSG9va1BoYXNlLlJVTiYmIW8ub3B0aW9ucy50cmFuc2l0aW9uLmlzQWN0aXZlKCl9LHRoaXMub3B0aW9ucz1tKGksUWUpLHRoaXMudHlwZT1uLmV2ZW50VHlwZX1yZXR1cm4gZS5wcm90b3R5cGUubG9nRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy50cmFuc2l0aW9uLnJvdXRlci5zdGF0ZVNlcnZpY2UuZGVmYXVsdEVycm9ySGFuZGxlcigpKHQpfSxlLnByb3RvdHlwZS5pbnZva2VIb29rPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxlPXRoaXMucmVnaXN0ZXJlZEhvb2s7aWYoIWUuX2RlcmVnaXN0ZXJlZCl7dmFyIHI9dGhpcy5nZXROb3RDdXJyZW50UmVqZWN0aW9uKCk7aWYocilyZXR1cm4gcjt2YXIgbj10aGlzLm9wdGlvbnM7emUudHJhY2VIb29rSW52b2NhdGlvbih0aGlzLHRoaXMudHJhbnNpdGlvbixuKTt2YXIgaT1mdW5jdGlvbih0KXtyZXR1cm4gVWUubm9ybWFsaXplKHQpLnRvUHJvbWlzZSgpfSxvPWZ1bmN0aW9uKHIpe3JldHVybiBlLmV2ZW50VHlwZS5nZXRFcnJvckhhbmRsZXIodCkocil9LGE9ZnVuY3Rpb24ocil7cmV0dXJuIGUuZXZlbnRUeXBlLmdldFJlc3VsdEhhbmRsZXIodCkocil9O3RyeXt2YXIgdT1mdW5jdGlvbigpe3JldHVybiBlLmNhbGxiYWNrLmNhbGwobi5iaW5kLHQudHJhbnNpdGlvbix0LnN0YXRlQ29udGV4dCl9KCk7cmV0dXJuIXRoaXMudHlwZS5zeW5jaHJvbm91cyYmYWUodSk/dS5jYXRjaChpKS50aGVuKGEsbyk6YSh1KX1jYXRjaCh0KXtyZXR1cm4gbyhVZS5ub3JtYWxpemUodCkpfX19LGUucHJvdG90eXBlLmhhbmRsZUhvb2tSZXN1bHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXMuZ2V0Tm90Q3VycmVudFJlamVjdGlvbigpO3JldHVybiByfHwoYWUodCk/dC50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiBlLmhhbmRsZUhvb2tSZXN1bHQodCl9KTooemUudHJhY2VIb29rUmVzdWx0KHQsdGhpcy50cmFuc2l0aW9uLHRoaXMub3B0aW9ucyksITE9PT10P1VlLmFib3J0ZWQoXCJIb29rIGFib3J0ZWQgdHJhbnNpdGlvblwiKS50b1Byb21pc2UoKTpVdChKZSkodCk/VWUucmVkaXJlY3RlZCh0KS50b1Byb21pc2UoKTp2b2lkIDApKX0sZS5wcm90b3R5cGUuZ2V0Tm90Q3VycmVudFJlamVjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXMudHJhbnNpdGlvbi5yb3V0ZXI7cmV0dXJuIHQuX2Rpc3Bvc2VkP1VlLmFib3J0ZWQoXCJVSVJvdXRlciBpbnN0YW5jZSAjXCIrdC4kaWQrXCIgaGFzIGJlZW4gc3RvcHBlZCAoZGlzcG9zZWQpXCIpLnRvUHJvbWlzZSgpOnRoaXMudHJhbnNpdGlvbi5fYWJvcnRlZD9VZS5hYm9ydGVkKCkudG9Qcm9taXNlKCk6dGhpcy5pc1N1cGVyc2VkZWQoKT9VZS5zdXBlcnNlZGVkKHRoaXMub3B0aW9ucy5jdXJyZW50KCkpLnRvUHJvbWlzZSgpOnZvaWQgMH0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dC5vcHRpb25zLHI9dC5yZWdpc3RlcmVkSG9vaztyZXR1cm4ocXQoXCJ0cmFjZURhdGEuaG9va1R5cGVcIikoZSl8fFwiaW50ZXJuYWxcIikrXCIgY29udGV4dDogXCIrKHF0KFwidHJhY2VEYXRhLmNvbnRleHQuc3RhdGUubmFtZVwiKShlKXx8cXQoXCJ0cmFjZURhdGEuY29udGV4dFwiKShlKXx8XCJ1bmtub3duXCIpK1wiLCBcIitCKDIwMCxKKHIuY2FsbGJhY2spKX0sZS5jaGFpbj1mdW5jdGlvbih0LGUpe3ZhciByPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQudGhlbihmdW5jdGlvbigpe3JldHVybiBlLmludm9rZUhvb2soKX0pfTtyZXR1cm4gdC5yZWR1Y2UocixlfHxzZS4kcS53aGVuKCkpfSxlLmludm9rZUhvb2tzPWZ1bmN0aW9uKHQscil7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl0uaW52b2tlSG9vaygpO2lmKGFlKGkpKXt2YXIgbz10LnNsaWNlKG4rMSk7cmV0dXJuIGUuY2hhaW4obyxpKS50aGVuKHIpfX1yZXR1cm4gcigpfSxlLnJ1bkFsbEhvb2tzPWZ1bmN0aW9uKHQpe3QuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdC5pbnZva2VIb29rKCl9KX0sZS5IQU5ETEVfUkVTVUxUPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdC5oYW5kbGVIb29rUmVzdWx0KGUpfX0sZS5MT0dfUkVKRUNURURfUkVTVUxUPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXthZShlKSYmZS5jYXRjaChmdW5jdGlvbihlKXtyZXR1cm4gdC5sb2dFcnJvcihVZS5ub3JtYWxpemUoZSkpfSl9fSxlLkxPR19FUlJPUj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQubG9nRXJyb3IoZSl9fSxlLlJFSkVDVF9FUlJPUj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIERlKHQpfX0sZS5USFJPV19FUlJPUj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7dGhyb3cgdH19LGV9KCksWWU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQsZSxyLG4saSl7dm9pZCAwPT09aSYmKGk9e30pLHRoaXMudHJhblN2Yz10LHRoaXMuZXZlbnRUeXBlPWUsdGhpcy5jYWxsYmFjaz1yLHRoaXMubWF0Y2hDcml0ZXJpYT1uLHRoaXMucHJpb3JpdHk9aS5wcmlvcml0eXx8MCx0aGlzLmJpbmQ9aS5iaW5kfHxudWxsLHRoaXMuX2RlcmVnaXN0ZXJlZD0hMX1yZXR1cm4gZS5wcm90b3R5cGUuX21hdGNoaW5nTm9kZXM9ZnVuY3Rpb24odCxlKXtpZighMD09PWUpcmV0dXJuIHQ7dmFyIHI9dC5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIEgodC5zdGF0ZSxlKX0pO3JldHVybiByLmxlbmd0aD9yOm51bGx9LGUucHJvdG90eXBlLl9nZXREZWZhdWx0TWF0Y2hDcml0ZXJpYT1mdW5jdGlvbigpe3JldHVybiBiKHRoaXMudHJhblN2Yy5fcGx1Z2luYXBpLl9nZXRQYXRoVHlwZXMoKSxmdW5jdGlvbigpe3JldHVybiEwfSl9LGUucHJvdG90eXBlLl9nZXRNYXRjaGluZ05vZGVzPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMsbj12ZSh0aGlzLl9nZXREZWZhdWx0TWF0Y2hDcml0ZXJpYSgpLHRoaXMubWF0Y2hDcml0ZXJpYSk7cmV0dXJuIFJlKHRoaXMudHJhblN2Yy5fcGx1Z2luYXBpLl9nZXRQYXRoVHlwZXMoKSkucmVkdWNlKGZ1bmN0aW9uKGksbyl7dmFyIGE9by5zY29wZT09PXQuVHJhbnNpdGlvbkhvb2tTY29wZS5TVEFURSx1PWVbby5uYW1lXXx8W10scz1hP3U6W1AodSldO3JldHVybiBpW28ubmFtZV09ci5fbWF0Y2hpbmdOb2RlcyhzLG5bby5uYW1lXSksaX0se30pfSxlLnByb3RvdHlwZS5tYXRjaGVzPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX2dldE1hdGNoaW5nTm9kZXModCk7cmV0dXJuIFJlKGUpLmV2ZXJ5KGYpP2U6bnVsbH0sZX0oKSxaZT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpcy50cmFuc2l0aW9uPXR9cmV0dXJuIGUucHJvdG90eXBlLmJ1aWxkSG9va3NGb3JQaGFzZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLnRyYW5zaXRpb24ucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLl9wbHVnaW5hcGkuX2dldEV2ZW50cyh0KS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuYnVpbGRIb29rcyh0KX0pLnJlZHVjZShUZSxbXSkuZmlsdGVyKGYpfSxlLnByb3RvdHlwZS5idWlsZEhvb2tzPWZ1bmN0aW9uKGUpe3ZhciByPXRoaXMudHJhbnNpdGlvbixuPXIudHJlZUNoYW5nZXMoKSxpPXRoaXMuZ2V0TWF0Y2hpbmdIb29rcyhlLG4pO2lmKCFpKXJldHVybltdO3ZhciBvPXt0cmFuc2l0aW9uOnIsY3VycmVudDpyLm9wdGlvbnMoKS5jdXJyZW50fSxhPWZ1bmN0aW9uKGkpe3JldHVybiBpLm1hdGNoZXMobilbZS5jcml0ZXJpYU1hdGNoUGF0aC5uYW1lXS5tYXAoZnVuY3Rpb24obil7dmFyIGE9dmUoe2JpbmQ6aS5iaW5kLHRyYWNlRGF0YTp7aG9va1R5cGU6ZS5uYW1lLGNvbnRleHQ6bn1cbn0sbyksdT1lLmNyaXRlcmlhTWF0Y2hQYXRoLnNjb3BlPT09dC5UcmFuc2l0aW9uSG9va1Njb3BlLlNUQVRFP24uc3RhdGUuc2VsZjpudWxsLHM9bmV3IEtlKHIsdSxpLGEpO3JldHVybntob29rOmksbm9kZTpuLHRyYW5zaXRpb25Ib29rOnN9fSl9O3JldHVybiBpLm1hcChhKS5yZWR1Y2UoVGUsW10pLnNvcnQoRChlLnJldmVyc2VTb3J0KSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnRyYW5zaXRpb25Ib29rfSl9LGUucHJvdG90eXBlLmdldE1hdGNoaW5nSG9va3M9ZnVuY3Rpb24oZSxyKXt2YXIgbj1lLmhvb2tQaGFzZT09PXQuVHJhbnNpdGlvbkhvb2tQaGFzZS5DUkVBVEUsaT10aGlzLnRyYW5zaXRpb24ucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlO3JldHVybihuP1tpXTpbdGhpcy50cmFuc2l0aW9uLGldKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0SG9va3MoZS5uYW1lKX0pLmZpbHRlcihqZShyZSxcImJyb2tlbiBldmVudCBuYW1lZDogXCIrZS5uYW1lKSkucmVkdWNlKFRlLFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQubWF0Y2hlcyhyKX0pfSxlfSgpLFhlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnBhdHRlcm49Ly4qLyx0aGlzLmluaGVyaXQ9ITAsdmUodGhpcyx0KX1yZXR1cm4gdC5wcm90b3R5cGUuaXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4hMH0sdC5wcm90b3R5cGUuZW5jb2RlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHR9LHQucHJvdG90eXBlLmRlY29kZT1mdW5jdGlvbih0LGUpe3JldHVybiB0fSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09ZX0sdC5wcm90b3R5cGUuJHN1YlBhdHRlcm49ZnVuY3Rpb24oKXt2YXIgdD10aGlzLnBhdHRlcm4udG9TdHJpbmcoKTtyZXR1cm4gdC5zdWJzdHIoMSx0Lmxlbmd0aC0yKX0sdC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIntQYXJhbVR5cGU6XCIrdGhpcy5uYW1lK1wifVwifSx0LnByb3RvdHlwZS4kbm9ybWFsaXplPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzKHQpP3Q6dGhpcy5kZWNvZGUodCl9LHQucHJvdG90eXBlLiRhc0FycmF5PWZ1bmN0aW9uKHQsZSl7aWYoIXQpcmV0dXJuIHRoaXM7aWYoXCJhdXRvXCI9PT10JiYhZSl0aHJvdyBuZXcgRXJyb3IoXCInYXV0bycgYXJyYXkgbW9kZSBpcyBmb3IgcXVlcnkgcGFyYW1ldGVycyBvbmx5XCIpO3JldHVybiBuZXcgTih0aGlzLHQpfSx0fSgpLHRyPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksZXI9ZnVuY3Rpb24odCl7cmV0dXJuIDA9PT1bXCJ2YWx1ZVwiLFwidHlwZVwiLFwic3F1YXNoXCIsXCJhcnJheVwiLFwiZHluYW1pY1wiXS5maWx0ZXIodHIuYmluZCh0fHx7fSkpLmxlbmd0aH07IWZ1bmN0aW9uKHQpe3RbdC5QQVRIPTBdPVwiUEFUSFwiLHRbdC5TRUFSQ0g9MV09XCJTRUFSQ0hcIix0W3QuQ09ORklHPTJdPVwiQ09ORklHXCJ9KHQuRGVmVHlwZXx8KHQuRGVmVHlwZT17fSkpO3ZhciBycj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUoZSxyLG4saSxvKXtuPUYobikscj1VKG4scixpLGUsby5wYXJhbVR5cGVzKTt2YXIgYT1mdW5jdGlvbigpe3ZhciByPXthcnJheTppPT09dC5EZWZUeXBlLlNFQVJDSCYmXCJhdXRvXCJ9LG89ZS5tYXRjaCgvXFxbXFxdJC8pP3thcnJheTohMH06e307cmV0dXJuIHZlKHIsbyxuKS5hcnJheX0oKTtyPWE/ci4kYXNBcnJheShhLGk9PT10LkRlZlR5cGUuU0VBUkNIKTpyO3ZhciB1PXZvaWQgMCE9PW4udmFsdWV8fGk9PT10LkRlZlR5cGUuU0VBUkNILHM9UXQobi5keW5hbWljKT8hIW4uZHluYW1pYzohIXIuZHluYW1pYyxjPVF0KG4ucmF3KT8hIW4ucmF3OiEhci5yYXcsZj1MKG4sdSxvLmRlZmF1bHRTcXVhc2hQb2xpY3koKSksbD1NKG4sYSx1LGYpLHA9UXQobi5pbmhlcml0KT8hIW4uaW5oZXJpdDohIXIuaW5oZXJpdDt2ZSh0aGlzLHtpZDplLHR5cGU6cixsb2NhdGlvbjppLGlzT3B0aW9uYWw6dSxkeW5hbWljOnMscmF3OmMsc3F1YXNoOmYscmVwbGFjZTpsLGluaGVyaXQ6cCxhcnJheTphLGNvbmZpZzpufSl9cmV0dXJuIGUucHJvdG90eXBlLmlzRGVmYXVsdFZhbHVlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmlzT3B0aW9uYWwmJnRoaXMudHlwZS5lcXVhbHModGhpcy52YWx1ZSgpLHQpfSxlLnByb3RvdHlwZS52YWx1ZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0PWZ1bmN0aW9uKHQpe2Zvcih2YXIgcj0wLG49ZS5yZXBsYWNlO3I8bi5sZW5ndGg7cisrKXt2YXIgaT1uW3JdO2lmKGkuZnJvbT09PXQpcmV0dXJuIGkudG99cmV0dXJuIHR9KHQpLEp0KHQpP2Z1bmN0aW9uKCl7aWYoZS5fZGVmYXVsdFZhbHVlQ2FjaGUpcmV0dXJuIGUuX2RlZmF1bHRWYWx1ZUNhY2hlLmRlZmF1bHRWYWx1ZTtpZighc2UuJGluamVjdG9yKXRocm93IG5ldyBFcnJvcihcIkluamVjdGFibGUgZnVuY3Rpb25zIGNhbm5vdCBiZSBjYWxsZWQgYXQgY29uZmlndXJhdGlvbiB0aW1lXCIpO3ZhciB0PXNlLiRpbmplY3Rvci5pbnZva2UoZS5jb25maWcuJCRmbik7aWYobnVsbCE9PXQmJnZvaWQgMCE9PXQmJiFlLnR5cGUuaXModCkpdGhyb3cgbmV3IEVycm9yKFwiRGVmYXVsdCB2YWx1ZSAoXCIrdCtcIikgZm9yIHBhcmFtZXRlciAnXCIrZS5pZCtcIicgaXMgbm90IGFuIGluc3RhbmNlIG9mIFBhcmFtVHlwZSAoXCIrZS50eXBlLm5hbWUrXCIpXCIpO3JldHVybiBlLmNvbmZpZy4kJGZuLl9fY2FjaGVhYmxlJiYoZS5fZGVmYXVsdFZhbHVlQ2FjaGU9e2RlZmF1bHRWYWx1ZTp0fSksdH0oKTp0aGlzLnR5cGUuJG5vcm1hbGl6ZSh0KX0sZS5wcm90b3R5cGUuaXNTZWFyY2g9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2NhdGlvbj09PXQuRGVmVHlwZS5TRUFSQ0h9LGUucHJvdG90eXBlLnZhbGlkYXRlcz1mdW5jdGlvbih0KXtpZigoSnQodCl8fG51bGw9PT10KSYmdGhpcy5pc09wdGlvbmFsKXJldHVybiEwO3ZhciBlPXRoaXMudHlwZS4kbm9ybWFsaXplKHQpO2lmKCF0aGlzLnR5cGUuaXMoZSkpcmV0dXJuITE7dmFyIHI9dGhpcy50eXBlLmVuY29kZShlKTtyZXR1cm4hKHRlKHIpJiYhdGhpcy50eXBlLnBhdHRlcm4uZXhlYyhyKSl9LGUucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJ7UGFyYW06XCIrdGhpcy5pZCtcIiBcIit0aGlzLnR5cGUrXCIgc3F1YXNoOiAnXCIrdGhpcy5zcXVhc2grXCInIG9wdGlvbmFsOiBcIit0aGlzLmlzT3B0aW9uYWwrXCJ9XCJ9LGUudmFsdWVzPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO2Zvcih2YXIgcj17fSxuPTAsaT10O248aS5sZW5ndGg7bisrKXt2YXIgbz1pW25dO3Jbby5pZF09by52YWx1ZShlW28uaWRdKX1yZXR1cm4gcn0sZS5jaGFuZ2VkPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9e30pLHZvaWQgMD09PXImJihyPXt9KSx0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hdC50eXBlLmVxdWFscyhlW3QuaWRdLHJbdC5pZF0pfSl9LGUuZXF1YWxzPWZ1bmN0aW9uKHQscixuKXtyZXR1cm4gdm9pZCAwPT09ciYmKHI9e30pLHZvaWQgMD09PW4mJihuPXt9KSwwPT09ZS5jaGFuZ2VkKHQscixuKS5sZW5ndGh9LGUudmFsaWRhdGVzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXt9KSx0Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC52YWxpZGF0ZXMoZVt0LmlkXSl9KS5yZWR1Y2UoRWUsITApfSxlfSgpLG5yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChlKXtpZihlIGluc3RhbmNlb2YgdCl7dmFyIHI9ZTt0aGlzLnN0YXRlPXIuc3RhdGUsdGhpcy5wYXJhbVNjaGVtYT1yLnBhcmFtU2NoZW1hLnNsaWNlKCksdGhpcy5wYXJhbVZhbHVlcz12ZSh7fSxyLnBhcmFtVmFsdWVzKSx0aGlzLnJlc29sdmFibGVzPXIucmVzb2x2YWJsZXMuc2xpY2UoKSx0aGlzLnZpZXdzPXIudmlld3MmJnIudmlld3Muc2xpY2UoKX1lbHNle3ZhciBuPWU7dGhpcy5zdGF0ZT1uLHRoaXMucGFyYW1TY2hlbWE9bi5wYXJhbWV0ZXJzKHtpbmhlcml0OiExfSksdGhpcy5wYXJhbVZhbHVlcz17fSx0aGlzLnJlc29sdmFibGVzPW4ucmVzb2x2YWJsZXMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNsb25lKCl9KX19cmV0dXJuIHQucHJvdG90eXBlLmFwcGx5UmF3UGFyYW1zPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKGUpe3JldHVybltlLmlkLGUudmFsdWUodFtlLmlkXSldfTtyZXR1cm4gdGhpcy5wYXJhbVZhbHVlcz10aGlzLnBhcmFtU2NoZW1hLnJlZHVjZShmdW5jdGlvbih0LHIpe3JldHVybiBUKHQsZShyKSl9LHt9KSx0aGlzfSx0LnByb3RvdHlwZS5wYXJhbWV0ZXI9ZnVuY3Rpb24odCl7cmV0dXJuIFModGhpcy5wYXJhbVNjaGVtYSxIdChcImlkXCIsdCkpfSx0LnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLmRpZmYodCxlKTtyZXR1cm4gciYmMD09PXIubGVuZ3RofSx0LnByb3RvdHlwZS5kaWZmPWZ1bmN0aW9uKHQsZSl7aWYodGhpcy5zdGF0ZSE9PXQuc3RhdGUpcmV0dXJuITE7dmFyIHI9ZT9lKHRoaXMpOnRoaXMucGFyYW1TY2hlbWE7cmV0dXJuIHJyLmNoYW5nZWQocix0aGlzLnBhcmFtVmFsdWVzLHQucGFyYW1WYWx1ZXMpfSx0LmNsb25lPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgdChlKX0sdH0oKSxpcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQubWFrZVRhcmdldFN0YXRlPWZ1bmN0aW9uKHQpe3ZhciBlPVAodCkuc3RhdGU7cmV0dXJuIG5ldyBKZShlLGUsdC5tYXAoQXQoXCJwYXJhbVZhbHVlc1wiKSkucmVkdWNlKFNlLHt9KSl9LHQuYnVpbGRQYXRoPWZ1bmN0aW9uKHQpe3ZhciBlPXQucGFyYW1zKCk7cmV0dXJuIHQuJHN0YXRlKCkucGF0aC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBucih0KS5hcHBseVJhd1BhcmFtcyhlKX0pfSx0LmJ1aWxkVG9QYXRoPWZ1bmN0aW9uKGUscil7dmFyIG49dC5idWlsZFBhdGgocik7cmV0dXJuIHIub3B0aW9ucygpLmluaGVyaXQ/dC5pbmhlcml0UGFyYW1zKGUsbixPYmplY3Qua2V5cyhyLnBhcmFtcygpKSk6bn0sdC5hcHBseVZpZXdDb25maWdzPWZ1bmN0aW9uKGUscixuKXtyLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gZ2Uobix0LnN0YXRlKX0pLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGk9UmUobi5zdGF0ZS52aWV3c3x8e30pLG89dC5zdWJQYXRoKHIsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1ufSksYT1pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5jcmVhdGVWaWV3Q29uZmlnKG8sdCl9KTtuLnZpZXdzPWEucmVkdWNlKFRlLFtdKX0pfSx0LmluaGVyaXRQYXJhbXM9ZnVuY3Rpb24odCxlLHIpe2Z1bmN0aW9uIG4odCxlKXt2YXIgcj1TKHQsSHQoXCJzdGF0ZVwiLGUpKTtyZXR1cm4gdmUoe30sciYmci5wYXJhbVZhbHVlcyl9ZnVuY3Rpb24gaShlKXt2YXIgaT12ZSh7fSxlJiZlLnBhcmFtVmFsdWVzKSxhPWcoaSxyKTtpPXcoaSxyKTt2YXIgdT13KG4odCxlLnN0YXRlKXx8e30sbykscz12ZShpLHUsYSk7cmV0dXJuIG5ldyBucihlLnN0YXRlKS5hcHBseVJhd1BhcmFtcyhzKX12b2lkIDA9PT1yJiYocj1bXSk7dmFyIG89dC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1TY2hlbWF9KS5yZWR1Y2UoVGUsW10pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hdC5pbmhlcml0fSkubWFwKEF0KFwiaWRcIikpO3JldHVybiBlLm1hcChpKX0sdC50cmVlQ2hhbmdlcz1mdW5jdGlvbihlLHIsbil7ZnVuY3Rpb24gaSh0LGUpe3ZhciBuPW5yLmNsb25lKHQpO3JldHVybiBuLnBhcmFtVmFsdWVzPXJbZV0ucGFyYW1WYWx1ZXMsbn1mb3IodmFyIG89MCxhPU1hdGgubWluKGUubGVuZ3RoLHIubGVuZ3RoKTtvPGEmJmVbb10uc3RhdGUhPT1uJiZmdW5jdGlvbihlLHIpe3JldHVybiBlLmVxdWFscyhyLHQubm9uRHluYW1pY1BhcmFtcyl9KGVbb10scltvXSk7KW8rKzt2YXIgdSxzLGMsZixsO3U9ZSxzPXUuc2xpY2UoMCxvKSxjPXUuc2xpY2Uobyk7dmFyIHA9cy5tYXAoaSk7cmV0dXJuIGY9ci5zbGljZShvKSxsPXAuY29uY2F0KGYpLHtmcm9tOnUsdG86bCxyZXRhaW5lZDpzLGV4aXRpbmc6YyxlbnRlcmluZzpmfX0sdC5tYXRjaGluZz1mdW5jdGlvbih0LGUscil7dmFyIG49ITE7cmV0dXJuIEModCxlKS5yZWR1Y2UoZnVuY3Rpb24odCxlKXt2YXIgaT1lWzBdLG89ZVsxXTtyZXR1cm4gbj1ufHwhaS5lcXVhbHMobyxyKSxuP3Q6dC5jb25jYXQoaSl9LFtdKX0sdC5lcXVhbHM9ZnVuY3Rpb24oZSxyLG4pe3JldHVybiBlLmxlbmd0aD09PXIubGVuZ3RoJiZ0Lm1hdGNoaW5nKGUscixuKS5sZW5ndGg9PT1lLmxlbmd0aH0sdC5zdWJQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHI9Uyh0LGUpLG49dC5pbmRleE9mKHIpO3JldHVybi0xPT09bj92b2lkIDA6dC5zbGljZSgwLG4rMSl9LHQubm9uRHluYW1pY1BhcmFtcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0ZS5wYXJhbWV0ZXJzKHtpbmhlcml0OiExfSkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiF0LmR5bmFtaWN9KX0sdC5wYXJhbVZhbHVlcz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdmUodCxlLnBhcmFtVmFsdWVzKX0se30pfSx0fSgpLG9yPXt3aGVuOlwiTEFaWVwiLGFzeW5jOlwiV0FJVFwifSxhcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyLG4saSxvKXtpZih0aGlzLnJlc29sdmVkPSExLHRoaXMucHJvbWlzZT12b2lkIDAsZSBpbnN0YW5jZW9mIHQpdmUodGhpcyxlKTtlbHNlIGlmKFp0KHIpKXtpZihZdChlKSl0aHJvdyBuZXcgRXJyb3IoXCJuZXcgUmVzb2x2YWJsZSgpOiB0b2tlbiBhcmd1bWVudCBpcyByZXF1aXJlZFwiKTtpZighWnQocikpdGhyb3cgbmV3IEVycm9yKFwibmV3IFJlc29sdmFibGUoKTogcmVzb2x2ZUZuIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvblwiKTt0aGlzLnRva2VuPWUsdGhpcy5wb2xpY3k9aSx0aGlzLnJlc29sdmVGbj1yLHRoaXMuZGVwcz1ufHxbXSx0aGlzLmRhdGE9byx0aGlzLnJlc29sdmVkPXZvaWQgMCE9PW8sdGhpcy5wcm9taXNlPXRoaXMucmVzb2x2ZWQ/c2UuJHEud2hlbih0aGlzLmRhdGEpOnZvaWQgMH1lbHNlIGlmKGVlKGUpJiZlLnRva2VuJiZadChlLnJlc29sdmVGbikpe3ZhciBhPWU7cmV0dXJuIG5ldyB0KGEudG9rZW4sYS5yZXNvbHZlRm4sYS5kZXBzLGEucG9saWN5LGEuZGF0YSl9fXJldHVybiB0LnByb3RvdHlwZS5nZXRQb2xpY3k9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5wb2xpY3l8fHt9LHI9dCYmdC5yZXNvbHZlUG9saWN5fHx7fTtyZXR1cm57d2hlbjplLndoZW58fHIud2hlbnx8b3Iud2hlbixhc3luYzplLmFzeW5jfHxyLmFzeW5jfHxvci5hc3luY319LHQucHJvdG90eXBlLnJlc29sdmU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLG49c2UuJHEsaT1mdW5jdGlvbigpe3JldHVybiBuLmFsbCh0LmdldERlcGVuZGVuY2llcyhyKS5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIHIuZ2V0KHQsZSl9KSl9LG89ZnVuY3Rpb24odCl7cmV0dXJuIHIucmVzb2x2ZUZuLmFwcGx5KG51bGwsdCl9LGE9ZnVuY3Rpb24odCl7dmFyIGU9dC5jYWNoZSgxKTtyZXR1cm4gZS50YWtlKDEpLnRvUHJvbWlzZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gZX0pfSx1PXQuZmluZE5vZGUodGhpcykscz11JiZ1LnN0YXRlLGM9XCJSWFdBSVRcIj09PXRoaXMuZ2V0UG9saWN5KHMpLmFzeW5jP2E6ZixsPWZ1bmN0aW9uKHQpe3JldHVybiByLmRhdGE9dCxyLnJlc29sdmVkPSEwLHplLnRyYWNlUmVzb2x2YWJsZVJlc29sdmVkKHIsZSksci5kYXRhfTtyZXR1cm4gdGhpcy5wcm9taXNlPW4ud2hlbigpLnRoZW4oaSkudGhlbihvKS50aGVuKGMpLnRoZW4obCl9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLnByb21pc2V8fHRoaXMucmVzb2x2ZSh0LGUpfSx0LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiUmVzb2x2YWJsZSh0b2tlbjogXCIrUSh0aGlzLnRva2VuKStcIiwgcmVxdWlyZXM6IFtcIit0aGlzLmRlcHMubWFwKFEpK1wiXSlcIn0sdC5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IHQodGhpcyl9LHQuZnJvbURhdGE9ZnVuY3Rpb24oZSxyKXtyZXR1cm4gbmV3IHQoZSxmdW5jdGlvbigpe3JldHVybiByfSxudWxsLG51bGwscil9LHR9KCksdXI9e3doZW46e0xBWlk6XCJMQVpZXCIsRUFHRVI6XCJFQUdFUlwifSxhc3luYzp7V0FJVDpcIldBSVRcIixOT1dBSVQ6XCJOT1dBSVRcIixSWFdBSVQ6XCJSWFdBSVRcIn19LHNyPXVyLndoZW4sY3I9W3NyLkVBR0VSLHNyLkxBWlldLGZyPVtzci5FQUdFUl0sbHI9XCJOYXRpdmUgSW5qZWN0b3JcIixwcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcGF0aD10fXJldHVybiB0LnByb3RvdHlwZS5nZXRUb2tlbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGF0aC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5jb25jYXQoZS5yZXNvbHZhYmxlcy5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQudG9rZW59KSl9LFtdKS5yZWR1Y2Uoa2UsW10pfSx0LnByb3RvdHlwZS5nZXRSZXNvbHZhYmxlPWZ1bmN0aW9uKHQpe3JldHVybiBQKHRoaXMuX3BhdGgubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlc29sdmFibGVzfSkucmVkdWNlKFRlLFtdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudG9rZW49PT10fSkpfSx0LnByb3RvdHlwZS5nZXRQb2xpY3k9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5maW5kTm9kZSh0KTtyZXR1cm4gdC5nZXRQb2xpY3koZS5zdGF0ZSl9LHQucHJvdG90eXBlLnN1YkNvbnRleHQ9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB0KGlyLnN1YlBhdGgodGhpcy5fcGF0aCxmdW5jdGlvbih0KXtyZXR1cm4gdC5zdGF0ZT09PWV9KSl9LHQucHJvdG90eXBlLmFkZFJlc29sdmFibGVzPWZ1bmN0aW9uKHQsZSl7dmFyIHI9Uyh0aGlzLl9wYXRoLEh0KFwic3RhdGVcIixlKSksbj10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC50b2tlbn0pO3IucmVzb2x2YWJsZXM9ci5yZXNvbHZhYmxlcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuLTE9PT1uLmluZGV4T2YodC50b2tlbil9KS5jb25jYXQodCl9LHQucHJvdG90eXBlLnJlc29sdmVQYXRoPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpczt2b2lkIDA9PT10JiYodD1cIkxBWllcIik7dmFyIG49Z2UoY3IsdCk/dDpcIkxBWllcIixpPW49PT11ci53aGVuLkVBR0VSP2ZyOmNyO3plLnRyYWNlUmVzb2x2ZVBhdGgodGhpcy5fcGF0aCx0LGUpO3ZhciBvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBnZSh0LHIuZ2V0UG9saWN5KG4pW2VdKX19LGE9dGhpcy5fcGF0aC5yZWR1Y2UoZnVuY3Rpb24odCxuKXt2YXIgYT1uLnJlc29sdmFibGVzLmZpbHRlcihvKGksXCJ3aGVuXCIpKSx1PWEuZmlsdGVyKG8oW1wiTk9XQUlUXCJdLFwiYXN5bmNcIikpLHM9YS5maWx0ZXIoRHQobyhbXCJOT1dBSVRcIl0sXCJhc3luY1wiKSkpLGM9ci5zdWJDb250ZXh0KG4uc3RhdGUpLGY9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2V0KGMsZSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm57dG9rZW46dC50b2tlbix2YWx1ZTplfX0pfTtyZXR1cm4gdS5mb3JFYWNoKGYpLHQuY29uY2F0KHMubWFwKGYpKX0sW10pO3JldHVybiBzZS4kcS5hbGwoYSl9LHQucHJvdG90eXBlLmluamVjdG9yPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luamVjdG9yfHwodGhpcy5faW5qZWN0b3I9bmV3IGhyKHRoaXMpKX0sdC5wcm90b3R5cGUuZmluZE5vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIFModGhpcy5fcGF0aCxmdW5jdGlvbihlKXtyZXR1cm4gZ2UoZS5yZXNvbHZhYmxlcyx0KX0pfSx0LnByb3RvdHlwZS5nZXREZXBlbmRlbmNpZXM9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXMuZmluZE5vZGUodCksbj1pci5zdWJQYXRoKHRoaXMuX3BhdGgsZnVuY3Rpb24odCl7cmV0dXJuIHQ9PT1yfSl8fHRoaXMuX3BhdGgsaT1uLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LmNvbmNhdChlLnJlc29sdmFibGVzKX0sW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSE9PXR9KSxvPWZ1bmN0aW9uKHQpe3ZhciByPWkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRva2VuPT09dH0pO2lmKHIubGVuZ3RoKXJldHVybiBQKHIpO3ZhciBuPWUuaW5qZWN0b3IoKS5nZXROYXRpdmUodCk7aWYoIW4pdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGZpbmQgRGVwZW5kZW5jeSBJbmplY3Rpb24gdG9rZW46IFwiK1EodCkpO3JldHVybiBuZXcgYXIodCxmdW5jdGlvbigpe3JldHVybiBufSxbXSxuKX07cmV0dXJuIHQuZGVwcy5tYXAobyl9LHR9KCksaHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY29udGV4dD10LHRoaXMubmF0aXZlPXRoaXMuZ2V0KGxyKXx8c2UuJGluamVjdG9yfXJldHVybiB0LnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5jb250ZXh0LmdldFJlc29sdmFibGUodCk7aWYoZSl7aWYoXCJOT1dBSVRcIj09PXRoaXMuY29udGV4dC5nZXRQb2xpY3koZSkuYXN5bmMpcmV0dXJuIGUuZ2V0KHRoaXMuY29udGV4dCk7aWYoIWUucmVzb2x2ZWQpdGhyb3cgbmV3IEVycm9yKFwiUmVzb2x2YWJsZSBhc3luYyAuZ2V0KCkgbm90IGNvbXBsZXRlOlwiK1EoZS50b2tlbikpO3JldHVybiBlLmRhdGF9cmV0dXJuIHRoaXMubmF0aXZlJiZ0aGlzLm5hdGl2ZS5nZXQodCl9LHQucHJvdG90eXBlLmdldEFzeW5jPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuY29udGV4dC5nZXRSZXNvbHZhYmxlKHQpO3JldHVybiBlP2UuZ2V0KHRoaXMuY29udGV4dCk6c2UuJHEud2hlbih0aGlzLm5hdGl2ZS5nZXQodCkpfSx0LnByb3RvdHlwZS5nZXROYXRpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMubmF0aXZlJiZ0aGlzLm5hdGl2ZS5nZXQodCl9LHR9KCksZHI9QXQoXCJzZWxmXCIpLHZyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLHIsbil7dmFyIGk9dGhpcztpZih0aGlzLl9kZWZlcnJlZD1zZS4kcS5kZWZlcigpLHRoaXMucHJvbWlzZT10aGlzLl9kZWZlcnJlZC5wcm9taXNlLHRoaXMuX3JlZ2lzdGVyZWRIb29rcz17fSx0aGlzLl9ob29rQnVpbGRlcj1uZXcgWmUodGhpcyksdGhpcy5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiBpLnJvdXRlci5nbG9iYWxzLnRyYW5zaXRpb249PT1pfSx0aGlzLnJvdXRlcj1uLHRoaXMuX3RhcmdldFN0YXRlPXIsIXIudmFsaWQoKSl0aHJvdyBuZXcgRXJyb3Ioci5lcnJvcigpKTt0aGlzLl9vcHRpb25zPXZlKHtjdXJyZW50Ok10KHRoaXMpfSxyLm9wdGlvbnMoKSksdGhpcy4kaWQ9bi50cmFuc2l0aW9uU2VydmljZS5fdHJhbnNpdGlvbkNvdW50Kys7dmFyIG89aXIuYnVpbGRUb1BhdGgoZSxyKTt0aGlzLl90cmVlQ2hhbmdlcz1pci50cmVlQ2hhbmdlcyhlLG8sdGhpcy5fb3B0aW9ucy5yZWxvYWRTdGF0ZSksdGhpcy5jcmVhdGVUcmFuc2l0aW9uSG9va1JlZ0ZucygpO3ZhciBhPXRoaXMuX2hvb2tCdWlsZGVyLmJ1aWxkSG9va3NGb3JQaGFzZSh0LlRyYW5zaXRpb25Ib29rUGhhc2UuQ1JFQVRFKTtLZS5pbnZva2VIb29rcyhhLGZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9KSx0aGlzLmFwcGx5Vmlld0NvbmZpZ3Mobil9cmV0dXJuIGUucHJvdG90eXBlLm9uQmVmb3JlPWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uU3RhcnQ9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUub25FeGl0PWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uUmV0YWluPWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uRW50ZXI9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUub25GaW5pc2g9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUub25TdWNjZXNzPWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUuY3JlYXRlVHJhbnNpdGlvbkhvb2tSZWdGbnM9ZnVuY3Rpb24oKXt2YXIgZT10aGlzO3RoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLl9wbHVnaW5hcGkuX2dldEV2ZW50cygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5ob29rUGhhc2UhPT10LlRyYW5zaXRpb25Ib29rUGhhc2UuQ1JFQVRFfSkuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gcShlLGUucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLHQpfSl9LGUucHJvdG90eXBlLmdldEhvb2tzPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yZWdpc3RlcmVkSG9va3NbdF19LGUucHJvdG90eXBlLmFwcGx5Vmlld0NvbmZpZ3M9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXRlfSk7aXIuYXBwbHlWaWV3Q29uZmlncyh0LnRyYW5zaXRpb25TZXJ2aWNlLiR2aWV3LHRoaXMuX3RyZWVDaGFuZ2VzLnRvLGUpfSxlLnByb3RvdHlwZS4kZnJvbT1mdW5jdGlvbigpe3JldHVybiBQKHRoaXMuX3RyZWVDaGFuZ2VzLmZyb20pLnN0YXRlfSxlLnByb3RvdHlwZS4kdG89ZnVuY3Rpb24oKXtyZXR1cm4gUCh0aGlzLl90cmVlQ2hhbmdlcy50bykuc3RhdGV9LGUucHJvdG90eXBlLmZyb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kZnJvbSgpLnNlbGZ9LGUucHJvdG90eXBlLnRvPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHRvKCkuc2VsZn0sZS5wcm90b3R5cGUudGFyZ2V0U3RhdGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fdGFyZ2V0U3RhdGV9LGUucHJvdG90eXBlLmlzPWZ1bmN0aW9uKHQpe3JldHVybiB0IGluc3RhbmNlb2YgZT90aGlzLmlzKHt0bzp0LiR0bygpLm5hbWUsZnJvbTp0LiRmcm9tKCkubmFtZX0pOiEodC50byYmIUgodGhpcy4kdG8oKSx0LnRvKXx8dC5mcm9tJiYhSCh0aGlzLiRmcm9tKCksdC5mcm9tKSl9LGUucHJvdG90eXBlLnBhcmFtcz1mdW5jdGlvbih0KXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9XCJ0b1wiKSxPYmplY3QuZnJlZXplKHRoaXMuX3RyZWVDaGFuZ2VzW3RdLm1hcChBdChcInBhcmFtVmFsdWVzXCIpKS5yZWR1Y2UoU2Use30pKX0sZS5wcm90b3R5cGUuaW5qZWN0b3I9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1cInRvXCIpO3ZhciByPXRoaXMuX3RyZWVDaGFuZ2VzW2VdO3JldHVybiB0JiYocj1pci5zdWJQYXRoKHIsZnVuY3Rpb24oZSl7cmV0dXJuIGUuc3RhdGU9PT10fHxlLnN0YXRlLm5hbWU9PT10fSkpLG5ldyBwcihyKS5pbmplY3RvcigpfSxlLnByb3RvdHlwZS5nZXRSZXNvbHZlVG9rZW5zPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1cInRvXCIpLG5ldyBwcih0aGlzLl90cmVlQ2hhbmdlc1t0XSkuZ2V0VG9rZW5zKCl9LGUucHJvdG90eXBlLmFkZFJlc29sdmFibGU9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT1lJiYoZT1cIlwiKSx0PVV0KGFyKSh0KT90Om5ldyBhcih0KTt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgZT9lOmUubmFtZSxuPXRoaXMuX3RyZWVDaGFuZ2VzLnRvLGk9UyhuLGZ1bmN0aW9uKHQpe3JldHVybiB0LnN0YXRlLm5hbWU9PT1yfSk7bmV3IHByKG4pLmFkZFJlc29sdmFibGVzKFt0XSxpLnN0YXRlKX0sZS5wcm90b3R5cGUucmVkaXJlY3RlZEZyb209ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fb3B0aW9ucy5yZWRpcmVjdGVkRnJvbXx8bnVsbH0sZS5wcm90b3R5cGUub3JpZ2luYWxUcmFuc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yZWRpcmVjdGVkRnJvbSgpO3JldHVybiB0JiZ0Lm9yaWdpbmFsVHJhbnNpdGlvbigpfHx0aGlzfSxlLnByb3RvdHlwZS5vcHRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29wdGlvbnN9LGUucHJvdG90eXBlLmVudGVyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcsQXQoXCJzdGF0ZVwiKSkubWFwKGRyKX0sZS5wcm90b3R5cGUuZXhpdGluZz1mdW5jdGlvbigpe3JldHVybiBiKHRoaXMuX3RyZWVDaGFuZ2VzLmV4aXRpbmcsQXQoXCJzdGF0ZVwiKSkubWFwKGRyKS5yZXZlcnNlKCl9LGUucHJvdG90eXBlLnJldGFpbmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGIodGhpcy5fdHJlZUNoYW5nZXMucmV0YWluZWQsQXQoXCJzdGF0ZVwiKSkubWFwKGRyKX0sZS5wcm90b3R5cGUudmlld3M9ZnVuY3Rpb24odCxlKXt2b2lkIDA9PT10JiYodD1cImVudGVyaW5nXCIpO3ZhciByPXRoaXMuX3RyZWVDaGFuZ2VzW3RdO3JldHVybiByPWU/ci5maWx0ZXIoSHQoXCJzdGF0ZVwiLGUpKTpyLHIubWFwKEF0KFwidmlld3NcIikpLmZpbHRlcihmKS5yZWR1Y2UoVGUsW10pfSxlLnByb3RvdHlwZS50cmVlQ2hhbmdlcz1mdW5jdGlvbih0KXtyZXR1cm4gdD90aGlzLl90cmVlQ2hhbmdlc1t0XTp0aGlzLl90cmVlQ2hhbmdlc30sZS5wcm90b3R5cGUucmVkaXJlY3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTEscj10aGlzO251bGwhPShyPXIucmVkaXJlY3RlZEZyb20oKSk7KWlmKCsrZT4yMCl0aHJvdyBuZXcgRXJyb3IoXCJUb28gbWFueSBjb25zZWN1dGl2ZSBUcmFuc2l0aW9uIHJlZGlyZWN0cyAoMjArKVwiKTt2YXIgbj17cmVkaXJlY3RlZEZyb206dGhpcyxzb3VyY2U6XCJyZWRpcmVjdFwifTtcInVybFwiPT09dGhpcy5vcHRpb25zKCkuc291cmNlJiYhMSE9PXQub3B0aW9ucygpLmxvY2F0aW9uJiYobi5sb2NhdGlvbj1cInJlcGxhY2VcIik7dmFyIGk9dmUoe30sdGhpcy5vcHRpb25zKCksdC5vcHRpb25zKCksbik7dD1uZXcgSmUodC5pZGVudGlmaWVyKCksdC4kc3RhdGUoKSx0LnBhcmFtcygpLGkpO3ZhciBvPXRoaXMucm91dGVyLnRyYW5zaXRpb25TZXJ2aWNlLmNyZWF0ZSh0aGlzLl90cmVlQ2hhbmdlcy5mcm9tLHQpLGE9dGhpcy5fdHJlZUNoYW5nZXMuZW50ZXJpbmcsdT1vLl90cmVlQ2hhbmdlcy5lbnRlcmluZztyZXR1cm4gaXIubWF0Y2hpbmcodSxhLGlyLm5vbkR5bmFtaWNQYXJhbXMpLmZpbHRlcihEdChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHQmJmUuc3RhdGUuaW5jbHVkZXNbdC5uYW1lXX19KHQub3B0aW9ucygpLnJlbG9hZFN0YXRlKSkpLmZvckVhY2goZnVuY3Rpb24odCxlKXt0LnJlc29sdmFibGVzPWFbZV0ucmVzb2x2YWJsZXN9KSxvfSxlLnByb3RvdHlwZS5fY2hhbmdlZFBhcmFtcz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3RyZWVDaGFuZ2VzO2lmKCF0aGlzLl9vcHRpb25zLnJlbG9hZCYmIXQuZXhpdGluZy5sZW5ndGgmJiF0LmVudGVyaW5nLmxlbmd0aCYmdC50by5sZW5ndGg9PT10LmZyb20ubGVuZ3RoKXtpZighQyh0LnRvLHQuZnJvbSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0WzBdLnN0YXRlIT09dFsxXS5zdGF0ZX0pLnJlZHVjZShDZSwhMSkpe3ZhciBlPXQudG8ubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LnBhcmFtU2NoZW1hfSkscj1bdC50byx0LmZyb21dLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQucGFyYW1WYWx1ZXN9KX0pO3JldHVybiBDKGUsclswXSxyWzFdKS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9dFswXSxyPXRbMV0sbj10WzJdO3JldHVybiByci5jaGFuZ2VkKGUscixuKX0pLnJlZHVjZShUZSxbXSl9fX0sZS5wcm90b3R5cGUuZHluYW1pYz1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NoYW5nZWRQYXJhbXMoKTtyZXR1cm4hIXQmJnQubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmR5bmFtaWN9KS5yZWR1Y2UoQ2UsITEpfSxlLnByb3RvdHlwZS5pZ25vcmVkPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLl9pZ25vcmVkUmVhc29uKCl9LGUucHJvdG90eXBlLl9pZ25vcmVkUmVhc29uPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5yb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9uLGU9dGhpcy5fb3B0aW9ucy5yZWxvYWRTdGF0ZSxyPWZ1bmN0aW9uKHQscil7aWYodC5sZW5ndGghPT1yLmxlbmd0aClyZXR1cm4hMTt2YXIgbj1pci5tYXRjaGluZyh0LHIpO3JldHVybiB0Lmxlbmd0aD09PW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFlfHwhdC5zdGF0ZS5pbmNsdWRlc1tlLm5hbWVdfSkubGVuZ3RofSxuPXRoaXMudHJlZUNoYW5nZXMoKSxpPXQmJnQudHJlZUNoYW5nZXMoKTtyZXR1cm4gaSYmcihpLnRvLG4udG8pJiZyKGkuZXhpdGluZyxuLmV4aXRpbmcpP1wiU2FtZUFzUGVuZGluZ1wiOjA9PT1uLmV4aXRpbmcubGVuZ3RoJiYwPT09bi5lbnRlcmluZy5sZW5ndGgmJnIobi5mcm9tLG4udG8pP1wiU2FtZUFzQ3VycmVudFwiOnZvaWQgMH0sZS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxyPUtlLnJ1bkFsbEhvb2tzLG49ZnVuY3Rpb24odCl7cmV0dXJuIGUuX2hvb2tCdWlsZGVyLmJ1aWxkSG9va3NGb3JQaGFzZSh0KX0saT1mdW5jdGlvbigpe3plLnRyYWNlU3VjY2VzcyhlLiR0bygpLGUpLGUuc3VjY2Vzcz0hMCxlLl9kZWZlcnJlZC5yZXNvbHZlKGUudG8oKSkscihuKHQuVHJhbnNpdGlvbkhvb2tQaGFzZS5TVUNDRVNTKSl9LG89ZnVuY3Rpb24oaSl7emUudHJhY2VFcnJvcihpLGUpLGUuc3VjY2Vzcz0hMSxlLl9kZWZlcnJlZC5yZWplY3QoaSksZS5fZXJyb3I9aSxyKG4odC5UcmFuc2l0aW9uSG9va1BoYXNlLkVSUk9SKSl9LGE9ZnVuY3Rpb24oKXt2YXIgZT1uKHQuVHJhbnNpdGlvbkhvb2tQaGFzZS5SVU4pLHI9ZnVuY3Rpb24oKXtyZXR1cm4gc2UuJHEud2hlbih2b2lkIDApfTtyZXR1cm4gS2UuaW52b2tlSG9va3MoZSxyKX0sdT1mdW5jdGlvbigpe3ZhciB0PWUucm91dGVyLmdsb2JhbHM7cmV0dXJuIHQubGFzdFN0YXJ0ZWRUcmFuc2l0aW9uSWQ9ZS4kaWQsdC50cmFuc2l0aW9uPWUsdC50cmFuc2l0aW9uSGlzdG9yeS5lbnF1ZXVlKGUpLHplLnRyYWNlVHJhbnNpdGlvblN0YXJ0KGUpLHNlLiRxLndoZW4odm9pZCAwKX0scz1uKHQuVHJhbnNpdGlvbkhvb2tQaGFzZS5CRUZPUkUpO3JldHVybiBLZS5pbnZva2VIb29rcyhzLHUpLnRoZW4oYSkudGhlbihpLG8pLHRoaXMucHJvbWlzZX0sZS5wcm90b3R5cGUudmFsaWQ9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5lcnJvcigpfHx2b2lkIDAhPT10aGlzLnN1Y2Nlc3N9LGUucHJvdG90eXBlLmFib3J0PWZ1bmN0aW9uKCl7SnQodGhpcy5zdWNjZXNzKSYmKHRoaXMuX2Fib3J0ZWQ9ITApfSxlLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbigpe3ZhciB0PXRoaXMuJHRvKCk7aWYodC5zZWxmLmFic3RyYWN0KXJldHVyblwiQ2Fubm90IHRyYW5zaXRpb24gdG8gYWJzdHJhY3Qgc3RhdGUgJ1wiK3QubmFtZStcIidcIjt2YXIgZT10LnBhcmFtZXRlcnMoKSxyPXRoaXMucGFyYW1zKCksbj1lLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4hdC52YWxpZGF0ZXMoclt0LmlkXSl9KTtyZXR1cm4gbi5sZW5ndGg/XCJQYXJhbSB2YWx1ZXMgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIrdC5uYW1lK1wiJy4gSW52YWxpZCBwYXJhbXM6IFsgXCIrbi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuaWR9KS5qb2luKFwiLCBcIikrXCIgXVwiOiExPT09dGhpcy5zdWNjZXNzP3RoaXMuX2Vycm9yOnZvaWQgMH0sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmZyb20oKSxlPXRoaXMudG8oKSxyPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT09dFtcIiNcIl0mJnZvaWQgMCE9PXRbXCIjXCJdP3Q6dyh0LFtcIiNcIl0pfTtyZXR1cm5cIlRyYW5zaXRpb24jXCIrdGhpcy4kaWQrXCIoICdcIisoZWUodCk/dC5uYW1lOnQpK1wiJ1wiK3BlKHIodGhpcy5fdHJlZUNoYW5nZXMuZnJvbS5tYXAoQXQoXCJwYXJhbVZhbHVlc1wiKSkucmVkdWNlKFNlLHt9KSkpK1wiIC0+IFwiKyh0aGlzLnZhbGlkKCk/XCJcIjpcIihYKSBcIikrXCInXCIrKGVlKGUpP2UubmFtZTplKStcIidcIitwZShyKHRoaXMucGFyYW1zKCkpKStcIiApXCJ9LGUuZGlUb2tlbj1lLGV9KCksbXI9bnVsbCx5cj1mdW5jdGlvbih0KXt2YXIgZT1VZS5pc1JlamVjdGlvblByb21pc2U7cmV0dXJuKG1yPW1yfHxzKFtbRHQoUXQpLE10KFwidW5kZWZpbmVkXCIpXSxbS3QsTXQoXCJudWxsXCIpXSxbYWUsTXQoXCJbUHJvbWlzZV1cIildLFtlLGZ1bmN0aW9uKHQpe3JldHVybiB0Ll90cmFuc2l0aW9uUmVqZWN0aW9uLnRvU3RyaW5nKCl9XSxbVXQoVWUpLHUoXCJ0b1N0cmluZ1wiKV0sW1V0KHZyKSx1KFwidG9TdHJpbmdcIildLFtVdChhciksdShcInRvU3RyaW5nXCIpXSxbYyx6XSxbTXQoITApLGZdXSkpKHQpfSxncj1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuW1wiXCIsXCJcIl07dmFyIHI9ZS5pbmRleE9mKHQpO3JldHVybi0xPT09cj9bZSxcIlwiXTpbZS5zdWJzdHIoMCxyKSxlLnN1YnN0cihyKzEpXX19LHdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMuZW5xdWV1ZT0hMCx0aGlzLnR5cGVRdWV1ZT1bXSx0aGlzLmRlZmF1bHRUeXBlcz1nKHQucHJvdG90eXBlLFtcImhhc2hcIixcInN0cmluZ1wiLFwicXVlcnlcIixcInBhdGhcIixcImludFwiLFwiYm9vbFwiLFwiZGF0ZVwiLFwianNvblwiLFwiYW55XCJdKTt2YXIgZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgWGUodmUoe25hbWU6ZX0sdCkpfTt0aGlzLnR5cGVzPXllKGIodGhpcy5kZWZhdWx0VHlwZXMsZSkse30pfXJldHVybiB0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy50eXBlcz17fX0sdC5wcm90b3R5cGUudHlwZT1mdW5jdGlvbih0LGUscil7aWYoIVF0KGUpKXJldHVybiB0aGlzLnR5cGVzW3RdO2lmKHRoaXMudHlwZXMuaGFzT3duUHJvcGVydHkodCkpdGhyb3cgbmV3IEVycm9yKFwiQSB0eXBlIG5hbWVkICdcIit0K1wiJyBoYXMgYWxyZWFkeSBiZWVuIGRlZmluZWQuXCIpO3JldHVybiB0aGlzLnR5cGVzW3RdPW5ldyBYZSh2ZSh7bmFtZTp0fSxlKSksciYmKHRoaXMudHlwZVF1ZXVlLnB1c2goe25hbWU6dCxkZWY6cn0pLHRoaXMuZW5xdWV1ZXx8dGhpcy5fZmx1c2hUeXBlUXVldWUoKSksdGhpc30sdC5wcm90b3R5cGUuX2ZsdXNoVHlwZVF1ZXVlPWZ1bmN0aW9uKCl7Zm9yKDt0aGlzLnR5cGVRdWV1ZS5sZW5ndGg7KXt2YXIgdD10aGlzLnR5cGVRdWV1ZS5zaGlmdCgpO2lmKHQucGF0dGVybil0aHJvdyBuZXcgRXJyb3IoXCJZb3UgY2Fubm90IG92ZXJyaWRlIGEgdHlwZSdzIC5wYXR0ZXJuIGF0IHJ1bnRpbWUuXCIpO3ZlKHRoaXMudHlwZXNbdC5uYW1lXSxzZS4kaW5qZWN0b3IuaW52b2tlKHQuZGVmKSl9fSx0fSgpOyFmdW5jdGlvbigpe3ZhciB0PWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10P3QudG9TdHJpbmcoKTp0fSxyPXtlbmNvZGU6ZSxkZWNvZGU6ZSxpczpVdChTdHJpbmcpLHBhdHRlcm46Ly4qLyxlcXVhbHM6ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09ZX19O3JldHVybiB2ZSh7fSxyLHQpfTt2ZSh3ci5wcm90b3R5cGUse3N0cmluZzp0KHt9KSxwYXRoOnQoe3BhdHRlcm46L1teXFwvXSovfSkscXVlcnk6dCh7fSksaGFzaDp0KHtpbmhlcml0OiExfSksaW50OnQoe2RlY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gcGFyc2VJbnQodCwxMCl9LGlzOmZ1bmN0aW9uKHQpe3JldHVybiFZdCh0KSYmdGhpcy5kZWNvZGUodC50b1N0cmluZygpKT09PXR9LHBhdHRlcm46Ly0/XFxkKy99KSxib29sOnQoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmMXx8MH0sZGVjb2RlOmZ1bmN0aW9uKHQpe3JldHVybiAwIT09cGFyc2VJbnQodCwxMCl9LGlzOlV0KEJvb2xlYW4pLHBhdHRlcm46LzB8MS99KSxkYXRlOnQoe2VuY29kZTpmdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5pcyh0KT9bdC5nZXRGdWxsWWVhcigpLChcIjBcIisodC5nZXRNb250aCgpKzEpKS5zbGljZSgtMiksKFwiMFwiK3QuZ2V0RGF0ZSgpKS5zbGljZSgtMildLmpvaW4oXCItXCIpOnZvaWQgMH0sZGVjb2RlOmZ1bmN0aW9uKHQpe2lmKHRoaXMuaXModCkpcmV0dXJuIHQ7dmFyIGU9dGhpcy5jYXB0dXJlLmV4ZWModCk7cmV0dXJuIGU/bmV3IERhdGUoZVsxXSxlWzJdLTEsZVszXSk6dm9pZCAwfSxpczpmdW5jdGlvbih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIERhdGUmJiFpc05hTih0LnZhbHVlT2YoKSl9LGVxdWFsczpmdW5jdGlvbih0LGUpe3JldHVybltcImdldEZ1bGxZZWFyXCIsXCJnZXRNb250aFwiLFwiZ2V0RGF0ZVwiXS5yZWR1Y2UoZnVuY3Rpb24ocixuKXtyZXR1cm4gciYmdFtuXSgpPT09ZVtuXSgpfSwhMCl9LHBhdHRlcm46L1swLTldezR9LSg/OjBbMS05XXwxWzAtMl0pLSg/OjBbMS05XXxbMS0yXVswLTldfDNbMC0xXSkvLGNhcHR1cmU6LyhbMC05XXs0fSktKDBbMS05XXwxWzAtMl0pLSgwWzEtOV18WzEtMl1bMC05XXwzWzAtMV0pL30pLGpzb246dCh7ZW5jb2RlOnBlLGRlY29kZTpsZSxpczpVdChPYmplY3QpLGVxdWFsczptZSxwYXR0ZXJuOi9bXlxcL10qL30pLGFueTp0KHtlbmNvZGU6ZixkZWNvZGU6ZixpczpmdW5jdGlvbigpe3JldHVybiEwfSxlcXVhbHM6bWV9KX0pfSgpO3ZhciBfciwkcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dm9pZCAwPT09dCYmKHQ9e30pLHZlKHRoaXMsdCl9cmV0dXJuIHQucHJvdG90eXBlLiRpbmhlcml0PWZ1bmN0aW9uKHQsZSxyKXt2YXIgbixpPXkoZSxyKSxvPXt9LGE9W107Zm9yKHZhciB1IGluIGkpaWYoaVt1XSYmaVt1XS5wYXJhbXMmJihuPU9iamVjdC5rZXlzKGlbdV0ucGFyYW1zKSxuLmxlbmd0aCkpZm9yKHZhciBzIGluIG4pYS5pbmRleE9mKG5bc10pPj0wfHwoYS5wdXNoKG5bc10pLG9bbltzXV09dGhpc1tuW3NdXSk7cmV0dXJuIHZlKHt9LG8sdCl9LHR9KCksU3I9ZnVuY3Rpb24odCl7aWYoIXRlKHQpKXJldHVybiExO3ZhciBlPVwiXlwiPT09dC5jaGFyQXQoMCk7cmV0dXJue3ZhbDplP3Quc3Vic3RyaW5nKDEpOnQscm9vdDplfX0sYnI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24ocil7dmFyIG49cjtuJiZuLnVybCYmbi5uYW1lJiZuLm5hbWUubWF0Y2goL1xcLlxcKlxcKiQvKSYmKG4udXJsKz1cIntyZW1haW5kZXI6YW55fVwiKTt2YXIgaT1TcihuLnVybCksbz1yLnBhcmVudCxhPWk/dC5jb21waWxlKGkudmFsLHtwYXJhbXM6ci5wYXJhbXN8fHt9LHBhcmFtTWFwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuITE9PT1uLnJlbG9hZE9uU2VhcmNoJiZlJiYodD12ZSh0fHx7fSx7ZHluYW1pYzohMH0pKSx0fX0pOm4udXJsO2lmKCFhKXJldHVybiBudWxsO2lmKCF0LmlzTWF0Y2hlcihhKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHVybCAnXCIrYStcIicgaW4gc3RhdGUgJ1wiK3IrXCInXCIpO3JldHVybiBpJiZpLnJvb3Q/YToobyYmby5uYXZpZ2FibGV8fGUoKSkudXJsLmFwcGVuZChhKX19LFJyPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4hdChlKSYmZS51cmw/ZTplLnBhcmVudD9lLnBhcmVudC5uYXZpZ2FibGU6bnVsbH19LEVyPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlLHIpe3JldHVybiB0LmZyb21Db25maWcocixudWxsLGUpfSxuPWUudXJsJiZlLnVybC5wYXJhbWV0ZXJzKHtpbmhlcml0OiExfSl8fFtdLGk9UmUoYmUodyhlLnBhcmFtc3x8e30sbi5tYXAoQXQoXCJpZFwiKSkpLHIpKTtyZXR1cm4gbi5jb25jYXQoaSkubWFwKGZ1bmN0aW9uKHQpe3JldHVyblt0LmlkLHRdfSkucmVkdWNlKFQse30pfX0sQ3I9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7ZnVuY3Rpb24gcihlKXtyZXR1cm4gbyhlKT9udWxsOnQuZmluZChuLnBhcmVudE5hbWUoZSkpfHxpKCl9dGhpcy5tYXRjaGVyPXQ7dmFyIG49dGhpcyxpPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZmluZChcIlwiKX0sbz1mdW5jdGlvbih0KXtyZXR1cm5cIlwiPT09dC5uYW1lfTt0aGlzLmJ1aWxkZXJzPXtuYW1lOltaXSxzZWxmOltYXSxwYXJlbnQ6W3JdLGRhdGE6W3R0XSx1cmw6W2JyKGUsaSldLG5hdmlnYWJsZTpbUnIobyldLHBhcmFtczpbRXIoZS5wYXJhbUZhY3RvcnkpXSx2aWV3czpbXSxwYXRoOltldF0saW5jbHVkZXM6W3J0XSxyZXNvbHZhYmxlczpbbnRdfX1yZXR1cm4gdC5wcm90b3R5cGUuYnVpbGRlcj1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXMuYnVpbGRlcnMsbj1yW3RdfHxbXTtyZXR1cm4gdGUodCkmJiFRdChlKT9uLmxlbmd0aD4xP246blswXTp0ZSh0KSYmWnQoZSk/KHJbdF09bixyW3RdLnB1c2goZSksZnVuY3Rpb24oKXtyZXR1cm4gclt0XS5zcGxpY2Uoclt0XS5pbmRleE9mKGUsMSkpJiZudWxsfSk6dm9pZCAwfSx0LnByb3RvdHlwZS5idWlsZD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLHI9ZS5tYXRjaGVyLG49ZS5idWlsZGVycyxpPXRoaXMucGFyZW50TmFtZSh0KTtpZihpJiYhci5maW5kKGksdm9pZCAwLCExKSlyZXR1cm4gbnVsbDtmb3IodmFyIG8gaW4gbilpZihuLmhhc093blByb3BlcnR5KG8pKXt2YXIgYT1uW29dLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gZShyLHQpfX0sbCk7dFtvXT1hKHQpfXJldHVybiB0fSx0LnByb3RvdHlwZS5wYXJlbnROYW1lPWZ1bmN0aW9uKHQpe3ZhciBlPXQubmFtZXx8XCJcIixyPWUuc3BsaXQoXCIuXCIpO2lmKFwiKipcIj09PXIucG9wKCkmJnIucG9wKCksci5sZW5ndGgpe2lmKHQucGFyZW50KXRocm93IG5ldyBFcnJvcihcIlN0YXRlcyB0aGF0IHNwZWNpZnkgdGhlICdwYXJlbnQ6JyBwcm9wZXJ0eSBzaG91bGQgbm90IGhhdmUgYSAnLicgaW4gdGhlaXIgbmFtZSAoXCIrZStcIilcIik7cmV0dXJuIHIuam9pbihcIi5cIil9cmV0dXJuIHQucGFyZW50P3RlKHQucGFyZW50KT90LnBhcmVudDp0LnBhcmVudC5uYW1lOlwiXCJ9LHQucHJvdG90eXBlLm5hbWU9ZnVuY3Rpb24odCl7dmFyIGU9dC5uYW1lO2lmKC0xIT09ZS5pbmRleE9mKFwiLlwiKXx8IXQucGFyZW50KXJldHVybiBlO3ZhciByPXRlKHQucGFyZW50KT90LnBhcmVudDp0LnBhcmVudC5uYW1lO3JldHVybiByP3IrXCIuXCIrZTplfSx0fSgpLFRyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLl9zdGF0ZXM9dH1yZXR1cm4gdC5wcm90b3R5cGUuaXNSZWxhdGl2ZT1mdW5jdGlvbih0KXtyZXR1cm4gdD10fHxcIlwiLDA9PT10LmluZGV4T2YoXCIuXCIpfHwwPT09dC5pbmRleE9mKFwiXlwiKX0sdC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbih0LGUscil7aWYodm9pZCAwPT09ciYmKHI9ITApLHR8fFwiXCI9PT10KXt2YXIgbj10ZSh0KSxpPW4/dDp0Lm5hbWU7dGhpcy5pc1JlbGF0aXZlKGkpJiYoaT10aGlzLnJlc29sdmVQYXRoKGksZSkpO3ZhciBvPXRoaXMuX3N0YXRlc1tpXTtpZihvJiYobnx8IShufHxvIT09dCYmby5zZWxmIT09dCkpKXJldHVybiBvO2lmKG4mJnIpe3ZhciBhPVJlKHRoaXMuX3N0YXRlcyksdT1hLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdC5fX3N0YXRlT2JqZWN0Q2FjaGUubmFtZUdsb2ImJnQuX19zdGF0ZU9iamVjdENhY2hlLm5hbWVHbG9iLm1hdGNoZXMoaSl9KTtyZXR1cm4gdS5sZW5ndGg+MSYmY29uc29sZS5sb2coXCJzdGF0ZU1hdGNoZXIuZmluZDogRm91bmQgbXVsdGlwbGUgbWF0Y2hlcyBmb3IgXCIraStcIiB1c2luZyBnbG9iOiBcIix1Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5uYW1lfSkpLHVbMF19fX0sdC5wcm90b3R5cGUucmVzb2x2ZVBhdGg9ZnVuY3Rpb24odCxlKXtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJObyByZWZlcmVuY2UgcG9pbnQgZ2l2ZW4gZm9yIHBhdGggJ1wiK3QrXCInXCIpO2Zvcih2YXIgcj10aGlzLmZpbmQoZSksbj10LnNwbGl0KFwiLlwiKSxpPTAsbz1uLmxlbmd0aCxhPXI7aTxvO2krKylpZihcIlwiIT09bltpXXx8MCE9PWkpe2lmKFwiXlwiIT09bltpXSlicmVhaztpZighYS5wYXJlbnQpdGhyb3cgbmV3IEVycm9yKFwiUGF0aCAnXCIrdCtcIicgbm90IHZhbGlkIGZvciBzdGF0ZSAnXCIrci5uYW1lK1wiJ1wiKTthPWEucGFyZW50fWVsc2UgYT1yO3ZhciB1PW4uc2xpY2UoaSkuam9pbihcIi5cIik7cmV0dXJuIGEubmFtZSsoYS5uYW1lJiZ1P1wiLlwiOlwiXCIpK3V9LHR9KCksUHI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyLG4saSl7dGhpcy4kcmVnaXN0cnk9dCx0aGlzLiR1cmxSb3V0ZXI9ZSx0aGlzLnN0YXRlcz1yLHRoaXMuYnVpbGRlcj1uLHRoaXMubGlzdGVuZXJzPWksdGhpcy5xdWV1ZT1bXSx0aGlzLm1hdGNoZXI9dC5tYXRjaGVyfXJldHVybiB0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5xdWV1ZT1bXX0sdC5wcm90b3R5cGUucmVnaXN0ZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5xdWV1ZSxyPUd0LmNyZWF0ZSh0KSxuPXIubmFtZTtpZighdGUobikpdGhyb3cgbmV3IEVycm9yKFwiU3RhdGUgbXVzdCBoYXZlIGEgdmFsaWQgbmFtZVwiKTtpZih0aGlzLnN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuKXx8Z2UoZS5tYXAoQXQoXCJuYW1lXCIpKSxuKSl0aHJvdyBuZXcgRXJyb3IoXCJTdGF0ZSAnXCIrbitcIicgaXMgYWxyZWFkeSBkZWZpbmVkXCIpO3JldHVybiBlLnB1c2gociksdGhpcy5mbHVzaCgpLHJ9LHQucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT10aGlzLHI9ZS5xdWV1ZSxuPWUuc3RhdGVzLGk9ZS5idWlsZGVyLG89W10sYT1bXSx1PXt9LHM9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuc3RhdGVzLmhhc093blByb3BlcnR5KGUpJiZ0LnN0YXRlc1tlXX07ci5sZW5ndGg+MDspe3ZhciBjPXIuc2hpZnQoKSxmPWMubmFtZSxsPWkuYnVpbGQoYykscD1hLmluZGV4T2YoYyk7aWYobCl7dmFyIGg9cyhmKTtpZihoJiZoLm5hbWU9PT1mKXRocm93IG5ldyBFcnJvcihcIlN0YXRlICdcIitmK1wiJyBpcyBhbHJlYWR5IGRlZmluZWRcIik7dmFyIGQ9cyhmK1wiLioqXCIpO2QmJnRoaXMuJHJlZ2lzdHJ5LmRlcmVnaXN0ZXIoZCksbltmXT1jLHRoaXMuYXR0YWNoUm91dGUoYykscD49MCYmYS5zcGxpY2UocCwxKSxvLnB1c2goYyl9ZWxzZXt2YXIgdj11W2ZdO2lmKHVbZl09ci5sZW5ndGgscD49MCYmdj09PXIubGVuZ3RoKXJldHVybiByLnB1c2goYyksbjtwPDAmJmEucHVzaChjKSxyLnB1c2goYyl9fXJldHVybiBvLmxlbmd0aCYmdGhpcy5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gdChcInJlZ2lzdGVyZWRcIixvLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5zZWxmfSkpfSksbn0sdC5wcm90b3R5cGUuYXR0YWNoUm91dGU9ZnVuY3Rpb24odCl7IXQuYWJzdHJhY3QmJnQudXJsJiZ0aGlzLiR1cmxSb3V0ZXIucnVsZSh0aGlzLiR1cmxSb3V0ZXIudXJsUnVsZUZhY3RvcnkuY3JlYXRlKHQpKX0sdH0oKSxrcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fcm91dGVyPXQsdGhpcy5zdGF0ZXM9e30sdGhpcy5saXN0ZW5lcnM9W10sdGhpcy5tYXRjaGVyPW5ldyBUcih0aGlzLnN0YXRlcyksdGhpcy5idWlsZGVyPW5ldyBDcih0aGlzLm1hdGNoZXIsdC51cmxNYXRjaGVyRmFjdG9yeSksdGhpcy5zdGF0ZVF1ZXVlPW5ldyBQcih0aGlzLHQudXJsUm91dGVyLHRoaXMuc3RhdGVzLHRoaXMuYnVpbGRlcix0aGlzLmxpc3RlbmVycyksdGhpcy5fcmVnaXN0ZXJSb290KCl9cmV0dXJuIHQucHJvdG90eXBlLl9yZWdpc3RlclJvb3Q9ZnVuY3Rpb24oKXt2YXIgdD17bmFtZTpcIlwiLHVybDpcIl5cIix2aWV3czpudWxsLHBhcmFtczp7XCIjXCI6e3ZhbHVlOm51bGwsdHlwZTpcImhhc2hcIixkeW5hbWljOiEwfX0sYWJzdHJhY3Q6ITB9Oyh0aGlzLl9yb290PXRoaXMuc3RhdGVRdWV1ZS5yZWdpc3Rlcih0KSkubmF2aWdhYmxlPW51bGx9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3RoaXMuc3RhdGVRdWV1ZS5kaXNwb3NlKCksdGhpcy5saXN0ZW5lcnM9W10sdGhpcy5nZXQoKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiB0LmdldChlKSYmdC5kZXJlZ2lzdGVyKGUpfSl9LHQucHJvdG90eXBlLm9uU3RhdGVzQ2hhbmdlZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5saXN0ZW5lcnMucHVzaCh0KSxmdW5jdGlvbigpe3dlKHRoaXMubGlzdGVuZXJzKSh0KX0uYmluZCh0aGlzKX0sdC5wcm90b3R5cGUucm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yb290fSx0LnByb3RvdHlwZS5yZWdpc3Rlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZVF1ZXVlLnJlZ2lzdGVyKHQpfSx0LnByb3RvdHlwZS5fZGVyZWdpc3RlclRyZWU9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXMuZ2V0KCkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LiQkc3RhdGUoKX0pLG49ZnVuY3Rpb24odCl7dmFyIGU9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT10LmluZGV4T2YoZS5wYXJlbnQpfSk7cmV0dXJuIDA9PT1lLmxlbmd0aD9lOmUuY29uY2F0KG4oZSkpfSxpPW4oW3RdKSxvPVt0XS5jb25jYXQoaSkucmV2ZXJzZSgpO3JldHVybiBvLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHI9ZS5fcm91dGVyLnVybFJvdXRlcjtyLnJ1bGVzKCkuZmlsdGVyKEh0KFwic3RhdGVcIix0KSkuZm9yRWFjaChyLnJlbW92ZVJ1bGUuYmluZChyKSksZGVsZXRlIGUuc3RhdGVzW3QubmFtZV19KSxvfSx0LnByb3RvdHlwZS5kZXJlZ2lzdGVyPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZ2V0KHQpO2lmKCFlKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGRlcmVnaXN0ZXIgc3RhdGU7IG5vdCBmb3VuZDogXCIrdCk7dmFyIHI9dGhpcy5fZGVyZWdpc3RlclRyZWUoZS4kJHN0YXRlKCkpO3JldHVybiB0aGlzLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiB0KFwiZGVyZWdpc3RlcmVkXCIsci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuc2VsZn0pKX0pLHJ9LHQucHJvdG90eXBlLmdldD1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7aWYoMD09PWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuc3RhdGVzKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHIuc3RhdGVzW3RdLnNlbGZ9KTt2YXIgbj10aGlzLm1hdGNoZXIuZmluZCh0LGUpO3JldHVybiBuJiZuLnNlbGZ8fG51bGx9LHQucHJvdG90eXBlLmRlY29yYXRvcj1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmJ1aWxkZXIuYnVpbGRlcih0LGUpfSx0fSgpLE9yPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdFtlXT10W2VdfHxyKCl9LHhyPUsoXCIvXCIpLGpyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIsbixpKXt2YXIgbz10aGlzO3RoaXMuY29uZmlnPWksdGhpcy5fY2FjaGU9e3BhdGg6W3RoaXNdfSx0aGlzLl9jaGlsZHJlbj1bXSx0aGlzLl9wYXJhbXM9W10sdGhpcy5fc2VnbWVudHM9W10sdGhpcy5fY29tcGlsZWQ9W10sdGhpcy5wYXR0ZXJuPXQsdGhpcy5jb25maWc9bSh0aGlzLmNvbmZpZyx7cGFyYW1zOnt9LHN0cmljdDohMCxjYXNlSW5zZW5zaXRpdmU6ITEscGFyYW1NYXA6Zn0pO2Zvcih2YXIgYSx1LHMsYz0vKFs6Kl0pKFtcXHdcXFtcXF1dKyl8XFx7KFtcXHdcXFtcXF1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxsPS8oWzpdPykoW1xcd1xcW1xcXS4tXSspfFxceyhbXFx3XFxbXFxdLi1dKykoPzpcXDpcXHMqKCg/Oltee31cXFxcXSt8XFxcXC58XFx7KD86W157fVxcXFxdK3xcXFxcLikqXFx9KSspKT9cXH0vZyxwPTAsaD1bXSxkPWZ1bmN0aW9uKHIpe2lmKCFlLm5hbWVWYWxpZGF0b3IudGVzdChyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHBhcmFtZXRlciBuYW1lICdcIityK1wiJyBpbiBwYXR0ZXJuICdcIit0K1wiJ1wiKTtpZihTKG8uX3BhcmFtcyxIdChcImlkXCIscikpKXRocm93IG5ldyBFcnJvcihcIkR1cGxpY2F0ZSBwYXJhbWV0ZXIgbmFtZSAnXCIrcitcIicgaW4gcGF0dGVybiAnXCIrdCtcIidcIil9LHY9ZnVuY3Rpb24oZSxuKXt2YXIgaT1lWzJdfHxlWzNdLGE9bj9lWzRdOmVbNF18fChcIipcIj09PWVbMV0/XCJbXFxcXHNcXFxcU10qXCI6bnVsbCk7cmV0dXJue2lkOmkscmVnZXhwOmEsY2ZnOm8uY29uZmlnLnBhcmFtc1tpXSxzZWdtZW50OnQuc3Vic3RyaW5nKHAsZS5pbmRleCksdHlwZTphP3IudHlwZShhKXx8ZnVuY3Rpb24odCl7cmV0dXJuIHllKHIudHlwZShuP1wicXVlcnlcIjpcInBhdGhcIikse3BhdHRlcm46bmV3IFJlZ0V4cCh0LG8uY29uZmlnLmNhc2VJbnNlbnNpdGl2ZT9cImlcIjp2b2lkIDApfSl9KGEpOm51bGx9fTsoYT1jLmV4ZWModCkpJiYodT12KGEsITEpLCEodS5zZWdtZW50LmluZGV4T2YoXCI/XCIpPj0wKSk7KWQodS5pZCksdGhpcy5fcGFyYW1zLnB1c2gobi5mcm9tUGF0aCh1LmlkLHUudHlwZSx0aGlzLmNvbmZpZy5wYXJhbU1hcCh1LmNmZywhMSkpKSx0aGlzLl9zZWdtZW50cy5wdXNoKHUuc2VnbWVudCksaC5wdXNoKFt1LnNlZ21lbnQsUCh0aGlzLl9wYXJhbXMpXSkscD1jLmxhc3RJbmRleDtzPXQuc3Vic3RyaW5nKHApO3ZhciB5PXMuaW5kZXhPZihcIj9cIik7aWYoeT49MCl7dmFyIGc9cy5zdWJzdHJpbmcoeSk7aWYocz1zLnN1YnN0cmluZygwLHkpLGcubGVuZ3RoPjApZm9yKHA9MDthPWwuZXhlYyhnKTspdT12KGEsITApLGQodS5pZCksdGhpcy5fcGFyYW1zLnB1c2gobi5mcm9tU2VhcmNoKHUuaWQsdS50eXBlLHRoaXMuY29uZmlnLnBhcmFtTWFwKHUuY2ZnLCEwKSkpLHA9Yy5sYXN0SW5kZXh9dGhpcy5fc2VnbWVudHMucHVzaChzKSx0aGlzLl9jb21waWxlZD1oLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gaXQuYXBwbHkobnVsbCx0KX0pLmNvbmNhdChpdChzKSl9cmV0dXJuIGUucHJvdG90eXBlLmFwcGVuZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ucHVzaCh0KSx0Ll9jYWNoZT17cGF0aDp0aGlzLl9jYWNoZS5wYXRoLmNvbmNhdCh0KSxwYXJlbnQ6dGhpcyxwYXR0ZXJuOm51bGx9LHR9LGUucHJvdG90eXBlLmlzUm9vdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jYWNoZS5wYXRoWzBdPT09dGhpc30sZS5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXR0ZXJufSxlLnByb3RvdHlwZS5leGVjPWZ1bmN0aW9uKHQsZSxyLG4pe3ZhciBpPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pLHZvaWQgMD09PW4mJihuPXt9KTt2YXIgbz1Pcih0aGlzLl9jYWNoZSxcInBhdHRlcm5cIixmdW5jdGlvbigpe3JldHVybiBuZXcgUmVnRXhwKFtcIl5cIixPZShpLl9jYWNoZS5wYXRoLm1hcChBdChcIl9jb21waWxlZFwiKSkpLmpvaW4oXCJcIiksITE9PT1pLmNvbmZpZy5zdHJpY3Q/XCIvP1wiOlwiXCIsXCIkXCJdLmpvaW4oXCJcIiksaS5jb25maWcuY2FzZUluc2Vuc2l0aXZlP1wiaVwiOnZvaWQgMCl9KS5leGVjKHQpO2lmKCFvKXJldHVybiBudWxsO3ZhciBhPXRoaXMucGFyYW1ldGVycygpLHU9YS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIXQuaXNTZWFyY2goKX0pLHM9YS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNTZWFyY2goKX0pLGM9dGhpcy5fY2FjaGUucGF0aC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuX3NlZ21lbnRzLmxlbmd0aC0xfSkucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQrZX0pLGY9e307aWYoYyE9PW8ubGVuZ3RoLTEpdGhyb3cgbmV3IEVycm9yKFwiVW5iYWxhbmNlZCBjYXB0dXJlIGdyb3VwIGluIHJvdXRlICdcIit0aGlzLnBhdHRlcm4rXCInXCIpO2Zvcih2YXIgbD0wO2w8YztsKyspe2Zvcih2YXIgcD11W2xdLGg9b1tsKzFdLGQ9MDtkPHAucmVwbGFjZS5sZW5ndGg7ZCsrKXAucmVwbGFjZVtkXS5mcm9tPT09aCYmKGg9cC5yZXBsYWNlW2RdLnRvKTtoJiYhMD09PXAuYXJyYXkmJihoPWZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpfSxyPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UoL1xcXFwtL2csXCItXCIpfTtyZXR1cm4gYihiKGUodCkuc3BsaXQoLy0oPyFcXFxcKS8pLGUpLHIpLnJldmVyc2UoKX0oaCkpLFF0KGgpJiYoaD1wLnR5cGUuZGVjb2RlKGgpKSxmW3AuaWRdPXAudmFsdWUoaCl9cmV0dXJuIHMuZm9yRWFjaChmdW5jdGlvbih0KXtmb3IodmFyIHI9ZVt0LmlkXSxuPTA7bjx0LnJlcGxhY2UubGVuZ3RoO24rKyl0LnJlcGxhY2Vbbl0uZnJvbT09PXImJihyPXQucmVwbGFjZVtuXS50byk7UXQocikmJihyPXQudHlwZS5kZWNvZGUocikpLGZbdC5pZF09dC52YWx1ZShyKX0pLHImJihmW1wiI1wiXT1yKSxmfSxlLnByb3RvdHlwZS5wYXJhbWV0ZXJzPWZ1bmN0aW9uKHQpe3JldHVybiB2b2lkIDA9PT10JiYodD17fSksITE9PT10LmluaGVyaXQ/dGhpcy5fcGFyYW1zOk9lKHRoaXMuX2NhY2hlLnBhdGgubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Ll9wYXJhbXN9KSl9LGUucHJvdG90eXBlLnBhcmFtZXRlcj1mdW5jdGlvbih0LGUpe3ZhciByPXRoaXM7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciBuPXRoaXMuX2NhY2hlLnBhcmVudDtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIGU9MCxuPXIuX3BhcmFtcztlPG4ubGVuZ3RoO2UrKyl7dmFyIGk9bltlXTtpZihpLmlkPT09dClyZXR1cm4gaX19KCl8fCExIT09ZS5pbmhlcml0JiZuJiZuLnBhcmFtZXRlcih0LGUpfHxudWxsfSxlLnByb3RvdHlwZS52YWxpZGF0ZXM9ZnVuY3Rpb24odCl7dmFyIGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4hdHx8dC52YWxpZGF0ZXMoZSl9O3JldHVybiB0PXR8fHt9LHRoaXMucGFyYW1ldGVycygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5oYXNPd25Qcm9wZXJ0eShlLmlkKX0pLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gZShyLHRbci5pZF0pfSkucmVkdWNlKEVlLCEwKX0sZS5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIoZSl7dmFyIHI9ZS52YWx1ZSh0W2UuaWRdKSxuPWUudmFsaWRhdGVzKHIpLGk9ZS5pc0RlZmF1bHRWYWx1ZShyKTtyZXR1cm57cGFyYW06ZSx2YWx1ZTpyLGlzVmFsaWQ6bixpc0RlZmF1bHRWYWx1ZTppLHNxdWFzaDohIWkmJmUuc3F1YXNoLGVuY29kZWQ6ZS50eXBlLmVuY29kZShyKX19dm9pZCAwPT09dCYmKHQ9e30pO3ZhciBuPXRoaXMuX2NhY2hlLnBhdGgsaT1uLm1hcChlLnBhdGhTZWdtZW50c0FuZFBhcmFtcykucmVkdWNlKFRlLFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHRlKHQpP3Q6cih0KX0pLG89bi5tYXAoZS5xdWVyeVBhcmFtcykucmVkdWNlKFRlLFtdKS5tYXAociksYT1mdW5jdGlvbih0KXtyZXR1cm4hMT09PXQuaXNWYWxpZH07aWYoaS5jb25jYXQobykuZmlsdGVyKGEpLmxlbmd0aClyZXR1cm4gbnVsbDt2YXIgdT1pLnJlZHVjZShmdW5jdGlvbih0LHIpe2lmKHRlKHIpKXJldHVybiB0K3I7dmFyIG49ci5zcXVhc2gsaT1yLmVuY29kZWQsbz1yLnBhcmFtO3JldHVybiEwPT09bj90Lm1hdGNoKC9cXC8kLyk/dC5zbGljZSgwLC0xKTp0OnRlKG4pP3QrbjohMSE9PW4/dDpudWxsPT1pP3Q6cmUoaSk/dCtiKGksZS5lbmNvZGVEYXNoZXMpLmpvaW4oXCItXCIpOm8ucmF3P3QraTp0K2VuY29kZVVSSUNvbXBvbmVudChpKX0sXCJcIikscz1vLm1hcChmdW5jdGlvbih0KXt2YXIgZT10LnBhcmFtLHI9dC5zcXVhc2gsbj10LmVuY29kZWQsaT10LmlzRGVmYXVsdFZhbHVlO2lmKCEobnVsbD09bnx8aSYmITEhPT1yKSYmKHJlKG4pfHwobj1bbl0pLDAhPT1uLmxlbmd0aCkpcmV0dXJuIGUucmF3fHwobj1iKG4sZW5jb2RlVVJJQ29tcG9uZW50KSksbi5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGUuaWQrXCI9XCIrdH0pfSkuZmlsdGVyKGYpLnJlZHVjZShUZSxbXSkuam9pbihcIiZcIik7cmV0dXJuIHUrKHM/XCI/XCIrczpcIlwiKSsodFtcIiNcIl0/XCIjXCIrdFtcIiNcIl06XCJcIil9LGUuZW5jb2RlRGFzaGVzPWZ1bmN0aW9uKHQpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQodCkucmVwbGFjZSgvLS9nLGZ1bmN0aW9uKHQpe3JldHVyblwiJTVDJVwiK3QuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX0pfSxlLnBhdGhTZWdtZW50c0FuZFBhcmFtcz1mdW5jdGlvbihlKXtyZXR1cm4gQyhlLl9zZWdtZW50cyxlLl9wYXJhbXMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmxvY2F0aW9uPT09dC5EZWZUeXBlLlBBVEh9KS5jb25jYXQodm9pZCAwKSkucmVkdWNlKFRlLFtdKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuXCJcIiE9PXQmJlF0KHQpfSl9LGUucXVlcnlQYXJhbXM9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuX3BhcmFtcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUubG9jYXRpb249PT10LkRlZlR5cGUuU0VBUkNIfSl9LGUuY29tcGFyZT1mdW5jdGlvbih0LHIpe3ZhciBuLGksbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5fY2FjaGUuc2VnbWVudHM9dC5fY2FjaGUuc2VnbWVudHN8fHQuX2NhY2hlLnBhdGgubWFwKGUucGF0aFNlZ21lbnRzQW5kUGFyYW1zKS5yZWR1Y2UoVGUsW10pLnJlZHVjZShZLFtdKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHRlKHQpP3hyKHQpOnR9KS5yZWR1Y2UoVGUsW10pfSxhPWZ1bmN0aW9uKHQpe3JldHVybiB0Ll9jYWNoZS53ZWlnaHRzPXQuX2NhY2hlLndlaWdodHN8fG8odCkubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiL1wiPT09dD8xOnRlKHQpPzI6dCBpbnN0YW5jZW9mIHJyPzM6dm9pZCAwfSl9LHU9QyhhKHQpLGEocikpO2ZvcihpPTA7aTx1Lmxlbmd0aDtpKyspaWYoMCE9PShuPXVbaV1bMF0tdVtpXVsxXSkpcmV0dXJuIG47cmV0dXJuIDB9LGUubmFtZVZhbGlkYXRvcj0vXlxcdysoWy0uXStcXHcrKSooPzpcXFtcXF0pPyQvLGV9KCksSXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7dmFyIGU9dGhpczt0aGlzLnBhcmFtVHlwZXM9bmV3IHdyLHRoaXMuX2lzQ2FzZUluc2Vuc2l0aXZlPSExLHRoaXMuX2lzU3RyaWN0TW9kZT0hMCx0aGlzLl9kZWZhdWx0U3F1YXNoUG9saWN5PSExLHRoaXMuX2dldENvbmZpZz1mdW5jdGlvbih0KXtyZXR1cm4gdmUoe3N0cmljdDplLl9pc1N0cmljdE1vZGUsXG5jYXNlSW5zZW5zaXRpdmU6ZS5faXNDYXNlSW5zZW5zaXRpdmV9LHQpfSx0aGlzLnBhcmFtRmFjdG9yeT17ZnJvbUNvbmZpZzpmdW5jdGlvbihyLG4saSl7cmV0dXJuIG5ldyBycihyLG4saSx0LkRlZlR5cGUuQ09ORklHLGUpfSxmcm9tUGF0aDpmdW5jdGlvbihyLG4saSl7cmV0dXJuIG5ldyBycihyLG4saSx0LkRlZlR5cGUuUEFUSCxlKX0sZnJvbVNlYXJjaDpmdW5jdGlvbihyLG4saSl7cmV0dXJuIG5ldyBycihyLG4saSx0LkRlZlR5cGUuU0VBUkNILGUpfX0sdmUodGhpcyx7VXJsTWF0Y2hlcjpqcixQYXJhbTpycn0pfXJldHVybiBlLnByb3RvdHlwZS5jYXNlSW5zZW5zaXRpdmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2lzQ2FzZUluc2Vuc2l0aXZlPVF0KHQpP3Q6dGhpcy5faXNDYXNlSW5zZW5zaXRpdmV9LGUucHJvdG90eXBlLnN0cmljdE1vZGU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuX2lzU3RyaWN0TW9kZT1RdCh0KT90OnRoaXMuX2lzU3RyaWN0TW9kZX0sZS5wcm90b3R5cGUuZGVmYXVsdFNxdWFzaFBvbGljeT1mdW5jdGlvbih0KXtpZihRdCh0KSYmITAhPT10JiYhMSE9PXQmJiF0ZSh0KSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNxdWFzaCBwb2xpY3k6IFwiK3QrXCIuIFZhbGlkIHBvbGljaWVzOiBmYWxzZSwgdHJ1ZSwgYXJiaXRyYXJ5LXN0cmluZ1wiKTtyZXR1cm4gdGhpcy5fZGVmYXVsdFNxdWFzaFBvbGljeT1RdCh0KT90OnRoaXMuX2RlZmF1bHRTcXVhc2hQb2xpY3l9LGUucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IGpyKHQsdGhpcy5wYXJhbVR5cGVzLHRoaXMucGFyYW1GYWN0b3J5LHRoaXMuX2dldENvbmZpZyhlKSl9LGUucHJvdG90eXBlLmlzTWF0Y2hlcj1mdW5jdGlvbih0KXtpZighZWUodCkpcmV0dXJuITE7dmFyIGU9ITA7cmV0dXJuIGRlKGpyLnByb3RvdHlwZSxmdW5jdGlvbihyLG4pe1p0KHIpJiYoZT1lJiZRdCh0W25dKSYmWnQodFtuXSkpfSksZX0sZS5wcm90b3R5cGUudHlwZT1mdW5jdGlvbih0LGUscil7dmFyIG49dGhpcy5wYXJhbVR5cGVzLnR5cGUodCxlLHIpO3JldHVybiBRdChlKT90aGlzOm59LGUucHJvdG90eXBlLiRnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJhbVR5cGVzLmVucXVldWU9ITEsdGhpcy5wYXJhbVR5cGVzLl9mbHVzaFR5cGVRdWV1ZSgpLHRoaXN9LGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLnBhcmFtVHlwZXMuZGlzcG9zZSgpfSxlfSgpLFZyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0KXt0aGlzLnJvdXRlcj10fXJldHVybiB0LnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLnJvdXRlci51cmxNYXRjaGVyRmFjdG9yeS5jb21waWxlKHQpfSx0LnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLG49cyhbW3RlLGZ1bmN0aW9uKHQpe3JldHVybiBuKHIuY29tcGlsZSh0KSl9XSxbVXQoanIpLGZ1bmN0aW9uKHQpe3JldHVybiByLmZyb21VcmxNYXRjaGVyKHQsZSl9XSxbb2UsZnVuY3Rpb24odCl7cmV0dXJuIHIuZnJvbVN0YXRlKHQsci5yb3V0ZXIpfV0sW1V0KFJlZ0V4cCksZnVuY3Rpb24odCl7cmV0dXJuIHIuZnJvbVJlZ0V4cCh0LGUpfV0sW1p0LGZ1bmN0aW9uKHQpe3JldHVybiBuZXcgQXIodCxlKX1dXSksaT1uKHQpO2lmKCFpKXRocm93IG5ldyBFcnJvcihcImludmFsaWQgJ3doYXQnIGluIHdoZW4oKVwiKTtyZXR1cm4gaX0sdC5wcm90b3R5cGUuZnJvbVVybE1hdGNoZXI9ZnVuY3Rpb24odCxlKXtmdW5jdGlvbiByKGUpe3ZhciByPXQuZXhlYyhlLnBhdGgsZS5zZWFyY2gsZS5oYXNoKTtyZXR1cm4gdC52YWxpZGF0ZXMocikmJnJ9ZnVuY3Rpb24gbihlKXt2YXIgcj10LnBhcmFtZXRlcnMoKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNPcHRpb25hbH0pO3JldHVybiByLmxlbmd0aD9yLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gZVt0LmlkXX0pLmxlbmd0aC9yLmxlbmd0aDoxZS02fXZhciBpPWU7dGUoZSkmJihlPXRoaXMucm91dGVyLnVybE1hdGNoZXJGYWN0b3J5LmNvbXBpbGUoZSkpLFV0KGpyKShlKSYmKGk9ZnVuY3Rpb24odCl7cmV0dXJuIGUuZm9ybWF0KHQpfSk7dmFyIG89e3VybE1hdGNoZXI6dCxtYXRjaFByaW9yaXR5Om4sdHlwZTpcIlVSTE1BVENIRVJcIn07cmV0dXJuIHZlKG5ldyBBcihyLGkpLG8pfSx0LnByb3RvdHlwZS5mcm9tU3RhdGU9ZnVuY3Rpb24odCxlKXt2YXIgcj1mdW5jdGlvbihyKXt2YXIgbj1lLnN0YXRlU2VydmljZSxpPWUuZ2xvYmFscztuLmhyZWYodCxyKSE9PW4uaHJlZihpLmN1cnJlbnQsaS5wYXJhbXMpJiZuLnRyYW5zaXRpb25Ubyh0LHIse2luaGVyaXQ6ITAsc291cmNlOlwidXJsXCJ9KX0sbj17c3RhdGU6dCx0eXBlOlwiU1RBVEVcIn07cmV0dXJuIHZlKHRoaXMuZnJvbVVybE1hdGNoZXIodC51cmwsciksbil9LHQucHJvdG90eXBlLmZyb21SZWdFeHA9ZnVuY3Rpb24odCxlKXtpZih0Lmdsb2JhbHx8dC5zdGlja3kpdGhyb3cgbmV3IEVycm9yKFwiUnVsZSBSZWdFeHAgbXVzdCBub3QgYmUgZ2xvYmFsIG9yIHN0aWNreVwiKTt2YXIgcj1mdW5jdGlvbih0KXtyZXR1cm4gZS5yZXBsYWNlKC9cXCQoXFwkfFxcZHsxLDJ9KS8sZnVuY3Rpb24oZSxyKXtyZXR1cm4gdFtcIiRcIj09PXI/MDpOdW1iZXIocildfSl9LG49dGUoZSk/cjplLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIHQuZXhlYyhlLnBhdGgpfSxvPXtyZWdleHA6dCx0eXBlOlwiUkVHRVhQXCJ9O3JldHVybiB2ZShuZXcgQXIoaSxuKSxvKX0sdC5pc1VybFJ1bGU9ZnVuY3Rpb24odCl7cmV0dXJuIHQmJltcInR5cGVcIixcIm1hdGNoXCIsXCJoYW5kbGVyXCJdLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBRdCh0W2VdKX0pfSx0fSgpLEFyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZhciByPXRoaXM7dGhpcy5tYXRjaD10LHRoaXMudHlwZT1cIlJBV1wiLHRoaXMubWF0Y2hQcmlvcml0eT1mdW5jdGlvbih0KXtyZXR1cm4gMC1yLiRpZH0sdGhpcy5oYW5kbGVyPWV8fGZ9cmV0dXJuIHR9KCksSHI9QXQoXCJ1cmxNYXRjaGVyXCIpO19yPUhlKEFlKGkoQXQoXCJwcmlvcml0eVwiKSxmdW5jdGlvbih0KXtyZXR1cm4tdH0pKSxBZShpKEF0KFwidHlwZVwiKSxmdW5jdGlvbih0KXtyZXR1cm57U1RBVEU6NCxVUkxNQVRDSEVSOjQsUkVHRVhQOjMsUkFXOjIsT1RIRVI6MX1bdF19KSksZnVuY3Rpb24odCxlKXtyZXR1cm4gSHIodCkmJkhyKGUpP2pyLmNvbXBhcmUoSHIodCksSHIoZSkpOjB9LEFlKEF0KFwiJGlkXCIpLGdlKFtcIlJFR0VYUFwiLFwiUkFXXCIsXCJPVEhFUlwiXSkpKTt2YXIgcXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KGUpe3RoaXMuX3NvcnRGbj1fcix0aGlzLl9ydWxlcz1bXSx0aGlzLmludGVyY2VwdERlZmVycmVkPSExLHRoaXMuX2lkPTAsdGhpcy5fc29ydGVkPSExLHRoaXMuX3JvdXRlcj1lLHRoaXMudXJsUnVsZUZhY3Rvcnk9bmV3IFZyKGUpLHAoTXQodC5wcm90b3R5cGUpLHRoaXMsTXQodGhpcykpfXJldHVybiB0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7dGhpcy5saXN0ZW4oITEpLHRoaXMuX3J1bGVzPVtdLGRlbGV0ZSB0aGlzLl9vdGhlcndpc2VGbn0sdC5wcm90b3R5cGUuc29ydD1mdW5jdGlvbih0KXt0aGlzLl9ydWxlcy5zb3J0KHRoaXMuX3NvcnRGbj10fHx0aGlzLl9zb3J0Rm4pLHRoaXMuX3NvcnRlZD0hMH0sdC5wcm90b3R5cGUuZW5zdXJlU29ydGVkPWZ1bmN0aW9uKCl7dGhpcy5fc29ydGVkfHx0aGlzLnNvcnQoKX0sdC5wcm90b3R5cGUubWF0Y2g9ZnVuY3Rpb24odCl7dmFyIGU9dGhpczt0aGlzLmVuc3VyZVNvcnRlZCgpLHQ9dmUoe3BhdGg6XCJcIixzZWFyY2g6e30saGFzaDpcIlwifSx0KTt2YXIgcj10aGlzLnJ1bGVzKCk7dGhpcy5fb3RoZXJ3aXNlRm4mJnIucHVzaCh0aGlzLl9vdGhlcndpc2VGbik7Zm9yKHZhciBuLGk9MDtpPHIubGVuZ3RoJiYoIW58fDA9PT10aGlzLl9zb3J0Rm4ocltpXSxuLnJ1bGUpKTtpKyspe3ZhciBvPWZ1bmN0aW9uKHIpe3ZhciBuPXIubWF0Y2godCxlLl9yb3V0ZXIpO3JldHVybiBuJiZ7bWF0Y2g6bixydWxlOnIsd2VpZ2h0OnIubWF0Y2hQcmlvcml0eShuKX19KHJbaV0pO249IW58fG8mJm8ud2VpZ2h0Pm4ud2VpZ2h0P286bn1yZXR1cm4gbn0sdC5wcm90b3R5cGUuc3luYz1mdW5jdGlvbih0KXtpZighdHx8IXQuZGVmYXVsdFByZXZlbnRlZCl7dmFyIGU9dGhpcy5fcm91dGVyLHI9ZS51cmxTZXJ2aWNlLG49ZS5zdGF0ZVNlcnZpY2UsaT17cGF0aDpyLnBhdGgoKSxzZWFyY2g6ci5zZWFyY2goKSxoYXNoOnIuaGFzaCgpfSxvPXRoaXMubWF0Y2goaSk7cyhbW3RlLGZ1bmN0aW9uKHQpe3JldHVybiByLnVybCh0LCEwKX1dLFtKZS5pc0RlZixmdW5jdGlvbih0KXtyZXR1cm4gbi5nbyh0LnN0YXRlLHQucGFyYW1zLHQub3B0aW9ucyl9XSxbVXQoSmUpLGZ1bmN0aW9uKHQpe3JldHVybiBuLmdvKHQuc3RhdGUoKSx0LnBhcmFtcygpLHQub3B0aW9ucygpKX1dXSkobyYmby5ydWxlLmhhbmRsZXIoby5tYXRjaCxpLGUpKX19LHQucHJvdG90eXBlLmxpc3Rlbj1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCExIT09dClyZXR1cm4gdGhpcy5fc3RvcEZuPXRoaXMuX3N0b3BGbnx8dGhpcy5fcm91dGVyLnVybFNlcnZpY2Uub25DaGFuZ2UoZnVuY3Rpb24odCl7cmV0dXJuIGUuc3luYyh0KX0pO3RoaXMuX3N0b3BGbiYmdGhpcy5fc3RvcEZuKCksZGVsZXRlIHRoaXMuX3N0b3BGbn0sdC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX3JvdXRlci5sb2NhdGlvblNlcnZpY2U7aWYodClyZXR1cm4gdm9pZCh0aGlzLmxvY2F0aW9uPWUucGF0aCgpKTtlLnBhdGgoKSE9PXRoaXMubG9jYXRpb24mJmUudXJsKHRoaXMubG9jYXRpb24sITApfSx0LnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1yJiYhIXIucmVwbGFjZTt0aGlzLl9yb3V0ZXIudXJsU2VydmljZS51cmwodC5mb3JtYXQoZXx8e30pLG4pfSx0LnByb3RvdHlwZS5ocmVmPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj10LmZvcm1hdChlKTtpZihudWxsPT1uKXJldHVybiBudWxsO3I9cnx8e2Fic29sdXRlOiExfTt2YXIgaT10aGlzLl9yb3V0ZXIudXJsU2VydmljZS5jb25maWcsbz1pLmh0bWw1TW9kZSgpO2lmKG98fG51bGw9PT1ufHwobj1cIiNcIitpLmhhc2hQcmVmaXgoKStuKSxuPW90KG4sbyxyLmFic29sdXRlLGkuYmFzZUhyZWYoKSksIXIuYWJzb2x1dGV8fCFuKXJldHVybiBuO3ZhciBhPSFvJiZuP1wiL1wiOlwiXCIsdT1pLnBvcnQoKTtyZXR1cm4gdT04MD09PXV8fDQ0Mz09PXU/XCJcIjpcIjpcIit1LFtpLnByb3RvY29sKCksXCI6Ly9cIixpLmhvc3QoKSx1LGEsbl0uam9pbihcIlwiKX0sdC5wcm90b3R5cGUucnVsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCFWci5pc1VybFJ1bGUodCkpdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBydWxlXCIpO3JldHVybiB0LiRpZD10aGlzLl9pZCsrLHQucHJpb3JpdHk9dC5wcmlvcml0eXx8MCx0aGlzLl9ydWxlcy5wdXNoKHQpLHRoaXMuX3NvcnRlZD0hMSxmdW5jdGlvbigpe3JldHVybiBlLnJlbW92ZVJ1bGUodCl9fSx0LnByb3RvdHlwZS5yZW1vdmVSdWxlPWZ1bmN0aW9uKHQpe3dlKHRoaXMuX3J1bGVzLHQpfSx0LnByb3RvdHlwZS5ydWxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVuc3VyZVNvcnRlZCgpLHRoaXMuX3J1bGVzLnNsaWNlKCl9LHQucHJvdG90eXBlLm90aGVyd2lzZT1mdW5jdGlvbih0KXt2YXIgZT1hdCh0KTt0aGlzLl9vdGhlcndpc2VGbj10aGlzLnVybFJ1bGVGYWN0b3J5LmNyZWF0ZShNdCghMCksZSksdGhpcy5fc29ydGVkPSExfSx0LnByb3RvdHlwZS5pbml0aWFsPWZ1bmN0aW9uKHQpe3ZhciBlPWF0KHQpLHI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gMD09PWUuZ2xvYmFscy50cmFuc2l0aW9uSGlzdG9yeS5zaXplKCkmJiEhL15cXC8/JC8uZXhlYyh0LnBhdGgpfTt0aGlzLnJ1bGUodGhpcy51cmxSdWxlRmFjdG9yeS5jcmVhdGUocixlKSl9LHQucHJvdG90eXBlLndoZW49ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXRoaXMudXJsUnVsZUZhY3RvcnkuY3JlYXRlKHQsZSk7cmV0dXJuIFF0KHImJnIucHJpb3JpdHkpJiYobi5wcmlvcml0eT1yLnByaW9yaXR5KSx0aGlzLnJ1bGUobiksbn0sdC5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQ9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ITApLHRoaXMuaW50ZXJjZXB0RGVmZXJyZWQ9dH0sdH0oKSxEcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt2YXIgdD10aGlzO3RoaXMuX3VpVmlld3M9W10sdGhpcy5fdmlld0NvbmZpZ3M9W10sdGhpcy5fdmlld0NvbmZpZ0ZhY3Rvcmllcz17fSx0aGlzLl9wbHVnaW5hcGk9e19yb290Vmlld0NvbnRleHQ6dGhpcy5fcm9vdFZpZXdDb250ZXh0LmJpbmQodGhpcyksX3ZpZXdDb25maWdGYWN0b3J5OnRoaXMuX3ZpZXdDb25maWdGYWN0b3J5LmJpbmQodGhpcyksX3JlZ2lzdGVyZWRVSVZpZXdzOmZ1bmN0aW9uKCl7cmV0dXJuIHQuX3VpVmlld3N9LF9hY3RpdmVWaWV3Q29uZmlnczpmdW5jdGlvbigpe3JldHVybiB0Ll92aWV3Q29uZmlnc319fXJldHVybiB0LnByb3RvdHlwZS5fcm9vdFZpZXdDb250ZXh0PWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9yb290Q29udGV4dD10fHx0aGlzLl9yb290Q29udGV4dH0sdC5wcm90b3R5cGUuX3ZpZXdDb25maWdGYWN0b3J5PWZ1bmN0aW9uKHQsZSl7dGhpcy5fdmlld0NvbmZpZ0ZhY3Rvcmllc1t0XT1lfSx0LnByb3RvdHlwZS5jcmVhdGVWaWV3Q29uZmlnPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5fdmlld0NvbmZpZ0ZhY3Rvcmllc1tlLiR0eXBlXTtpZighcil0aHJvdyBuZXcgRXJyb3IoXCJWaWV3U2VydmljZTogTm8gdmlldyBjb25maWcgZmFjdG9yeSByZWdpc3RlcmVkIGZvciB0eXBlIFwiK2UuJHR5cGUpO3ZhciBuPXIodCxlKTtyZXR1cm4gcmUobik/bjpbbl19LHQucHJvdG90eXBlLmRlYWN0aXZhdGVWaWV3Q29uZmlnPWZ1bmN0aW9uKHQpe3plLnRyYWNlVmlld1NlcnZpY2VFdmVudChcIjwtIFJlbW92aW5nXCIsdCksd2UodGhpcy5fdmlld0NvbmZpZ3MsdCl9LHQucHJvdG90eXBlLmFjdGl2YXRlVmlld0NvbmZpZz1mdW5jdGlvbih0KXt6ZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQoXCItPiBSZWdpc3RlcmluZ1wiLHQpLHRoaXMuX3ZpZXdDb25maWdzLnB1c2godCl9LHQucHJvdG90eXBlLnN5bmM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe3JldHVybiB0JiZ0LnBhcmVudD9lKHQucGFyZW50KSsxOjF9O3JldHVybiAxZTQqdC5mcW4uc3BsaXQoXCIuXCIpLmxlbmd0aCtlKHQuY3JlYXRpb25Db250ZXh0KX1mdW5jdGlvbiBuKHQpe2Zvcih2YXIgZT10LnZpZXdEZWNsLiRjb250ZXh0LHI9MDsrK3ImJmUucGFyZW50OyllPWUucGFyZW50O3JldHVybiByfXZhciBpPXRoaXMsbz10aGlzLl91aVZpZXdzLm1hcChmdW5jdGlvbih0KXtyZXR1cm5bdC5mcW4sdF19KS5yZWR1Y2UoVCx7fSksYT1yKGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybiBlKih0KHIpLXQobikpfSksdT1mdW5jdGlvbihlKXt2YXIgcj1pLl92aWV3Q29uZmlncy5maWx0ZXIodC5tYXRjaGVzKG8sZSkpO3JldHVybiByLmxlbmd0aD4xJiZyLnNvcnQoYShuLC0xKSksW2UsclswXV19LHM9ZnVuY3Rpb24odCl7dmFyIGU9dFswXSxyPXRbMV07LTEhPT1pLl91aVZpZXdzLmluZGV4T2YoZSkmJmUuY29uZmlnVXBkYXRlZChyKX0sYz10aGlzLl91aVZpZXdzLnNvcnQoYShlLDEpKS5tYXAodSk7emUudHJhY2VWaWV3U3luYyhjKSxjLmZvckVhY2gocyl9LHQucHJvdG90eXBlLnJlZ2lzdGVyVUlWaWV3PWZ1bmN0aW9uKHQpe3plLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIi0+IFJlZ2lzdGVyaW5nXCIsdCk7dmFyIGU9dGhpcy5fdWlWaWV3cyxyPWZ1bmN0aW9uKGUpe3JldHVybiBlLmZxbj09PXQuZnFuJiZlLiR0eXBlPT09dC4kdHlwZX07cmV0dXJuIGUuZmlsdGVyKHIpLmxlbmd0aCYmemUudHJhY2VWaWV3U2VydmljZVVJVmlld0V2ZW50KFwiISEhISBkdXBsaWNhdGUgdWlWaWV3IG5hbWVkOlwiLHQpLGUucHVzaCh0KSx0aGlzLnN5bmMoKSxmdW5jdGlvbigpe2lmKC0xPT09ZS5pbmRleE9mKHQpKXJldHVybiB2b2lkIHplLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIlRyaWVkIHJlbW92aW5nIG5vbi1yZWdpc3RlcmVkIHVpVmlld1wiLHQpO3plLnRyYWNlVmlld1NlcnZpY2VVSVZpZXdFdmVudChcIjwtIERlcmVnaXN0ZXJpbmdcIix0KSx3ZShlKSh0KX19LHQucHJvdG90eXBlLmF2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91aVZpZXdzLm1hcChBdChcImZxblwiKSl9LHQucHJvdG90eXBlLmFjdGl2ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91aVZpZXdzLmZpbHRlcihBdChcIiRjb25maWdcIikpLm1hcChBdChcIm5hbWVcIikpfSx0Lm5vcm1hbGl6ZVVJVmlld1RhcmdldD1mdW5jdGlvbih0LGUpe3ZvaWQgMD09PWUmJihlPVwiXCIpO3ZhciByPWUuc3BsaXQoXCJAXCIpLG49clswXXx8XCIkZGVmYXVsdFwiLGk9dGUoclsxXSk/clsxXTpcIl5cIixvPS9eKFxcXig/OlxcLlxcXikqKVxcLiguKiQpLy5leGVjKG4pOyhvJiYoaT1vWzFdLG49b1syXSksXCIhXCI9PT1uLmNoYXJBdCgwKSYmKG49bi5zdWJzdHIoMSksaT1cIlwiKSwvXihcXF4oPzpcXC5cXF4pKikkLy5leGVjKGkpKT9pPWkuc3BsaXQoXCIuXCIpLnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0LnBhcmVudH0sdCkubmFtZTpcIi5cIj09PWkmJihpPXQubmFtZSk7cmV0dXJue3VpVmlld05hbWU6bix1aVZpZXdDb250ZXh0QW5jaG9yOml9fSx0Lm1hdGNoZXM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoZS4kdHlwZSE9PXIudmlld0RlY2wuJHR5cGUpcmV0dXJuITE7dmFyIG49ci52aWV3RGVjbCxpPW4uJHVpVmlld05hbWUuc3BsaXQoXCIuXCIpLG89ZS5mcW4uc3BsaXQoXCIuXCIpO2lmKCFtZShpLG8uc2xpY2UoMC1pLmxlbmd0aCkpKXJldHVybiExO3ZhciBhPTEtaS5sZW5ndGh8fHZvaWQgMCx1PW8uc2xpY2UoMCxhKS5qb2luKFwiLlwiKSxzPXRbdV0uY3JlYXRpb25Db250ZXh0O3JldHVybiBuLiR1aVZpZXdDb250ZXh0QW5jaG9yPT09KHMmJnMubmFtZSl9fSx0fSgpLE5yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3RoaXMucGFyYW1zPW5ldyAkcix0aGlzLmxhc3RTdGFydGVkVHJhbnNpdGlvbklkPS0xLHRoaXMudHJhbnNpdGlvbkhpc3Rvcnk9bmV3IE5lKFtdLDEpLHRoaXMuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zPW5ldyBOZShbXSwxKX1yZXR1cm4gdC5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbigpe3RoaXMudHJhbnNpdGlvbkhpc3RvcnkuY2xlYXIoKSx0aGlzLnN1Y2Nlc3NmdWxUcmFuc2l0aW9ucy5jbGVhcigpLHRoaXMudHJhbnNpdGlvbj1udWxsfSx0fSgpLEZyPWZ1bmN0aW9uKHQpe3JldHVybiB0LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPXVlKGUpLHR9LHtkaXNwb3NlOmx9KX0sVXI9W1widXJsXCIsXCJwYXRoXCIsXCJzZWFyY2hcIixcImhhc2hcIixcIm9uQ2hhbmdlXCJdLExyPVtcInBvcnRcIixcInByb3RvY29sXCIsXCJob3N0XCIsXCJiYXNlSHJlZlwiLFwiaHRtbDVNb2RlXCIsXCJoYXNoUHJlZml4XCJdLE1yPVtcInR5cGVcIixcImNhc2VJbnNlbnNpdGl2ZVwiLFwic3RyaWN0TW9kZVwiLFwiZGVmYXVsdFNxdWFzaFBvbGljeVwiXSxCcj1bXCJzb3J0XCIsXCJ3aGVuXCIsXCJpbml0aWFsXCIsXCJvdGhlcndpc2VcIixcInJ1bGVzXCIsXCJydWxlXCIsXCJyZW1vdmVSdWxlXCJdLEdyPVtcImRlZmVySW50ZXJjZXB0XCIsXCJsaXN0ZW5cIixcInN5bmNcIixcIm1hdGNoXCJdLFdyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPSEwKSx0aGlzLnJvdXRlcj10LHRoaXMucnVsZXM9e30sdGhpcy5jb25maWc9e307dmFyIHI9ZnVuY3Rpb24oKXtyZXR1cm4gdC5sb2NhdGlvblNlcnZpY2V9O3Aocix0aGlzLHIsVXIsZSk7dmFyIG49ZnVuY3Rpb24oKXtyZXR1cm4gdC5sb2NhdGlvbkNvbmZpZ307cChuLHRoaXMuY29uZmlnLG4sTHIsZSk7dmFyIGk9ZnVuY3Rpb24oKXtyZXR1cm4gdC51cmxNYXRjaGVyRmFjdG9yeX07cChpLHRoaXMuY29uZmlnLGksTXIpO3ZhciBvPWZ1bmN0aW9uKCl7cmV0dXJuIHQudXJsUm91dGVyfTtwKG8sdGhpcy5ydWxlcyxvLEJyKSxwKG8sdGhpcyxvLEdyKX1yZXR1cm4gdC5wcm90b3R5cGUudXJsPWZ1bmN0aW9uKHQsZSxyKXt9LHQucHJvdG90eXBlLnBhdGg9ZnVuY3Rpb24oKXt9LHQucHJvdG90eXBlLnNlYXJjaD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUuaGFzaD1mdW5jdGlvbigpe30sdC5wcm90b3R5cGUub25DaGFuZ2U9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5wYXJ0cz1mdW5jdGlvbigpe3JldHVybntwYXRoOnRoaXMucGF0aCgpLHNlYXJjaDp0aGlzLnNlYXJjaCgpLGhhc2g6dGhpcy5oYXNoKCl9fSx0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5zeW5jPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUubGlzdGVuPWZ1bmN0aW9uKHQpe30sdC5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQ9ZnVuY3Rpb24odCl7fSx0LnByb3RvdHlwZS5tYXRjaD1mdW5jdGlvbih0KXt9LHQubG9jYXRpb25TZXJ2aWNlU3R1Yj1GcihVciksdC5sb2NhdGlvbkNvbmZpZ1N0dWI9RnIoTHIpLHR9KCksenI9MCxKcj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxlKXt2b2lkIDA9PT10JiYodD1Xci5sb2NhdGlvblNlcnZpY2VTdHViKSx2b2lkIDA9PT1lJiYoZT1Xci5sb2NhdGlvbkNvbmZpZ1N0dWIpLHRoaXMubG9jYXRpb25TZXJ2aWNlPXQsdGhpcy5sb2NhdGlvbkNvbmZpZz1lLHRoaXMuJGlkPXpyKyssdGhpcy5fZGlzcG9zZWQ9ITEsdGhpcy5fZGlzcG9zYWJsZXM9W10sdGhpcy50cmFjZT16ZSx0aGlzLnZpZXdTZXJ2aWNlPW5ldyBEcix0aGlzLnRyYW5zaXRpb25TZXJ2aWNlPW5ldyBibih0aGlzKSx0aGlzLmdsb2JhbHM9bmV3IE5yLHRoaXMudXJsTWF0Y2hlckZhY3Rvcnk9bmV3IElyLHRoaXMudXJsUm91dGVyPW5ldyBxcih0aGlzKSx0aGlzLnN0YXRlUmVnaXN0cnk9bmV3IGtyKHRoaXMpLHRoaXMuc3RhdGVTZXJ2aWNlPW5ldyBSbih0aGlzKSx0aGlzLnVybFNlcnZpY2U9bmV3IFdyKHRoaXMpLHRoaXMuX3BsdWdpbnM9e30sdGhpcy52aWV3U2VydmljZS5fcGx1Z2luYXBpLl9yb290Vmlld0NvbnRleHQodGhpcy5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKSksdGhpcy5nbG9iYWxzLiRjdXJyZW50PXRoaXMuc3RhdGVSZWdpc3RyeS5yb290KCksdGhpcy5nbG9iYWxzLmN1cnJlbnQ9dGhpcy5nbG9iYWxzLiRjdXJyZW50LnNlbGYsdGhpcy5kaXNwb3NhYmxlKHRoaXMuZ2xvYmFscyksdGhpcy5kaXNwb3NhYmxlKHRoaXMuc3RhdGVTZXJ2aWNlKSx0aGlzLmRpc3Bvc2FibGUodGhpcy5zdGF0ZVJlZ2lzdHJ5KSx0aGlzLmRpc3Bvc2FibGUodGhpcy50cmFuc2l0aW9uU2VydmljZSksdGhpcy5kaXNwb3NhYmxlKHRoaXMudXJsUm91dGVyKSx0aGlzLmRpc3Bvc2FibGUodCksdGhpcy5kaXNwb3NhYmxlKGUpfXJldHVybiB0LnByb3RvdHlwZS5kaXNwb3NhYmxlPWZ1bmN0aW9uKHQpe3RoaXMuX2Rpc3Bvc2FibGVzLnB1c2godCl9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcztpZih0JiZadCh0LmRpc3Bvc2UpKXJldHVybiB2b2lkIHQuZGlzcG9zZSh0aGlzKTt0aGlzLl9kaXNwb3NlZD0hMCx0aGlzLl9kaXNwb3NhYmxlcy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24odCl7dHJ5e1wiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGlzcG9zZSYmdC5kaXNwb3NlKGUpLHdlKGUuX2Rpc3Bvc2FibGVzLHQpfWNhdGNoKHQpe319KX0sdC5wcm90b3R5cGUucGx1Z2luPWZ1bmN0aW9uKHQsZSl7dm9pZCAwPT09ZSYmKGU9e30pO3ZhciByPW5ldyB0KHRoaXMsZSk7aWYoIXIubmFtZSl0aHJvdyBuZXcgRXJyb3IoXCJSZXF1aXJlZCBwcm9wZXJ0eSBgbmFtZWAgbWlzc2luZyBvbiBwbHVnaW46IFwiK3IpO3JldHVybiB0aGlzLl9kaXNwb3NhYmxlcy5wdXNoKHIpLHRoaXMuX3BsdWdpbnNbci5uYW1lXT1yfSx0LnByb3RvdHlwZS5nZXRQbHVnaW49ZnVuY3Rpb24odCl7cmV0dXJuIHQ/dGhpcy5fcGx1Z2luc1t0XTpSZSh0aGlzLl9wbHVnaW5zKX0sdH0oKSxRcj1mdW5jdGlvbih0KXtyZXR1cm4gdC5vbkNyZWF0ZSh7fSx1dCl9LEtyPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7aWYoZSlyZXR1cm4gZSBpbnN0YW5jZW9mIEplP2U6dGUoZSk/bi50YXJnZXQoZSx0LnBhcmFtcygpLHQub3B0aW9ucygpKTplLnN0YXRlfHxlLnBhcmFtcz9uLnRhcmdldChlLnN0YXRlfHx0LnRvKCksZS5wYXJhbXN8fHQucGFyYW1zKCksdC5vcHRpb25zKCkpOnZvaWQgMH12YXIgcj10LnRvKCkucmVkaXJlY3RUbztpZihyKXt2YXIgbj10LnJvdXRlci5zdGF0ZVNlcnZpY2U7cmV0dXJuIFp0KHIpP3NlLiRxLndoZW4ocih0KSkudGhlbihlKTplKHIpfX0sWXI9ZnVuY3Rpb24odCl7cmV0dXJuIHQub25TdGFydCh7dG86ZnVuY3Rpb24odCl7cmV0dXJuISF0LnJlZGlyZWN0VG99fSxLcil9LFpyPXN0KFwib25FeGl0XCIpLFhyPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uRXhpdCh7ZXhpdGluZzpmdW5jdGlvbih0KXtyZXR1cm4hIXQub25FeGl0fX0sWnIpfSx0bj1zdChcIm9uUmV0YWluXCIpLGVuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uUmV0YWluKHtyZXRhaW5lZDpmdW5jdGlvbih0KXtyZXR1cm4hIXQub25SZXRhaW59fSx0bil9LHJuPXN0KFwib25FbnRlclwiKSxubj1mdW5jdGlvbih0KXtyZXR1cm4gdC5vbkVudGVyKHtlbnRlcmluZzpmdW5jdGlvbih0KXtyZXR1cm4hIXQub25FbnRlcn19LHJuKX0sb249ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBwcih0LnRyZWVDaGFuZ2VzKCkudG8pLnJlc29sdmVQYXRoKFwiRUFHRVJcIix0KS50aGVuKGwpfSxhbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5vblN0YXJ0KHt9LG9uLHtwcmlvcml0eToxZTN9KX0sdW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gbmV3IHByKHQudHJlZUNoYW5nZXMoKS50bykuc3ViQ29udGV4dChlLiQkc3RhdGUoKSkucmVzb2x2ZVBhdGgoXCJMQVpZXCIsdCkudGhlbihsKX0sc249ZnVuY3Rpb24odCl7cmV0dXJuIHQub25FbnRlcih7ZW50ZXJpbmc6TXQoITApfSx1bix7cHJpb3JpdHk6MWUzfSl9LGNuPWZ1bmN0aW9uKHQpe3ZhciBlPXNlLiRxLHI9dC52aWV3cyhcImVudGVyaW5nXCIpO2lmKHIubGVuZ3RoKXJldHVybiBlLmFsbChyLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS53aGVuKHQubG9hZCgpKX0pKS50aGVuKGwpfSxmbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5vbkZpbmlzaCh7fSxjbil9LGxuPWZ1bmN0aW9uKHQpe3ZhciBlPXQudmlld3MoXCJlbnRlcmluZ1wiKSxyPXQudmlld3MoXCJleGl0aW5nXCIpO2lmKGUubGVuZ3RofHxyLmxlbmd0aCl7dmFyIG49dC5yb3V0ZXIudmlld1NlcnZpY2U7ci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmRlYWN0aXZhdGVWaWV3Q29uZmlnKHQpfSksZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmFjdGl2YXRlVmlld0NvbmZpZyh0KX0pLG4uc3luYygpfX0scG49ZnVuY3Rpb24odCl7cmV0dXJuIHQub25TdWNjZXNzKHt9LGxuKX0saG49ZnVuY3Rpb24odCl7dmFyIGU9dC5yb3V0ZXIuZ2xvYmFscyxyPWZ1bmN0aW9uKCl7ZS5zdWNjZXNzZnVsVHJhbnNpdGlvbnMuZW5xdWV1ZSh0KSxlLiRjdXJyZW50PXQuJHRvKCksZS5jdXJyZW50PWUuJGN1cnJlbnQuc2VsZixoZSh0LnBhcmFtcygpLGUucGFyYW1zKX0sbj1mdW5jdGlvbigpe2UudHJhbnNpdGlvbj09PXQmJihlLnRyYW5zaXRpb249bnVsbCl9O3Qub25TdWNjZXNzKHt9LHIse3ByaW9yaXR5OjFlNH0pLHQucHJvbWlzZS50aGVuKG4sbil9LGRuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uQ3JlYXRlKHt9LGhuKX0sdm49ZnVuY3Rpb24odCl7dmFyIGU9dC5vcHRpb25zKCkscj10LnJvdXRlci5zdGF0ZVNlcnZpY2Usbj10LnJvdXRlci51cmxSb3V0ZXI7aWYoXCJ1cmxcIiE9PWUuc291cmNlJiZlLmxvY2F0aW9uJiZyLiRjdXJyZW50Lm5hdmlnYWJsZSl7dmFyIGk9e3JlcGxhY2U6XCJyZXBsYWNlXCI9PT1lLmxvY2F0aW9ufTtuLnB1c2goci4kY3VycmVudC5uYXZpZ2FibGUudXJsLHIucGFyYW1zLGkpfW4udXBkYXRlKCEwKX0sbW49ZnVuY3Rpb24odCl7cmV0dXJuIHQub25TdWNjZXNzKHt9LHZuLHtwcmlvcml0eTo5OTk5fSl9LHluPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtpZihcInVybFwiIT09dC5vcmlnaW5hbFRyYW5zaXRpb24oKS5vcHRpb25zKCkuc291cmNlKXt2YXIgZT10LnRhcmdldFN0YXRlKCk7cmV0dXJuIHIuc3RhdGVTZXJ2aWNlLnRhcmdldChlLmlkZW50aWZpZXIoKSxlLnBhcmFtcygpLGUub3B0aW9ucygpKX12YXIgbj1yLnVybFNlcnZpY2UsaT1uLm1hdGNoKG4ucGFydHMoKSksbz1pJiZpLnJ1bGU7aWYobyYmXCJTVEFURVwiPT09by50eXBlKXt2YXIgYT1vLnN0YXRlLHU9aS5tYXRjaDtyZXR1cm4gci5zdGF0ZVNlcnZpY2UudGFyZ2V0KGEsdSx0Lm9wdGlvbnMoKSl9ci51cmxTZXJ2aWNlLnN5bmMoKX12YXIgcj10LnJvdXRlcixuPXQuZW50ZXJpbmcoKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuISF0LiQkc3RhdGUoKS5sYXp5TG9hZH0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gY3QodCxlKX0pO3JldHVybiBzZS4kcS5hbGwobikudGhlbihlKX0sZ249ZnVuY3Rpb24odCl7cmV0dXJuIHQub25CZWZvcmUoe2VudGVyaW5nOmZ1bmN0aW9uKHQpe3JldHVybiEhdC5sYXp5TG9hZH19LHluKX0sd249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyLG4saSxvLGEsdSl7dm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PW8mJihvPUtlLkhBTkRMRV9SRVNVTFQpLHZvaWQgMD09PWEmJihhPUtlLlJFSkVDVF9FUlJPUiksdm9pZCAwPT09dSYmKHU9ITEpLHRoaXMubmFtZT10LHRoaXMuaG9va1BoYXNlPWUsdGhpcy5ob29rT3JkZXI9cix0aGlzLmNyaXRlcmlhTWF0Y2hQYXRoPW4sdGhpcy5yZXZlcnNlU29ydD1pLHRoaXMuZ2V0UmVzdWx0SGFuZGxlcj1vLHRoaXMuZ2V0RXJyb3JIYW5kbGVyPWEsdGhpcy5zeW5jaHJvbm91cz11fXJldHVybiB0fSgpLF9uPWZ1bmN0aW9uKHQpe3JldHVybiB0Lm9uQmVmb3JlKHt9LGZ0LHtwcmlvcml0eTotOTk5OX0pfSwkbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5vbkJlZm9yZSh7fSxsdCx7cHJpb3JpdHk6LTFlNH0pfSxTbj17bG9jYXRpb246ITAscmVsYXRpdmU6bnVsbCxpbmhlcml0OiExLG5vdGlmeTohMCxyZWxvYWQ6ITEsY3VzdG9tOnt9LGN1cnJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0sc291cmNlOlwidW5rbm93blwifSxibj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCl7dGhpcy5fdHJhbnNpdGlvbkNvdW50PTAsdGhpcy5fZXZlbnRUeXBlcz1bXSx0aGlzLl9yZWdpc3RlcmVkSG9va3M9e30sdGhpcy5fY3JpdGVyaWFQYXRocz17fSx0aGlzLl9yb3V0ZXI9dCx0aGlzLiR2aWV3PXQudmlld1NlcnZpY2UsdGhpcy5fZGVyZWdpc3Rlckhvb2tGbnM9e30sdGhpcy5fcGx1Z2luYXBpPXAoTXQodGhpcykse30sTXQodGhpcyksW1wiX2RlZmluZVBhdGhUeXBlXCIsXCJfZGVmaW5lRXZlbnRcIixcIl9nZXRQYXRoVHlwZXNcIixcIl9nZXRFdmVudHNcIixcImdldEhvb2tzXCJdKSx0aGlzLl9kZWZpbmVDb3JlUGF0aHMoKSx0aGlzLl9kZWZpbmVDb3JlRXZlbnRzKCksdGhpcy5fcmVnaXN0ZXJDb3JlVHJhbnNpdGlvbkhvb2tzKCl9cmV0dXJuIGUucHJvdG90eXBlLm9uQ3JlYXRlPWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uQmVmb3JlPWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uU3RhcnQ9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUub25FeGl0PWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uUmV0YWluPWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uRW50ZXI9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUub25GaW5pc2g9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUub25TdWNjZXNzPWZ1bmN0aW9uKHQsZSxyKXt9LGUucHJvdG90eXBlLm9uRXJyb3I9ZnVuY3Rpb24odCxlLHIpe30sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbih0KXtSZSh0aGlzLl9yZWdpc3RlcmVkSG9va3MpLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbihlKXtlLl9kZXJlZ2lzdGVyZWQ9ITAsd2UodCxlKX0pfSl9LGUucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBuZXcgdnIodCxlLHRoaXMuX3JvdXRlcil9LGUucHJvdG90eXBlLl9kZWZpbmVDb3JlRXZlbnRzPWZ1bmN0aW9uKCl7dmFyIGU9dC5UcmFuc2l0aW9uSG9va1BoYXNlLHI9S2Usbj10aGlzLl9jcml0ZXJpYVBhdGhzO3RoaXMuX2RlZmluZUV2ZW50KFwib25DcmVhdGVcIixlLkNSRUFURSwwLG4udG8sITEsci5MT0dfUkVKRUNURURfUkVTVUxULHIuVEhST1dfRVJST1IsITApLHRoaXMuX2RlZmluZUV2ZW50KFwib25CZWZvcmVcIixlLkJFRk9SRSwwLG4udG8pLHRoaXMuX2RlZmluZUV2ZW50KFwib25TdGFydFwiLGUuUlVOLDAsbi50byksdGhpcy5fZGVmaW5lRXZlbnQoXCJvbkV4aXRcIixlLlJVTiwxMDAsbi5leGl0aW5nLCEwKSx0aGlzLl9kZWZpbmVFdmVudChcIm9uUmV0YWluXCIsZS5SVU4sMjAwLG4ucmV0YWluZWQpLHRoaXMuX2RlZmluZUV2ZW50KFwib25FbnRlclwiLGUuUlVOLDMwMCxuLmVudGVyaW5nKSx0aGlzLl9kZWZpbmVFdmVudChcIm9uRmluaXNoXCIsZS5SVU4sNDAwLG4udG8pLHRoaXMuX2RlZmluZUV2ZW50KFwib25TdWNjZXNzXCIsZS5TVUNDRVNTLDAsbi50bywhMSxyLkxPR19SRUpFQ1RFRF9SRVNVTFQsci5MT0dfRVJST1IsITApLHRoaXMuX2RlZmluZUV2ZW50KFwib25FcnJvclwiLGUuRVJST1IsMCxuLnRvLCExLHIuTE9HX1JFSkVDVEVEX1JFU1VMVCxyLkxPR19FUlJPUiwhMCl9LGUucHJvdG90eXBlLl9kZWZpbmVDb3JlUGF0aHM9ZnVuY3Rpb24oKXt2YXIgZT10LlRyYW5zaXRpb25Ib29rU2NvcGUuU1RBVEUscj10LlRyYW5zaXRpb25Ib29rU2NvcGUuVFJBTlNJVElPTjt0aGlzLl9kZWZpbmVQYXRoVHlwZShcInRvXCIsciksdGhpcy5fZGVmaW5lUGF0aFR5cGUoXCJmcm9tXCIsciksdGhpcy5fZGVmaW5lUGF0aFR5cGUoXCJleGl0aW5nXCIsZSksdGhpcy5fZGVmaW5lUGF0aFR5cGUoXCJyZXRhaW5lZFwiLGUpLHRoaXMuX2RlZmluZVBhdGhUeXBlKFwiZW50ZXJpbmdcIixlKX0sZS5wcm90b3R5cGUuX2RlZmluZUV2ZW50PWZ1bmN0aW9uKHQsZSxyLG4saSxvLGEsdSl7dm9pZCAwPT09aSYmKGk9ITEpLHZvaWQgMD09PW8mJihvPUtlLkhBTkRMRV9SRVNVTFQpLHZvaWQgMD09PWEmJihhPUtlLlJFSkVDVF9FUlJPUiksdm9pZCAwPT09dSYmKHU9ITEpO3ZhciBzPW5ldyB3bih0LGUscixuLGksbyxhLHUpO3RoaXMuX2V2ZW50VHlwZXMucHVzaChzKSxxKHRoaXMsdGhpcyxzKX0sZS5wcm90b3R5cGUuX2dldEV2ZW50cz1mdW5jdGlvbih0KXtyZXR1cm4oUXQodCk/dGhpcy5fZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuaG9va1BoYXNlPT09dH0pOnRoaXMuX2V2ZW50VHlwZXMuc2xpY2UoKSkuc29ydChmdW5jdGlvbih0LGUpe3ZhciByPXQuaG9va1BoYXNlLWUuaG9va1BoYXNlO3JldHVybiAwPT09cj90Lmhvb2tPcmRlci1lLmhvb2tPcmRlcjpyfSl9LGUucHJvdG90eXBlLl9kZWZpbmVQYXRoVHlwZT1mdW5jdGlvbih0LGUpe3RoaXMuX2NyaXRlcmlhUGF0aHNbdF09e25hbWU6dCxzY29wZTplfX0sZS5wcm90b3R5cGUuX2dldFBhdGhUeXBlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jcml0ZXJpYVBhdGhzfSxlLnByb3RvdHlwZS5nZXRIb29rcz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fcmVnaXN0ZXJlZEhvb2tzW3RdfSxlLnByb3RvdHlwZS5fcmVnaXN0ZXJDb3JlVHJhbnNpdGlvbkhvb2tzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZGVyZWdpc3Rlckhvb2tGbnM7dC5hZGRDb3JlUmVzb2x2ZXM9UXIodGhpcyksdC5pZ25vcmVkPV9uKHRoaXMpLHQuaW52YWxpZD0kbih0aGlzKSx0LnJlZGlyZWN0VG89WXIodGhpcyksdC5vbkV4aXQ9WHIodGhpcyksdC5vblJldGFpbj1lbih0aGlzKSx0Lm9uRW50ZXI9bm4odGhpcyksdC5lYWdlclJlc29sdmU9YW4odGhpcyksdC5sYXp5UmVzb2x2ZT1zbih0aGlzKSx0LmxvYWRWaWV3cz1mbih0aGlzKSx0LmFjdGl2YXRlVmlld3M9cG4odGhpcyksdC51cGRhdGVHbG9iYWxzPWRuKHRoaXMpLHQudXBkYXRlVXJsPW1uKHRoaXMpLHQubGF6eUxvYWQ9Z24odGhpcyl9LGV9KCksUm49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe3RoaXMucm91dGVyPXQsdGhpcy5pbnZhbGlkQ2FsbGJhY2tzPVtdLHRoaXMuX2RlZmF1bHRFcnJvckhhbmRsZXI9ZnVuY3Rpb24odCl7dCBpbnN0YW5jZW9mIEVycm9yJiZ0LnN0YWNrPyhjb25zb2xlLmVycm9yKHQpLGNvbnNvbGUuZXJyb3IodC5zdGFjaykpOnQgaW5zdGFuY2VvZiBVZT8oY29uc29sZS5lcnJvcih0LnRvU3RyaW5nKCkpLHQuZGV0YWlsJiZ0LmRldGFpbC5zdGFjayYmY29uc29sZS5lcnJvcih0LmRldGFpbC5zdGFjaykpOmNvbnNvbGUuZXJyb3IodCl9O3ZhciByPVtcImN1cnJlbnRcIixcIiRjdXJyZW50XCIsXCJwYXJhbXNcIixcInRyYW5zaXRpb25cIl0sbj1PYmplY3Qua2V5cyhlLnByb3RvdHlwZSkuZmlsdGVyKER0KGdlKHIpKSk7cChNdChlLnByb3RvdHlwZSksdGhpcyxNdCh0aGlzKSxuKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwidHJhbnNpdGlvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb3V0ZXIuZ2xvYmFscy50cmFuc2l0aW9ufSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcInBhcmFtc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb3V0ZXIuZ2xvYmFscy5wYXJhbXN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUucHJvdG90eXBlLFwiY3VycmVudFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yb3V0ZXIuZ2xvYmFscy5jdXJyZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLnByb3RvdHlwZSxcIiRjdXJyZW50XCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJvdXRlci5nbG9iYWxzLiRjdXJyZW50fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLGUucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRFcnJvckhhbmRsZXIobCksdGhpcy5pbnZhbGlkQ2FsbGJhY2tzPVtdfSxlLnByb3RvdHlwZS5faGFuZGxlSW52YWxpZFRhcmdldFN0YXRlPWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gcigpe3ZhciB0PXMuZGVxdWV1ZSgpO3JldHVybiB2b2lkIDA9PT10P1VlLmludmFsaWQoZS5lcnJvcigpKS50b1Byb21pc2UoKTpzZS4kcS53aGVuKHQoZSxpLGMpKS50aGVuKGYpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHR8fHIoKX0pfXZhciBuPXRoaXMsaT1pci5tYWtlVGFyZ2V0U3RhdGUodCksbz10aGlzLnJvdXRlci5nbG9iYWxzLGE9ZnVuY3Rpb24oKXtyZXR1cm4gby50cmFuc2l0aW9uSGlzdG9yeS5wZWVrVGFpbCgpfSx1PWEoKSxzPW5ldyBOZSh0aGlzLmludmFsaWRDYWxsYmFja3Muc2xpY2UoKSksYz1uZXcgcHIodCkuaW5qZWN0b3IoKSxmPWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBKZSl7dmFyIGU9dDtyZXR1cm4gZT1uLnRhcmdldChlLmlkZW50aWZpZXIoKSxlLnBhcmFtcygpLGUub3B0aW9ucygpKSxlLnZhbGlkKCk/YSgpIT09dT9VZS5zdXBlcnNlZGVkKCkudG9Qcm9taXNlKCk6bi50cmFuc2l0aW9uVG8oZS5pZGVudGlmaWVyKCksZS5wYXJhbXMoKSxlLm9wdGlvbnMoKSk6VWUuaW52YWxpZChlLmVycm9yKCkpLnRvUHJvbWlzZSgpfX07cmV0dXJuIHIoKX0sZS5wcm90b3R5cGUub25JbnZhbGlkPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmludmFsaWRDYWxsYmFja3MucHVzaCh0KSxmdW5jdGlvbigpe3dlKHRoaXMuaW52YWxpZENhbGxiYWNrcykodCl9LmJpbmQodGhpcyl9LGUucHJvdG90eXBlLnJlbG9hZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy50cmFuc2l0aW9uVG8odGhpcy5jdXJyZW50LHRoaXMucGFyYW1zLHtyZWxvYWQ6IVF0KHQpfHx0LGluaGVyaXQ6ITEsbm90aWZ5OiExfSl9LGUucHJvdG90eXBlLmdvPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj17cmVsYXRpdmU6dGhpcy4kY3VycmVudCxpbmhlcml0OiEwfSxpPW0ocixuLFNuKTtyZXR1cm4gdGhpcy50cmFuc2l0aW9uVG8odCxlLGkpfSxlLnByb3RvdHlwZS50YXJnZXQ9ZnVuY3Rpb24odCxlLHIpe2lmKHZvaWQgMD09PXImJihyPXt9KSxlZShyLnJlbG9hZCkmJiFyLnJlbG9hZC5uYW1lKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcmVsb2FkIHN0YXRlIG9iamVjdFwiKTt2YXIgbj10aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5O2lmKHIucmVsb2FkU3RhdGU9ITA9PT1yLnJlbG9hZD9uLnJvb3QoKTpuLm1hdGNoZXIuZmluZChyLnJlbG9hZCxyLnJlbGF0aXZlKSxyLnJlbG9hZCYmIXIucmVsb2FkU3RhdGUpdGhyb3cgbmV3IEVycm9yKFwiTm8gc3VjaCByZWxvYWQgc3RhdGUgJ1wiKyh0ZShyLnJlbG9hZCk/ci5yZWxvYWQ6ci5yZWxvYWQubmFtZSkrXCInXCIpO3ZhciBpPW4ubWF0Y2hlci5maW5kKHQsci5yZWxhdGl2ZSk7cmV0dXJuIG5ldyBKZSh0LGksZSxyKX0sZS5wcm90b3R5cGUuZ2V0Q3VycmVudFBhdGg9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9dGhpcy5yb3V0ZXIuZ2xvYmFscyxyPWUuc3VjY2Vzc2Z1bFRyYW5zaXRpb25zLnBlZWtUYWlsKCk7cmV0dXJuIHI/ci50cmVlQ2hhbmdlcygpLnRvOmZ1bmN0aW9uKCl7cmV0dXJuW25ldyBucih0LnJvdXRlci5zdGF0ZVJlZ2lzdHJ5LnJvb3QoKSldfSgpfSxlLnByb3RvdHlwZS50cmFuc2l0aW9uVG89ZnVuY3Rpb24oZSxyLG4pe3ZhciBpPXRoaXM7dm9pZCAwPT09ciYmKHI9e30pLHZvaWQgMD09PW4mJihuPXt9KTt2YXIgbz10aGlzLnJvdXRlcixhPW8uZ2xvYmFscztuPW0obixTbiksbj12ZShuLHtjdXJyZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGEudHJhbnNpdGlvbn19KTt2YXIgdT10aGlzLnRhcmdldChlLHIsbikscz10aGlzLmdldEN1cnJlbnRQYXRoKCk7aWYoIXUuZXhpc3RzKCkpcmV0dXJuIHRoaXMuX2hhbmRsZUludmFsaWRUYXJnZXRTdGF0ZShzLHUpO2lmKCF1LnZhbGlkKCkpcmV0dXJuIERlKHUuZXJyb3IoKSk7dmFyIGM9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHIpe2lmKHIgaW5zdGFuY2VvZiBVZSl7dmFyIG49by5nbG9iYWxzLmxhc3RTdGFydGVkVHJhbnNpdGlvbklkPT09ZS4kaWQ7aWYoci50eXBlPT09dC5SZWplY3RUeXBlLklHTk9SRUQpcmV0dXJuIG4mJm8udXJsUm91dGVyLnVwZGF0ZSgpLHNlLiRxLndoZW4oYS5jdXJyZW50KTt2YXIgdT1yLmRldGFpbDtpZihyLnR5cGU9PT10LlJlamVjdFR5cGUuU1VQRVJTRURFRCYmci5yZWRpcmVjdGVkJiZ1IGluc3RhbmNlb2YgSmUpe3ZhciBzPWUucmVkaXJlY3QodSk7cmV0dXJuIHMucnVuKCkuY2F0Y2goYyhzKSl9aWYoci50eXBlPT09dC5SZWplY3RUeXBlLkFCT1JURUQpcmV0dXJuIG4mJm8udXJsUm91dGVyLnVwZGF0ZSgpLHNlLiRxLnJlamVjdChyKX1yZXR1cm4gaS5kZWZhdWx0RXJyb3JIYW5kbGVyKCkociksc2UuJHEucmVqZWN0KHIpfX0sZj10aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZS5jcmVhdGUocyx1KSxsPWYucnVuKCkuY2F0Y2goYyhmKSk7cmV0dXJuIHFlKGwpLHZlKGwse3RyYW5zaXRpb246Zn0pfSxlLnByb3RvdHlwZS5pcz1mdW5jdGlvbih0LGUscil7cj1tKHIse3JlbGF0aXZlOnRoaXMuJGN1cnJlbnR9KTt2YXIgbj10aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5Lm1hdGNoZXIuZmluZCh0LHIucmVsYXRpdmUpO2lmKFF0KG4pKXtpZih0aGlzLiRjdXJyZW50IT09bilyZXR1cm4hMTtpZighZSlyZXR1cm4hMDt2YXIgaT1uLnBhcmFtZXRlcnMoe2luaGVyaXQ6ITAsbWF0Y2hpbmdLZXlzOmV9KTtyZXR1cm4gcnIuZXF1YWxzKGkscnIudmFsdWVzKGksZSksdGhpcy5wYXJhbXMpfX0sZS5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odCxlLHIpe3I9bShyLHtyZWxhdGl2ZTp0aGlzLiRjdXJyZW50fSk7dmFyIG49dGUodCkmJkJ0LmZyb21TdHJpbmcodCk7aWYobil7aWYoIW4ubWF0Y2hlcyh0aGlzLiRjdXJyZW50Lm5hbWUpKXJldHVybiExO3Q9dGhpcy4kY3VycmVudC5uYW1lfXZhciBpPXRoaXMucm91dGVyLnN0YXRlUmVnaXN0cnkubWF0Y2hlci5maW5kKHQsci5yZWxhdGl2ZSksbz10aGlzLiRjdXJyZW50LmluY2x1ZGVzO2lmKFF0KGkpKXtpZighUXQob1tpLm5hbWVdKSlyZXR1cm4hMTtpZighZSlyZXR1cm4hMDt2YXIgYT1pLnBhcmFtZXRlcnMoe2luaGVyaXQ6ITAsbWF0Y2hpbmdLZXlzOmV9KTtyZXR1cm4gcnIuZXF1YWxzKGEscnIudmFsdWVzKGEsZSksdGhpcy5wYXJhbXMpfX0sZS5wcm90b3R5cGUuaHJlZj1mdW5jdGlvbih0LGUscil7cj1tKHIse2xvc3N5OiEwLGluaGVyaXQ6ITAsYWJzb2x1dGU6ITEscmVsYXRpdmU6dGhpcy4kY3VycmVudH0pLGU9ZXx8e307dmFyIG49dGhpcy5yb3V0ZXIuc3RhdGVSZWdpc3RyeS5tYXRjaGVyLmZpbmQodCxyLnJlbGF0aXZlKTtpZighUXQobikpcmV0dXJuIG51bGw7ci5pbmhlcml0JiYoZT10aGlzLnBhcmFtcy4kaW5oZXJpdChlLHRoaXMuJGN1cnJlbnQsbikpO3ZhciBpPW4mJnIubG9zc3k/bi5uYXZpZ2FibGU6bjtyZXR1cm4gaSYmdm9pZCAwIT09aS51cmwmJm51bGwhPT1pLnVybD90aGlzLnJvdXRlci51cmxSb3V0ZXIuaHJlZihpLnVybCxlLHthYnNvbHV0ZTpyLmFic29sdXRlfSk6bnVsbH0sZS5wcm90b3R5cGUuZGVmYXVsdEVycm9ySGFuZGxlcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fZGVmYXVsdEVycm9ySGFuZGxlcj10fHx0aGlzLl9kZWZhdWx0RXJyb3JIYW5kbGVyfSxlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24odCxlKXt2YXIgcj10aGlzLnJvdXRlci5zdGF0ZVJlZ2lzdHJ5O3JldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD9yLmdldCgpOnIuZ2V0KHQsZXx8dGhpcy4kY3VycmVudCl9LGUucHJvdG90eXBlLmxhenlMb2FkPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5nZXQodCk7aWYoIXJ8fCFyLmxhenlMb2FkKXRocm93IG5ldyBFcnJvcihcIkNhbiBub3QgbGF6eSBsb2FkIFwiK3QpO3ZhciBuPXRoaXMuZ2V0Q3VycmVudFBhdGgoKSxpPWlyLm1ha2VUYXJnZXRTdGF0ZShuKTtyZXR1cm4gZT1lfHx0aGlzLnJvdXRlci50cmFuc2l0aW9uU2VydmljZS5jcmVhdGUobixpKSxjdChlLHIpfSxlfSgpLEVuPXt3aGVuOmZ1bmN0aW9uKHQpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLHIpe3JldHVybiBlKHQpfSl9LHJlamVjdDpmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxyKXtyKHQpfSl9LGRlZmVyOmZ1bmN0aW9uKCl7dmFyIHQ9e307cmV0dXJuIHQucHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbihlLHIpe3QucmVzb2x2ZT1lLHQucmVqZWN0PXJ9KSx0fSxhbGw6ZnVuY3Rpb24odCl7aWYocmUodCkpcmV0dXJuIFByb21pc2UuYWxsKHQpO2lmKGVlKHQpKXt2YXIgZT1PYmplY3Qua2V5cyh0KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV0udGhlbihmdW5jdGlvbih0KXtyZXR1cm57a2V5OmUsdmFsOnR9fSl9KTtyZXR1cm4gRW4uYWxsKGUpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRbZS5rZXldPWUudmFsLHR9LHt9KX0pfX19LENuPXt9LFRuPS8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9nbSxQbj0vKFteXFxzLF0rKS9nLGtuPXtnZXQ6ZnVuY3Rpb24odCl7cmV0dXJuIENuW3RdfSxoYXM6ZnVuY3Rpb24odCl7cmV0dXJuIG51bGwhPWtuLmdldCh0KX0saW52b2tlOmZ1bmN0aW9uKHQsZSxyKXt2YXIgbj12ZSh7fSxDbixyfHx7fSksaT1rbi5hbm5vdGF0ZSh0KSxvPWplKGZ1bmN0aW9uKHQpe3JldHVybiBuLmhhc093blByb3BlcnR5KHQpfSxmdW5jdGlvbih0KXtyZXR1cm5cIkRJIGNhbid0IGZpbmQgaW5qZWN0YWJsZTogJ1wiK3QrXCInXCJ9KSxhPWkuZmlsdGVyKG8pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gblt0XX0pO3JldHVybiBadCh0KT90LmFwcGx5KGUsYSk6dC5zbGljZSgtMSlbMF0uYXBwbHkoZSxhKX0sYW5ub3RhdGU6ZnVuY3Rpb24odCl7aWYoIWModCkpdGhyb3cgbmV3IEVycm9yKFwiTm90IGFuIGluamVjdGFibGUgZnVuY3Rpb246IFwiK3QpO2lmKHQmJnQuJGluamVjdClyZXR1cm4gdC4kaW5qZWN0O2lmKHJlKHQpKXJldHVybiB0LnNsaWNlKDAsLTEpO3ZhciBlPXQudG9TdHJpbmcoKS5yZXBsYWNlKFRuLFwiXCIpO3JldHVybiBlLnNsaWNlKGUuaW5kZXhPZihcIihcIikrMSxlLmluZGV4T2YoXCIpXCIpKS5tYXRjaChQbil8fFtdfX0sT249ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybltcIlwiLFwiXCJdO3ZhciByPWUuaW5kZXhPZih0KTtyZXR1cm4tMT09PXI/W2UsXCJcIl06W2Uuc3Vic3RyKDAsciksZS5zdWJzdHIocisxKV19fSx4bj1PbihcIiNcIiksam49T24oXCI/XCIpLEluPU9uKFwiPVwiKSxWbj1mdW5jdGlvbih0KXtyZXR1cm4gdD90LnJlcGxhY2UoL14jLyxcIlwiKTpcIlwifSxBbj1mdW5jdGlvbih0LGUpe3ZhciByPWVbMF0sbj1lWzFdO3JldHVybiB0Lmhhc093blByb3BlcnR5KHIpP3JlKHRbcl0pP3Rbcl0ucHVzaChuKTp0W3JdPVt0W3JdLG5dOnRbcl09bix0fSxIbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5zcGxpdChcIiZcIikuZmlsdGVyKGYpLm1hcChJbikucmVkdWNlKEFuLHt9KX0scW49ZnVuY3Rpb24odCl7dmFyIGU9dC5wYXRoKCkscj10LnNlYXJjaCgpLG49dC5oYXNoKCksaT1PYmplY3Qua2V5cyhyKS5tYXAoZnVuY3Rpb24odCl7dmFyIGU9clt0XTtyZXR1cm4ocmUoZSk/ZTpbZV0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdCtcIj1cIitlfSl9KS5yZWR1Y2UoVGUsW10pLmpvaW4oXCImXCIpO3JldHVybiBlKyhpP1wiP1wiK2k6XCJcIikrKG4/XCIjXCIrbjpcIlwiKX0sRG49ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7dmFyIHI9dGhpczt0aGlzLmZpcmVBZnRlclVwZGF0ZT1lLHRoaXMuX2xpc3RlbmVyPWZ1bmN0aW9uKHQpe3JldHVybiByLl9saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSh0KX0pfSx0aGlzLl9saXN0ZW5lcnM9W10sdGhpcy5oYXNoPWZ1bmN0aW9uKCl7cmV0dXJuIHB0KHIuX2dldCgpKS5oYXNofSx0aGlzLnBhdGg9ZnVuY3Rpb24oKXtyZXR1cm4gcHQoci5fZ2V0KCkpLnBhdGh9LHRoaXMuc2VhcmNoPWZ1bmN0aW9uKCl7cmV0dXJuIEhuKHB0KHIuX2dldCgpKS5zZWFyY2gpfSx0aGlzLl9sb2NhdGlvbj13aW5kb3cmJndpbmRvdy5sb2NhdGlvbix0aGlzLl9oaXN0b3J5PXdpbmRvdyYmd2luZG93Lmhpc3Rvcnl9cmV0dXJuIHQucHJvdG90eXBlLnVybD1mdW5jdGlvbih0LGUpe2lmKHZvaWQgMD09PWUmJihlPSEwKSxRdCh0KSYmdCE9PXRoaXMuX2dldCgpJiYodGhpcy5fc2V0KG51bGwsbnVsbCx0LGUpLHRoaXMuZmlyZUFmdGVyVXBkYXRlKSl7dmFyIHI9dmUobmV3IEV2ZW50KFwibG9jYXRpb25jaGFuZ2VcIikse3VybDp0fSk7dGhpcy5fbGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIHQocil9KX1yZXR1cm4gcW4odGhpcyl9LHQucHJvdG90eXBlLm9uQ2hhbmdlPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXM7cmV0dXJuIHRoaXMuX2xpc3RlbmVycy5wdXNoKHQpLGZ1bmN0aW9uKCl7cmV0dXJuIHdlKGUuX2xpc3RlbmVycyx0KX19LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7JGUodGhpcy5fbGlzdGVuZXJzKX0sdH0oKSxObj1mdW5jdGlvbigpe3ZhciB0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pfTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxyKSxlLnByb3RvdHlwZT1udWxsPT09cj9PYmplY3QuY3JlYXRlKHIpOihuLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbil9fSgpLEZuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIHI9dC5jYWxsKHRoaXMsZSwhMSl8fHRoaXM7cmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHIuX2xpc3RlbmVyLCExKSxyfXJldHVybiBObihlLHQpLGUucHJvdG90eXBlLl9nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gVm4odGhpcy5fbG9jYXRpb24uaGFzaCl9LGUucHJvdG90eXBlLl9zZXQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5fbG9jYXRpb24uaGFzaD1yfSxlLnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKGUpe3QucHJvdG90eXBlLmRpc3Bvc2UuY2FsbCh0aGlzLGUpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwiaGFzaGNoYW5nZVwiLHRoaXMuX2xpc3RlbmVyKX0sZX0oRG4pLFVuPWZ1bmN0aW9uKCl7dmFyIHQ9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsZSl7dC5fX3Byb3RvX189ZX18fGZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09ZVtyXSl9O3JldHVybiBmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIG4oKXt0aGlzLmNvbnN0cnVjdG9yPWV9dChlLHIpLGUucHJvdG90eXBlPW51bGw9PT1yP09iamVjdC5jcmVhdGUocik6KG4ucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyBuKX19KCksTG49ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShlKXtyZXR1cm4gdC5jYWxsKHRoaXMsZSwhMCl8fHRoaXN9cmV0dXJuIFVuKGUsdCksZS5wcm90b3R5cGUuX2dldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl91cmx9LGUucHJvdG90eXBlLl9zZXQ9ZnVuY3Rpb24odCxlLHIsbil7dGhpcy5fdXJsPXJ9LGV9KERuKSxNbj1mdW5jdGlvbigpe3ZhciB0PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8e19fcHJvdG9fXzpbXX1pbnN0YW5jZW9mIEFycmF5JiZmdW5jdGlvbih0LGUpe3QuX19wcm90b19fPWV9fHxmdW5jdGlvbih0LGUpe2Zvcih2YXIgciBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJih0W3JdPWVbcl0pfTtyZXR1cm4gZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiBuKCl7dGhpcy5jb25zdHJ1Y3Rvcj1lfXQoZSxyKSxlLnByb3RvdHlwZT1udWxsPT09cj9PYmplY3QuY3JlYXRlKHIpOihuLnByb3RvdHlwZT1yLnByb3RvdHlwZSxuZXcgbil9fSgpLEJuPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoZSl7dmFyIHI9dC5jYWxsKHRoaXMsZSwhMCl8fHRoaXM7cmV0dXJuIHIuX2NvbmZpZz1lLnVybFNlcnZpY2UuY29uZmlnLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIixyLl9saXN0ZW5lciwhMSkscn1yZXR1cm4gTW4oZSx0KSxlLnByb3RvdHlwZS5fZ2V0PWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fbG9jYXRpb24sZT10LnBhdGhuYW1lLHI9dC5oYXNoLG49dC5zZWFyY2g7cmV0dXJuIG49am4obilbMV0scj14bihyKVsxXSxlKyhuP1wiP1wiK246XCJcIikrKHI/XCIkXCIrbjpcIlwiKX0sZS5wcm90b3R5cGUuX3NldD1mdW5jdGlvbih0LGUscixuKXt2YXIgaT10aGlzLG89aS5fY29uZmlnLGE9aS5faGlzdG9yeSx1PW8uYmFzZUhyZWYoKStyO24/YS5yZXBsYWNlU3RhdGUodCxlLHUpOmEucHVzaFN0YXRlKHQsZSx1KX0sZS5wcm90b3R5cGUuZGlzcG9zZT1mdW5jdGlvbihlKXt0LnByb3RvdHlwZS5kaXNwb3NlLmNhbGwodGhpcyxlKSx3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBvcHN0YXRlXCIsdGhpcy5fbGlzdGVuZXIpfSxlfShEbiksR249ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIHQ9dGhpczt0aGlzLl9iYXNlSHJlZj1cIlwiLHRoaXMuX3BvcnQ9ODAsdGhpcy5fcHJvdG9jb2w9XCJodHRwXCIsdGhpcy5faG9zdD1cImxvY2FsaG9zdFwiLHRoaXMuX2hhc2hQcmVmaXg9XCJcIix0aGlzLnBvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdC5fcG9ydH0sdGhpcy5wcm90b2NvbD1mdW5jdGlvbigpe3JldHVybiB0Ll9wcm90b2NvbH0sdGhpcy5ob3N0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuX2hvc3R9LHRoaXMuYmFzZUhyZWY9ZnVuY3Rpb24oKXtyZXR1cm4gdC5fYmFzZUhyZWZ9LHRoaXMuaHRtbDVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuITF9LHRoaXMuaGFzaFByZWZpeD1mdW5jdGlvbihlKXtyZXR1cm4gUXQoZSk/dC5faGFzaFByZWZpeD1lOnQuX2hhc2hQcmVmaXh9LHRoaXMuZGlzcG9zZT1sfXJldHVybiB0fSgpLFduPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LGUpe3ZvaWQgMD09PWUmJihlPSExKSx0aGlzLl9pc0h0bWw1PWUsdGhpcy5fYmFzZUhyZWY9dm9pZCAwLHRoaXMuX2hhc2hQcmVmaXg9XCJcIn1yZXR1cm4gdC5wcm90b3R5cGUucG9ydD1mdW5jdGlvbigpe3JldHVybiBsb2NhdGlvbi5wb3J0P051bWJlcihsb2NhdGlvbi5wb3J0KTpcImh0dHBzXCI9PT10aGlzLnByb3RvY29sKCk/NDQzOjgwfSx0LnByb3RvdHlwZS5wcm90b2NvbD1mdW5jdGlvbigpe3JldHVybiBsb2NhdGlvbi5wcm90b2NvbC5yZXBsYWNlKC86L2csXCJcIil9LHQucHJvdG90eXBlLmhvc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbG9jYXRpb24uaG9zdH0sdC5wcm90b3R5cGUuaHRtbDVNb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzSHRtbDV9LHQucHJvdG90eXBlLmhhc2hQcmVmaXg9ZnVuY3Rpb24odCl7cmV0dXJuIFF0KHQpP3RoaXMuX2hhc2hQcmVmaXg9dDp0aGlzLl9oYXNoUHJlZml4fSx0LnByb3RvdHlwZS5iYXNlSHJlZj1mdW5jdGlvbih0KXtyZXR1cm4gUXQodCk/dGhpcy5fYmFzZUhyZWY9dDp0aGlzLl9iYXNlSHJlZnx8dGhpcy5hcHBseURvY3VtZW50QmFzZUhyZWYoKX0sdC5wcm90b3R5cGUuYXBwbHlEb2N1bWVudEJhc2VIcmVmPWZ1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJiYXNlXCIpO3JldHVybiB0aGlzLl9iYXNlSHJlZj10Lmxlbmd0aD90WzBdLmhyZWYuc3Vic3RyKGxvY2F0aW9uLm9yaWdpbi5sZW5ndGgpOlwiXCJ9LHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24oKXt9LHR9KCksem49aHQoXCJ2YW5pbGxhLmhhc2hCYW5nTG9jYXRpb25cIiwhMSxGbixXbiksSm49aHQoXCJ2YW5pbGxhLnB1c2hTdGF0ZUxvY2F0aW9uXCIsITAsQm4sV24pLFFuPWh0KFwidmFuaWxsYS5tZW1vcnlMb2NhdGlvblwiLCExLExuLEduKSxLbj1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoKXt9cmV0dXJuIHQucHJvdG90eXBlLmRpc3Bvc2U9ZnVuY3Rpb24odCl7fSx0fSgpLFluPU9iamVjdC5mcmVlemUoe2Zyb21Kc29uOmxlLHRvSnNvbjpwZSxjb3B5OmhlLGZvckVhY2g6ZGUsZXh0ZW5kOnZlLGVxdWFsczptZSxpZGVudGl0eTpmLG5vb3A6bCxjcmVhdGVQcm94eUZ1bmN0aW9uczpwLGluaGVyaXQ6eWUsaW5BcnJheTpnZSxfaW5BcnJheTpoLHJlbW92ZUZyb206d2UsX3JlbW92ZUZyb206ZCxwdXNoVG86X2UsX3B1c2hUbzp2LGRlcmVnQWxsOiRlLGRlZmF1bHRzOm0sbWVyZ2VSOlNlLGFuY2VzdG9yczp5LHBpY2s6ZyxvbWl0OncscGx1Y2s6XyxmaWx0ZXI6JCxmaW5kOlMsbWFwT2JqOmJlLG1hcDpiLHZhbHVlczpSZSxhbGxUcnVlUjpFZSxhbnlUcnVlUjpDZSx1bm5lc3RSOlRlLGZsYXR0ZW5SOlBlLHB1c2hSOlIsdW5pcVI6a2UsdW5uZXN0Ok9lLGZsYXR0ZW46eGUsYXNzZXJ0UHJlZGljYXRlOmplLGFzc2VydE1hcDpJZSxhc3NlcnRGbjpFLHBhaXJzOlZlLGFycmF5VHVwbGVzOkMsYXBwbHlQYWlyczpULHRhaWw6UCxfZXh0ZW5kOngsc29ydEJ5OkFlLGNvbXBvc2VTb3J0OkhlLHNpbGVuY2VVbmNhdWdodEluUHJvbWlzZTpxZSxzaWxlbnRSZWplY3Rpb246RGUsbm90SW1wbGVtZW50ZWQ6dWUsc2VydmljZXM6c2UsR2xvYjpCdCxjdXJyeTpyLGNvbXBvc2U6bixwaXBlOmkscHJvcDpBdCxwcm9wRXE6SHQscGFyc2U6cXQsbm90OkR0LGFuZDpvLG9yOmEsYWxsOk50LGFueTpGdCxpczpVdCxlcTpMdCx2YWw6TXQsaW52b2tlOnUscGF0dGVybjpzLGlzVW5kZWZpbmVkOkp0LGlzRGVmaW5lZDpRdCxpc051bGw6S3QsaXNOdWxsT3JVbmRlZmluZWQ6WXQsaXNGdW5jdGlvbjpadCxpc051bWJlcjpYdCxpc1N0cmluZzp0ZSxpc09iamVjdDplZSxpc0FycmF5OnJlLGlzRGF0ZTpuZSxpc1JlZ0V4cDppZSxpc1N0YXRlOm9lLGlzSW5qZWN0YWJsZTpjLGlzUHJvbWlzZTphZSxRdWV1ZTpOZSxtYXhMZW5ndGg6QixwYWRTdHJpbmc6RyxrZWJvYlN0cmluZzpXLGZ1bmN0aW9uVG9TdHJpbmc6eixmblRvU3RyaW5nOkosc3RyaW5naWZ5OlEsYmVmb3JlQWZ0ZXJTdWJzdHI6Z3Isc3BsaXRPbkRlbGltOkssam9pbk5laWdoYm9yc1I6WSxnZXQgQ2F0ZWdvcnkoKXtyZXR1cm4gdC5DYXRlZ29yeX0sVHJhY2U6V2UsdHJhY2U6emUsZ2V0IERlZlR5cGUoKXtyZXR1cm4gdC5EZWZUeXBlfSxQYXJhbTpycixQYXJhbVR5cGVzOndyLFN0YXRlUGFyYW1zOiRyLFBhcmFtVHlwZTpYZSxQYXRoTm9kZTpucixQYXRoVXRpbHM6aXIscmVzb2x2ZVBvbGljaWVzOnVyLGRlZmF1bHRSZXNvbHZlUG9saWN5Om9yLFJlc29sdmFibGU6YXIsTkFUSVZFX0lOSkVDVE9SX1RPS0VOOmxyLFJlc29sdmVDb250ZXh0OnByLHJlc29sdmFibGVzQnVpbGRlcjpudCxTdGF0ZUJ1aWxkZXI6Q3IsU3RhdGVPYmplY3Q6R3QsU3RhdGVNYXRjaGVyOlRyLFN0YXRlUXVldWVNYW5hZ2VyOlByLFN0YXRlUmVnaXN0cnk6a3IsU3RhdGVTZXJ2aWNlOlJuLFRhcmdldFN0YXRlOkplLGdldCBUcmFuc2l0aW9uSG9va1BoYXNlKCl7cmV0dXJuIHQuVHJhbnNpdGlvbkhvb2tQaGFzZX0sZ2V0IFRyYW5zaXRpb25Ib29rU2NvcGUoKXtyZXR1cm4gdC5UcmFuc2l0aW9uSG9va1Njb3BlfSxIb29rQnVpbGRlcjpaZSxtYXRjaFN0YXRlOkgsUmVnaXN0ZXJlZEhvb2s6WWUsbWFrZUV2ZW50OnEsZ2V0IFJlamVjdFR5cGUoKXtyZXR1cm4gdC5SZWplY3RUeXBlfSxSZWplY3Rpb246VWUsVHJhbnNpdGlvbjp2cixUcmFuc2l0aW9uSG9vazpLZSxUcmFuc2l0aW9uRXZlbnRUeXBlOnduLGRlZmF1bHRUcmFuc09wdHM6U24sVHJhbnNpdGlvblNlcnZpY2U6Ym4sVXJsTWF0Y2hlcjpqcixVcmxNYXRjaGVyRmFjdG9yeTpJcixVcmxSb3V0ZXI6cXIsVXJsUnVsZUZhY3Rvcnk6VnIsQmFzZVVybFJ1bGU6QXIsVXJsU2VydmljZTpXcixWaWV3U2VydmljZTpEcixVSVJvdXRlckdsb2JhbHM6TnIsVUlSb3V0ZXI6SnIsJHE6RW4sJGluamVjdG9yOmtuLEJhc2VMb2NhdGlvblNlcnZpY2VzOkRuLEhhc2hMb2NhdGlvblNlcnZpY2U6Rm4sTWVtb3J5TG9jYXRpb25TZXJ2aWNlOkxuLFB1c2hTdGF0ZUxvY2F0aW9uU2VydmljZTpCbixNZW1vcnlMb2NhdGlvbkNvbmZpZzpHbixCcm93c2VyTG9jYXRpb25Db25maWc6V24sc3BsaXRIYXNoOnhuLHNwbGl0UXVlcnk6am4sc3BsaXRFcXVhbDpJbix0cmltSGFzaFZhbDpWbixrZXlWYWxzVG9PYmplY3RSOkFuLGdldFBhcmFtczpIbixwYXJzZVVybDpwdCxidWlsZFVybDpxbixsb2NhdGlvblBsdWdpbkZhY3Rvcnk6aHQsc2VydmljZXNQbHVnaW46ZHQsaGFzaExvY2F0aW9uUGx1Z2luOnpuLHB1c2hTdGF0ZUxvY2F0aW9uUGx1Z2luOkpuLG1lbW9yeUxvY2F0aW9uUGx1Z2luOlFuLFVJUm91dGVyUGx1Z2luQmFzZTpLbn0pLFpuPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQscil7cmV0dXJuIHR8fFF0KGVbcl0pfSwhMSl9LFhuPTAsdGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSxyKXt2YXIgbj10aGlzO3RoaXMucGF0aD10LHRoaXMudmlld0RlY2w9ZSx0aGlzLmZhY3Rvcnk9cix0aGlzLiRpZD1YbisrLHRoaXMubG9hZGVkPSExLHRoaXMuZ2V0VGVtcGxhdGU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gbi5jb21wb25lbnQ/bi5mYWN0b3J5Lm1ha2VDb21wb25lbnRUZW1wbGF0ZSh0LGUsbi5jb21wb25lbnQsbi52aWV3RGVjbC5iaW5kaW5ncyk6bi50ZW1wbGF0ZX19cmV0dXJuIHQucHJvdG90eXBlLmxvYWQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGU9c2UuJHEscj1uZXcgcHIodGhpcy5wYXRoKSxuPXRoaXMucGF0aC5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdmUodCxlLnBhcmFtVmFsdWVzKX0se30pLGk9e3RlbXBsYXRlOmUud2hlbih0aGlzLmZhY3RvcnkuZnJvbUNvbmZpZyh0aGlzLnZpZXdEZWNsLG4scikpLGNvbnRyb2xsZXI6ZS53aGVuKHRoaXMuZ2V0Q29udHJvbGxlcihyKSl9O3JldHVybiBlLmFsbChpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiB6ZS50cmFjZVZpZXdTZXJ2aWNlRXZlbnQoXCJMb2FkZWRcIix0KSx0LmNvbnRyb2xsZXI9ZS5jb250cm9sbGVyLHZlKHQsZS50ZW1wbGF0ZSksdH0pfSxcbnQucHJvdG90eXBlLmdldENvbnRyb2xsZXI9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy52aWV3RGVjbC5jb250cm9sbGVyUHJvdmlkZXI7aWYoIWMoZSkpcmV0dXJuIHRoaXMudmlld0RlY2wuY29udHJvbGxlcjt2YXIgcj1zZS4kaW5qZWN0b3IuYW5ub3RhdGUoZSksbj1yZShlKT9QKGUpOmU7cmV0dXJuIG5ldyBhcihcIlwiLG4scikuZ2V0KHQpfSx0fSgpLGVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe3ZhciB0PXRoaXM7dGhpcy5fdXNlSHR0cD1WdC52ZXJzaW9uLm1pbm9yPDMsdGhpcy4kZ2V0PVtcIiRodHRwXCIsXCIkdGVtcGxhdGVDYWNoZVwiLFwiJGluamVjdG9yXCIsZnVuY3Rpb24oZSxyLG4pe3JldHVybiB0LiR0ZW1wbGF0ZVJlcXVlc3Q9bi5oYXMmJm4uaGFzKFwiJHRlbXBsYXRlUmVxdWVzdFwiKSYmbi5nZXQoXCIkdGVtcGxhdGVSZXF1ZXN0XCIpLHQuJGh0dHA9ZSx0LiR0ZW1wbGF0ZUNhY2hlPXIsdH1dfXJldHVybiB0LnByb3RvdHlwZS51c2VIdHRwU2VydmljZT1mdW5jdGlvbih0KXt0aGlzLl91c2VIdHRwPXR9LHQucHJvdG90eXBlLmZyb21Db25maWc9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPWZ1bmN0aW9uKHQpe3JldHVybiBzZS4kcS53aGVuKHQpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJue3RlbXBsYXRlOnR9fSl9LGk9ZnVuY3Rpb24odCl7cmV0dXJuIHNlLiRxLndoZW4odCkudGhlbihmdW5jdGlvbih0KXtyZXR1cm57Y29tcG9uZW50OnR9fSl9O3JldHVybiBRdCh0LnRlbXBsYXRlKT9uKHRoaXMuZnJvbVN0cmluZyh0LnRlbXBsYXRlLGUpKTpRdCh0LnRlbXBsYXRlVXJsKT9uKHRoaXMuZnJvbVVybCh0LnRlbXBsYXRlVXJsLGUpKTpRdCh0LnRlbXBsYXRlUHJvdmlkZXIpP24odGhpcy5mcm9tUHJvdmlkZXIodC50ZW1wbGF0ZVByb3ZpZGVyLGUscikpOlF0KHQuY29tcG9uZW50KT9pKHQuY29tcG9uZW50KTpRdCh0LmNvbXBvbmVudFByb3ZpZGVyKT9pKHRoaXMuZnJvbUNvbXBvbmVudFByb3ZpZGVyKHQuY29tcG9uZW50UHJvdmlkZXIsZSxyKSk6bihcIjx1aS12aWV3PjwvdWktdmlldz5cIil9LHQucHJvdG90eXBlLmZyb21TdHJpbmc9ZnVuY3Rpb24odCxlKXtyZXR1cm4gWnQodCk/dChlKTp0fSx0LnByb3RvdHlwZS5mcm9tVXJsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIFp0KHQpJiYodD10KGUpKSxudWxsPT10P251bGw6dGhpcy5fdXNlSHR0cD90aGlzLiRodHRwLmdldCh0LHtjYWNoZTp0aGlzLiR0ZW1wbGF0ZUNhY2hlLGhlYWRlcnM6e0FjY2VwdDpcInRleHQvaHRtbFwifX0pLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuZGF0YX0pOnRoaXMuJHRlbXBsYXRlUmVxdWVzdCh0KX0sdC5wcm90b3R5cGUuZnJvbVByb3ZpZGVyPWZ1bmN0aW9uKHQsZSxyKXt2YXIgbj1zZS4kaW5qZWN0b3IuYW5ub3RhdGUodCksaT1yZSh0KT9QKHQpOnQ7cmV0dXJuIG5ldyBhcihcIlwiLGksbikuZ2V0KHIpfSx0LnByb3RvdHlwZS5mcm9tQ29tcG9uZW50UHJvdmlkZXI9ZnVuY3Rpb24odCxlLHIpe3ZhciBuPXNlLiRpbmplY3Rvci5hbm5vdGF0ZSh0KSxpPXJlKHQpP1AodCk6dDtyZXR1cm4gbmV3IGFyKFwiXCIsaSxuKS5nZXQocil9LHQucHJvdG90eXBlLm1ha2VDb21wb25lbnRUZW1wbGF0ZT1mdW5jdGlvbih0LGUscixuKXtuPW58fHt9O3ZhciBpPVZ0LnZlcnNpb24ubWlub3I+PTM/XCI6OlwiOlwiXCIsbz1mdW5jdGlvbih0KXt2YXIgZT1XKHQpO3JldHVybi9eKHh8ZGF0YSktLy5leGVjKGUpP1wieC1cIitlOmV9LGE9ZnVuY3Rpb24ocil7dmFyIGE9ci5uYW1lLHU9ci50eXBlLHM9byhhKTtpZih0LmF0dHIocykmJiFuW2FdKXJldHVybiBzK1wiPSdcIit0LmF0dHIocykrXCInXCI7dmFyIGM9blthXXx8YTtpZihcIkBcIj09PXUpcmV0dXJuIHMrXCI9J3t7XCIraStcIiRyZXNvbHZlLlwiK2MrXCJ9fSdcIjtpZihcIiZcIj09PXUpe3ZhciBmPWUuZ2V0UmVzb2x2YWJsZShjKSxsPWYmJmYuZGF0YSxwPWwmJnNlLiRpbmplY3Rvci5hbm5vdGF0ZShsKXx8W107cmV0dXJuIHMrXCI9JyRyZXNvbHZlLlwiK2MrKHJlKGwpP1wiW1wiKyhsLmxlbmd0aC0xKStcIl1cIjpcIlwiKStcIihcIitwLmpvaW4oXCIsXCIpK1wiKSdcIn1yZXR1cm4gcytcIj0nXCIraStcIiRyZXNvbHZlLlwiK2MrXCInXCJ9LHU9eXQocikubWFwKGEpLmpvaW4oXCIgXCIpLHM9byhyKTtyZXR1cm5cIjxcIitzK1wiIFwiK3UrXCI+PC9cIitzK1wiPlwifSx0fSgpLHJpPWZ1bmN0aW9uKHQpe3JldHVybiBuaShlZSh0LmJpbmRUb0NvbnRyb2xsZXIpP3QuYmluZFRvQ29udHJvbGxlcjp0LnNjb3BlKX0sbmk9ZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHR8fHt9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuW2UsL14oWz08QCZdKVs/XT8oLiopLy5leGVjKHRbZV0pXX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gUXQodCkmJnJlKHRbMV0pfSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybntuYW1lOnRbMV1bMl18fHRbMF0sdHlwZTp0WzFdWzFdfX0pfSxpaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQoZSxyKXt0aGlzLnN0YXRlUmVnaXN0cnk9ZSx0aGlzLnN0YXRlU2VydmljZT1yLHAoTXQodC5wcm90b3R5cGUpLHRoaXMsTXQodGhpcykpfXJldHVybiB0LnByb3RvdHlwZS5kZWNvcmF0b3I9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdGhpcy5zdGF0ZVJlZ2lzdHJ5LmRlY29yYXRvcih0LGUpfHx0aGlzfSx0LnByb3RvdHlwZS5zdGF0ZT1mdW5jdGlvbih0LGUpe3JldHVybiBlZSh0KT9lPXQ6ZS5uYW1lPXQsdGhpcy5zdGF0ZVJlZ2lzdHJ5LnJlZ2lzdGVyKGUpLHRoaXN9LHQucHJvdG90eXBlLm9uSW52YWxpZD1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5zdGF0ZVNlcnZpY2Uub25JbnZhbGlkKHQpfSx0fSgpLG9pPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlLHIpe2Z1bmN0aW9uIG4odCxlKXt2YXIgcj1uZXcgcHIodC50cmVlQ2hhbmdlcyhvKSksbj12ZShnaShyKSx7JHN0YXRlJDplLCR0cmFuc2l0aW9uJDp0fSk7cmV0dXJuIHNlLiRpbmplY3Rvci5pbnZva2UoaSx0aGlzLG4pfXZhciBpPWVbdF0sbz1cIm9uRXhpdFwiPT09dD9cImZyb21cIjpcInRvXCI7cmV0dXJuIGk/bjp2b2lkIDB9fSxhaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5fdXJsTGlzdGVuZXJzPVtdLHRoaXMuJGxvY2F0aW9uUHJvdmlkZXI9dDt2YXIgZT1NdCh0KTtwKGUsdGhpcyxlLFtcImhhc2hQcmVmaXhcIl0pfXJldHVybiB0LnByb3RvdHlwZS5kaXNwb3NlPWZ1bmN0aW9uKCl7fSx0LnByb3RvdHlwZS5vbkNoYW5nZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiB0aGlzLl91cmxMaXN0ZW5lcnMucHVzaCh0KSxmdW5jdGlvbigpe3JldHVybiB3ZShlLl91cmxMaXN0ZW5lcnMpKHQpfX0sdC5wcm90b3R5cGUuaHRtbDVNb2RlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy4kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoKTtyZXR1cm4odD1lZSh0KT90LmVuYWJsZWQ6dCkmJnRoaXMuJHNuaWZmZXIuaGlzdG9yeX0sdC5wcm90b3R5cGUudXJsPWZ1bmN0aW9uKHQsZSxyKXtyZXR1cm4gdm9pZCAwPT09ZSYmKGU9ITEpLHQmJnRoaXMuJGxvY2F0aW9uLnVybCh0KSxlJiZ0aGlzLiRsb2NhdGlvbi5yZXBsYWNlKCksciYmdGhpcy4kbG9jYXRpb24uc3RhdGUociksdGhpcy4kbG9jYXRpb24udXJsKCl9LHQucHJvdG90eXBlLl9ydW50aW1lU2VydmljZXM9ZnVuY3Rpb24odCxlLHIsbil7dmFyIGk9dGhpczt0aGlzLiRsb2NhdGlvbj1lLHRoaXMuJHNuaWZmZXI9cix0LiRvbihcIiRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3NcIixmdW5jdGlvbih0KXtyZXR1cm4gaS5fdXJsTGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUodCl9KX0pO3ZhciBvPU10KGUpLGE9TXQobik7cChvLHRoaXMsbyxbXCJyZXBsYWNlXCIsXCJwYXRoXCIsXCJzZWFyY2hcIixcImhhc2hcIl0pLHAobyx0aGlzLG8sW1wicG9ydFwiLFwicHJvdG9jb2xcIixcImhvc3RcIl0pLHAoYSx0aGlzLGEsW1wiYmFzZUhyZWZcIl0pfSx0Lm1vbmtleVBhdGNoUGF0aFBhcmFtZXRlclR5cGU9ZnVuY3Rpb24odCl7dmFyIGU9dC51cmxNYXRjaGVyRmFjdG9yeS50eXBlKFwicGF0aFwiKTtlLmVuY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dD90LnRvU3RyaW5nKCkucmVwbGFjZSgvKH58XFwvKS9nLGZ1bmN0aW9uKHQpe3JldHVybntcIn5cIjpcIn5+XCIsXCIvXCI6XCJ+MkZcIn1bdF19KTp0fSxlLmRlY29kZT1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dD90LnRvU3RyaW5nKCkucmVwbGFjZSgvKH5+fH4yRikvZyxmdW5jdGlvbih0KXtyZXR1cm57XCJ+flwiOlwiflwiLFwifjJGXCI6XCIvXCJ9W3RdfSk6dH19LHR9KCksdWk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX3JvdXRlcj10LHRoaXMuX3VybFJvdXRlcj10LnVybFJvdXRlcn1yZXR1cm4gdC5wcm90b3R5cGUuJGdldD1mdW5jdGlvbigpe3ZhciB0PXRoaXMuX3VybFJvdXRlcjtyZXR1cm4gdC51cGRhdGUoITApLHQuaW50ZXJjZXB0RGVmZXJyZWR8fHQubGlzdGVuKCksdH0sdC5wcm90b3R5cGUucnVsZT1mdW5jdGlvbih0KXt2YXIgZT10aGlzO2lmKCFadCh0KSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3ZhciByPWZ1bmN0aW9uKCl7cmV0dXJuIHQoc2UuJGluamVjdG9yLGUuX3JvdXRlci5sb2NhdGlvblNlcnZpY2UpfSxuPW5ldyBBcihyLGYpO3JldHVybiB0aGlzLl91cmxSb3V0ZXIucnVsZShuKSx0aGlzfSx0LnByb3RvdHlwZS5vdGhlcndpc2U9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcyxyPXRoaXMuX3VybFJvdXRlcjtpZih0ZSh0KSlyLm90aGVyd2lzZSh0KTtlbHNle2lmKCFadCh0KSl0aHJvdyBuZXcgRXJyb3IoXCIncnVsZScgbXVzdCBiZSBhIHN0cmluZyBvciBmdW5jdGlvblwiKTtyLm90aGVyd2lzZShmdW5jdGlvbigpe3JldHVybiB0KHNlLiRpbmplY3RvcixlLl9yb3V0ZXIubG9jYXRpb25TZXJ2aWNlKX0pfXJldHVybiB0aGlzfSx0LnByb3RvdHlwZS53aGVuPWZ1bmN0aW9uKGUscil7cmV0dXJuKHJlKHIpfHxadChyKSkmJihyPXQuaW5qZWN0YWJsZUhhbmRsZXIodGhpcy5fcm91dGVyLHIpKSx0aGlzLl91cmxSb3V0ZXIud2hlbihlLHIpLHRoaXN9LHQuaW5qZWN0YWJsZUhhbmRsZXI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24ocil7cmV0dXJuIHNlLiRpbmplY3Rvci5pbnZva2UoZSxudWxsLHskbWF0Y2g6ciwkc3RhdGVQYXJhbXM6dC5nbG9iYWxzLnBhcmFtc30pfX0sdC5wcm90b3R5cGUuZGVmZXJJbnRlcmNlcHQ9ZnVuY3Rpb24odCl7dGhpcy5fdXJsUm91dGVyLmRlZmVySW50ZXJjZXB0KHQpfSx0fSgpO1Z0Lm1vZHVsZShcInVpLnJvdXRlci5hbmd1bGFyMVwiLFtdKTt2YXIgc2k9VnQubW9kdWxlKFwidWkucm91dGVyLmluaXRcIixbXSksY2k9VnQubW9kdWxlKFwidWkucm91dGVyLnV0aWxcIixbXCJuZ1wiLFwidWkucm91dGVyLmluaXRcIl0pLGZpPVZ0Lm1vZHVsZShcInVpLnJvdXRlci5yb3V0ZXJcIixbXCJ1aS5yb3V0ZXIudXRpbFwiXSksbGk9VnQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIsW1widWkucm91dGVyLnJvdXRlclwiLFwidWkucm91dGVyLnV0aWxcIixcInVpLnJvdXRlci5hbmd1bGFyMVwiXSkscGk9VnQubW9kdWxlKFwidWkucm91dGVyXCIsW1widWkucm91dGVyLmluaXRcIixcInVpLnJvdXRlci5zdGF0ZVwiLFwidWkucm91dGVyLmFuZ3VsYXIxXCJdKSxoaT0oVnQubW9kdWxlKFwidWkucm91dGVyLmNvbXBhdFwiLFtcInVpLnJvdXRlclwiXSksbnVsbCk7Z3QuJGluamVjdD1bXCIkbG9jYXRpb25Qcm92aWRlclwiXTt2YXIgZGk9ZnVuY3Rpb24odCl7cmV0dXJuW1wiJHVpUm91dGVyUHJvdmlkZXJcIixmdW5jdGlvbihlKXt2YXIgcj1lLnJvdXRlclt0XTtyZXR1cm4gci4kZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHJ9XX07d3QuJGluamVjdD1bXCIkaW5qZWN0b3JcIixcIiRxXCIsXCIkdWlSb3V0ZXJcIl07dmFyIHZpPWZ1bmN0aW9uKHQpe3JldHVybiB0LnVybFJvdXRlclByb3ZpZGVyPW5ldyB1aSh0KX0sbWk9ZnVuY3Rpb24oKXtyZXR1cm4gdmUoaGkuc3RhdGVQcm92aWRlcix7JGdldDpmdW5jdGlvbigpe3JldHVybiBoaS5zdGF0ZVNlcnZpY2V9fSl9O190LiRpbmplY3Q9W1wiJHJvb3RTY29wZVwiXSxzaS5wcm92aWRlcihcIiR1aVJvdXRlclwiLGd0KSxmaS5wcm92aWRlcihcIiR1cmxSb3V0ZXJcIixbXCIkdWlSb3V0ZXJQcm92aWRlclwiLHZpXSksY2kucHJvdmlkZXIoXCIkdXJsU2VydmljZVwiLGRpKFwidXJsU2VydmljZVwiKSksY2kucHJvdmlkZXIoXCIkdXJsTWF0Y2hlckZhY3RvcnlcIixbXCIkdWlSb3V0ZXJQcm92aWRlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhpLnVybE1hdGNoZXJGYWN0b3J5fV0pLGNpLnByb3ZpZGVyKFwiJHRlbXBsYXRlRmFjdG9yeVwiLGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBlaX0pLGxpLnByb3ZpZGVyKFwiJHN0YXRlUmVnaXN0cnlcIixkaShcInN0YXRlUmVnaXN0cnlcIikpLGxpLnByb3ZpZGVyKFwiJHVpUm91dGVyR2xvYmFsc1wiLGRpKFwiZ2xvYmFsc1wiKSksbGkucHJvdmlkZXIoXCIkdHJhbnNpdGlvbnNcIixkaShcInRyYW5zaXRpb25TZXJ2aWNlXCIpKSxsaS5wcm92aWRlcihcIiRzdGF0ZVwiLFtcIiR1aVJvdXRlclByb3ZpZGVyXCIsbWldKSxsaS5mYWN0b3J5KFwiJHN0YXRlUGFyYW1zXCIsW1wiJHVpUm91dGVyXCIsZnVuY3Rpb24odCl7cmV0dXJuIHQuZ2xvYmFscy5wYXJhbXN9XSkscGkuZmFjdG9yeShcIiR2aWV3XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGkudmlld1NlcnZpY2V9KSxwaS5zZXJ2aWNlKFwiJHRyYWNlXCIsZnVuY3Rpb24oKXtyZXR1cm4gemV9KSxwaS5ydW4oX3QpLGNpLnJ1bihbXCIkdXJsTWF0Y2hlckZhY3RvcnlcIixmdW5jdGlvbih0KXt9XSksbGkucnVuKFtcIiRzdGF0ZVwiLGZ1bmN0aW9uKHQpe31dKSxmaS5ydW4oW1wiJHVybFJvdXRlclwiLGZ1bmN0aW9uKHQpe31dKSxzaS5ydW4od3QpO3ZhciB5aSxnaT1mdW5jdGlvbih0KXtyZXR1cm4gdC5nZXRUb2tlbnMoKS5maWx0ZXIodGUpLm1hcChmdW5jdGlvbihlKXt2YXIgcj10LmdldFJlc29sdmFibGUoZSk7cmV0dXJuW2UsXCJOT1dBSVRcIj09PXQuZ2V0UG9saWN5KHIpLmFzeW5jP3IucHJvbWlzZTpyLmRhdGFdfSkucmVkdWNlKFQse30pfTt5aT1bXCIkdWlSb3V0ZXJcIixcIiR0aW1lb3V0XCIsZnVuY3Rpb24odCxlKXt2YXIgcj10LnN0YXRlU2VydmljZTtyZXR1cm57cmVzdHJpY3Q6XCJBXCIscmVxdWlyZTpbXCI/XnVpU3JlZkFjdGl2ZVwiLFwiP151aVNyZWZBY3RpdmVFcVwiXSxsaW5rOmZ1bmN0aW9uKG4saSxvLGEpe2Z1bmN0aW9uIHUoKXt2YXIgdD1oKCk7bCYmbCgpLGYmJihsPWYuJCRhZGRTdGF0ZUluZm8odC51aVN0YXRlLHQudWlTdGF0ZVBhcmFtcykpLG51bGwhPXQuaHJlZiYmby4kc2V0KGMuYXR0cix0LmhyZWYpfXZhciBzLGM9UnQoaSksZj1hWzFdfHxhWzBdLGw9bnVsbCxwPXt9LGg9ZnVuY3Rpb24oKXtyZXR1cm4gYnQocixpLHApfSxkPSR0KG8udWlTcmVmKTtwLnVpU3RhdGU9ZC5zdGF0ZSxwLnVpU3RhdGVPcHRzPW8udWlTcmVmT3B0cz9uLiRldmFsKG8udWlTcmVmT3B0cyk6e30sZC5wYXJhbUV4cHImJihuLiR3YXRjaChkLnBhcmFtRXhwcixmdW5jdGlvbih0KXtwLnVpU3RhdGVQYXJhbXM9dmUoe30sdCksdSgpfSwhMCkscC51aVN0YXRlUGFyYW1zPXZlKHt9LG4uJGV2YWwoZC5wYXJhbUV4cHIpKSksdSgpLG4uJG9uKFwiJGRlc3Ryb3lcIix0LnN0YXRlUmVnaXN0cnkub25TdGF0ZXNDaGFuZ2VkKHUpKSxuLiRvbihcIiRkZXN0cm95XCIsdC50cmFuc2l0aW9uU2VydmljZS5vblN1Y2Nlc3Moe30sdSkpLGMuY2xpY2thYmxlJiYocz1FdChpLHIsZSxjLGgpLFR0KGksbixzLHAudWlTdGF0ZU9wdHMpKX19fV07dmFyIHdpO3dpPVtcIiR1aVJvdXRlclwiLFwiJHRpbWVvdXRcIixmdW5jdGlvbih0LGUpe3ZhciByPXQuc3RhdGVTZXJ2aWNlO3JldHVybntyZXN0cmljdDpcIkFcIixyZXF1aXJlOltcIj9edWlTcmVmQWN0aXZlXCIsXCI/XnVpU3JlZkFjdGl2ZUVxXCJdLGxpbms6ZnVuY3Rpb24obixpLG8sYSl7ZnVuY3Rpb24gdSgpe3ZhciB0PWQoKTtwJiZwKCksZiYmKHA9Zi4kJGFkZFN0YXRlSW5mbyh0LnVpU3RhdGUsdC51aVN0YXRlUGFyYW1zKSksbnVsbCE9dC5ocmVmJiZvLiRzZXQoYy5hdHRyLHQuaHJlZil9dmFyIHMsYz1SdChpKSxmPWFbMV18fGFbMF0scD1udWxsLGg9e30sZD1mdW5jdGlvbigpe3JldHVybiBidChyLGksaCl9LHY9W1widWlTdGF0ZVwiLFwidWlTdGF0ZVBhcmFtc1wiLFwidWlTdGF0ZU9wdHNcIl0sbT12LnJlZHVjZShmdW5jdGlvbih0LGUpe3JldHVybiB0W2VdPWwsdH0se30pO3YuZm9yRWFjaChmdW5jdGlvbih0KXtoW3RdPW9bdF0/bi4kZXZhbChvW3RdKTpudWxsLG8uJG9ic2VydmUodCxmdW5jdGlvbihlKXttW3RdKCksbVt0XT1uLiR3YXRjaChlLGZ1bmN0aW9uKGUpe2hbdF09ZSx1KCl9LCEwKX0pfSksdSgpLG4uJG9uKFwiJGRlc3Ryb3lcIix0LnN0YXRlUmVnaXN0cnkub25TdGF0ZXNDaGFuZ2VkKHUpKSxuLiRvbihcIiRkZXN0cm95XCIsdC50cmFuc2l0aW9uU2VydmljZS5vblN1Y2Nlc3Moe30sdSkpLGMuY2xpY2thYmxlJiYocz1FdChpLHIsZSxjLGQpLFR0KGksbixzLGgudWlTdGF0ZU9wdHMpKX19fV07dmFyIF9pO19pPVtcIiRzdGF0ZVwiLFwiJHN0YXRlUGFyYW1zXCIsXCIkaW50ZXJwb2xhdGVcIixcIiR1aVJvdXRlclwiLGZ1bmN0aW9uKHQsZSxyLG4pe3JldHVybntyZXN0cmljdDpcIkFcIixjb250cm9sbGVyOltcIiRzY29wZVwiLFwiJGVsZW1lbnRcIixcIiRhdHRyc1wiLGZ1bmN0aW9uKGUsaSxvKXtmdW5jdGlvbiBhKHQpe3QucHJvbWlzZS50aGVuKHMsbCl9ZnVuY3Rpb24gdShlLHIsbil7dmFyIG89dC5nZXQoZSxTdChpKSksYT17c3RhdGU6b3x8e25hbWU6ZX0scGFyYW1zOnIsYWN0aXZlQ2xhc3M6bn07cmV0dXJuIGgucHVzaChhKSxmdW5jdGlvbigpe3dlKGgpKGEpfX1mdW5jdGlvbiBzKCl7dmFyIHI9ZnVuY3Rpb24odCl7cmV0dXJuIHQuc3BsaXQoL1xccy8pLmZpbHRlcihmKX0sbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQuYWN0aXZlQ2xhc3N9KS5tYXAocikucmVkdWNlKFRlLFtdKX0sbz1uKGgpLmNvbmNhdChyKGMpKS5yZWR1Y2Uoa2UsW10pLGE9bihoLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5pbmNsdWRlcyhlLnN0YXRlLm5hbWUsZS5wYXJhbXMpfSkpLHU9ISFoLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5pcyhlLnN0YXRlLm5hbWUsZS5wYXJhbXMpfSkubGVuZ3RoLHM9dT9yKGMpOltdLGw9YS5jb25jYXQocykucmVkdWNlKGtlLFtdKSxwPW8uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFnZShsLHQpfSk7ZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCl7bC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBpLmFkZENsYXNzKHQpfSkscC5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBpLnJlbW92ZUNsYXNzKHQpfSl9KX12YXIgYyxwLGg9W107Yz1yKG8udWlTcmVmQWN0aXZlRXF8fFwiXCIsITEpKGUpO3RyeXtwPWUuJGV2YWwoby51aVNyZWZBY3RpdmUpfWNhdGNoKHQpe31wPXB8fHIoby51aVNyZWZBY3RpdmV8fFwiXCIsITEpKGUpLGVlKHApJiZkZShwLGZ1bmN0aW9uKHQscil7aWYodGUodCkpe3ZhciBuPSR0KHQpO3Uobi5zdGF0ZSxlLiRldmFsKG4ucGFyYW1FeHByKSxyKX19KSx0aGlzLiQkYWRkU3RhdGVJbmZvPWZ1bmN0aW9uKHQsZSl7aWYoIShlZShwKSYmaC5sZW5ndGg+MCkpe3ZhciByPXUodCxlLHApO3JldHVybiBzKCkscn19LGUuJG9uKFwiJHN0YXRlQ2hhbmdlU3VjY2Vzc1wiLHMpLGUuJG9uKFwiJGRlc3Ryb3lcIixuLnRyYW5zaXRpb25TZXJ2aWNlLm9uU3RhcnQoe30sYSkpLG4uZ2xvYmFscy50cmFuc2l0aW9uJiZhKG4uZ2xvYmFscy50cmFuc2l0aW9uKSxzKCl9XX19XSxWdC5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikuZGlyZWN0aXZlKFwidWlTcmVmXCIseWkpLmRpcmVjdGl2ZShcInVpU3JlZkFjdGl2ZVwiLF9pKS5kaXJlY3RpdmUoXCJ1aVNyZWZBY3RpdmVFcVwiLF9pKS5kaXJlY3RpdmUoXCJ1aVN0YXRlXCIsd2kpLFB0LiRpbmplY3Q9W1wiJHN0YXRlXCJdLGt0LiRpbmplY3Q9W1wiJHN0YXRlXCJdLFZ0Lm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5maWx0ZXIoXCJpc1N0YXRlXCIsUHQpLmZpbHRlcihcImluY2x1ZGVkQnlTdGF0ZVwiLGt0KTt2YXIgJGk7JGk9W1wiJHZpZXdcIixcIiRhbmltYXRlXCIsXCIkdWlWaWV3U2Nyb2xsXCIsXCIkaW50ZXJwb2xhdGVcIixcIiRxXCIsZnVuY3Rpb24odCxlLHIsbixpKXtmdW5jdGlvbiBvKHQscil7cmV0dXJue2VudGVyOmZ1bmN0aW9uKHQscixuKXtWdC52ZXJzaW9uLm1pbm9yPjI/ZS5lbnRlcih0LG51bGwscikudGhlbihuKTplLmVudGVyKHQsbnVsbCxyLG4pfSxsZWF2ZTpmdW5jdGlvbih0LHIpe1Z0LnZlcnNpb24ubWlub3I+Mj9lLmxlYXZlKHQpLnRoZW4ocik6ZS5sZWF2ZSh0LHIpfX19ZnVuY3Rpb24gYSh0LGUpe3JldHVybiB0PT09ZX12YXIgdT17JGNmZzp7dmlld0RlY2w6eyRjb250ZXh0OnQuX3BsdWdpbmFwaS5fcm9vdFZpZXdDb250ZXh0KCl9fSwkdWlWaWV3Ont9fSxzPXtjb3VudDowLHJlc3RyaWN0OlwiRUNBXCIsdGVybWluYWw6ITAscHJpb3JpdHk6NDAwLHRyYW5zY2x1ZGU6XCJlbGVtZW50XCIsY29tcGlsZTpmdW5jdGlvbihlLGMsZil7cmV0dXJuIGZ1bmN0aW9uKGUsYyxsKXtmdW5jdGlvbiBwKHQpeyghdHx8dCBpbnN0YW5jZW9mIHRpKSYmKGEoUyx0KXx8KHplLnRyYWNlVUlWaWV3Q29uZmlnVXBkYXRlZChFLHQmJnQudmlld0RlY2wmJnQudmlld0RlY2wuJGNvbnRleHQpLFM9dCxkKHQpKSl9ZnVuY3Rpb24gaCgpe2lmKHYmJih6ZS50cmFjZVVJVmlld0V2ZW50KFwiUmVtb3ZpbmcgKHByZXZpb3VzKSBlbFwiLHYuZGF0YShcIiR1aVZpZXdcIikpLHYucmVtb3ZlKCksdj1udWxsKSx5JiYoemUudHJhY2VVSVZpZXdFdmVudChcIkRlc3Ryb3lpbmcgc2NvcGVcIixFKSx5LiRkZXN0cm95KCkseT1udWxsKSxtKXt2YXIgdD1tLmRhdGEoXCIkdWlWaWV3QW5pbVwiKTt6ZS50cmFjZVVJVmlld0V2ZW50KFwiQW5pbWF0ZSBvdXRcIix0KSwkLmxlYXZlKG0sZnVuY3Rpb24oKXt0LiQkYW5pbUxlYXZlLnJlc29sdmUoKSx2PW51bGx9KSx2PW0sbT1udWxsfX1mdW5jdGlvbiBkKHQpe3ZhciBuPWUuJG5ldygpLG89aS5kZWZlcigpLGE9aS5kZWZlcigpLHU9eyRjZmc6dCwkdWlWaWV3OkV9LHM9eyRhbmltRW50ZXI6by5wcm9taXNlLCRhbmltTGVhdmU6YS5wcm9taXNlLCQkYW5pbUxlYXZlOmF9O24uJGVtaXQoXCIkdmlld0NvbnRlbnRMb2FkaW5nXCIsUik7dmFyIGw9ZihuLGZ1bmN0aW9uKHQpe3QuZGF0YShcIiR1aVZpZXdBbmltXCIscyksdC5kYXRhKFwiJHVpVmlld1wiLHUpLCQuZW50ZXIodCxjLGZ1bmN0aW9uKCl7by5yZXNvbHZlKCkseSYmeS4kZW1pdChcIiR2aWV3Q29udGVudEFuaW1hdGlvbkVuZGVkXCIpLChRdChfKSYmIV98fGUuJGV2YWwoXykpJiZyKHQpfSksaCgpfSk7bT1sLHk9bix5LiRlbWl0KFwiJHZpZXdDb250ZW50TG9hZGVkXCIsdHx8UykseS4kZXZhbCh3KX12YXIgdixtLHksZyx3PWwub25sb2FkfHxcIlwiLF89bC5hdXRvc2Nyb2xsLCQ9byhsLGUpLFM9dm9pZCAwLGI9Yy5pbmhlcml0ZWREYXRhKFwiJHVpVmlld1wiKXx8dSxSPW4obC51aVZpZXd8fGwubmFtZXx8XCJcIikoZSl8fFwiJGRlZmF1bHRcIixFPXskdHlwZTpcIm5nMVwiLGlkOnMuY291bnQrKyxuYW1lOlIsZnFuOmIuJHVpVmlldy5mcW4/Yi4kdWlWaWV3LmZxbitcIi5cIitSOlIsY29uZmlnOm51bGwsY29uZmlnVXBkYXRlZDpwLGdldCBjcmVhdGlvbkNvbnRleHQoKXt2YXIgdD1xdChcIiRjZmcudmlld0RlY2wuJGNvbnRleHRcIikoYiksZT1xdChcIiR1aVZpZXcuY3JlYXRpb25Db250ZXh0XCIpKGIpO3JldHVybiB0fHxlfX07emUudHJhY2VVSVZpZXdFdmVudChcIkxpbmtpbmdcIixFKSxjLmRhdGEoXCIkdWlWaWV3XCIseyR1aVZpZXc6RX0pLGQoKSxnPXQucmVnaXN0ZXJVSVZpZXcoRSksZS4kb24oXCIkZGVzdHJveVwiLGZ1bmN0aW9uKCl7emUudHJhY2VVSVZpZXdFdmVudChcIkRlc3Ryb3lpbmcvVW5yZWdpc3RlcmluZ1wiLEUpLGcoKX0pfX19O3JldHVybiBzfV0sT3QuJGluamVjdD1bXCIkY29tcGlsZVwiLFwiJGNvbnRyb2xsZXJcIixcIiR0cmFuc2l0aW9uc1wiLFwiJHZpZXdcIixcIiRxXCIsXCIkdGltZW91dFwiXTt2YXIgU2k9XCJmdW5jdGlvblwiPT10eXBlb2YgVnQubW9kdWxlKFwidWkucm91dGVyXCIpLmNvbXBvbmVudCxiaT0wO1Z0Lm1vZHVsZShcInVpLnJvdXRlci5zdGF0ZVwiKS5kaXJlY3RpdmUoXCJ1aVZpZXdcIiwkaSksVnQubW9kdWxlKFwidWkucm91dGVyLnN0YXRlXCIpLmRpcmVjdGl2ZShcInVpVmlld1wiLE90KSxWdC5tb2R1bGUoXCJ1aS5yb3V0ZXIuc3RhdGVcIikucHJvdmlkZXIoXCIkdWlWaWV3U2Nyb2xsXCIsanQpO3QuZGVmYXVsdD1cInVpLnJvdXRlclwiLHQuY29yZT1Zbix0LndhdGNoRGlnZXN0cz1fdCx0LmdldExvY2Fscz1naSx0LmdldE5nMVZpZXdDb25maWdGYWN0b3J5PXZ0LHQubmcxVmlld3NCdWlsZGVyPW10LHQuTmcxVmlld0NvbmZpZz10aSx0LlN0YXRlUHJvdmlkZXI9aWksdC5VcmxSb3V0ZXJQcm92aWRlcj11aSx0LmZyb21Kc29uPWxlLHQudG9Kc29uPXBlLHQuY29weT1oZSx0LmZvckVhY2g9ZGUsdC5leHRlbmQ9dmUsdC5lcXVhbHM9bWUsdC5pZGVudGl0eT1mLHQubm9vcD1sLHQuY3JlYXRlUHJveHlGdW5jdGlvbnM9cCx0LmluaGVyaXQ9eWUsdC5pbkFycmF5PWdlLHQuX2luQXJyYXk9aCx0LnJlbW92ZUZyb209d2UsdC5fcmVtb3ZlRnJvbT1kLHQucHVzaFRvPV9lLHQuX3B1c2hUbz12LHQuZGVyZWdBbGw9JGUsdC5kZWZhdWx0cz1tLHQubWVyZ2VSPVNlLHQuYW5jZXN0b3JzPXksdC5waWNrPWcsdC5vbWl0PXcsdC5wbHVjaz1fLHQuZmlsdGVyPSQsdC5maW5kPVMsdC5tYXBPYmo9YmUsdC5tYXA9Yix0LnZhbHVlcz1SZSx0LmFsbFRydWVSPUVlLHQuYW55VHJ1ZVI9Q2UsdC51bm5lc3RSPVRlLHQuZmxhdHRlblI9UGUsdC5wdXNoUj1SLHQudW5pcVI9a2UsdC51bm5lc3Q9T2UsdC5mbGF0dGVuPXhlLHQuYXNzZXJ0UHJlZGljYXRlPWplLHQuYXNzZXJ0TWFwPUllLHQuYXNzZXJ0Rm49RSx0LnBhaXJzPVZlLHQuYXJyYXlUdXBsZXM9Qyx0LmFwcGx5UGFpcnM9VCx0LnRhaWw9UCx0Ll9leHRlbmQ9eCx0LnNvcnRCeT1BZSx0LmNvbXBvc2VTb3J0PUhlLHQuc2lsZW5jZVVuY2F1Z2h0SW5Qcm9taXNlPXFlLHQuc2lsZW50UmVqZWN0aW9uPURlLHQubm90SW1wbGVtZW50ZWQ9dWUsdC5zZXJ2aWNlcz1zZSx0Lkdsb2I9QnQsdC5jdXJyeT1yLHQuY29tcG9zZT1uLHQucGlwZT1pLHQucHJvcD1BdCx0LnByb3BFcT1IdCx0LnBhcnNlPXF0LHQubm90PUR0LHQuYW5kPW8sdC5vcj1hLHQuYWxsPU50LHQuYW55PUZ0LHQuaXM9VXQsdC5lcT1MdCx0LnZhbD1NdCx0Lmludm9rZT11LHQucGF0dGVybj1zLHQuaXNVbmRlZmluZWQ9SnQsdC5pc0RlZmluZWQ9UXQsdC5pc051bGw9S3QsdC5pc051bGxPclVuZGVmaW5lZD1ZdCx0LmlzRnVuY3Rpb249WnQsdC5pc051bWJlcj1YdCx0LmlzU3RyaW5nPXRlLHQuaXNPYmplY3Q9ZWUsdC5pc0FycmF5PXJlLHQuaXNEYXRlPW5lLHQuaXNSZWdFeHA9aWUsdC5pc1N0YXRlPW9lLHQuaXNJbmplY3RhYmxlPWMsdC5pc1Byb21pc2U9YWUsdC5RdWV1ZT1OZSx0Lm1heExlbmd0aD1CLHQucGFkU3RyaW5nPUcsdC5rZWJvYlN0cmluZz1XLHQuZnVuY3Rpb25Ub1N0cmluZz16LHQuZm5Ub1N0cmluZz1KLHQuc3RyaW5naWZ5PVEsdC5iZWZvcmVBZnRlclN1YnN0cj1ncix0LnNwbGl0T25EZWxpbT1LLHQuam9pbk5laWdoYm9yc1I9WSx0LlRyYWNlPVdlLHQudHJhY2U9emUsdC5QYXJhbT1ycix0LlBhcmFtVHlwZXM9d3IsdC5TdGF0ZVBhcmFtcz0kcix0LlBhcmFtVHlwZT1YZSx0LlBhdGhOb2RlPW5yLHQuUGF0aFV0aWxzPWlyLHQucmVzb2x2ZVBvbGljaWVzPXVyLHQuZGVmYXVsdFJlc29sdmVQb2xpY3k9b3IsdC5SZXNvbHZhYmxlPWFyLHQuTkFUSVZFX0lOSkVDVE9SX1RPS0VOPWxyLHQuUmVzb2x2ZUNvbnRleHQ9cHIsdC5yZXNvbHZhYmxlc0J1aWxkZXI9bnQsdC5TdGF0ZUJ1aWxkZXI9Q3IsdC5TdGF0ZU9iamVjdD1HdCx0LlN0YXRlTWF0Y2hlcj1Ucix0LlN0YXRlUXVldWVNYW5hZ2VyPVByLHQuU3RhdGVSZWdpc3RyeT1rcix0LlN0YXRlU2VydmljZT1Sbix0LlRhcmdldFN0YXRlPUplLHQuSG9va0J1aWxkZXI9WmUsdC5tYXRjaFN0YXRlPUgsdC5SZWdpc3RlcmVkSG9vaz1ZZSx0Lm1ha2VFdmVudD1xLHQuUmVqZWN0aW9uPVVlLHQuVHJhbnNpdGlvbj12cix0LlRyYW5zaXRpb25Ib29rPUtlLHQuVHJhbnNpdGlvbkV2ZW50VHlwZT13bix0LmRlZmF1bHRUcmFuc09wdHM9U24sdC5UcmFuc2l0aW9uU2VydmljZT1ibix0LlVybE1hdGNoZXI9anIsdC5VcmxNYXRjaGVyRmFjdG9yeT1Jcix0LlVybFJvdXRlcj1xcix0LlVybFJ1bGVGYWN0b3J5PVZyLHQuQmFzZVVybFJ1bGU9QXIsdC5VcmxTZXJ2aWNlPVdyLHQuVmlld1NlcnZpY2U9RHIsdC5VSVJvdXRlckdsb2JhbHM9TnIsdC5VSVJvdXRlcj1Kcix0LiRxPUVuLHQuJGluamVjdG9yPWtuLHQuQmFzZUxvY2F0aW9uU2VydmljZXM9RG4sdC5IYXNoTG9jYXRpb25TZXJ2aWNlPUZuLHQuTWVtb3J5TG9jYXRpb25TZXJ2aWNlPUxuLHQuUHVzaFN0YXRlTG9jYXRpb25TZXJ2aWNlPUJuLHQuTWVtb3J5TG9jYXRpb25Db25maWc9R24sdC5Ccm93c2VyTG9jYXRpb25Db25maWc9V24sdC5zcGxpdEhhc2g9eG4sdC5zcGxpdFF1ZXJ5PWpuLHQuc3BsaXRFcXVhbD1Jbix0LnRyaW1IYXNoVmFsPVZuLHQua2V5VmFsc1RvT2JqZWN0Uj1Bbix0LmdldFBhcmFtcz1Ibix0LnBhcnNlVXJsPXB0LHQuYnVpbGRVcmw9cW4sdC5sb2NhdGlvblBsdWdpbkZhY3Rvcnk9aHQsdC5zZXJ2aWNlc1BsdWdpbj1kdCx0Lmhhc2hMb2NhdGlvblBsdWdpbj16bix0LnB1c2hTdGF0ZUxvY2F0aW9uUGx1Z2luPUpuLHQubWVtb3J5TG9jYXRpb25QbHVnaW49UW4sdC5VSVJvdXRlclBsdWdpbkJhc2U9S24sT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuZ3VsYXItdWktcm91dGVyLm1pbi5qcy5tYXBcbiIsIihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdjb25zdW1lckFwcCcsIFsnbmdBbmltYXRlJywgJ2FuZ3VsYXItbW9tZW50anMnLCAnZ29vZ2xlLnBsYWNlcycsICd1aS5yb3V0ZXInXSk7XHJcblxyXG4gICAgdmFyIGVudiA9IHt9O1xyXG4gICAgLy8gSW1wb3J0IHZhcmlhYmxlcyBpZiBwcmVzZW50IChmcm9tIGVudi5qcylcclxuICAgIGlmKHdpbmRvdyl7ICBcclxuICAgICAgICBPYmplY3QuYXNzaWduKGVudiwgd2luZG93Ll9fZW52KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWdpc3RlciBlbnZpcm9ubWVudCBpbiBBbmd1bGFySlMgYXMgY29uc3RhbnRcclxuICAgIGFwcC5jb25zdGFudCgnX19lbnYnLCBlbnYpO1xyXG5cclxuICAgIGFwcC5jb25maWcoZnVuY3Rpb24gKCRzdGF0ZVByb3ZpZGVyLCAkdXJsUm91dGVyUHJvdmlkZXIpIHtcclxuICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIud2hlbignJywgJ2FwcGxpY2F0aW9uL2RldGFpbHMnKVxyXG5cclxuICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgICAuc3RhdGUoJ2FwcGxpY2F0aW9uJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2FwcGxpY2F0aW9uJyxcclxuICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgLy90ZW1wbGF0ZTogJzx1aS12aWV3Lz4nLFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsOiBbJ21vZGVsU2VydmljZScsIGZ1bmN0aW9uIChtb2RlbFNlcnZpY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsU2VydmljZS5nZXRNb2RlbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwbGljYXRpb24ucGVyc29uYWxEZXRhaWxzJywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2RldGFpbHMnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcGVyc29uYWwtZGV0YWlscy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGVyc29uYWxEZXRhaWxzQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICckY3RybCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2U6IDFcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uLnF1b3RlJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwbGljYXRpb24ucXVvdGUnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvcXVvdGUnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvcXVvdGUuY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3F1b3RlQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyQXM6ICckY3RybCcsXHJcbiAgICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhZ2U6IDJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFjazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uLnBlcnNvbmFsRGV0YWlscyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24ubW9yZUFib3V0WW91JztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwbGljYXRpb24ubW9yZUFib3V0WW91Jywge1xyXG4gICAgICAgICAgICAgICAgdXJsOiAnL2Fib3V0JyxcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL21vcmUtYWJvdXQteW91LmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtb3JlQWJvdXRZb3VDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJBczogJyRjdHJsJyxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFnZTogM1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnYXBwbGljYXRpb24ucXVvdGUnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uLmZpbmFuY2VzJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zdGF0ZSgnYXBwbGljYXRpb24uZmluYW5jZXMnLCB7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICcvZmluYW5jZXMnLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvZmluYW5jaWFscy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZmluYW5jaWFsc0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckFzOiAnJGN0cmwnLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YWdlOiA0XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdhcHBsaWNhdGlvbi5tb3JlQWJvdXRZb3UnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2FwcGxpY2F0aW9uJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSlcclxufSgpKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGZ1bmN0aW9uIGFkZHJlc3NGaW5kZXJDb250cm9sbGVyKCkge1xyXG4gICAgICAgIHZhciBjdHJsID0gdGhpcztcclxuXHJcbiAgICAgICAgY3RybC5BZGRyZXNzRW50cnkgPSBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoY3RybC5BZGRyZXNzRW50cnkgPT09IG51bGwgJiYgY3RybC5tb2RlbCAmJiBjdHJsLm1vZGVsLkFkZHJlc3NFbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgY3RybC5BZGRyZXNzRW50cnkgPSBjdHJsLm1vZGVsLkFkZHJlc3NFbnRyeTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3RybC5BZGRyZXNzRW50cnlDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgYWRkcmVzc0VudHJ5ID0gXCJBZGRyZXNzRW50cnlcIjtcclxuXHJcbiAgICAgICAgICAgIGlmICghY3RybC5BZGRyZXNzRW50cnkgfHwgIWN0cmwuQWRkcmVzc0VudHJ5LmFkZHJlc3NfY29tcG9uZW50cykge1xyXG4gICAgICAgICAgICAgICAgY3RybC5tb2RlbFthZGRyZXNzRW50cnldID0gY3RybC5BZGRyZXNzRW50cnk7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGtleSBpbiBjdHJsLm1vZGVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPT0gYWRkcmVzc0VudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0cmwubW9kZWxba2V5XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3RybC5tb2RlbFthZGRyZXNzRW50cnldID0gY3RybC5BZGRyZXNzRW50cnkuZm9ybWF0dGVkX2FkZHJlc3M7XHJcbiAgICAgICAgICAgIGN0cmwuVXBkYXRlRGV0YWlscyhjdHJsLkFkZHJlc3NFbnRyeSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL0NsZWFyXHJcbiAgICAgICAgICAgIC8vY3RybC5BZGRyZXNzRW50cnkgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3RybC5tYXBPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBjb21wb25lbnRSZXN0cmljdGlvbnM6IHsgY291bnRyeTogJ05aJyB9LFxyXG4gICAgICAgICAgICB0eXBlczogWydnZW9jb2RlJ11cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjdHJsLmNvbXBvbmVudEZvcm0gPSB7XHJcbiAgICAgICAgICAgIHN0cmVldF9udW1iZXI6ICdzaG9ydF9uYW1lJyxcclxuICAgICAgICAgICAgcm91dGU6ICdsb25nX25hbWUnLFxyXG4gICAgICAgICAgICBzdWJsb2NhbGl0eV9sZXZlbF8xOiAnbG9uZ19uYW1lJyxcclxuICAgICAgICAgICAgbG9jYWxpdHk6ICdsb25nX25hbWUnLFxyXG4gICAgICAgICAgICBhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzE6ICdzaG9ydF9uYW1lJyxcclxuICAgICAgICAgICAgY291bnRyeTogJ2xvbmdfbmFtZScsXHJcbiAgICAgICAgICAgIHBvc3RhbF9jb2RlOiAnc2hvcnRfbmFtZSdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjdHJsLmdvb2dsZUFkZHJlc3NQcm9wTWFwcGVyID0ge1xyXG4gICAgICAgICAgICBzdHJlZXRfbnVtYmVyOiAnU3RyZWV0TnVtYmVyJyxcclxuICAgICAgICAgICAgcm91dGU6ICdTdHJlZXROYW1lJyxcclxuICAgICAgICAgICAgc3VibG9jYWxpdHlfbGV2ZWxfMTogJ1N1YnVyYicsXHJcbiAgICAgICAgICAgIGxvY2FsaXR5OiAnQ2l0eScsXHJcbiAgICAgICAgICAgIGFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMTogJ1N0YXRlJyxcclxuICAgICAgICAgICAgY291bnRyeTogJ0NvdW50cnknLFxyXG4gICAgICAgICAgICBwb3N0YWxfY29kZTogJ1Bvc3RDb2RlJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGN0cmwuVXBkYXRlRGV0YWlscyA9IGZ1bmN0aW9uIChwbGFjZSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBsYWNlLmFkZHJlc3NfY29tcG9uZW50cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFkZHJlc3NUeXBlID0gcGxhY2UuYWRkcmVzc19jb21wb25lbnRzW2ldLnR5cGVzWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjdHJsLmNvbXBvbmVudEZvcm1bYWRkcmVzc1R5cGVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdvb2dsZVByb3BOYW1lID0gdGhpcy5jb21wb25lbnRGb3JtW2FkZHJlc3NUeXBlXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gcGxhY2UuYWRkcmVzc19jb21wb25lbnRzW2ldW2dvb2dsZVByb3BOYW1lXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZHJlc3NEZXRhaWxQcm9wID0gdGhpcy5nb29nbGVBZGRyZXNzUHJvcE1hcHBlclthZGRyZXNzVHlwZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5tb2RlbFthZGRyZXNzRGV0YWlsUHJvcF0gPSB2YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuY29tcG9uZW50KCdhZGRyZXNzRmluZGVyJywge1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2FkZHJlc3MtZmluZGVyLmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICBjb250cm9sbGVyOiBbYWRkcmVzc0ZpbmRlckNvbnRyb2xsZXJdLFxyXG4gICAgICAgIGJpbmRpbmdzOiB7XHJcbiAgICAgICAgICAgIHJlcXVpcmVkOiAnPScsXHJcbiAgICAgICAgICAgIG5hbWU6ICdAJyxcclxuICAgICAgICAgICAgbGFiZWw6IFwiPFwiLFxyXG4gICAgICAgICAgICBtb2RlbDogXCI8XCJcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIC8vQSBjYW5vbmljYWwgcGxhY2UgZm9yIGFsbCBvcHRpb24gdXNlZCB3aXRoaW4gZm9ybXMgXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29uc3VtZXJBcHAnKS5mYWN0b3J5KCdhbW9ydGlzYXRpb25TZXJ2aWNlJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLlJ1blN0YW5kYXJkVGVzdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgLy9UaGUgYW5zd2VyIHNoYWxsIGJlIDYuMDk4MjA0Nzg5NTMwMTJcclxuICAgICAgICAgICAgdmFyIHByaW5jaXBhbCA9IDEwMDtcclxuICAgICAgICAgICAgdmFyIGFudWFsSW50ZXJlc3RSYXRlID0gMTI7XHJcbiAgICAgICAgICAgIHZhciBudW1iZXJPZlBheW1lbnRzID0gMTg7XHJcbiAgICAgICAgICAgIHZhciBtb250aGx5SW50ZXJlc3RBc0ZyYWN0aW9uID0gYW51YWxJbnRlcmVzdFJhdGUvMTIvMTAwO1xyXG5cclxuICAgICAgICAgICAgdmFyIGluc3RhbGxtZW50VmFsdWUgPSBzZWxmLkdldEluc3RhbGxtZW50VmFsdWUocHJpbmNpcGFsLCBtb250aGx5SW50ZXJlc3RBc0ZyYWN0aW9uLCBudW1iZXJPZlBheW1lbnRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vVXNpbmcgYSBzdGFuZGFyZCBBbW9ydGlzYXRpb24gZm9ybXVsYSAtIGVnLCBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9BbW9ydGl6YXRpb25fY2FsY3VsYXRvclxyXG4gICAgICAgIC8vSXQgaXMgdW5jbGVhciBpZiBwbGF0aW51bSB3YW50IGEgYmFsbG9vbiBwYXltZW50IGF0IHRoZSBlbmQgb3Igbm90XHJcbiAgICAgICAgc2VsZi5HZXRJbnN0YWxsbWVudFZhbHVlID0gZnVuY3Rpb24gKHAsIGksIG4pIHtcclxuICAgICAgICAgICAgLy9pKDEraSleblxyXG4gICAgICAgICAgICB2YXIgbnVtZXJhdG9yID0gaSAqIE1hdGgucG93KDEraSwgbik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLygxK2kpXm4gLSAxXHJcbiAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IE1hdGgucG93KDEraSwgbikgLSAxO1xyXG5cclxuICAgICAgICAgICAgdmFyIEEgPSBwICogbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gQTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBlc3RhYmxpc2htZW50RmVlID0gMjUwO1xyXG4gICAgICAgIHZhciBhbnVhbEludGVyZXN0UmF0ZSA9IDEwLjk1O1xyXG5cclxuICAgICAgICBzZWxmLkdlbmVyYXRlUHJpY2VRdW90ZSA9IGZ1bmN0aW9uKHByaWNlLCBkZXBvc2l0LCB0ZXJtKXtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZSxcclxuICAgICAgICAgICAgICAgIGRlcG9zaXQ6IGRlcG9zaXQsXHJcbiAgICAgICAgICAgICAgICB0ZXJtOiB0ZXJtLFxyXG4gICAgICAgICAgICAgICAgZXN0YWJsaXNobWVudEZlZTogZXN0YWJsaXNobWVudEZlZSxcclxuICAgICAgICAgICAgICAgIGFudWFsSW50ZXJlc3RSYXRlOiBhbnVhbEludGVyZXN0UmF0ZSxcclxuICAgICAgICAgICAgICAgIG1vbnRobHlQYXltZW50czogc2VsZi5HZXRNb250aGx5UGF5bWVudHMocHJpY2UsIGRlcG9zaXQsIHRlcm0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxmLkdldE1vbnRobHlQYXltZW50cyA9IGZ1bmN0aW9uIChwcmljZSwgZGVwb3NpdCwgdGVybSkge1xyXG4gICAgICAgICAgICB2YXIgZXN0YWJsaXNobWVudEZlZSA9IDI1MDtcclxuXHJcbiAgICAgICAgICAgIHZhciBwcmluY2lwYWwgPSBwcmljZSAtIGRlcG9zaXQgKyBlc3RhYmxpc2htZW50RmVlO1xyXG4gICAgICAgICAgICB2YXIgbW9udGhseUludGVyZXN0QXNGcmFjdGlvbiA9IGFudWFsSW50ZXJlc3RSYXRlIC8gMTIgLyAxMDA7XHJcblxyXG4gICAgICAgICAgICB2YXIgbW9udGhseVBheW1lbnRzID0gc2VsZi5HZXRJbnN0YWxsbWVudFZhbHVlKHByaW5jaXBhbCwgbW9udGhseUludGVyZXN0QXNGcmFjdGlvbiwgdGVybSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbW9udGhseVBheW1lbnRzO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNlbGYuUnVuU3RhbmRhcmRUZXN0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfV0pO1xyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICBmdW5jdGlvbiBjb25maXJtQ29udHJvbGxlcigpIHtcclxuICAgICAgICB2YXIgY3RybCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGN0cmwuR2V0TmFtZVRvVXNlID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgaWYoY3RybC5wcmVmZXJyZWROYW1lICYmIGN0cmwucHJlZmVycmVkTmFtZS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN0cmwucHJlZmVycmVkTmFtZTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjdHJsLmZpcnN0TmFtZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuY29tcG9uZW50KCdjb25maXJtJywge1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2NvbmZpcm0uY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IFsgY29uZmlybUNvbnRyb2xsZXIgXSxcclxuICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICBmaXJzdE5hbWU6IFwiPFwiLFxyXG4gICAgICAgICAgICBwcmVmZXJyZWROYW1lOiBcIjxcIixcclxuICAgICAgICAgICAgcHJpY2VRdW90ZTogXCI8XCJcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGFuZ3VsYXIubW9kdWxlKCdjb25zdW1lckFwcCcpLmZhY3RvcnkoJ2NvdW50cnlTZXJ2aWNlJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuR2V0Q291bnRyaWVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJBZmdoYW5pc3RhblwiLCBcImNvZGVcIjogXCJBRlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIsOFbGFuZCBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIkFYXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQWxiYW5pYVwiLCBcImNvZGVcIjogXCJBTFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkFsZ2VyaWFcIiwgXCJjb2RlXCI6IFwiRFpcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJBbWVyaWNhbiBTYW1vYVwiLCBcImNvZGVcIjogXCJBU1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkFuZG9ycmFcIiwgXCJjb2RlXCI6IFwiQURcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJBbmdvbGFcIiwgXCJjb2RlXCI6IFwiQU9cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJBbmd1aWxsYVwiLCBcImNvZGVcIjogXCJBSVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkFudGFyY3RpY2FcIiwgXCJjb2RlXCI6IFwiQVFcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJBbnRpZ3VhIGFuZCBCYXJidWRhXCIsIFwiY29kZVwiOiBcIkFHXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQXJnZW50aW5hXCIsIFwiY29kZVwiOiBcIkFSXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQXJtZW5pYVwiLCBcImNvZGVcIjogXCJBTVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkFydWJhXCIsIFwiY29kZVwiOiBcIkFXXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQXVzdHJhbGlhXCIsIFwiY29kZVwiOiBcIkFVXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQXVzdHJpYVwiLCBcImNvZGVcIjogXCJBVFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkF6ZXJiYWlqYW5cIiwgXCJjb2RlXCI6IFwiQVpcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCYWhhbWFzXCIsIFwiY29kZVwiOiBcIkJTXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQmFocmFpblwiLCBcImNvZGVcIjogXCJCSFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkJhbmdsYWRlc2hcIiwgXCJjb2RlXCI6IFwiQkRcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCYXJiYWRvc1wiLCBcImNvZGVcIjogXCJCQlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkJlbGFydXNcIiwgXCJjb2RlXCI6IFwiQllcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCZWxnaXVtXCIsIFwiY29kZVwiOiBcIkJFXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQmVsaXplXCIsIFwiY29kZVwiOiBcIkJaXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQmVuaW5cIiwgXCJjb2RlXCI6IFwiQkpcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCZXJtdWRhXCIsIFwiY29kZVwiOiBcIkJNXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQmh1dGFuXCIsIFwiY29kZVwiOiBcIkJUXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQm9saXZpYVwiLCBcImNvZGVcIjogXCJCT1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkJvc25pYSBhbmQgSGVyemVnb3ZpbmFcIiwgXCJjb2RlXCI6IFwiQkFcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCb3Rzd2FuYVwiLCBcImNvZGVcIjogXCJCV1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkJvdXZldCBJc2xhbmRcIiwgXCJjb2RlXCI6IFwiQlZcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCcmF6aWxcIiwgXCJjb2RlXCI6IFwiQlJcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCcml0aXNoIEluZGlhbiBPY2VhbiBUZXJyaXRvcnlcIiwgXCJjb2RlXCI6IFwiSU9cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJCcnVuZWkgRGFydXNzYWxhbVwiLCBcImNvZGVcIjogXCJCTlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkJ1bGdhcmlhXCIsIFwiY29kZVwiOiBcIkJHXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQnVya2luYSBGYXNvXCIsIFwiY29kZVwiOiBcIkJGXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQnVydW5kaVwiLCBcImNvZGVcIjogXCJCSVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNhbWJvZGlhXCIsIFwiY29kZVwiOiBcIktIXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQ2FtZXJvb25cIiwgXCJjb2RlXCI6IFwiQ01cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDYW5hZGFcIiwgXCJjb2RlXCI6IFwiQ0FcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDYXBlIFZlcmRlXCIsIFwiY29kZVwiOiBcIkNWXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQ2F5bWFuIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiS1lcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDZW50cmFsIEFmcmljYW4gUmVwdWJsaWNcIiwgXCJjb2RlXCI6IFwiQ0ZcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDaGFkXCIsIFwiY29kZVwiOiBcIlREXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQ2hpbGVcIiwgXCJjb2RlXCI6IFwiQ0xcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDaGluYVwiLCBcImNvZGVcIjogXCJDTlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNocmlzdG1hcyBJc2xhbmRcIiwgXCJjb2RlXCI6IFwiQ1hcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDb2NvcyAoS2VlbGluZykgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJDQ1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNvbG9tYmlhXCIsIFwiY29kZVwiOiBcIkNPXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQ29tb3Jvc1wiLCBcImNvZGVcIjogXCJLTVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNvbmdvXCIsIFwiY29kZVwiOiBcIkNHXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQ29uZ28sIFRoZSBEZW1vY3JhdGljIFJlcHVibGljIG9mIHRoZVwiLCBcImNvZGVcIjogXCJDRFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNvb2sgSXNsYW5kc1wiLCBcImNvZGVcIjogXCJDS1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkNvc3RhIFJpY2FcIiwgXCJjb2RlXCI6IFwiQ1JcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDb3RlIEQnSXZvaXJlXCIsIFwiY29kZVwiOiBcIkNJXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiQ3JvYXRpYVwiLCBcImNvZGVcIjogXCJIUlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkN1YmFcIiwgXCJjb2RlXCI6IFwiQ1VcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDeXBydXNcIiwgXCJjb2RlXCI6IFwiQ1lcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJDemVjaCBSZXB1YmxpY1wiLCBcImNvZGVcIjogXCJDWlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkRlbm1hcmtcIiwgXCJjb2RlXCI6IFwiREtcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJEamlib3V0aVwiLCBcImNvZGVcIjogXCJESlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkRvbWluaWNhXCIsIFwiY29kZVwiOiBcIkRNXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiRG9taW5pY2FuIFJlcHVibGljXCIsIFwiY29kZVwiOiBcIkRPXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiRWN1YWRvclwiLCBcImNvZGVcIjogXCJFQ1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkVneXB0XCIsIFwiY29kZVwiOiBcIkVHXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiRWwgU2FsdmFkb3JcIiwgXCJjb2RlXCI6IFwiU1ZcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJFcXVhdG9yaWFsIEd1aW5lYVwiLCBcImNvZGVcIjogXCJHUVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkVyaXRyZWFcIiwgXCJjb2RlXCI6IFwiRVJcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJFc3RvbmlhXCIsIFwiY29kZVwiOiBcIkVFXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiRXRoaW9waWFcIiwgXCJjb2RlXCI6IFwiRVRcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJGYWxrbGFuZCBJc2xhbmRzIChNYWx2aW5hcylcIiwgXCJjb2RlXCI6IFwiRktcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJGYXJvZSBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIkZPXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiRmlqaVwiLCBcImNvZGVcIjogXCJGSlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkZpbmxhbmRcIiwgXCJjb2RlXCI6IFwiRklcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJGcmFuY2VcIiwgXCJjb2RlXCI6IFwiRlJcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJGcmVuY2ggR3VpYW5hXCIsIFwiY29kZVwiOiBcIkdGXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiRnJlbmNoIFBvbHluZXNpYVwiLCBcImNvZGVcIjogXCJQRlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkZyZW5jaCBTb3V0aGVybiBUZXJyaXRvcmllc1wiLCBcImNvZGVcIjogXCJURlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkdhYm9uXCIsIFwiY29kZVwiOiBcIkdBXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiR2FtYmlhXCIsIFwiY29kZVwiOiBcIkdNXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiR2VvcmdpYVwiLCBcImNvZGVcIjogXCJHRVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkdlcm1hbnlcIiwgXCJjb2RlXCI6IFwiREVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJHaGFuYVwiLCBcImNvZGVcIjogXCJHSFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkdpYnJhbHRhclwiLCBcImNvZGVcIjogXCJHSVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkdyZWVjZVwiLCBcImNvZGVcIjogXCJHUlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkdyZWVubGFuZFwiLCBcImNvZGVcIjogXCJHTFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkdyZW5hZGFcIiwgXCJjb2RlXCI6IFwiR0RcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJHdWFkZWxvdXBlXCIsIFwiY29kZVwiOiBcIkdQXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiR3VhbVwiLCBcImNvZGVcIjogXCJHVVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkd1YXRlbWFsYVwiLCBcImNvZGVcIjogXCJHVFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkd1ZXJuc2V5XCIsIFwiY29kZVwiOiBcIkdHXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiR3VpbmVhXCIsIFwiY29kZVwiOiBcIkdOXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiR3VpbmVhLUJpc3NhdVwiLCBcImNvZGVcIjogXCJHV1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkd1eWFuYVwiLCBcImNvZGVcIjogXCJHWVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkhhaXRpXCIsIFwiY29kZVwiOiBcIkhUXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSGVhcmQgSXNsYW5kIGFuZCBNY2RvbmFsZCBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIkhNXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSG9seSBTZWUgKFZhdGljYW4gQ2l0eSBTdGF0ZSlcIiwgXCJjb2RlXCI6IFwiVkFcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJIb25kdXJhc1wiLCBcImNvZGVcIjogXCJITlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkhvbmcgS29uZ1wiLCBcImNvZGVcIjogXCJIS1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkh1bmdhcnlcIiwgXCJjb2RlXCI6IFwiSFVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJJY2VsYW5kXCIsIFwiY29kZVwiOiBcIklTXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSW5kaWFcIiwgXCJjb2RlXCI6IFwiSU5cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJJbmRvbmVzaWFcIiwgXCJjb2RlXCI6IFwiSURcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJJcmFuLCBJc2xhbWljIFJlcHVibGljIE9mXCIsIFwiY29kZVwiOiBcIklSXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSXJhcVwiLCBcImNvZGVcIjogXCJJUVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIklyZWxhbmRcIiwgXCJjb2RlXCI6IFwiSUVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJJc2xlIG9mIE1hblwiLCBcImNvZGVcIjogXCJJTVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIklzcmFlbFwiLCBcImNvZGVcIjogXCJJTFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkl0YWx5XCIsIFwiY29kZVwiOiBcIklUXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSmFtYWljYVwiLCBcImNvZGVcIjogXCJKTVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkphcGFuXCIsIFwiY29kZVwiOiBcIkpQXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSmVyc2V5XCIsIFwiY29kZVwiOiBcIkpFXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiSm9yZGFuXCIsIFwiY29kZVwiOiBcIkpPXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiS2F6YWtoc3RhblwiLCBcImNvZGVcIjogXCJLWlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIktlbnlhXCIsIFwiY29kZVwiOiBcIktFXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiS2lyaWJhdGlcIiwgXCJjb2RlXCI6IFwiS0lcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJEZW1vY3JhdGljIFBlb3BsZSdzIFJlcHVibGljIG9mIEtvcmVhXCIsIFwiY29kZVwiOiBcIktQXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiS29yZWEsIFJlcHVibGljIG9mXCIsIFwiY29kZVwiOiBcIktSXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiS29zb3ZvXCIsIFwiY29kZVwiOiBcIlhLXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiS3V3YWl0XCIsIFwiY29kZVwiOiBcIktXXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiS3lyZ3l6c3RhblwiLCBcImNvZGVcIjogXCJLR1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkxhbyBQZW9wbGUncyBEZW1vY3JhdGljIFJlcHVibGljXCIsIFwiY29kZVwiOiBcIkxBXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTGF0dmlhXCIsIFwiY29kZVwiOiBcIkxWXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTGViYW5vblwiLCBcImNvZGVcIjogXCJMQlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkxlc290aG9cIiwgXCJjb2RlXCI6IFwiTFNcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJMaWJlcmlhXCIsIFwiY29kZVwiOiBcIkxSXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTGlieWFuIEFyYWIgSmFtYWhpcml5YVwiLCBcImNvZGVcIjogXCJMWVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIkxpZWNodGVuc3RlaW5cIiwgXCJjb2RlXCI6IFwiTElcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJMaXRodWFuaWFcIiwgXCJjb2RlXCI6IFwiTFRcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJMdXhlbWJvdXJnXCIsIFwiY29kZVwiOiBcIkxVXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTWFjYW9cIiwgXCJjb2RlXCI6IFwiTU9cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNYWNlZG9uaWEsIFRoZSBGb3JtZXIgWXVnb3NsYXYgUmVwdWJsaWMgb2ZcIiwgXCJjb2RlXCI6IFwiTUtcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNYWRhZ2FzY2FyXCIsIFwiY29kZVwiOiBcIk1HXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTWFsYXdpXCIsIFwiY29kZVwiOiBcIk1XXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTWFsYXlzaWFcIiwgXCJjb2RlXCI6IFwiTVlcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNYWxkaXZlc1wiLCBcImNvZGVcIjogXCJNVlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk1hbGlcIiwgXCJjb2RlXCI6IFwiTUxcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNYWx0YVwiLCBcImNvZGVcIjogXCJNVFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk1hcnNoYWxsIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiTUhcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNYXJ0aW5pcXVlXCIsIFwiY29kZVwiOiBcIk1RXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTWF1cml0YW5pYVwiLCBcImNvZGVcIjogXCJNUlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk1hdXJpdGl1c1wiLCBcImNvZGVcIjogXCJNVVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk1heW90dGVcIiwgXCJjb2RlXCI6IFwiWVRcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNZXhpY29cIiwgXCJjb2RlXCI6IFwiTVhcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNaWNyb25lc2lhLCBGZWRlcmF0ZWQgU3RhdGVzIG9mXCIsIFwiY29kZVwiOiBcIkZNXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTW9sZG92YSwgUmVwdWJsaWMgb2ZcIiwgXCJjb2RlXCI6IFwiTURcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNb25hY29cIiwgXCJjb2RlXCI6IFwiTUNcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNb25nb2xpYVwiLCBcImNvZGVcIjogXCJNTlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk1vbnRlbmVncm9cIiwgXCJjb2RlXCI6IFwiTUVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNb250c2VycmF0XCIsIFwiY29kZVwiOiBcIk1TXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTW9yb2Njb1wiLCBcImNvZGVcIjogXCJNQVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk1vemFtYmlxdWVcIiwgXCJjb2RlXCI6IFwiTVpcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJNeWFubWFyXCIsIFwiY29kZVwiOiBcIk1NXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTmFtaWJpYVwiLCBcImNvZGVcIjogXCJOQVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk5hdXJ1XCIsIFwiY29kZVwiOiBcIk5SXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTmVwYWxcIiwgXCJjb2RlXCI6IFwiTlBcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJOZXRoZXJsYW5kc1wiLCBcImNvZGVcIjogXCJOTFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk5ldGhlcmxhbmRzIEFudGlsbGVzXCIsIFwiY29kZVwiOiBcIkFOXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTmV3IENhbGVkb25pYVwiLCBcImNvZGVcIjogXCJOQ1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk5ldyBaZWFsYW5kXCIsIFwiY29kZVwiOiBcIk5aXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTmljYXJhZ3VhXCIsIFwiY29kZVwiOiBcIk5JXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTmlnZXJcIiwgXCJjb2RlXCI6IFwiTkVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJOaWdlcmlhXCIsIFwiY29kZVwiOiBcIk5HXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTml1ZVwiLCBcImNvZGVcIjogXCJOVVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIk5vcmZvbGsgSXNsYW5kXCIsIFwiY29kZVwiOiBcIk5GXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIk1QXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiTm9yd2F5XCIsIFwiY29kZVwiOiBcIk5PXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiT21hblwiLCBcImNvZGVcIjogXCJPTVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlBha2lzdGFuXCIsIFwiY29kZVwiOiBcIlBLXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiUGFsYXVcIiwgXCJjb2RlXCI6IFwiUFdcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJQYWxlc3RpbmlhbiBUZXJyaXRvcnksIE9jY3VwaWVkXCIsIFwiY29kZVwiOiBcIlBTXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiUGFuYW1hXCIsIFwiY29kZVwiOiBcIlBBXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiUGFwdWEgTmV3IEd1aW5lYVwiLCBcImNvZGVcIjogXCJQR1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlBhcmFndWF5XCIsIFwiY29kZVwiOiBcIlBZXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiUGVydVwiLCBcImNvZGVcIjogXCJQRVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlBoaWxpcHBpbmVzXCIsIFwiY29kZVwiOiBcIlBIXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiUGl0Y2Fpcm5cIiwgXCJjb2RlXCI6IFwiUE5cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJQb2xhbmRcIiwgXCJjb2RlXCI6IFwiUExcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJQb3J0dWdhbFwiLCBcImNvZGVcIjogXCJQVFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlB1ZXJ0byBSaWNvXCIsIFwiY29kZVwiOiBcIlBSXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiUWF0YXJcIiwgXCJjb2RlXCI6IFwiUUFcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJSZXVuaW9uXCIsIFwiY29kZVwiOiBcIlJFXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiUm9tYW5pYVwiLCBcImNvZGVcIjogXCJST1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlJ1c3NpYW4gRmVkZXJhdGlvblwiLCBcImNvZGVcIjogXCJSVVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlJ3YW5kYVwiLCBcImNvZGVcIjogXCJSV1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNhaW50IEhlbGVuYVwiLCBcImNvZGVcIjogXCJTSFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNhaW50IEtpdHRzIGFuZCBOZXZpc1wiLCBcImNvZGVcIjogXCJLTlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNhaW50IEx1Y2lhXCIsIFwiY29kZVwiOiBcIkxDXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU2FpbnQgUGllcnJlIGFuZCBNaXF1ZWxvblwiLCBcImNvZGVcIjogXCJQTVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNhaW50IFZpbmNlbnQgYW5kIHRoZSBHcmVuYWRpbmVzXCIsIFwiY29kZVwiOiBcIlZDXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU2Ftb2FcIiwgXCJjb2RlXCI6IFwiV1NcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJTYW4gTWFyaW5vXCIsIFwiY29kZVwiOiBcIlNNXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU2FvIFRvbWUgYW5kIFByaW5jaXBlXCIsIFwiY29kZVwiOiBcIlNUXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU2F1ZGkgQXJhYmlhXCIsIFwiY29kZVwiOiBcIlNBXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU2VuZWdhbFwiLCBcImNvZGVcIjogXCJTTlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNlcmJpYVwiLCBcImNvZGVcIjogXCJSU1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNleWNoZWxsZXNcIiwgXCJjb2RlXCI6IFwiU0NcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJTaWVycmEgTGVvbmVcIiwgXCJjb2RlXCI6IFwiU0xcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJTaW5nYXBvcmVcIiwgXCJjb2RlXCI6IFwiU0dcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJTbG92YWtpYVwiLCBcImNvZGVcIjogXCJTS1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNsb3ZlbmlhXCIsIFwiY29kZVwiOiBcIlNJXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU29sb21vbiBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIlNCXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU29tYWxpYVwiLCBcImNvZGVcIjogXCJTT1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNvdXRoIEFmcmljYVwiLCBcImNvZGVcIjogXCJaQVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlNvdXRoIEdlb3JnaWEgYW5kIHRoZSBTb3V0aCBTYW5kd2ljaCBJc2xhbmRzXCIsIFwiY29kZVwiOiBcIkdTXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU3BhaW5cIiwgXCJjb2RlXCI6IFwiRVNcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJTcmkgTGFua2FcIiwgXCJjb2RlXCI6IFwiTEtcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJTdWRhblwiLCBcImNvZGVcIjogXCJTRFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlN1cmluYW1lXCIsIFwiY29kZVwiOiBcIlNSXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU3ZhbGJhcmQgYW5kIEphbiBNYXllblwiLCBcImNvZGVcIjogXCJTSlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlN3YXppbGFuZFwiLCBcImNvZGVcIjogXCJTWlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlN3ZWRlblwiLCBcImNvZGVcIjogXCJTRVwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlN3aXR6ZXJsYW5kXCIsIFwiY29kZVwiOiBcIkNIXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiU3lyaWFuIEFyYWIgUmVwdWJsaWNcIiwgXCJjb2RlXCI6IFwiU1lcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJUYWl3YW5cIiwgXCJjb2RlXCI6IFwiVFdcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJUYWppa2lzdGFuXCIsIFwiY29kZVwiOiBcIlRKXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVGFuemFuaWEsIFVuaXRlZCBSZXB1YmxpYyBvZlwiLCBcImNvZGVcIjogXCJUWlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlRoYWlsYW5kXCIsIFwiY29kZVwiOiBcIlRIXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVGltb3ItTGVzdGVcIiwgXCJjb2RlXCI6IFwiVExcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJUb2dvXCIsIFwiY29kZVwiOiBcIlRHXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVG9rZWxhdVwiLCBcImNvZGVcIjogXCJUS1wiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlRvbmdhXCIsIFwiY29kZVwiOiBcIlRPXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVHJpbmlkYWQgYW5kIFRvYmFnb1wiLCBcImNvZGVcIjogXCJUVFwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlR1bmlzaWFcIiwgXCJjb2RlXCI6IFwiVE5cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJUdXJrZXlcIiwgXCJjb2RlXCI6IFwiVFJcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJUdXJrbWVuaXN0YW5cIiwgXCJjb2RlXCI6IFwiVE1cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJUdXJrcyBhbmQgQ2FpY29zIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiVENcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJUdXZhbHVcIiwgXCJjb2RlXCI6IFwiVFZcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJVZ2FuZGFcIiwgXCJjb2RlXCI6IFwiVUdcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJVa3JhaW5lXCIsIFwiY29kZVwiOiBcIlVBXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVW5pdGVkIEFyYWIgRW1pcmF0ZXNcIiwgXCJjb2RlXCI6IFwiQUVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJVbml0ZWQgS2luZ2RvbVwiLCBcImNvZGVcIjogXCJHQlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlVuaXRlZCBTdGF0ZXNcIiwgXCJjb2RlXCI6IFwiVVNcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJVbml0ZWQgU3RhdGVzIE1pbm9yIE91dGx5aW5nIElzbGFuZHNcIiwgXCJjb2RlXCI6IFwiVU1cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJVcnVndWF5XCIsIFwiY29kZVwiOiBcIlVZXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVXpiZWtpc3RhblwiLCBcImNvZGVcIjogXCJVWlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlZhbnVhdHVcIiwgXCJjb2RlXCI6IFwiVlVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJWZW5lenVlbGFcIiwgXCJjb2RlXCI6IFwiVkVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJWaWV0IE5hbVwiLCBcImNvZGVcIjogXCJWTlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIlZpcmdpbiBJc2xhbmRzLCBCcml0aXNoXCIsIFwiY29kZVwiOiBcIlZHXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiVmlyZ2luIElzbGFuZHMsIFUuUy5cIiwgXCJjb2RlXCI6IFwiVklcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJXYWxsaXMgYW5kIEZ1dHVuYVwiLCBcImNvZGVcIjogXCJXRlwiIH0sXHJcbiAgICAgICAgICAgICAgICB7IFwibmFtZVwiOiBcIldlc3Rlcm4gU2FoYXJhXCIsIFwiY29kZVwiOiBcIkVIXCIgfSxcclxuICAgICAgICAgICAgICAgIHsgXCJuYW1lXCI6IFwiWWVtZW5cIiwgXCJjb2RlXCI6IFwiWUVcIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJaYW1iaWFcIiwgXCJjb2RlXCI6IFwiWk1cIiB9LFxyXG4gICAgICAgICAgICAgICAgeyBcIm5hbWVcIjogXCJaaW1iYWJ3ZVwiLCBcImNvZGVcIjogXCJaV1wiIH1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1dKTtcclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgZnVuY3Rpb24gZmluYW5jaWFsT3B0aW9uc0NvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuY29tcG9uZW50KCdmaW5hbmNpYWxPcHRpb25zJywge1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL2ZpbmFuY2lhbC1vcHRpb25zLmNvbXBvbmVudC5odG1sJyxcclxuICAgICAgICBjb250cm9sbGVyOiBbIGZpbmFuY2lhbE9wdGlvbnNDb250cm9sbGVyXSxcclxuICAgICAgICBiaW5kaW5nczoge1xyXG4gICAgICAgICAgICB0aXRsZTogXCI8XCIsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IFwiPFwiXHJcbiAgICAgICAgfSxcclxuICAgIH0pO1xyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuY29udHJvbGxlcignZmluYW5jaWFsc0NvbnRyb2xsZXInLCBbJ21vZGVsJywgJ2JhY2snLCAnbmV4dCcsICckc3RhdGUnLCAncGVyc2lzdGVuY2VTZXJ2aWNlJywgZnVuY3Rpb24gZmluYW5jaWFsc0NvbnRyb2xsZXIobW9kZWwsIGJhY2ssIG5leHQsICRzdGF0ZSwgcGVyc2lzdGVuY2VTZXJ2aWNlKSB7XHJcbiAgICB2YXIgY3RybCA9IHRoaXM7XHJcbiAgICBjdHJsLm1vZGVsID0gbW9kZWw7XHJcbiAgICBjdHJsLmJhY2sgPSBiYWNrO1xyXG4gICAgY3RybC5uZXh0ID0gbmV4dDtcclxuICAgIGN0cmwucGVyc2lzdGVuY2VTZXJ2aWNlID0gcGVyc2lzdGVuY2VTZXJ2aWNlO1xyXG5cclxuICAgIGN0cmwuUmVxdWVzdEJhY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJHN0YXRlLmdvKGN0cmwuYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgY3RybC5BcHBseU5vdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXBwbGljYXRpb24gPSBudWxsO1xyXG5cclxuICAgICAgICBjdHJsLnBlcnNpc3RlbmNlU2VydmljZS5TdWJtaXROb3coY3RybC5tb2RlbClcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5Db21taXR0ZWRJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwubW9kZWwuQ29tbWl0dGVkSWQgPSByZXNwb25zZS5kYXRhLkNvbW1pdHRlZElkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjdHJsLkZvcm1TdWJtaXQgPSBmdW5jdGlvbiAoZm9ybSkge1xyXG4gICAgICAgIGlmIChmb3JtLiR2YWxpZCkge1xyXG4gICAgICAgICAgICAkc3RhdGUuZ28oY3RybC5uZXh0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3JtLiRzZXRTdWJtaXR0ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufV0pOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgZnVuY3Rpb24gbWFpbkNvbnRyb2xsZXIoKSB7XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuY29tcG9uZW50KCdtYWluJywge1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL21haW4uY29tcG9uZW50Lmh0bWwnLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnJGxvY2F0aW9uJywgJyRtb21lbnQnLCAncGVyc2lzdGVuY2VTZXJ2aWNlJywgJ29wdGlvbnNTZXJ2aWNlJywgJyRzdGF0ZScsIG1haW5Db250cm9sbGVyXVxyXG4gICAgfSk7XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTtcclxuXHJcblxyXG5cclxuXHJcbi8vVGVtcFxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XHJcbiAgICB2YXIgcmVzdCA9IHRoaXMuc2xpY2UoKHRvIHx8IGZyb20pICsgMSB8fCB0aGlzLmxlbmd0aCk7XHJcbiAgICB0aGlzLmxlbmd0aCA9IGZyb20gPCAwID8gdGhpcy5sZW5ndGggKyBmcm9tIDogZnJvbTtcclxuICAgIHJldHVybiB0aGlzLnB1c2guYXBwbHkodGhpcywgcmVzdCk7XHJcbn07IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICAvL0EgY2Fub25pY2FsIHBsYWNlIGZvciBhbGwgb3B0aW9uIHVzZWQgd2l0aGluIGZvcm1zIFxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuZmFjdG9yeSgnbW9kZWxEYXRhU2VydmljZScsIFsnb3B0aW9uc1NlcnZpY2UnLCBmdW5jdGlvbiAob3B0aW9uc1NlcnZpY2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcblxyXG4gICAgICAgIHNlbGYuR2V0RGVmYXVsdE1vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgU2NoZW1hVmVyc2lvbjogJzEuMCcsIC8vVGhpcyBpcyB0aGUgc2NoZW1hIHZlcnNpb24gdG8gdGVsbCB0aGUgQVBJIHdoYXQgdG8gZXhwZWN0XHJcbiAgICAgICAgICAgICAgICAvL1BlcnNvbmFsIGRldGFpbHNcclxuICAgICAgICAgICAgICAgIFRlcm06IG9wdGlvbnNTZXJ2aWNlLkdldFRlcm1PcHRpb25zKClbMF0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICBDYXNoUHJpY2U6IDAsXHJcblxyXG4gICAgICAgICAgICAgICAgLy9BYm91dFxyXG4gICAgICAgICAgICAgICAgUHVyY2hhc2VQcmljZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIEZpcnN0TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIE1pZGRsZU5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBMYXN0TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIFByZWZlcnJlZE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBQZXJzb25hbEVtYWlsOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgTW9iaWxlUGhvbmVOdW1iZXI6IG51bGwsXHJcblxyXG4gICAgICAgICAgICAgICAgLy9BYm91dCB0ZXN0aW5nXHJcbiAgICAgICAgICAgICAgICAvLyBGaXJzdE5hbWU6ICdib2InLFxyXG4gICAgICAgICAgICAgICAgLy8gTWlkZGxlTmFtZTogJ2JvdHR5JyxcclxuICAgICAgICAgICAgICAgIC8vIExhc3ROYW1lOiAnYm90dGl0JyxcclxuICAgICAgICAgICAgICAgIC8vIFByZWZlcnJlZE5hbWU6ICdUaGUgQm9iJyxcclxuICAgICAgICAgICAgICAgIC8vIFBlcnNvbmFsRW1haWw6ICdib2JAYm9iYnkuYm9iJyxcclxuICAgICAgICAgICAgICAgIC8vIE1vYmlsZVBob25lTnVtYmVyOiAnMDA3Ym9iYm9iJyxcclxuXHJcbiAgICAgICAgICAgICAgICBEZXBvc2l0OiAwLFxyXG4gICAgICAgICAgICAgICAgR2VuZGVyOiBvcHRpb25zU2VydmljZS5HZXRHZW5kZXJPcHRpb25zKClbMF0sXHJcbiAgICAgICAgICAgICAgICBEYXRlT2ZCaXJ0aDogbW9tZW50KCkuc3VidHJhY3QoMjUsICd5ZWFyJykudG9EYXRlKCksXHJcbiAgICAgICAgICAgICAgICBNYXJpdGFsU3RhdHVzOiBvcHRpb25zU2VydmljZS5HZXRNYXJpdGFsU3RhdHVzT3B0aW9ucygpWzBdLFxyXG4gICAgICAgICAgICAgICAgTmV3VmVoaWNsZURldGFpbFR5cGU6IG9wdGlvbnNTZXJ2aWNlLkdldE5ld1ZlaGljbGVEZXRhaWxUeXBlT3B0aW9ucygpWzBdLFxyXG4gICAgICAgICAgICAgICAgTmV3VmVoaWNsZURhdGE6IG51bGwsIC8vdHJhZGVtZSBsaXN0aW5nIG51bWJlciwgcmVnaXN0cmF0aW9uIG51bWJlciBldGNcclxuICAgICAgICAgICAgICAgIE5ld1ZlaGljbGVEZXRhaWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgWWVhcjogMjAxMCxcclxuICAgICAgICAgICAgICAgICAgICBNYWtlOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICBNb2RlbDogJydcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyB0ZXN0aW5nIGRhdGFcclxuICAgICAgICAgICAgICAgIC8vIE5ld1ZlaGljbGVEZXRhaWxzOiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgWWVhcjogMjAxMCxcclxuICAgICAgICAgICAgICAgIC8vICAgICBNYWtlOiAnU29tZSBNYW51ZmFjdHVyZXInLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIE1vZGVsOiAnQ2FyIE1vZGVsJ1xyXG4gICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgIFRyYWRlVmVoaWNsZURldGFpbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICBZZWFyOiAyMDEwLFxyXG4gICAgICAgICAgICAgICAgICAgIE1ha2U6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIE1vZGVsOiAnJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFZlaGljbGVUb1RyYWRlOiAnWWVzJyxcclxuICAgICAgICAgICAgICAgIElzTnpSZXNpZGVudDogJ1llcycsXHJcbiAgICAgICAgICAgICAgICBvcmlnaW5Db3VudHJ5OiAnTmV3IFplYWxhbmQnLFxyXG4gICAgICAgICAgICAgICAgRHJpdmVyTGljZW5jZVR5cGU6IG9wdGlvbnNTZXJ2aWNlLkdldERyaXZlckxpY2VuY2VPcHRpb25zKClbMF0sXHJcbiAgICAgICAgICAgICAgICBDcmVkaXRIaXN0b3J5VHlwZTogb3B0aW9uc1NlcnZpY2UuR2V0Q3JlZGl0SGlzdG9yeU9wdGlvbnMoKVswXSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL01vcmUgYWJvdXRcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRBZGRyZXNzVHlwZTogb3B0aW9uc1NlcnZpY2UuR2V0Q3VycmVudEFkZHJlc3NUeXBlT3B0aW9ucygpWzBdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgQ3VycmVudEFkZHJlc3M6IHtcclxuICAgICAgICAgICAgICAgICAgICBTdHJlZXROdW1iZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyZWV0TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBTdWJ1cmI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgQ291bnRyeTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBQb3N0Q29kZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRBZGRyZXNzWWVhcnM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBDdXJyZW50QWRkcmVzc01vbnRoczogbnVsbCxcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRPY2N1cGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgRW1wbG95ZXJOYW1lOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIE9jY3VwYXRpb246IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgWWVhcnM6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgTW9udGhzOiAwXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgUHJldmlvdXNBZGRyZXNzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgU3RyZWV0TnVtYmVyOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIFN0cmVldE5hbWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgU3VidXJiOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIFN0YXRlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIENvdW50cnk6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgUG9zdENvZGU6IG51bGxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBQcmV2aW91c09jY3VwYXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICBFbXBsb3llck5hbWU6IG51bGxcclxuICAgICAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gdGVzdGluZyBkYXRhXHJcbiAgICAgICAgICAgICAgICAvLyBDdXJyZW50QWRkcmVzczoge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIFN0cmVldE51bWJlcjogNCxcclxuICAgICAgICAgICAgICAgIC8vICAgICBTdHJlZXROYW1lOiAnTGFyY2h3b29kIExhbmUnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIFN1YnVyYjogJ1BhcmtsYW5kcycsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgU3RhdGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIENvdW50cnk6ICdOZXcgWmVhbGFuZCcsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgUG9zdENvZGU6ICc4MDgzJ1xyXG4gICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgIC8vIEN1cnJlbnRBZGRyZXNzWWVhcnM6IDEsXHJcbiAgICAgICAgICAgICAgICAvLyBDdXJyZW50QWRkcmVzc01vbnRoczogMixcclxuICAgICAgICAgICAgICAgIC8vIEN1cnJlbnRPY2N1cGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgRW1wbG95ZXJOYW1lOiAnU3BhY2VseSBTcHJvY2tldHMnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIE9jY3VwYXRpb246ICdXaWRnZXQgbWFrZXInLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIFllYXJzOiAxLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIE1vbnRoczogMlxyXG4gICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgIC8vIFByZXZpb3VzQWRkcmVzczoge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIFN0cmVldE51bWJlcjogMixcclxuICAgICAgICAgICAgICAgIC8vICAgICBTdHJlZXROYW1lOiAnTGFyY2h3b29kIExhbmUnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIFN1YnVyYjogJ1BhcmtsYW5kcycsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgU3RhdGU6ICcnLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIENvdW50cnk6ICdOZXcgWmVhbGFuZCcsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgUG9zdENvZGU6ICc4MDgzJ1xyXG4gICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgIC8vIFByZXZpb3VzT2NjdXBhdGlvbjoge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIEVtcGxveWVyTmFtZTogJ1NvbWV3aGVyZSBlbHNlJ1xyXG4gICAgICAgICAgICAgICAgLy8gfSxcclxuXHJcbiAgICAgICAgICAgICAgICAvL0ZpbmFuY2lhbHNcclxuICAgICAgICAgICAgICAgIEFzc2V0czogW1xyXG4gICAgICAgICAgICAgICAgICAgIHsgT3B0aW9uTmFtZTogJ0hvbWUnLCBWYWx1ZTogMCwgRGlzcGxheTogJ1Byb3BlcnR5IFZhbHVlJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgT3B0aW9uTmFtZTogJ0hvbWUgQ29udGVudHMnLCBWYWx1ZTogMCwgRGlzcGxheTogJ0hvbWUgY29udGVudHMgdmFsdWUnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnQ2FyJywgVmFsdWU6IDAsIERpc3BsYXk6ICdWZWhpY2xlKHMpIFZhbHVlJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgT3B0aW9uTmFtZTogJ090aGVyJywgVmFsdWU6IDAsIERpc3BsYXk6ICdPdGhlcicgfVxyXG4gICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgIExpYWJpbGl0aWVzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnTW9ydGdhZ2UnLCBWYWx1ZTogMCwgRGlzcGxheTogJ01vcnRnYWdlIEJhbGFuY2UnIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnTG9hbicsIFZhbHVlOiAwLCBEaXNwbGF5OiAnQmFuayBvciBwZXJzb25hbCBsb2FuJyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHsgT3B0aW9uTmFtZTogJ0hpcmUgUHVyY2hhc2UnLCBWYWx1ZTogMCwgRGlzcGxheTogJ0hpcmUgcHVyY2hhc2UocyknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnT3RoZXInLCBWYWx1ZTogMCwgRGlzcGxheTogJ090aGVyJyB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgSW5jb21lOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnVGFrZSBIb21lIFBheScsIFZhbHVlOiAwLCBEaXNwbGF5OiAnV2hhdCBpcyB5b3VyIHRha2UgaG9tZSBwYXknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnU3BvdXNlIFRha2UgSG9tZSBQYXknLCBWYWx1ZTogMCwgRGlzcGxheTogJ1doYXQgaXMgeW91ciBTcG91c2VcXCdzIHRha2UgaG9tZSBwYXknIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnT3RoZXInLCBWYWx1ZTogMCwgRGlzcGxheTogJ090aGVyJyB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgRXhwZW5zZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICB7IE9wdGlvbk5hbWU6ICdNb3J0Z2FnZScsIFZhbHVlOiAwLCBEaXNwbGF5OiAnTW9ydGdhZ2UvcmVudCcgfSxcclxuICAgICAgICAgICAgICAgICAgICB7IE9wdGlvbk5hbWU6ICdMb2FuJywgVmFsdWU6IDAsIERpc3BsYXk6ICdCYW5rIG9yIHBlcnNvbmFsIGxvYW4nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgeyBPcHRpb25OYW1lOiAnSGlyZSBQdXJjaGFzZScsIFZhbHVlOiAwLCBEaXNwbGF5OiAnSGlyZSBwdXJjaGFzZShzKScgfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfV0pO1xyXG59KSh3aW5kb3cuYW5ndWxhcik7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICAvL0EgY2Fub25pY2FsIHBsYWNlIGZvciBhbGwgb3B0aW9uIHVzZWQgd2l0aGluIGZvcm1zIFxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuZmFjdG9yeSgnbW9kZWxTZXJ2aWNlJywgWydvcHRpb25zU2VydmljZScsIGZ1bmN0aW9uIChvcHRpb25zU2VydmljZSkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICBzZWxmLmdldE1vZGVsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgU2NoZW1hVmVyc2lvbjogJzEuMCcsIC8vVGhpcyBpcyB0aGUgc2NoZW1hIHZlcnNpb24gdG8gdGVsbCB0aGUgQVBJIHdoYXQgdG8gZXhwZWN0XHJcbiAgICAgICAgICAgICAgICBUZXJtOiBvcHRpb25zU2VydmljZS5HZXRUZXJtT3B0aW9ucygpWzBdLnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgQ2FzaFByaWNlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgTW9udGhseVBheW1lbnQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBQdXJjaGFzZVByaWNlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgRmlyc3ROYW1lOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgTWlkZGxlTmFtZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIExhc3ROYW1lOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgUHJlZmVycmVkTmFtZTogbnVsbCxcclxuICAgICAgICAgICAgICAgIFBlcnNvbmFsRW1haWw6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBNb2JpbGVQaG9uZU51bWJlcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIERlcG9zaXQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBEYXRlT2ZCaXJ0aDogbW9tZW50KCkuc3VidHJhY3QoMjUsICd5ZWFyJykudG9EYXRlKCksXHJcbiAgICAgICAgICAgICAgICBOZXdWZWhpY2xlRGF0YTogbnVsbCwgLy90cmFkZW1lIGxpc3RpbmcgbnVtYmVyLCByZWdpc3RyYXRpb24gbnVtYmVyIGV0Y1xyXG4gICAgICAgICAgICAgICAgSXNOelJlc2lkZW50OiAnWWVzJyxcclxuICAgICAgICAgICAgICAgIG9yaWdpbkNvdW50cnk6ICdOZXcgWmVhbGFuZCcsXHJcbiAgICAgICAgICAgICAgICBDdXJyZW50QWRkcmVzczoge1xyXG4gICAgICAgICAgICAgICAgICAgIEFkZHJlc3NFbnRyeTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBTdHJlZXROdW1iZXI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RyZWV0TmFtZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBTdWJ1cmI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgU3RhdGU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgQ291bnRyeTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBQb3N0Q29kZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIEN1cnJlbnRPY2N1cGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgRW1wbG95ZXJOYW1lOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIE9jY3VwYXRpb246IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgWWVhcnM6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgTW9udGhzOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgUHJldmlvdXNPY2N1cGF0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgRW1wbG95ZXJOYW1lOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgQXNzZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25OYW1lOiAnSG9tZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEaXNwbGF5OiAnUHJvcGVydHkgVmFsdWUnXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9wdGlvbk5hbWU6ICdIb21lIENvbnRlbnRzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXk6ICdIb21lIGNvbnRlbnRzIHZhbHVlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25OYW1lOiAnQ2FyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXk6ICdWZWhpY2xlKHMpIFZhbHVlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25OYW1lOiAnT3RoZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGlzcGxheTogJ090aGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICBMaWFiaWxpdGllczogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uTmFtZTogJ01vcnRnYWdlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXk6ICdNb3J0Z2FnZSBCYWxhbmNlJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25OYW1lOiAnTG9hbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEaXNwbGF5OiAnQmFuayBvciBwZXJzb25hbCBsb2FuJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25OYW1lOiAnSGlyZSBQdXJjaGFzZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEaXNwbGF5OiAnSGlyZSBwdXJjaGFzZShzKSdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uTmFtZTogJ090aGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXk6ICdPdGhlcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgSW5jb21lOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25OYW1lOiAnVGFrZSBIb21lIFBheScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEaXNwbGF5OiAnV2hhdCBpcyB5b3VyIHRha2UgaG9tZSBwYXknXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9wdGlvbk5hbWU6ICdTcG91c2UgVGFrZSBIb21lIFBheScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEaXNwbGF5OiAnV2hhdCBpcyB5b3VyIFNwb3VzZVxcJ3MgdGFrZSBob21lIHBheSdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uTmFtZTogJ090aGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVmFsdWU6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERpc3BsYXk6ICdPdGhlcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgRXhwZW5zZXM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9wdGlvbk5hbWU6ICdNb3J0Z2FnZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZhbHVlOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEaXNwbGF5OiAnTW9ydGdhZ2UvcmVudCdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uTmFtZTogJ0xvYW4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGlzcGxheTogJ0Jhbmsgb3IgcGVyc29uYWwgbG9hbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uTmFtZTogJ0hpcmUgUHVyY2hhc2UnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBWYWx1ZTogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGlzcGxheTogJ0hpcmUgcHVyY2hhc2UocyknXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1dKTtcclxufSkod2luZG93LmFuZ3VsYXIpOyIsImFuZ3VsYXIubW9kdWxlKCdjb25zdW1lckFwcCcpLmNvbnRyb2xsZXIoJ21vcmVBYm91dFlvdUNvbnRyb2xsZXInLCBbJ29wdGlvbnNTZXJ2aWNlJywgJ21vZGVsJywgJyRzdGF0ZScsICdiYWNrJywgJ25leHQnLCBmdW5jdGlvbiAob3B0aW9uc1NlcnZpY2UsIG1vZGVsLCAkc3RhdGUsIGJhY2ssIG5leHQpIHtcclxuICAgIHZhciBjdHJsID0gdGhpcztcclxuXHJcbiAgICBjdHJsLkRyaXZlckxpY2VuY2VPcHRpb25zID0gW107XHJcbiAgICBjdHJsLkN1cnJlbnRBZGRyZXNzVHlwZU9wdGlvbnMgPSBbXTtcclxuICAgIGN0cmwuR2VuZGVyT3B0aW9ucyA9IFtdO1xyXG4gICAgY3RybC5ZZXNOb09wdGlvbnMgPSBbXTtcclxuICAgIGN0cmwuQ3JlZGl0SGlzdG9yeU9wdGlvbnMgPSBbXTtcclxuICAgIGN0cmwuTmV3VmVoaWNsZURldGFpbFR5cGVPcHRpb25zID0gW107XHJcbiAgICBjdHJsLlllYXJNYWtlTW9kZWxPcHRpb24gPSBudWxsO1xyXG4gICAgY3RybC5iYWNrID0gYmFjaztcclxuICAgIGN0cmwubmV4dCA9IG5leHQ7XHJcbiAgICBjdHJsLm1vZGVsID0gbW9kZWw7XHJcblxyXG4gICAgY3RybC4kb25Jbml0ID0gZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICAgICBjdHJsLkRyaXZlckxpY2VuY2VPcHRpb25zID0gb3B0aW9uc1NlcnZpY2UuR2V0RHJpdmVyTGljZW5jZU9wdGlvbnMoKTtcclxuICAgICAgICBjdHJsLkN1cnJlbnRBZGRyZXNzVHlwZU9wdGlvbnMgPSBvcHRpb25zU2VydmljZS5HZXRDdXJyZW50QWRkcmVzc1R5cGVPcHRpb25zKCk7XHJcbiAgICAgICAgY3RybC5HZW5kZXJPcHRpb25zID0gb3B0aW9uc1NlcnZpY2UuR2V0R2VuZGVyT3B0aW9ucygpO1xyXG4gICAgICAgIGN0cmwuWWVzTm9PcHRpb25zID0gb3B0aW9uc1NlcnZpY2UuR2V0WWVzTm9PcHRpb25zKCk7XHJcbiAgICAgICAgY3RybC5DcmVkaXRIaXN0b3J5T3B0aW9ucyA9IG9wdGlvbnNTZXJ2aWNlLkdldENyZWRpdEhpc3RvcnlPcHRpb25zKCk7XHJcbiAgICAgICAgY3RybC5OZXdWZWhpY2xlRGV0YWlsVHlwZU9wdGlvbnMgPSBvcHRpb25zU2VydmljZS5HZXROZXdWZWhpY2xlRGV0YWlsVHlwZU9wdGlvbnMoKTtcclxuICAgICAgICBjdHJsLlllYXJNYWtlTW9kZWxPcHRpb24gPSBjdHJsLk5ld1ZlaGljbGVEZXRhaWxUeXBlT3B0aW9uc1swXTtcclxuICAgIH1cclxuXHJcbiAgICBjdHJsLlJlcXVlc3RCYWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICRzdGF0ZS5nbyhjdHJsLmJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGN0cmwuRGlzcGxheU5ld1llYXJNYWtlTW9kZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwubW9kZWwgJiZcclxuICAgICAgICAgICAgY3RybC5tb2RlbC5OZXdWZWhpY2xlRGV0YWlsVHlwZSA9PT0gY3RybC5ZZWFyTWFrZU1vZGVsT3B0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGN0cmwuRGlzcGxheU5ld0RldGFpbHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwubW9kZWwgJiZcclxuICAgICAgICAgICAgY3RybC5tb2RlbC5OZXdWZWhpY2xlRGV0YWlsVHlwZSAhPT0gY3RybC5ZZWFyTWFrZU1vZGVsT3B0aW9uICYmXHJcbiAgICAgICAgICAgIGN0cmwubW9kZWwuTmV3VmVoaWNsZURldGFpbFR5cGUgIT09IGN0cmwuU3RpbGxMb29raW5nT3B0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGN0cmwuRGlzcGxheVRyYWRlWWVhck1ha2VNb2RlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY3RybC5tb2RlbC5WZWhpY2xlVG9UcmFkZTtcclxuICAgIH1cclxuXHJcbiAgICBjdHJsLkZvcm1TdWJtaXQgPSBmdW5jdGlvbiAoZm9ybSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN0cmwubmV4dCk7XHJcbiAgICAgICAgaWYgKGZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhjdHJsLm5leHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvcm0uJHNldFN1Ym1pdHRlZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XSk7IiwiKGZ1bmN0aW9uIChhbmd1bGFyKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICAvL0EgY2Fub25pY2FsIHBsYWNlIGZvciBhbGwgb3B0aW9uIHVzZWQgd2l0aGluIGZvcm1zIFxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuZmFjdG9yeSgnb3B0aW9uc1NlcnZpY2UnLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuXHJcbiAgICAgICAgLy9UT0RPIHdoZW4gY29uZmlybWVkXHJcbiAgICAgICAgc2VsZi5HZXRUZXJtT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFt7IHZhbHVlOiAxMiwgdGV4dDogJzEyIG1vbnRocycgfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogMjQsIHRleHQ6ICcyNCBtb250aHMnIH0sXHJcbiAgICAgICAgICAgIHsgdmFsdWU6IDM2LCB0ZXh0OiAnMzYgbW9udGhzJyB9LFxyXG4gICAgICAgICAgICB7IHZhbHVlOiA0OCwgdGV4dDogJzQ4IG1vbnRocycgfSxcclxuICAgICAgICAgICAgeyB2YWx1ZTogNjAsIHRleHQ6ICc2MCBtb250aHMnIH1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuR2V0R2VuZGVyT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgICdGZW1hbGUnLFxyXG4gICAgICAgICAgICAgICAgJ01hbGUnXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZWxmLkdldE1hcml0YWxTdGF0dXNPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgJ1NpbmdsZScsXHJcbiAgICAgICAgICAgICAgICAnTWFycmllZCcsXHJcbiAgICAgICAgICAgICAgICAnRGVmYWN0bycsXHJcbiAgICAgICAgICAgICAgICAnU2VwYXJhdGVkJyxcclxuICAgICAgICAgICAgICAgICdEaXZvcmNlZCdcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuR2V0TmV3VmVoaWNsZURldGFpbFR5cGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgJ1llYXIvTWFrZS9Nb2RlbCcsXHJcbiAgICAgICAgICAgICAgICAnVHJhZGUgTWUgTGlzdGluZyBOdW1iZXInLFxyXG4gICAgICAgICAgICAgICAgJ1JlZ2lzdHJhdGlvbiBOdW1iZXInLFxyXG4gICAgICAgICAgICAgICAgJ0RlYWxlcnNoaXAgbmFtZScsXHJcbiAgICAgICAgICAgICAgICAnU3RpbGwgTG9va2luZydcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuR2V0WWVzTm9PcHRpb25zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogZmFsc2UsIHRleHQ6ICdObycgfSxcclxuICAgICAgICAgICAgICAgIHsgdmFsdWU6IHRydWUsIHRleHQ6ICdZZXMnIH1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuR2V0Q3JlZGl0SGlzdG9yeU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAnUGVyZmVjdCcsXHJcbiAgICAgICAgICAgICAgICAnT0snLFxyXG4gICAgICAgICAgICAgICAgJ05vdCBzbyBnb29kJyxcclxuICAgICAgICAgICAgICAgICdJIGRvblxcJ3Qga25vdydcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuR2V0RHJpdmVyTGljZW5jZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgICAgICAnRnVsbCcsXHJcbiAgICAgICAgICAgICAgICAnUmVzdHJpY3RlZCcsXHJcbiAgICAgICAgICAgICAgICAnTGVhcm5lcnMnLFxyXG4gICAgICAgICAgICAgICAgJ092ZXJzZWFzJyxcclxuICAgICAgICAgICAgICAgICdOb25lJyxcclxuICAgICAgICAgICAgXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNlbGYuR2V0Q3VycmVudEFkZHJlc3NUeXBlT3B0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgICAgIHsgdmFsdWU6ICdPd25Ib21lJywgdGV4dDogJ0hvbWUgb3duZXInIH0sXHJcbiAgICAgICAgICAgICAgICB7IHZhbHVlOiAnUmVudGluZycsIHRleHQ6ICdSZW50aW5nJyB9LFxyXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogJ0JvYXJkaW5nJywgdGV4dDogJ0JvYXJkaW5nJyB9LFxyXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogJ0ZhbWlseUhvdXNlJywgdGV4dDogJ0xpdmluZyBhdCBob21lJyB9LFxyXG4gICAgICAgICAgICAgICAgeyB2YWx1ZTogJ090aGVyJywgdGV4dDogJ090aGVyJyB9LFxyXG4gICAgICAgICAgICBdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XSk7XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIC8vV2hlcmUgd2UgdGFsayB0byB0aGUgQVBJXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29uc3VtZXJBcHAnKS5zZXJ2aWNlKCdwZXJzaXN0ZW5jZVNlcnZpY2UnLCBbJyRodHRwJywgJyRsb2NhdGlvbicsJ19fZW52JywgZnVuY3Rpb24gKCRodHRwLCAkbG9jYXRpb24sIF9fZW52KSB7XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgICAgICBzZWxmLkdldEFwaUJhc2VVcmwgPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICByZXR1cm4gX19lbnYuYXBpVXJsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZi5TdWJtaXROb3cgPSBmdW5jdGlvbiAobW9kZWwpIHtcclxuICAgICAgICAgICAgaWYgKG1vZGVsLklkKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wb3N0KHNlbGYuR2V0QXBpQmFzZVVybCgpICsgXCIvQ3VzdG9tZXJRdWVyeS9cIiArIG1vZGVsLklkLCBtb2RlbCwge3BhcmFtczoge2lkOiBtb2RlbC5JZH19KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaHR0cC5wdXQoc2VsZi5HZXRBcGlCYXNlVXJsKCkgKyBcIi9DdXN0b21lclF1ZXJ5L1wiLCBtb2RlbCk7XHJcbiAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgIH1dKTtcclxufSkod2luZG93LmFuZ3VsYXIpOyIsImFuZ3VsYXIubW9kdWxlKCdjb25zdW1lckFwcCcpLmNvbnRyb2xsZXIoJ3BlcnNvbmFsRGV0YWlsc0NvbnRyb2xsZXInLCBbJyRzdGF0ZScsICdvcHRpb25zU2VydmljZScsICdwZXJzaXN0ZW5jZVNlcnZpY2UnLCAnbmV4dCcsICdtb2RlbCcsICBcclxuICAgIGZ1bmN0aW9uICgkc3RhdGUsIG9wdGlvbnNTZXJ2aWNlLCBwZXJzaXN0ZW5jZVNlcnZpY2UsIG5leHQsIG1vZGVsKSB7XHJcbiAgICB2YXIgY3RybCA9IHRoaXM7XHJcbiAgICBjdHJsLm5leHQgPSBuZXh0O1xyXG4gICAgY3RybC5UZXJtT3B0aW9ucyA9IFtdO1xyXG4gICAgY3RybC5tb2RlbCA9IG1vZGVsO1xyXG5cclxuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjdHJsLlRlcm1PcHRpb25zID0gb3B0aW9uc1NlcnZpY2UuR2V0VGVybU9wdGlvbnMoKTtcclxuICAgIH07XHJcblxyXG4gICAgY3RybC5Gb3JtU3VibWl0ID0gZnVuY3Rpb24gKGZvcm0pIHtcclxuICAgICAgICBpZiAoZm9ybS4kdmFsaWQpIHtcclxuICAgICAgICAgICAgcGVyc2lzdGVuY2VTZXJ2aWNlXHJcbiAgICAgICAgICAgIC5TdWJtaXROb3cobW9kZWwpXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgY3RybC5tb2RlbC5JZCA9IG1vZGVsLmRhdGEuSWQ7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oY3RybC5uZXh0KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3JtLiRzZXRTdWJtaXR0ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufV0pOyIsImFuZ3VsYXIubW9kdWxlKCdjb25zdW1lckFwcCcpLmNvbnRyb2xsZXIoJ3F1b3RlQ29udHJvbGxlcicsIFxyXG5bJ2Ftb3J0aXNhdGlvblNlcnZpY2UnLCAnb3B0aW9uc1NlcnZpY2UnLCAnbW9kZWwnLCAnYmFjaycsICduZXh0JywgJyRzdGF0ZScsIGZ1bmN0aW9uIHF1b3RlQ29udHJvbGxlcihhbW9ydGlzYXRpb25TZXJ2aWNlLCBvcHRpb25zU2VydmljZSwgbW9kZWwsIGJhY2ssIG5leHQsICRzdGF0ZSkge1xyXG4gICAgdmFyIGN0cmwgPSB0aGlzO1xyXG4gICAgY3RybC5tb2RlbCA9IG1vZGVsO1xyXG4gICAgY3RybC5iYWNrID0gYmFjaztcclxuICAgIGN0cmwubmV4dCA9IG5leHQ7XHJcbiAgICBjdHJsLlRlcm1PcHRpb25zID0gb3B0aW9uc1NlcnZpY2UuR2V0VGVybU9wdGlvbnMoKTtcclxuXHJcbiAgICBjdHJsLkdldE1vbnRobHlQYXltZW50cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZXN0YWJsaXNobWVudEZlZSA9IDI1MDtcclxuXHJcbiAgICAgICAgLy9CdWlsZCB1cCBmb3JtdWxhIGlucHV0cyAtIGV4aXQgaWYgd2UgaGF2ZSBpbnZhbGlkIGlucHV0ICAgICAgICAgICAgXHJcbiAgICAgICAgdmFyIHByaWNlID0gY3RybC5tb2RlbC5DYXNoUHJpY2U7XHJcblxyXG4gICAgICAgIGlmICghcHJpY2UgfHwgcHJpY2UgPCAwKVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuXHJcbiAgICAgICAgdmFyIGRlcG9zaXRSYXcgPSBjdHJsLm1vZGVsLkRlcG9zaXQ7XHJcblxyXG4gICAgICAgIGlmIChkZXBvc2l0UmF3IDwgMClcclxuICAgICAgICAgICAgZGVwb3NpdFJhdyA9IDA7XHJcblxyXG4gICAgICAgIHZhciB0ZXJtID0gY3RybC5tb2RlbC5UZXJtO1xyXG5cclxuICAgICAgICBpZiAoIXRlcm0gfHwgdGVybSA8IDApXHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG5cclxuICAgICAgICB2YXIgcHJpbmNpcGFsID0gcHJpY2UgLSBkZXBvc2l0UmF3ICsgZXN0YWJsaXNobWVudEZlZTtcclxuICAgICAgICB2YXIgYW51YWxJbnRlcmVzdFJhdGUgPSAxMi45NTtcclxuICAgICAgICB2YXIgbW9udGhseUludGVyZXN0QXNGcmFjdGlvbiA9IGFudWFsSW50ZXJlc3RSYXRlIC8gMTIgLyAxMDA7XHJcblxyXG4gICAgICAgIHZhciBtb250aGx5UGF5bWVudHMgPSBhbW9ydGlzYXRpb25TZXJ2aWNlLkdldEluc3RhbGxtZW50VmFsdWUocHJpbmNpcGFsLCBtb250aGx5SW50ZXJlc3RBc0ZyYWN0aW9uLCB0ZXJtKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1vbnRobHlQYXltZW50cztcclxuICAgIH07XHJcblxyXG4gICAgY3RybC5DYWxjdWxhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY3RybC5tb2RlbC5Nb250aGx5UGF5bWVudCA9IGN0cmwuR2V0TW9udGhseVBheW1lbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3RybC5SZXF1ZXN0QmFjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkc3RhdGUuZ28oY3RybC5iYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBjdHJsLkZvcm1TdWJtaXQgPSBmdW5jdGlvbiAoZm9ybSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN0cmwubmV4dCk7XHJcbiAgICAgICAgaWYgKGZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICRzdGF0ZS5nbyhjdHJsLm5leHQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvcm0uJHNldFN1Ym1pdHRlZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGN0cmwuJG9uSW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjdHJsLkNhbGN1bGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGN0cmwuUmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY3RybC5mb3JtLiRzZXRQcmlzdGluZSgpO1xyXG4gICAgfVxyXG59XSk7XHJcblxyXG4iLCIoZnVuY3Rpb24gKGFuZ3VsYXIpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIGZ1bmN0aW9uIHdvcmtpbmdDb250cm9sbGVyKCkge1xyXG4gICAgICAgIHZhciBjdHJsID0gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLm1vZHVsZSgnY29uc3VtZXJBcHAnKS5jb21wb25lbnQoJ3dvcmtpbmcnLCB7XHJcbiAgICAgICAgdGVtcGxhdGVVcmw6ICdhcHAvd29ya2luZy5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgY29udHJvbGxlcjogWyB3b3JraW5nQ29udHJvbGxlciBdXHJcbiAgICB9KTtcclxufSkod2luZG93LmFuZ3VsYXIpOyIsIihmdW5jdGlvbiAoYW5ndWxhcikge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgZnVuY3Rpb24geWVhck1ha2VNb2RlbENvbnRyb2xsZXIoYXBwbGljYXRpb25TZXJ2aWNlKSB7XHJcbiAgICAgICAgdmFyIGN0cmwgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjdXJyZW50U3RhZ2UgPSBcIlwiO1xyXG5cclxuICAgICAgICBjdHJsLiRvbkluaXQgPSBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYW5ndWxhci5tb2R1bGUoJ2NvbnN1bWVyQXBwJykuY29tcG9uZW50KCd5ZWFyTWFrZU1vZGVsJywge1xyXG4gICAgICAgIHRlbXBsYXRlVXJsOiAnYXBwL3llYXItbWFrZS1tb2RlbC5jb21wb25lbnQuaHRtbCcsXHJcbiAgICAgICAgY29udHJvbGxlcjogWyB5ZWFyTWFrZU1vZGVsQ29udHJvbGxlcl0sXHJcbiAgICAgICAgYmluZGluZ3M6IHtcclxuICAgICAgICAgICAgcHJlZml4OiBcIjxcIixcclxuICAgICAgICAgICAgbW9kZWw6IFwiPFwiLFxyXG4gICAgICAgICAgICBuZXh0OiAnJidcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcbn0pKHdpbmRvdy5hbmd1bGFyKTsiXX0=
